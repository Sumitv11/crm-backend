var iP=e=>{throw TypeError(e)};var b8=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var $y=(e,t,r)=>t.has(e)||iP("Cannot "+r);var Z=(e,t,r)=>($y(e,t,"read from private field"),r?r.call(e):t.get(e)),vt=(e,t,r)=>t.has(e)?iP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),nt=(e,t,r,n)=>($y(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ot=(e,t,r)=>($y(e,t,"access private method"),r);var em=(e,t,r,n)=>({set _(s){nt(e,t,s,r)},get _(){return Z(e,t,n)}});var FTe=b8((Hs,Ws)=>{function E8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function t0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zy={exports:{}},Gh={},Ky={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oP;function R8(){if(oP)return _t;oP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(K){return K===null||typeof K!="object"?null:(K=p&&K[p]||K["@@iterator"],typeof K=="function"?K:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,y={};function w(K,N,O){this.props=K,this.context=N,this.refs=y,this.updater=O||C}w.prototype.isReactComponent={},w.prototype.setState=function(K,N){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,N,"setState")},w.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function b(){}b.prototype=w.prototype;function F(K,N,O){this.props=K,this.context=N,this.refs=y,this.updater=O||C}var R=F.prototype=new b;R.constructor=F,S(R,w.prototype),R.isPureReactComponent=!0;var E=Array.isArray,A=Object.prototype.hasOwnProperty,D={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function I(K,N,O){var V,G={},J=null,ae=null;if(N!=null)for(V in N.ref!==void 0&&(ae=N.ref),N.key!==void 0&&(J=""+N.key),N)A.call(N,V)&&!M.hasOwnProperty(V)&&(G[V]=N[V]);var ge=arguments.length-2;if(ge===1)G.children=O;else if(1<ge){for(var X=Array(ge),ne=0;ne<ge;ne++)X[ne]=arguments[ne+2];G.children=X}if(K&&K.defaultProps)for(V in ge=K.defaultProps,ge)G[V]===void 0&&(G[V]=ge[V]);return{$$typeof:e,type:K,key:J,ref:ae,props:G,_owner:D.current}}function _(K,N){return{$$typeof:e,type:K.type,key:N,ref:K.ref,props:K.props,_owner:K._owner}}function j(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function H(K){var N={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(O){return N[O]})}var B=/\/+/g;function oe(K,N){return typeof K=="object"&&K!==null&&K.key!=null?H(""+K.key):N.toString(36)}function ye(K,N,O,V,G){var J=typeof K;(J==="undefined"||J==="boolean")&&(K=null);var ae=!1;if(K===null)ae=!0;else switch(J){case"string":case"number":ae=!0;break;case"object":switch(K.$$typeof){case e:case t:ae=!0}}if(ae)return ae=K,G=G(ae),K=V===""?"."+oe(ae,0):V,E(G)?(O="",K!=null&&(O=K.replace(B,"$&/")+"/"),ye(G,N,O,"",function(ne){return ne})):G!=null&&(j(G)&&(G=_(G,O+(!G.key||ae&&ae.key===G.key?"":(""+G.key).replace(B,"$&/")+"/")+K)),N.push(G)),1;if(ae=0,V=V===""?".":V+":",E(K))for(var ge=0;ge<K.length;ge++){J=K[ge];var X=V+oe(J,ge);ae+=ye(J,N,O,X,G)}else if(X=g(K),typeof X=="function")for(K=X.call(K),ge=0;!(J=K.next()).done;)J=J.value,X=V+oe(J,ge++),ae+=ye(J,N,O,X,G);else if(J==="object")throw N=String(K),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return ae}function Re(K,N,O){if(K==null)return K;var V=[],G=0;return ye(K,V,"","",function(J){return N.call(O,J,G++)}),V}function we(K){if(K._status===-1){var N=K._result;N=N(),N.then(function(O){(K._status===0||K._status===-1)&&(K._status=1,K._result=O)},function(O){(K._status===0||K._status===-1)&&(K._status=2,K._result=O)}),K._status===-1&&(K._status=0,K._result=N)}if(K._status===1)return K._result.default;throw K._result}var se={current:null},ee={transition:null},re={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:ee,ReactCurrentOwner:D};function de(){throw Error("act(...) is not supported in production builds of React.")}return _t.Children={map:Re,forEach:function(K,N,O){Re(K,function(){N.apply(this,arguments)},O)},count:function(K){var N=0;return Re(K,function(){N++}),N},toArray:function(K){return Re(K,function(N){return N})||[]},only:function(K){if(!j(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},_t.Component=w,_t.Fragment=r,_t.Profiler=s,_t.PureComponent=F,_t.StrictMode=n,_t.Suspense=l,_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,_t.act=de,_t.cloneElement=function(K,N,O){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var V=S({},K.props),G=K.key,J=K.ref,ae=K._owner;if(N!=null){if(N.ref!==void 0&&(J=N.ref,ae=D.current),N.key!==void 0&&(G=""+N.key),K.type&&K.type.defaultProps)var ge=K.type.defaultProps;for(X in N)A.call(N,X)&&!M.hasOwnProperty(X)&&(V[X]=N[X]===void 0&&ge!==void 0?ge[X]:N[X])}var X=arguments.length-2;if(X===1)V.children=O;else if(1<X){ge=Array(X);for(var ne=0;ne<X;ne++)ge[ne]=arguments[ne+2];V.children=ge}return{$$typeof:e,type:K.type,key:G,ref:J,props:V,_owner:ae}},_t.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:i,_context:K},K.Consumer=K},_t.createElement=I,_t.createFactory=function(K){var N=I.bind(null,K);return N.type=K,N},_t.createRef=function(){return{current:null}},_t.forwardRef=function(K){return{$$typeof:a,render:K}},_t.isValidElement=j,_t.lazy=function(K){return{$$typeof:f,_payload:{_status:-1,_result:K},_init:we}},_t.memo=function(K,N){return{$$typeof:u,type:K,compare:N===void 0?null:N}},_t.startTransition=function(K){var N=ee.transition;ee.transition={};try{K()}finally{ee.transition=N}},_t.unstable_act=de,_t.useCallback=function(K,N){return se.current.useCallback(K,N)},_t.useContext=function(K){return se.current.useContext(K)},_t.useDebugValue=function(){},_t.useDeferredValue=function(K){return se.current.useDeferredValue(K)},_t.useEffect=function(K,N){return se.current.useEffect(K,N)},_t.useId=function(){return se.current.useId()},_t.useImperativeHandle=function(K,N,O){return se.current.useImperativeHandle(K,N,O)},_t.useInsertionEffect=function(K,N){return se.current.useInsertionEffect(K,N)},_t.useLayoutEffect=function(K,N){return se.current.useLayoutEffect(K,N)},_t.useMemo=function(K,N){return se.current.useMemo(K,N)},_t.useReducer=function(K,N,O){return se.current.useReducer(K,N,O)},_t.useRef=function(K){return se.current.useRef(K)},_t.useState=function(K){return se.current.useState(K)},_t.useSyncExternalStore=function(K,N,O){return se.current.useSyncExternalStore(K,N,O)},_t.useTransition=function(){return se.current.useTransition()},_t.version="18.3.1",_t}var aP;function r0(){return aP||(aP=1,Ky.exports=R8()),Ky.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP;function F8(){if(lP)return Gh;lP=1;var e=r0(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var f,p={},g=null,C=null;u!==void 0&&(g=""+u),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(C=l.ref);for(f in l)n.call(l,f)&&!i.hasOwnProperty(f)&&(p[f]=l[f]);if(a&&a.defaultProps)for(f in l=a.defaultProps,l)p[f]===void 0&&(p[f]=l[f]);return{$$typeof:t,type:a,key:g,ref:C,props:p,_owner:s.current}}return Gh.Fragment=r,Gh.jsx=o,Gh.jsxs=o,Gh}var cP;function T8(){return cP||(cP=1,zy.exports=F8()),zy.exports}var d=T8(),m=r0();const De=t0(m),qx=E8({__proto__:null,default:De},[m]);var tm={},qy={exports:{}},gs={},Yy={exports:{}},Qy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP;function P8(){return uP||(uP=1,(function(e){function t(ee,re){var de=ee.length;ee.push(re);e:for(;0<de;){var K=de-1>>>1,N=ee[K];if(0<s(N,re))ee[K]=re,ee[de]=N,de=K;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var re=ee[0],de=ee.pop();if(de!==re){ee[0]=de;e:for(var K=0,N=ee.length,O=N>>>1;K<O;){var V=2*(K+1)-1,G=ee[V],J=V+1,ae=ee[J];if(0>s(G,de))J<N&&0>s(ae,G)?(ee[K]=ae,ee[J]=de,K=J):(ee[K]=G,ee[V]=de,K=V);else if(J<N&&0>s(ae,de))ee[K]=ae,ee[J]=de,K=J;else break e}}return re}function s(ee,re){var de=ee.sortIndex-re.sortIndex;return de!==0?de:ee.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,p=null,g=3,C=!1,S=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ee){for(var re=r(u);re!==null;){if(re.callback===null)n(u);else if(re.startTime<=ee)n(u),re.sortIndex=re.expirationTime,t(l,re);else break;re=r(u)}}function E(ee){if(y=!1,R(ee),!S)if(r(l)!==null)S=!0,we(A);else{var re=r(u);re!==null&&se(E,re.startTime-ee)}}function A(ee,re){S=!1,y&&(y=!1,b(I),I=-1),C=!0;var de=g;try{for(R(re),p=r(l);p!==null&&(!(p.expirationTime>re)||ee&&!H());){var K=p.callback;if(typeof K=="function"){p.callback=null,g=p.priorityLevel;var N=K(p.expirationTime<=re);re=e.unstable_now(),typeof N=="function"?p.callback=N:p===r(l)&&n(l),R(re)}else n(l);p=r(l)}if(p!==null)var O=!0;else{var V=r(u);V!==null&&se(E,V.startTime-re),O=!1}return O}finally{p=null,g=de,C=!1}}var D=!1,M=null,I=-1,_=5,j=-1;function H(){return!(e.unstable_now()-j<_)}function B(){if(M!==null){var ee=e.unstable_now();j=ee;var re=!0;try{re=M(!0,ee)}finally{re?oe():(D=!1,M=null)}}else D=!1}var oe;if(typeof F=="function")oe=function(){F(B)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Re=ye.port2;ye.port1.onmessage=B,oe=function(){Re.postMessage(null)}}else oe=function(){w(B,0)};function we(ee){M=ee,D||(D=!0,oe())}function se(ee,re){I=w(function(){ee(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){S||C||(S=!0,we(A))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(ee){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var de=g;g=re;try{return ee()}finally{g=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,re){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var de=g;g=ee;try{return re()}finally{g=de}},e.unstable_scheduleCallback=function(ee,re,de){var K=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?K+de:K):de=K,ee){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=de+N,ee={id:f++,callback:re,priorityLevel:ee,startTime:de,expirationTime:N,sortIndex:-1},de>K?(ee.sortIndex=de,t(u,ee),r(l)===null&&ee===r(u)&&(y?(b(I),I=-1):y=!0,se(E,de-K))):(ee.sortIndex=N,t(l,ee),S||C||(S=!0,we(A))),ee},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(ee){var re=g;return function(){var de=g;g=re;try{return ee.apply(this,arguments)}finally{g=de}}}})(Qy)),Qy}var dP;function A8(){return dP||(dP=1,Yy.exports=P8()),Yy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP;function D8(){if(hP)return gs;hP=1;var e=r0(),t=A8();function r(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(c,h){o(c,h),o(c+"Capture",h)}function o(c,h){for(s[c]=h,c=0;c<h.length;c++)n.add(h[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(c){return l.call(p,c)?!0:l.call(f,c)?!1:u.test(c)?p[c]=!0:(f[c]=!0,!1)}function C(c,h,v,x){if(v!==null&&v.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return x?!1:v!==null?!v.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function S(c,h,v,x){if(h===null||typeof h>"u"||C(c,h,v,x))return!0;if(x)return!1;if(v!==null)switch(v.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function y(c,h,v,x,T,P,k){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=x,this.attributeNamespace=T,this.mustUseProperty=v,this.propertyName=c,this.type=h,this.sanitizeURL=P,this.removeEmptyString=k}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){w[c]=new y(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var h=c[0];w[h]=new y(h,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){w[c]=new y(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){w[c]=new y(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){w[c]=new y(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){w[c]=new y(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){w[c]=new y(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){w[c]=new y(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){w[c]=new y(c,5,!1,c.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function F(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var h=c.replace(b,F);w[h]=new y(h,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var h=c.replace(b,F);w[h]=new y(h,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var h=c.replace(b,F);w[h]=new y(h,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){w[c]=new y(c,1,!1,c.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){w[c]=new y(c,1,!1,c.toLowerCase(),null,!0,!0)});function R(c,h,v,x){var T=w.hasOwnProperty(h)?w[h]:null;(T!==null?T.type!==0:x||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(S(h,v,T,x)&&(v=null),x||T===null?g(h)&&(v===null?c.removeAttribute(h):c.setAttribute(h,""+v)):T.mustUseProperty?c[T.propertyName]=v===null?T.type===3?!1:"":v:(h=T.attributeName,x=T.attributeNamespace,v===null?c.removeAttribute(h):(T=T.type,v=T===3||T===4&&v===!0?"":""+v,x?c.setAttributeNS(x,h,v):c.setAttribute(h,v))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),H=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),ee=Symbol.iterator;function re(c){return c===null||typeof c!="object"?null:(c=ee&&c[ee]||c["@@iterator"],typeof c=="function"?c:null)}var de=Object.assign,K;function N(c){if(K===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);K=h&&h[1]||""}return`
`+K+c}var O=!1;function V(c,h){if(!c||O)return"";O=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(xe){var x=xe}Reflect.construct(c,[],h)}else{try{h.call()}catch(xe){x=xe}c.call(h.prototype)}else{try{throw Error()}catch(xe){x=xe}c()}}catch(xe){if(xe&&x&&typeof xe.stack=="string"){for(var T=xe.stack.split(`
`),P=x.stack.split(`
`),k=T.length-1,Q=P.length-1;1<=k&&0<=Q&&T[k]!==P[Q];)Q--;for(;1<=k&&0<=Q;k--,Q--)if(T[k]!==P[Q]){if(k!==1||Q!==1)do if(k--,Q--,0>Q||T[k]!==P[Q]){var te=`
`+T[k].replace(" at new "," at ");return c.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",c.displayName)),te}while(1<=k&&0<=Q);break}}}finally{O=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?N(c):""}function G(c){switch(c.tag){case 5:return N(c.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return c=V(c.type,!1),c;case 11:return c=V(c.type.render,!1),c;case 1:return c=V(c.type,!0),c;default:return""}}function J(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case M:return"Fragment";case D:return"Portal";case _:return"Profiler";case I:return"StrictMode";case oe:return"Suspense";case ye:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case H:return(c.displayName||"Context")+".Consumer";case j:return(c._context.displayName||"Context")+".Provider";case B:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Re:return h=c.displayName||null,h!==null?h:J(c.type)||"Memo";case we:h=c._payload,c=c._init;try{return J(c(h))}catch{}}return null}function ae(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(h);case 8:return h===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function ge(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function X(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ne(c){var h=X(c)?"checked":"value",v=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),x=""+c[h];if(!c.hasOwnProperty(h)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var T=v.get,P=v.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return T.call(this)},set:function(k){x=""+k,P.call(this,k)}}),Object.defineProperty(c,h,{enumerable:v.enumerable}),{getValue:function(){return x},setValue:function(k){x=""+k},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function Ne(c){c._valueTracker||(c._valueTracker=ne(c))}function Ae(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var v=h.getValue(),x="";return c&&(x=X(c)?c.checked?"true":"false":c.value),c=x,c!==v?(h.setValue(c),!0):!1}function Qe(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ze(c,h){var v=h.checked;return de({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??c._wrapperState.initialChecked})}function ft(c,h){var v=h.defaultValue==null?"":h.defaultValue,x=h.checked!=null?h.checked:h.defaultChecked;v=ge(h.value!=null?h.value:v),c._wrapperState={initialChecked:x,initialValue:v,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function xt(c,h){h=h.checked,h!=null&&R(c,"checked",h,!1)}function We(c,h){xt(c,h);var v=ge(h.value),x=h.type;if(v!=null)x==="number"?(v===0&&c.value===""||c.value!=v)&&(c.value=""+v):c.value!==""+v&&(c.value=""+v);else if(x==="submit"||x==="reset"){c.removeAttribute("value");return}h.hasOwnProperty("value")?Ke(c,h.type,v):h.hasOwnProperty("defaultValue")&&Ke(c,h.type,ge(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(c.defaultChecked=!!h.defaultChecked)}function le(c,h,v){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var x=h.type;if(!(x!=="submit"&&x!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+c._wrapperState.initialValue,v||h===c.value||(c.value=h),c.defaultValue=h}v=c.name,v!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,v!==""&&(c.name=v)}function Ke(c,h,v){(h!=="number"||Qe(c.ownerDocument)!==c)&&(v==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+v&&(c.defaultValue=""+v))}var ct=Array.isArray;function Mt(c,h,v,x){if(c=c.options,h){h={};for(var T=0;T<v.length;T++)h["$"+v[T]]=!0;for(v=0;v<c.length;v++)T=h.hasOwnProperty("$"+c[v].value),c[v].selected!==T&&(c[v].selected=T),T&&x&&(c[v].defaultSelected=!0)}else{for(v=""+ge(v),h=null,T=0;T<c.length;T++){if(c[T].value===v){c[T].selected=!0,x&&(c[T].defaultSelected=!0);return}h!==null||c[T].disabled||(h=c[T])}h!==null&&(h.selected=!0)}}function ue(c,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return de({},h,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Ve(c,h){var v=h.value;if(v==null){if(v=h.children,h=h.defaultValue,v!=null){if(h!=null)throw Error(r(92));if(ct(v)){if(1<v.length)throw Error(r(93));v=v[0]}h=v}h==null&&(h=""),v=h}c._wrapperState={initialValue:ge(v)}}function Ue(c,h){var v=ge(h.value),x=ge(h.defaultValue);v!=null&&(v=""+v,v!==c.value&&(c.value=v),h.defaultValue==null&&c.defaultValue!==v&&(c.defaultValue=v)),x!=null&&(c.defaultValue=""+x)}function rt(c){var h=c.textContent;h===c._wrapperState.initialValue&&h!==""&&h!==null&&(c.value=h)}function tt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(c,h){return c==null||c==="http://www.w3.org/1999/xhtml"?tt(h):c==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Vt,$r=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,v,x,T){MSApp.execUnsafeLocalFunction(function(){return c(h,v,x,T)})}:c})(function(c,h){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=h;else{for(Vt=Vt||document.createElement("div"),Vt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Vt.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;h.firstChild;)c.appendChild(h.firstChild)}});function Oe(c,h){if(h){var v=c.firstChild;if(v&&v===c.lastChild&&v.nodeType===3){v.nodeValue=h;return}}c.textContent=h}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cr=["Webkit","ms","Moz","O"];Object.keys(mt).forEach(function(c){cr.forEach(function(h){h=h+c.charAt(0).toUpperCase()+c.substring(1),mt[h]=mt[c]})});function sn(c,h,v){return h==null||typeof h=="boolean"||h===""?"":v||typeof h!="number"||h===0||mt.hasOwnProperty(c)&&mt[c]?(""+h).trim():h+"px"}function Xs(c,h){c=c.style;for(var v in h)if(h.hasOwnProperty(v)){var x=v.indexOf("--")===0,T=sn(v,h[v],x);v==="float"&&(v="cssFloat"),x?c.setProperty(v,T):c[v]=T}}var Me=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(c,h){if(h){if(Me[c]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function Ht(c,h){if(c.indexOf("-")===-1)return typeof h.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vn=null;function Ei(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ri=null,Zs=null,Ds=null;function Po(c){if(c=Rh(c)){if(typeof Ri!="function")throw Error(r(280));var h=c.stateNode;h&&(h=gg(h),Ri(c.stateNode,c.type,h))}}function zp(c){Zs?Ds?Ds.push(c):Ds=[c]:Zs=c}function Kp(){if(Zs){var c=Zs,h=Ds;if(Ds=Zs=null,Po(c),h)for(c=0;c<h.length;c++)Po(h[c])}}function qp(c,h){return c(h)}function Yp(){}var sh=!1;function Qp(c,h,v){if(sh)return c(h,v);sh=!0;try{return qp(c,h,v)}finally{sh=!1,(Zs!==null||Ds!==null)&&(Yp(),Kp())}}function Nl(c,h){var v=c.stateNode;if(v===null)return null;var x=gg(v);if(x===null)return null;v=x[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(c=c.type,x=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!x;break e;default:c=!1}if(c)return null;if(v&&typeof v!="function")throw Error(r(231,h,typeof v));return v}var ih=!1;if(a)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){ih=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{ih=!1}function dC(c,h,v,x,T,P,k,Q,te){var xe=Array.prototype.slice.call(arguments,3);try{h.apply(v,xe)}catch(je){this.onError(je)}}var Il=!1,iu=null,L=!1,z=null,W={onError:function(c){Il=!0,iu=c}};function U(c,h,v,x,T,P,k,Q,te){Il=!1,iu=null,dC.apply(W,arguments)}function q(c,h,v,x,T,P,k,Q,te){if(U.apply(this,arguments),Il){if(Il){var xe=iu;Il=!1,iu=null}else throw Error(r(198));L||(L=!0,z=xe)}}function Y(c){var h=c,v=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(v=h.return),c=h.return;while(c)}return h.tag===3?v:null}function me(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function Pe(c){if(Y(c)!==c)throw Error(r(188))}function pe(c){var h=c.alternate;if(!h){if(h=Y(c),h===null)throw Error(r(188));return h!==c?null:c}for(var v=c,x=h;;){var T=v.return;if(T===null)break;var P=T.alternate;if(P===null){if(x=T.return,x!==null){v=x;continue}break}if(T.child===P.child){for(P=T.child;P;){if(P===v)return Pe(T),c;if(P===x)return Pe(T),h;P=P.sibling}throw Error(r(188))}if(v.return!==x.return)v=T,x=P;else{for(var k=!1,Q=T.child;Q;){if(Q===v){k=!0,v=T,x=P;break}if(Q===x){k=!0,x=T,v=P;break}Q=Q.sibling}if(!k){for(Q=P.child;Q;){if(Q===v){k=!0,v=P,x=T;break}if(Q===x){k=!0,x=P,v=T;break}Q=Q.sibling}if(!k)throw Error(r(189))}}if(v.alternate!==x)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?c:h}function Ce(c){return c=pe(c),c!==null?Se(c):null}function Se(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=Se(c);if(h!==null)return h;c=c.sibling}return null}var Be=t.unstable_scheduleCallback,Xe=t.unstable_cancelCallback,at=t.unstable_shouldYield,$e=t.unstable_requestPaint,He=t.unstable_now,Dt=t.unstable_getCurrentPriorityLevel,ur=t.unstable_ImmediatePriority,hr=t.unstable_UserBlockingPriority,Gr=t.unstable_NormalPriority,Ol=t.unstable_LowPriority,va=t.unstable_IdlePriority,Yi=null,on=null;function oh(c){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Yi,c,void 0,(c.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:VG,BG=Math.log,GG=Math.LN2;function VG(c){return c>>>=0,c===0?32:31-(BG(c)/GG|0)|0}var Xp=64,Zp=4194304;function ah(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Jp(c,h){var v=c.pendingLanes;if(v===0)return 0;var x=0,T=c.suspendedLanes,P=c.pingedLanes,k=v&268435455;if(k!==0){var Q=k&~T;Q!==0?x=ah(Q):(P&=k,P!==0&&(x=ah(P)))}else k=v&~T,k!==0?x=ah(k):P!==0&&(x=ah(P));if(x===0)return 0;if(h!==0&&h!==x&&(h&T)===0&&(T=x&-x,P=h&-h,T>=P||T===16&&(P&4194240)!==0))return h;if((x&4)!==0&&(x|=v&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=x;0<h;)v=31-Vr(h),T=1<<v,x|=c[v],h&=~T;return x}function HG(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WG(c,h){for(var v=c.suspendedLanes,x=c.pingedLanes,T=c.expirationTimes,P=c.pendingLanes;0<P;){var k=31-Vr(P),Q=1<<k,te=T[k];te===-1?((Q&v)===0||(Q&x)!==0)&&(T[k]=HG(Q,h)):te<=h&&(c.expiredLanes|=Q),P&=~Q}}function hC(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function LR(){var c=Xp;return Xp<<=1,(Xp&4194240)===0&&(Xp=64),c}function fC(c){for(var h=[],v=0;31>v;v++)h.push(c);return h}function lh(c,h,v){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-Vr(h),c[h]=v}function UG(c,h){var v=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var x=c.eventTimes;for(c=c.expirationTimes;0<v;){var T=31-Vr(v),P=1<<T;h[T]=0,x[T]=-1,c[T]=-1,v&=~P}}function pC(c,h){var v=c.entangledLanes|=h;for(c=c.entanglements;v;){var x=31-Vr(v),T=1<<x;T&h|c[x]&h&&(c[x]|=h),v&=~T}}var rr=0;function _R(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var jR,gC,BR,GR,VR,mC=!1,eg=[],Ca=null,ya=null,Sa=null,ch=new Map,uh=new Map,wa=[],$G="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HR(c,h){switch(c){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":ch.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(h.pointerId)}}function dh(c,h,v,x,T,P){return c===null||c.nativeEvent!==P?(c={blockedOn:h,domEventName:v,eventSystemFlags:x,nativeEvent:P,targetContainers:[T]},h!==null&&(h=Rh(h),h!==null&&gC(h)),c):(c.eventSystemFlags|=x,h=c.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),c)}function zG(c,h,v,x,T){switch(h){case"focusin":return Ca=dh(Ca,c,h,v,x,T),!0;case"dragenter":return ya=dh(ya,c,h,v,x,T),!0;case"mouseover":return Sa=dh(Sa,c,h,v,x,T),!0;case"pointerover":var P=T.pointerId;return ch.set(P,dh(ch.get(P)||null,c,h,v,x,T)),!0;case"gotpointercapture":return P=T.pointerId,uh.set(P,dh(uh.get(P)||null,c,h,v,x,T)),!0}return!1}function WR(c){var h=kl(c.target);if(h!==null){var v=Y(h);if(v!==null){if(h=v.tag,h===13){if(h=me(v),h!==null){c.blockedOn=h,VR(c.priority,function(){BR(v)});return}}else if(h===3&&v.stateNode.current.memoizedState.isDehydrated){c.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}c.blockedOn=null}function tg(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var v=CC(c.domEventName,c.eventSystemFlags,h[0],c.nativeEvent);if(v===null){v=c.nativeEvent;var x=new v.constructor(v.type,v);vn=x,v.target.dispatchEvent(x),vn=null}else return h=Rh(v),h!==null&&gC(h),c.blockedOn=v,!1;h.shift()}return!0}function UR(c,h,v){tg(c)&&v.delete(h)}function KG(){mC=!1,Ca!==null&&tg(Ca)&&(Ca=null),ya!==null&&tg(ya)&&(ya=null),Sa!==null&&tg(Sa)&&(Sa=null),ch.forEach(UR),uh.forEach(UR)}function hh(c,h){c.blockedOn===h&&(c.blockedOn=null,mC||(mC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,KG)))}function fh(c){function h(T){return hh(T,c)}if(0<eg.length){hh(eg[0],c);for(var v=1;v<eg.length;v++){var x=eg[v];x.blockedOn===c&&(x.blockedOn=null)}}for(Ca!==null&&hh(Ca,c),ya!==null&&hh(ya,c),Sa!==null&&hh(Sa,c),ch.forEach(h),uh.forEach(h),v=0;v<wa.length;v++)x=wa[v],x.blockedOn===c&&(x.blockedOn=null);for(;0<wa.length&&(v=wa[0],v.blockedOn===null);)WR(v),v.blockedOn===null&&wa.shift()}var ou=E.ReactCurrentBatchConfig,rg=!0;function qG(c,h,v,x){var T=rr,P=ou.transition;ou.transition=null;try{rr=1,vC(c,h,v,x)}finally{rr=T,ou.transition=P}}function YG(c,h,v,x){var T=rr,P=ou.transition;ou.transition=null;try{rr=4,vC(c,h,v,x)}finally{rr=T,ou.transition=P}}function vC(c,h,v,x){if(rg){var T=CC(c,h,v,x);if(T===null)kC(c,h,x,ng,v),HR(c,x);else if(zG(T,c,h,v,x))x.stopPropagation();else if(HR(c,x),h&4&&-1<$G.indexOf(c)){for(;T!==null;){var P=Rh(T);if(P!==null&&jR(P),P=CC(c,h,v,x),P===null&&kC(c,h,x,ng,v),P===T)break;T=P}T!==null&&x.stopPropagation()}else kC(c,h,x,null,v)}}var ng=null;function CC(c,h,v,x){if(ng=null,c=Ei(x),c=kl(c),c!==null)if(h=Y(c),h===null)c=null;else if(v=h.tag,v===13){if(c=me(h),c!==null)return c;c=null}else if(v===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null);return ng=c,null}function $R(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dt()){case ur:return 1;case hr:return 4;case Gr:case Ol:return 16;case va:return 536870912;default:return 16}default:return 16}}var xa=null,yC=null,sg=null;function zR(){if(sg)return sg;var c,h=yC,v=h.length,x,T="value"in xa?xa.value:xa.textContent,P=T.length;for(c=0;c<v&&h[c]===T[c];c++);var k=v-c;for(x=1;x<=k&&h[v-x]===T[P-x];x++);return sg=T.slice(c,1<x?1-x:void 0)}function ig(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function og(){return!0}function KR(){return!1}function Ms(c){function h(v,x,T,P,k){this._reactName=v,this._targetInst=T,this.type=x,this.nativeEvent=P,this.target=k,this.currentTarget=null;for(var Q in c)c.hasOwnProperty(Q)&&(v=c[Q],this[Q]=v?v(P):P[Q]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?og:KR,this.isPropagationStopped=KR,this}return de(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=og)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=og)},persist:function(){},isPersistent:og}),h}var au={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SC=Ms(au),ph=de({},au,{view:0,detail:0}),QG=Ms(ph),wC,xC,gh,ag=de({},ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EC,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==gh&&(gh&&c.type==="mousemove"?(wC=c.screenX-gh.screenX,xC=c.screenY-gh.screenY):xC=wC=0,gh=c),wC)},movementY:function(c){return"movementY"in c?c.movementY:xC}}),qR=Ms(ag),XG=de({},ag,{dataTransfer:0}),ZG=Ms(XG),JG=de({},ph,{relatedTarget:0}),bC=Ms(JG),e6=de({},au,{animationName:0,elapsedTime:0,pseudoElement:0}),t6=Ms(e6),r6=de({},au,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),n6=Ms(r6),s6=de({},au,{data:0}),YR=Ms(s6),i6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l6(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=a6[c])?!!h[c]:!1}function EC(){return l6}var c6=de({},ph,{key:function(c){if(c.key){var h=i6[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=ig(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?o6[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EC,charCode:function(c){return c.type==="keypress"?ig(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ig(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),u6=Ms(c6),d6=de({},ag,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QR=Ms(d6),h6=de({},ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EC}),f6=Ms(h6),p6=de({},au,{propertyName:0,elapsedTime:0,pseudoElement:0}),g6=Ms(p6),m6=de({},ag,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),v6=Ms(m6),C6=[9,13,27,32],RC=a&&"CompositionEvent"in window,mh=null;a&&"documentMode"in document&&(mh=document.documentMode);var y6=a&&"TextEvent"in window&&!mh,XR=a&&(!RC||mh&&8<mh&&11>=mh),ZR=" ",JR=!1;function eF(c,h){switch(c){case"keyup":return C6.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tF(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var lu=!1;function S6(c,h){switch(c){case"compositionend":return tF(h);case"keypress":return h.which!==32?null:(JR=!0,ZR);case"textInput":return c=h.data,c===ZR&&JR?null:c;default:return null}}function w6(c,h){if(lu)return c==="compositionend"||!RC&&eF(c,h)?(c=zR(),sg=yC=xa=null,lu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return XR&&h.locale!=="ko"?null:h.data;default:return null}}var x6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rF(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!x6[c.type]:h==="textarea"}function nF(c,h,v,x){zp(x),h=hg(h,"onChange"),0<h.length&&(v=new SC("onChange","change",null,v,x),c.push({event:v,listeners:h}))}var vh=null,Ch=null;function b6(c){wF(c,0)}function lg(c){var h=fu(c);if(Ae(h))return c}function E6(c,h){if(c==="change")return h}var sF=!1;if(a){var FC;if(a){var TC="oninput"in document;if(!TC){var iF=document.createElement("div");iF.setAttribute("oninput","return;"),TC=typeof iF.oninput=="function"}FC=TC}else FC=!1;sF=FC&&(!document.documentMode||9<document.documentMode)}function oF(){vh&&(vh.detachEvent("onpropertychange",aF),Ch=vh=null)}function aF(c){if(c.propertyName==="value"&&lg(Ch)){var h=[];nF(h,Ch,c,Ei(c)),Qp(b6,h)}}function R6(c,h,v){c==="focusin"?(oF(),vh=h,Ch=v,vh.attachEvent("onpropertychange",aF)):c==="focusout"&&oF()}function F6(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return lg(Ch)}function T6(c,h){if(c==="click")return lg(h)}function P6(c,h){if(c==="input"||c==="change")return lg(h)}function A6(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Fi=typeof Object.is=="function"?Object.is:A6;function yh(c,h){if(Fi(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var v=Object.keys(c),x=Object.keys(h);if(v.length!==x.length)return!1;for(x=0;x<v.length;x++){var T=v[x];if(!l.call(h,T)||!Fi(c[T],h[T]))return!1}return!0}function lF(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function cF(c,h){var v=lF(c);c=0;for(var x;v;){if(v.nodeType===3){if(x=c+v.textContent.length,c<=h&&x>=h)return{node:v,offset:h-c};c=x}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=lF(v)}}function uF(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?uF(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function dF(){for(var c=window,h=Qe();h instanceof c.HTMLIFrameElement;){try{var v=typeof h.contentWindow.location.href=="string"}catch{v=!1}if(v)c=h.contentWindow;else break;h=Qe(c.document)}return h}function PC(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}function D6(c){var h=dF(),v=c.focusedElem,x=c.selectionRange;if(h!==v&&v&&v.ownerDocument&&uF(v.ownerDocument.documentElement,v)){if(x!==null&&PC(v)){if(h=x.start,c=x.end,c===void 0&&(c=h),"selectionStart"in v)v.selectionStart=h,v.selectionEnd=Math.min(c,v.value.length);else if(c=(h=v.ownerDocument||document)&&h.defaultView||window,c.getSelection){c=c.getSelection();var T=v.textContent.length,P=Math.min(x.start,T);x=x.end===void 0?P:Math.min(x.end,T),!c.extend&&P>x&&(T=x,x=P,P=T),T=cF(v,P);var k=cF(v,x);T&&k&&(c.rangeCount!==1||c.anchorNode!==T.node||c.anchorOffset!==T.offset||c.focusNode!==k.node||c.focusOffset!==k.offset)&&(h=h.createRange(),h.setStart(T.node,T.offset),c.removeAllRanges(),P>x?(c.addRange(h),c.extend(k.node,k.offset)):(h.setEnd(k.node,k.offset),c.addRange(h)))}}for(h=[],c=v;c=c.parentNode;)c.nodeType===1&&h.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<h.length;v++)c=h[v],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var M6=a&&"documentMode"in document&&11>=document.documentMode,cu=null,AC=null,Sh=null,DC=!1;function hF(c,h,v){var x=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;DC||cu==null||cu!==Qe(x)||(x=cu,"selectionStart"in x&&PC(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Sh&&yh(Sh,x)||(Sh=x,x=hg(AC,"onSelect"),0<x.length&&(h=new SC("onSelect","select",null,h,v),c.push({event:h,listeners:x}),h.target=cu)))}function cg(c,h){var v={};return v[c.toLowerCase()]=h.toLowerCase(),v["Webkit"+c]="webkit"+h,v["Moz"+c]="moz"+h,v}var uu={animationend:cg("Animation","AnimationEnd"),animationiteration:cg("Animation","AnimationIteration"),animationstart:cg("Animation","AnimationStart"),transitionend:cg("Transition","TransitionEnd")},MC={},fF={};a&&(fF=document.createElement("div").style,"AnimationEvent"in window||(delete uu.animationend.animation,delete uu.animationiteration.animation,delete uu.animationstart.animation),"TransitionEvent"in window||delete uu.transitionend.transition);function ug(c){if(MC[c])return MC[c];if(!uu[c])return c;var h=uu[c],v;for(v in h)if(h.hasOwnProperty(v)&&v in fF)return MC[c]=h[v];return c}var pF=ug("animationend"),gF=ug("animationiteration"),mF=ug("animationstart"),vF=ug("transitionend"),CF=new Map,yF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(c,h){CF.set(c,h),i(h,[c])}for(var NC=0;NC<yF.length;NC++){var IC=yF[NC],N6=IC.toLowerCase(),I6=IC[0].toUpperCase()+IC.slice(1);ba(N6,"on"+I6)}ba(pF,"onAnimationEnd"),ba(gF,"onAnimationIteration"),ba(mF,"onAnimationStart"),ba("dblclick","onDoubleClick"),ba("focusin","onFocus"),ba("focusout","onBlur"),ba(vF,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O6=new Set("cancel close invalid load scroll toggle".split(" ").concat(wh));function SF(c,h,v){var x=c.type||"unknown-event";c.currentTarget=v,q(x,h,void 0,c),c.currentTarget=null}function wF(c,h){h=(h&4)!==0;for(var v=0;v<c.length;v++){var x=c[v],T=x.event;x=x.listeners;e:{var P=void 0;if(h)for(var k=x.length-1;0<=k;k--){var Q=x[k],te=Q.instance,xe=Q.currentTarget;if(Q=Q.listener,te!==P&&T.isPropagationStopped())break e;SF(T,Q,xe),P=te}else for(k=0;k<x.length;k++){if(Q=x[k],te=Q.instance,xe=Q.currentTarget,Q=Q.listener,te!==P&&T.isPropagationStopped())break e;SF(T,Q,xe),P=te}}}if(L)throw c=z,L=!1,z=null,c}function gr(c,h){var v=h[VC];v===void 0&&(v=h[VC]=new Set);var x=c+"__bubble";v.has(x)||(xF(h,c,2,!1),v.add(x))}function OC(c,h,v){var x=0;h&&(x|=4),xF(v,c,x,h)}var dg="_reactListening"+Math.random().toString(36).slice(2);function xh(c){if(!c[dg]){c[dg]=!0,n.forEach(function(v){v!=="selectionchange"&&(O6.has(v)||OC(v,!1,c),OC(v,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[dg]||(h[dg]=!0,OC("selectionchange",!1,h))}}function xF(c,h,v,x){switch($R(h)){case 1:var T=qG;break;case 4:T=YG;break;default:T=vC}v=T.bind(null,h,v,c),T=void 0,!ih||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),x?T!==void 0?c.addEventListener(h,v,{capture:!0,passive:T}):c.addEventListener(h,v,!0):T!==void 0?c.addEventListener(h,v,{passive:T}):c.addEventListener(h,v,!1)}function kC(c,h,v,x,T){var P=x;if((h&1)===0&&(h&2)===0&&x!==null)e:for(;;){if(x===null)return;var k=x.tag;if(k===3||k===4){var Q=x.stateNode.containerInfo;if(Q===T||Q.nodeType===8&&Q.parentNode===T)break;if(k===4)for(k=x.return;k!==null;){var te=k.tag;if((te===3||te===4)&&(te=k.stateNode.containerInfo,te===T||te.nodeType===8&&te.parentNode===T))return;k=k.return}for(;Q!==null;){if(k=kl(Q),k===null)return;if(te=k.tag,te===5||te===6){x=P=k;continue e}Q=Q.parentNode}}x=x.return}Qp(function(){var xe=P,je=Ei(v),Ge=[];e:{var ke=CF.get(c);if(ke!==void 0){var it=SC,ut=c;switch(c){case"keypress":if(ig(v)===0)break e;case"keydown":case"keyup":it=u6;break;case"focusin":ut="focus",it=bC;break;case"focusout":ut="blur",it=bC;break;case"beforeblur":case"afterblur":it=bC;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=qR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=ZG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=f6;break;case pF:case gF:case mF:it=t6;break;case vF:it=g6;break;case"scroll":it=QG;break;case"wheel":it=v6;break;case"copy":case"cut":case"paste":it=n6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=QR}var dt=(h&4)!==0,Hr=!dt&&c==="scroll",he=dt?ke!==null?ke+"Capture":null:ke;dt=[];for(var ie=xe,fe;ie!==null;){fe=ie;var ze=fe.stateNode;if(fe.tag===5&&ze!==null&&(fe=ze,he!==null&&(ze=Nl(ie,he),ze!=null&&dt.push(bh(ie,ze,fe)))),Hr)break;ie=ie.return}0<dt.length&&(ke=new it(ke,ut,null,v,je),Ge.push({event:ke,listeners:dt}))}}if((h&7)===0){e:{if(ke=c==="mouseover"||c==="pointerover",it=c==="mouseout"||c==="pointerout",ke&&v!==vn&&(ut=v.relatedTarget||v.fromElement)&&(kl(ut)||ut[Do]))break e;if((it||ke)&&(ke=je.window===je?je:(ke=je.ownerDocument)?ke.defaultView||ke.parentWindow:window,it?(ut=v.relatedTarget||v.toElement,it=xe,ut=ut?kl(ut):null,ut!==null&&(Hr=Y(ut),ut!==Hr||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(it=null,ut=xe),it!==ut)){if(dt=qR,ze="onMouseLeave",he="onMouseEnter",ie="mouse",(c==="pointerout"||c==="pointerover")&&(dt=QR,ze="onPointerLeave",he="onPointerEnter",ie="pointer"),Hr=it==null?ke:fu(it),fe=ut==null?ke:fu(ut),ke=new dt(ze,ie+"leave",it,v,je),ke.target=Hr,ke.relatedTarget=fe,ze=null,kl(je)===xe&&(dt=new dt(he,ie+"enter",ut,v,je),dt.target=fe,dt.relatedTarget=Hr,ze=dt),Hr=ze,it&&ut)t:{for(dt=it,he=ut,ie=0,fe=dt;fe;fe=du(fe))ie++;for(fe=0,ze=he;ze;ze=du(ze))fe++;for(;0<ie-fe;)dt=du(dt),ie--;for(;0<fe-ie;)he=du(he),fe--;for(;ie--;){if(dt===he||he!==null&&dt===he.alternate)break t;dt=du(dt),he=du(he)}dt=null}else dt=null;it!==null&&bF(Ge,ke,it,dt,!1),ut!==null&&Hr!==null&&bF(Ge,Hr,ut,dt,!0)}}e:{if(ke=xe?fu(xe):window,it=ke.nodeName&&ke.nodeName.toLowerCase(),it==="select"||it==="input"&&ke.type==="file")var ht=E6;else if(rF(ke))if(sF)ht=P6;else{ht=F6;var Et=R6}else(it=ke.nodeName)&&it.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(ht=T6);if(ht&&(ht=ht(c,xe))){nF(Ge,ht,v,je);break e}Et&&Et(c,ke,xe),c==="focusout"&&(Et=ke._wrapperState)&&Et.controlled&&ke.type==="number"&&Ke(ke,"number",ke.value)}switch(Et=xe?fu(xe):window,c){case"focusin":(rF(Et)||Et.contentEditable==="true")&&(cu=Et,AC=xe,Sh=null);break;case"focusout":Sh=AC=cu=null;break;case"mousedown":DC=!0;break;case"contextmenu":case"mouseup":case"dragend":DC=!1,hF(Ge,v,je);break;case"selectionchange":if(M6)break;case"keydown":case"keyup":hF(Ge,v,je)}var Rt;if(RC)e:{switch(c){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else lu?eF(c,v)&&(At="onCompositionEnd"):c==="keydown"&&v.keyCode===229&&(At="onCompositionStart");At&&(XR&&v.locale!=="ko"&&(lu||At!=="onCompositionStart"?At==="onCompositionEnd"&&lu&&(Rt=zR()):(xa=je,yC="value"in xa?xa.value:xa.textContent,lu=!0)),Et=hg(xe,At),0<Et.length&&(At=new YR(At,c,null,v,je),Ge.push({event:At,listeners:Et}),Rt?At.data=Rt:(Rt=tF(v),Rt!==null&&(At.data=Rt)))),(Rt=y6?S6(c,v):w6(c,v))&&(xe=hg(xe,"onBeforeInput"),0<xe.length&&(je=new YR("onBeforeInput","beforeinput",null,v,je),Ge.push({event:je,listeners:xe}),je.data=Rt))}wF(Ge,h)})}function bh(c,h,v){return{instance:c,listener:h,currentTarget:v}}function hg(c,h){for(var v=h+"Capture",x=[];c!==null;){var T=c,P=T.stateNode;T.tag===5&&P!==null&&(T=P,P=Nl(c,v),P!=null&&x.unshift(bh(c,P,T)),P=Nl(c,h),P!=null&&x.push(bh(c,P,T))),c=c.return}return x}function du(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function bF(c,h,v,x,T){for(var P=h._reactName,k=[];v!==null&&v!==x;){var Q=v,te=Q.alternate,xe=Q.stateNode;if(te!==null&&te===x)break;Q.tag===5&&xe!==null&&(Q=xe,T?(te=Nl(v,P),te!=null&&k.unshift(bh(v,te,Q))):T||(te=Nl(v,P),te!=null&&k.push(bh(v,te,Q)))),v=v.return}k.length!==0&&c.push({event:h,listeners:k})}var k6=/\r\n?/g,L6=/\u0000|\uFFFD/g;function EF(c){return(typeof c=="string"?c:""+c).replace(k6,`
`).replace(L6,"")}function fg(c,h,v){if(h=EF(h),EF(c)!==h&&v)throw Error(r(425))}function pg(){}var LC=null,_C=null;function jC(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var BC=typeof setTimeout=="function"?setTimeout:void 0,_6=typeof clearTimeout=="function"?clearTimeout:void 0,RF=typeof Promise=="function"?Promise:void 0,j6=typeof queueMicrotask=="function"?queueMicrotask:typeof RF<"u"?function(c){return RF.resolve(null).then(c).catch(B6)}:BC;function B6(c){setTimeout(function(){throw c})}function GC(c,h){var v=h,x=0;do{var T=v.nextSibling;if(c.removeChild(v),T&&T.nodeType===8)if(v=T.data,v==="/$"){if(x===0){c.removeChild(T),fh(h);return}x--}else v!=="$"&&v!=="$?"&&v!=="$!"||x++;v=T}while(v);fh(h)}function Ea(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return c}function FF(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var v=c.data;if(v==="$"||v==="$!"||v==="$?"){if(h===0)return c;h--}else v==="/$"&&h++}c=c.previousSibling}return null}var hu=Math.random().toString(36).slice(2),Qi="__reactFiber$"+hu,Eh="__reactProps$"+hu,Do="__reactContainer$"+hu,VC="__reactEvents$"+hu,G6="__reactListeners$"+hu,V6="__reactHandles$"+hu;function kl(c){var h=c[Qi];if(h)return h;for(var v=c.parentNode;v;){if(h=v[Do]||v[Qi]){if(v=h.alternate,h.child!==null||v!==null&&v.child!==null)for(c=FF(c);c!==null;){if(v=c[Qi])return v;c=FF(c)}return h}c=v,v=c.parentNode}return null}function Rh(c){return c=c[Qi]||c[Do],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function fu(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function gg(c){return c[Eh]||null}var HC=[],pu=-1;function Ra(c){return{current:c}}function mr(c){0>pu||(c.current=HC[pu],HC[pu]=null,pu--)}function fr(c,h){pu++,HC[pu]=c.current,c.current=h}var Fa={},An=Ra(Fa),us=Ra(!1),Ll=Fa;function gu(c,h){var v=c.type.contextTypes;if(!v)return Fa;var x=c.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===h)return x.__reactInternalMemoizedMaskedChildContext;var T={},P;for(P in v)T[P]=h[P];return x&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=T),T}function ds(c){return c=c.childContextTypes,c!=null}function mg(){mr(us),mr(An)}function TF(c,h,v){if(An.current!==Fa)throw Error(r(168));fr(An,h),fr(us,v)}function PF(c,h,v){var x=c.stateNode;if(h=h.childContextTypes,typeof x.getChildContext!="function")return v;x=x.getChildContext();for(var T in x)if(!(T in h))throw Error(r(108,ae(c)||"Unknown",T));return de({},v,x)}function vg(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Fa,Ll=An.current,fr(An,c),fr(us,us.current),!0}function AF(c,h,v){var x=c.stateNode;if(!x)throw Error(r(169));v?(c=PF(c,h,Ll),x.__reactInternalMemoizedMergedChildContext=c,mr(us),mr(An),fr(An,c)):mr(us),fr(us,v)}var Mo=null,Cg=!1,WC=!1;function DF(c){Mo===null?Mo=[c]:Mo.push(c)}function H6(c){Cg=!0,DF(c)}function Ta(){if(!WC&&Mo!==null){WC=!0;var c=0,h=rr;try{var v=Mo;for(rr=1;c<v.length;c++){var x=v[c];do x=x(!0);while(x!==null)}Mo=null,Cg=!1}catch(T){throw Mo!==null&&(Mo=Mo.slice(c+1)),Be(ur,Ta),T}finally{rr=h,WC=!1}}return null}var mu=[],vu=0,yg=null,Sg=0,Js=[],ei=0,_l=null,No=1,Io="";function jl(c,h){mu[vu++]=Sg,mu[vu++]=yg,yg=c,Sg=h}function MF(c,h,v){Js[ei++]=No,Js[ei++]=Io,Js[ei++]=_l,_l=c;var x=No;c=Io;var T=32-Vr(x)-1;x&=~(1<<T),v+=1;var P=32-Vr(h)+T;if(30<P){var k=T-T%5;P=(x&(1<<k)-1).toString(32),x>>=k,T-=k,No=1<<32-Vr(h)+T|v<<T|x,Io=P+c}else No=1<<P|v<<T|x,Io=c}function UC(c){c.return!==null&&(jl(c,1),MF(c,1,0))}function $C(c){for(;c===yg;)yg=mu[--vu],mu[vu]=null,Sg=mu[--vu],mu[vu]=null;for(;c===_l;)_l=Js[--ei],Js[ei]=null,Io=Js[--ei],Js[ei]=null,No=Js[--ei],Js[ei]=null}var Ns=null,Is=null,br=!1,Ti=null;function NF(c,h){var v=si(5,null,null,0);v.elementType="DELETED",v.stateNode=h,v.return=c,h=c.deletions,h===null?(c.deletions=[v],c.flags|=16):h.push(v)}function IF(c,h){switch(c.tag){case 5:var v=c.type;return h=h.nodeType!==1||v.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(c.stateNode=h,Ns=c,Is=Ea(h.firstChild),!0):!1;case 6:return h=c.pendingProps===""||h.nodeType!==3?null:h,h!==null?(c.stateNode=h,Ns=c,Is=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(v=_l!==null?{id:No,overflow:Io}:null,c.memoizedState={dehydrated:h,treeContext:v,retryLane:1073741824},v=si(18,null,null,0),v.stateNode=h,v.return=c,c.child=v,Ns=c,Is=null,!0):!1;default:return!1}}function zC(c){return(c.mode&1)!==0&&(c.flags&128)===0}function KC(c){if(br){var h=Is;if(h){var v=h;if(!IF(c,h)){if(zC(c))throw Error(r(418));h=Ea(v.nextSibling);var x=Ns;h&&IF(c,h)?NF(x,v):(c.flags=c.flags&-4097|2,br=!1,Ns=c)}}else{if(zC(c))throw Error(r(418));c.flags=c.flags&-4097|2,br=!1,Ns=c}}}function OF(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ns=c}function wg(c){if(c!==Ns)return!1;if(!br)return OF(c),br=!0,!1;var h;if((h=c.tag!==3)&&!(h=c.tag!==5)&&(h=c.type,h=h!=="head"&&h!=="body"&&!jC(c.type,c.memoizedProps)),h&&(h=Is)){if(zC(c))throw kF(),Error(r(418));for(;h;)NF(c,h),h=Ea(h.nextSibling)}if(OF(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8){var v=c.data;if(v==="/$"){if(h===0){Is=Ea(c.nextSibling);break e}h--}else v!=="$"&&v!=="$!"&&v!=="$?"||h++}c=c.nextSibling}Is=null}}else Is=Ns?Ea(c.stateNode.nextSibling):null;return!0}function kF(){for(var c=Is;c;)c=Ea(c.nextSibling)}function Cu(){Is=Ns=null,br=!1}function qC(c){Ti===null?Ti=[c]:Ti.push(c)}var W6=E.ReactCurrentBatchConfig;function Fh(c,h,v){if(c=v.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(r(309));var x=v.stateNode}if(!x)throw Error(r(147,c));var T=x,P=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===P?h.ref:(h=function(k){var Q=T.refs;k===null?delete Q[P]:Q[P]=k},h._stringRef=P,h)}if(typeof c!="string")throw Error(r(284));if(!v._owner)throw Error(r(290,c))}return c}function xg(c,h){throw c=Object.prototype.toString.call(h),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function LF(c){var h=c._init;return h(c._payload)}function _F(c){function h(he,ie){if(c){var fe=he.deletions;fe===null?(he.deletions=[ie],he.flags|=16):fe.push(ie)}}function v(he,ie){if(!c)return null;for(;ie!==null;)h(he,ie),ie=ie.sibling;return null}function x(he,ie){for(he=new Map;ie!==null;)ie.key!==null?he.set(ie.key,ie):he.set(ie.index,ie),ie=ie.sibling;return he}function T(he,ie){return he=ka(he,ie),he.index=0,he.sibling=null,he}function P(he,ie,fe){return he.index=fe,c?(fe=he.alternate,fe!==null?(fe=fe.index,fe<ie?(he.flags|=2,ie):fe):(he.flags|=2,ie)):(he.flags|=1048576,ie)}function k(he){return c&&he.alternate===null&&(he.flags|=2),he}function Q(he,ie,fe,ze){return ie===null||ie.tag!==6?(ie=By(fe,he.mode,ze),ie.return=he,ie):(ie=T(ie,fe),ie.return=he,ie)}function te(he,ie,fe,ze){var ht=fe.type;return ht===M?je(he,ie,fe.props.children,ze,fe.key):ie!==null&&(ie.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===we&&LF(ht)===ie.type)?(ze=T(ie,fe.props),ze.ref=Fh(he,ie,fe),ze.return=he,ze):(ze=zg(fe.type,fe.key,fe.props,null,he.mode,ze),ze.ref=Fh(he,ie,fe),ze.return=he,ze)}function xe(he,ie,fe,ze){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==fe.containerInfo||ie.stateNode.implementation!==fe.implementation?(ie=Gy(fe,he.mode,ze),ie.return=he,ie):(ie=T(ie,fe.children||[]),ie.return=he,ie)}function je(he,ie,fe,ze,ht){return ie===null||ie.tag!==7?(ie=zl(fe,he.mode,ze,ht),ie.return=he,ie):(ie=T(ie,fe),ie.return=he,ie)}function Ge(he,ie,fe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=By(""+ie,he.mode,fe),ie.return=he,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return fe=zg(ie.type,ie.key,ie.props,null,he.mode,fe),fe.ref=Fh(he,null,ie),fe.return=he,fe;case D:return ie=Gy(ie,he.mode,fe),ie.return=he,ie;case we:var ze=ie._init;return Ge(he,ze(ie._payload),fe)}if(ct(ie)||re(ie))return ie=zl(ie,he.mode,fe,null),ie.return=he,ie;xg(he,ie)}return null}function ke(he,ie,fe,ze){var ht=ie!==null?ie.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return ht!==null?null:Q(he,ie,""+fe,ze);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case A:return fe.key===ht?te(he,ie,fe,ze):null;case D:return fe.key===ht?xe(he,ie,fe,ze):null;case we:return ht=fe._init,ke(he,ie,ht(fe._payload),ze)}if(ct(fe)||re(fe))return ht!==null?null:je(he,ie,fe,ze,null);xg(he,fe)}return null}function it(he,ie,fe,ze,ht){if(typeof ze=="string"&&ze!==""||typeof ze=="number")return he=he.get(fe)||null,Q(ie,he,""+ze,ht);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case A:return he=he.get(ze.key===null?fe:ze.key)||null,te(ie,he,ze,ht);case D:return he=he.get(ze.key===null?fe:ze.key)||null,xe(ie,he,ze,ht);case we:var Et=ze._init;return it(he,ie,fe,Et(ze._payload),ht)}if(ct(ze)||re(ze))return he=he.get(fe)||null,je(ie,he,ze,ht,null);xg(ie,ze)}return null}function ut(he,ie,fe,ze){for(var ht=null,Et=null,Rt=ie,At=ie=0,cn=null;Rt!==null&&At<fe.length;At++){Rt.index>At?(cn=Rt,Rt=null):cn=Rt.sibling;var $t=ke(he,Rt,fe[At],ze);if($t===null){Rt===null&&(Rt=cn);break}c&&Rt&&$t.alternate===null&&h(he,Rt),ie=P($t,ie,At),Et===null?ht=$t:Et.sibling=$t,Et=$t,Rt=cn}if(At===fe.length)return v(he,Rt),br&&jl(he,At),ht;if(Rt===null){for(;At<fe.length;At++)Rt=Ge(he,fe[At],ze),Rt!==null&&(ie=P(Rt,ie,At),Et===null?ht=Rt:Et.sibling=Rt,Et=Rt);return br&&jl(he,At),ht}for(Rt=x(he,Rt);At<fe.length;At++)cn=it(Rt,he,At,fe[At],ze),cn!==null&&(c&&cn.alternate!==null&&Rt.delete(cn.key===null?At:cn.key),ie=P(cn,ie,At),Et===null?ht=cn:Et.sibling=cn,Et=cn);return c&&Rt.forEach(function(La){return h(he,La)}),br&&jl(he,At),ht}function dt(he,ie,fe,ze){var ht=re(fe);if(typeof ht!="function")throw Error(r(150));if(fe=ht.call(fe),fe==null)throw Error(r(151));for(var Et=ht=null,Rt=ie,At=ie=0,cn=null,$t=fe.next();Rt!==null&&!$t.done;At++,$t=fe.next()){Rt.index>At?(cn=Rt,Rt=null):cn=Rt.sibling;var La=ke(he,Rt,$t.value,ze);if(La===null){Rt===null&&(Rt=cn);break}c&&Rt&&La.alternate===null&&h(he,Rt),ie=P(La,ie,At),Et===null?ht=La:Et.sibling=La,Et=La,Rt=cn}if($t.done)return v(he,Rt),br&&jl(he,At),ht;if(Rt===null){for(;!$t.done;At++,$t=fe.next())$t=Ge(he,$t.value,ze),$t!==null&&(ie=P($t,ie,At),Et===null?ht=$t:Et.sibling=$t,Et=$t);return br&&jl(he,At),ht}for(Rt=x(he,Rt);!$t.done;At++,$t=fe.next())$t=it(Rt,he,At,$t.value,ze),$t!==null&&(c&&$t.alternate!==null&&Rt.delete($t.key===null?At:$t.key),ie=P($t,ie,At),Et===null?ht=$t:Et.sibling=$t,Et=$t);return c&&Rt.forEach(function(x8){return h(he,x8)}),br&&jl(he,At),ht}function Hr(he,ie,fe,ze){if(typeof fe=="object"&&fe!==null&&fe.type===M&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case A:e:{for(var ht=fe.key,Et=ie;Et!==null;){if(Et.key===ht){if(ht=fe.type,ht===M){if(Et.tag===7){v(he,Et.sibling),ie=T(Et,fe.props.children),ie.return=he,he=ie;break e}}else if(Et.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===we&&LF(ht)===Et.type){v(he,Et.sibling),ie=T(Et,fe.props),ie.ref=Fh(he,Et,fe),ie.return=he,he=ie;break e}v(he,Et);break}else h(he,Et);Et=Et.sibling}fe.type===M?(ie=zl(fe.props.children,he.mode,ze,fe.key),ie.return=he,he=ie):(ze=zg(fe.type,fe.key,fe.props,null,he.mode,ze),ze.ref=Fh(he,ie,fe),ze.return=he,he=ze)}return k(he);case D:e:{for(Et=fe.key;ie!==null;){if(ie.key===Et)if(ie.tag===4&&ie.stateNode.containerInfo===fe.containerInfo&&ie.stateNode.implementation===fe.implementation){v(he,ie.sibling),ie=T(ie,fe.children||[]),ie.return=he,he=ie;break e}else{v(he,ie);break}else h(he,ie);ie=ie.sibling}ie=Gy(fe,he.mode,ze),ie.return=he,he=ie}return k(he);case we:return Et=fe._init,Hr(he,ie,Et(fe._payload),ze)}if(ct(fe))return ut(he,ie,fe,ze);if(re(fe))return dt(he,ie,fe,ze);xg(he,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,ie!==null&&ie.tag===6?(v(he,ie.sibling),ie=T(ie,fe),ie.return=he,he=ie):(v(he,ie),ie=By(fe,he.mode,ze),ie.return=he,he=ie),k(he)):v(he,ie)}return Hr}var yu=_F(!0),jF=_F(!1),bg=Ra(null),Eg=null,Su=null,YC=null;function QC(){YC=Su=Eg=null}function XC(c){var h=bg.current;mr(bg),c._currentValue=h}function ZC(c,h,v){for(;c!==null;){var x=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,x!==null&&(x.childLanes|=h)):x!==null&&(x.childLanes&h)!==h&&(x.childLanes|=h),c===v)break;c=c.return}}function wu(c,h){Eg=c,YC=Su=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&h)!==0&&(hs=!0),c.firstContext=null)}function ti(c){var h=c._currentValue;if(YC!==c)if(c={context:c,memoizedValue:h,next:null},Su===null){if(Eg===null)throw Error(r(308));Su=c,Eg.dependencies={lanes:0,firstContext:c}}else Su=Su.next=c;return h}var Bl=null;function JC(c){Bl===null?Bl=[c]:Bl.push(c)}function BF(c,h,v,x){var T=h.interleaved;return T===null?(v.next=v,JC(h)):(v.next=T.next,T.next=v),h.interleaved=v,Oo(c,x)}function Oo(c,h){c.lanes|=h;var v=c.alternate;for(v!==null&&(v.lanes|=h),v=c,c=c.return;c!==null;)c.childLanes|=h,v=c.alternate,v!==null&&(v.childLanes|=h),v=c,c=c.return;return v.tag===3?v.stateNode:null}var Pa=!1;function ey(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GF(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function ko(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function Aa(c,h,v){var x=c.updateQueue;if(x===null)return null;if(x=x.shared,(Ut&2)!==0){var T=x.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),x.pending=h,Oo(c,v)}return T=x.interleaved,T===null?(h.next=h,JC(x)):(h.next=T.next,T.next=h),x.interleaved=h,Oo(c,v)}function Rg(c,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194240)!==0)){var x=h.lanes;x&=c.pendingLanes,v|=x,h.lanes=v,pC(c,v)}}function VF(c,h){var v=c.updateQueue,x=c.alternate;if(x!==null&&(x=x.updateQueue,v===x)){var T=null,P=null;if(v=v.firstBaseUpdate,v!==null){do{var k={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};P===null?T=P=k:P=P.next=k,v=v.next}while(v!==null);P===null?T=P=h:P=P.next=h}else T=P=h;v={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:P,shared:x.shared,effects:x.effects},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=h:c.next=h,v.lastBaseUpdate=h}function Fg(c,h,v,x){var T=c.updateQueue;Pa=!1;var P=T.firstBaseUpdate,k=T.lastBaseUpdate,Q=T.shared.pending;if(Q!==null){T.shared.pending=null;var te=Q,xe=te.next;te.next=null,k===null?P=xe:k.next=xe,k=te;var je=c.alternate;je!==null&&(je=je.updateQueue,Q=je.lastBaseUpdate,Q!==k&&(Q===null?je.firstBaseUpdate=xe:Q.next=xe,je.lastBaseUpdate=te))}if(P!==null){var Ge=T.baseState;k=0,je=xe=te=null,Q=P;do{var ke=Q.lane,it=Q.eventTime;if((x&ke)===ke){je!==null&&(je=je.next={eventTime:it,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var ut=c,dt=Q;switch(ke=h,it=v,dt.tag){case 1:if(ut=dt.payload,typeof ut=="function"){Ge=ut.call(it,Ge,ke);break e}Ge=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=dt.payload,ke=typeof ut=="function"?ut.call(it,Ge,ke):ut,ke==null)break e;Ge=de({},Ge,ke);break e;case 2:Pa=!0}}Q.callback!==null&&Q.lane!==0&&(c.flags|=64,ke=T.effects,ke===null?T.effects=[Q]:ke.push(Q))}else it={eventTime:it,lane:ke,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},je===null?(xe=je=it,te=Ge):je=je.next=it,k|=ke;if(Q=Q.next,Q===null){if(Q=T.shared.pending,Q===null)break;ke=Q,Q=ke.next,ke.next=null,T.lastBaseUpdate=ke,T.shared.pending=null}}while(!0);if(je===null&&(te=Ge),T.baseState=te,T.firstBaseUpdate=xe,T.lastBaseUpdate=je,h=T.shared.interleaved,h!==null){T=h;do k|=T.lane,T=T.next;while(T!==h)}else P===null&&(T.shared.lanes=0);Hl|=k,c.lanes=k,c.memoizedState=Ge}}function HF(c,h,v){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var x=c[h],T=x.callback;if(T!==null){if(x.callback=null,x=v,typeof T!="function")throw Error(r(191,T));T.call(x)}}}var Th={},Xi=Ra(Th),Ph=Ra(Th),Ah=Ra(Th);function Gl(c){if(c===Th)throw Error(r(174));return c}function ty(c,h){switch(fr(Ah,h),fr(Ph,c),fr(Xi,Th),c=h.nodeType,c){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:gt(null,"");break;default:c=c===8?h.parentNode:h,h=c.namespaceURI||null,c=c.tagName,h=gt(h,c)}mr(Xi),fr(Xi,h)}function xu(){mr(Xi),mr(Ph),mr(Ah)}function WF(c){Gl(Ah.current);var h=Gl(Xi.current),v=gt(h,c.type);h!==v&&(fr(Ph,c),fr(Xi,v))}function ry(c){Ph.current===c&&(mr(Xi),mr(Ph))}var Fr=Ra(0);function Tg(c){for(var h=c;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ny=[];function sy(){for(var c=0;c<ny.length;c++)ny[c]._workInProgressVersionPrimary=null;ny.length=0}var Pg=E.ReactCurrentDispatcher,iy=E.ReactCurrentBatchConfig,Vl=0,Tr=null,Jr=null,an=null,Ag=!1,Dh=!1,Mh=0,U6=0;function Dn(){throw Error(r(321))}function oy(c,h){if(h===null)return!1;for(var v=0;v<h.length&&v<c.length;v++)if(!Fi(c[v],h[v]))return!1;return!0}function ay(c,h,v,x,T,P){if(Vl=P,Tr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Pg.current=c===null||c.memoizedState===null?q6:Y6,c=v(x,T),Dh){P=0;do{if(Dh=!1,Mh=0,25<=P)throw Error(r(301));P+=1,an=Jr=null,h.updateQueue=null,Pg.current=Q6,c=v(x,T)}while(Dh)}if(Pg.current=Ng,h=Jr!==null&&Jr.next!==null,Vl=0,an=Jr=Tr=null,Ag=!1,h)throw Error(r(300));return c}function ly(){var c=Mh!==0;return Mh=0,c}function Zi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Tr.memoizedState=an=c:an=an.next=c,an}function ri(){if(Jr===null){var c=Tr.alternate;c=c!==null?c.memoizedState:null}else c=Jr.next;var h=an===null?Tr.memoizedState:an.next;if(h!==null)an=h,Jr=c;else{if(c===null)throw Error(r(310));Jr=c,c={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},an===null?Tr.memoizedState=an=c:an=an.next=c}return an}function Nh(c,h){return typeof h=="function"?h(c):h}function cy(c){var h=ri(),v=h.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=c;var x=Jr,T=x.baseQueue,P=v.pending;if(P!==null){if(T!==null){var k=T.next;T.next=P.next,P.next=k}x.baseQueue=T=P,v.pending=null}if(T!==null){P=T.next,x=x.baseState;var Q=k=null,te=null,xe=P;do{var je=xe.lane;if((Vl&je)===je)te!==null&&(te=te.next={lane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),x=xe.hasEagerState?xe.eagerState:c(x,xe.action);else{var Ge={lane:je,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null};te===null?(Q=te=Ge,k=x):te=te.next=Ge,Tr.lanes|=je,Hl|=je}xe=xe.next}while(xe!==null&&xe!==P);te===null?k=x:te.next=Q,Fi(x,h.memoizedState)||(hs=!0),h.memoizedState=x,h.baseState=k,h.baseQueue=te,v.lastRenderedState=x}if(c=v.interleaved,c!==null){T=c;do P=T.lane,Tr.lanes|=P,Hl|=P,T=T.next;while(T!==c)}else T===null&&(v.lanes=0);return[h.memoizedState,v.dispatch]}function uy(c){var h=ri(),v=h.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=c;var x=v.dispatch,T=v.pending,P=h.memoizedState;if(T!==null){v.pending=null;var k=T=T.next;do P=c(P,k.action),k=k.next;while(k!==T);Fi(P,h.memoizedState)||(hs=!0),h.memoizedState=P,h.baseQueue===null&&(h.baseState=P),v.lastRenderedState=P}return[P,x]}function UF(){}function $F(c,h){var v=Tr,x=ri(),T=h(),P=!Fi(x.memoizedState,T);if(P&&(x.memoizedState=T,hs=!0),x=x.queue,dy(qF.bind(null,v,x,c),[c]),x.getSnapshot!==h||P||an!==null&&an.memoizedState.tag&1){if(v.flags|=2048,Ih(9,KF.bind(null,v,x,T,h),void 0,null),ln===null)throw Error(r(349));(Vl&30)!==0||zF(v,h,T)}return T}function zF(c,h,v){c.flags|=16384,c={getSnapshot:h,value:v},h=Tr.updateQueue,h===null?(h={lastEffect:null,stores:null},Tr.updateQueue=h,h.stores=[c]):(v=h.stores,v===null?h.stores=[c]:v.push(c))}function KF(c,h,v,x){h.value=v,h.getSnapshot=x,YF(h)&&QF(c)}function qF(c,h,v){return v(function(){YF(h)&&QF(c)})}function YF(c){var h=c.getSnapshot;c=c.value;try{var v=h();return!Fi(c,v)}catch{return!0}}function QF(c){var h=Oo(c,1);h!==null&&Mi(h,c,1,-1)}function XF(c){var h=Zi();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nh,lastRenderedState:c},h.queue=c,c=c.dispatch=K6.bind(null,Tr,c),[h.memoizedState,c]}function Ih(c,h,v,x){return c={tag:c,create:h,destroy:v,deps:x,next:null},h=Tr.updateQueue,h===null?(h={lastEffect:null,stores:null},Tr.updateQueue=h,h.lastEffect=c.next=c):(v=h.lastEffect,v===null?h.lastEffect=c.next=c:(x=v.next,v.next=c,c.next=x,h.lastEffect=c)),c}function ZF(){return ri().memoizedState}function Dg(c,h,v,x){var T=Zi();Tr.flags|=c,T.memoizedState=Ih(1|h,v,void 0,x===void 0?null:x)}function Mg(c,h,v,x){var T=ri();x=x===void 0?null:x;var P=void 0;if(Jr!==null){var k=Jr.memoizedState;if(P=k.destroy,x!==null&&oy(x,k.deps)){T.memoizedState=Ih(h,v,P,x);return}}Tr.flags|=c,T.memoizedState=Ih(1|h,v,P,x)}function JF(c,h){return Dg(8390656,8,c,h)}function dy(c,h){return Mg(2048,8,c,h)}function eT(c,h){return Mg(4,2,c,h)}function tT(c,h){return Mg(4,4,c,h)}function rT(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function nT(c,h,v){return v=v!=null?v.concat([c]):null,Mg(4,4,rT.bind(null,h,c),v)}function hy(){}function sT(c,h){var v=ri();h=h===void 0?null:h;var x=v.memoizedState;return x!==null&&h!==null&&oy(h,x[1])?x[0]:(v.memoizedState=[c,h],c)}function iT(c,h){var v=ri();h=h===void 0?null:h;var x=v.memoizedState;return x!==null&&h!==null&&oy(h,x[1])?x[0]:(c=c(),v.memoizedState=[c,h],c)}function oT(c,h,v){return(Vl&21)===0?(c.baseState&&(c.baseState=!1,hs=!0),c.memoizedState=v):(Fi(v,h)||(v=LR(),Tr.lanes|=v,Hl|=v,c.baseState=!0),h)}function $6(c,h){var v=rr;rr=v!==0&&4>v?v:4,c(!0);var x=iy.transition;iy.transition={};try{c(!1),h()}finally{rr=v,iy.transition=x}}function aT(){return ri().memoizedState}function z6(c,h,v){var x=Ia(c);if(v={lane:x,action:v,hasEagerState:!1,eagerState:null,next:null},lT(c))cT(h,v);else if(v=BF(c,h,v,x),v!==null){var T=Hn();Mi(v,c,x,T),uT(v,h,x)}}function K6(c,h,v){var x=Ia(c),T={lane:x,action:v,hasEagerState:!1,eagerState:null,next:null};if(lT(c))cT(h,T);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=h.lastRenderedReducer,P!==null))try{var k=h.lastRenderedState,Q=P(k,v);if(T.hasEagerState=!0,T.eagerState=Q,Fi(Q,k)){var te=h.interleaved;te===null?(T.next=T,JC(h)):(T.next=te.next,te.next=T),h.interleaved=T;return}}catch{}finally{}v=BF(c,h,T,x),v!==null&&(T=Hn(),Mi(v,c,x,T),uT(v,h,x))}}function lT(c){var h=c.alternate;return c===Tr||h!==null&&h===Tr}function cT(c,h){Dh=Ag=!0;var v=c.pending;v===null?h.next=h:(h.next=v.next,v.next=h),c.pending=h}function uT(c,h,v){if((v&4194240)!==0){var x=h.lanes;x&=c.pendingLanes,v|=x,h.lanes=v,pC(c,v)}}var Ng={readContext:ti,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},q6={readContext:ti,useCallback:function(c,h){return Zi().memoizedState=[c,h===void 0?null:h],c},useContext:ti,useEffect:JF,useImperativeHandle:function(c,h,v){return v=v!=null?v.concat([c]):null,Dg(4194308,4,rT.bind(null,h,c),v)},useLayoutEffect:function(c,h){return Dg(4194308,4,c,h)},useInsertionEffect:function(c,h){return Dg(4,2,c,h)},useMemo:function(c,h){var v=Zi();return h=h===void 0?null:h,c=c(),v.memoizedState=[c,h],c},useReducer:function(c,h,v){var x=Zi();return h=v!==void 0?v(h):h,x.memoizedState=x.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},x.queue=c,c=c.dispatch=z6.bind(null,Tr,c),[x.memoizedState,c]},useRef:function(c){var h=Zi();return c={current:c},h.memoizedState=c},useState:XF,useDebugValue:hy,useDeferredValue:function(c){return Zi().memoizedState=c},useTransition:function(){var c=XF(!1),h=c[0];return c=$6.bind(null,c[1]),Zi().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,v){var x=Tr,T=Zi();if(br){if(v===void 0)throw Error(r(407));v=v()}else{if(v=h(),ln===null)throw Error(r(349));(Vl&30)!==0||zF(x,h,v)}T.memoizedState=v;var P={value:v,getSnapshot:h};return T.queue=P,JF(qF.bind(null,x,P,c),[c]),x.flags|=2048,Ih(9,KF.bind(null,x,P,v,h),void 0,null),v},useId:function(){var c=Zi(),h=ln.identifierPrefix;if(br){var v=Io,x=No;v=(x&~(1<<32-Vr(x)-1)).toString(32)+v,h=":"+h+"R"+v,v=Mh++,0<v&&(h+="H"+v.toString(32)),h+=":"}else v=U6++,h=":"+h+"r"+v.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},Y6={readContext:ti,useCallback:sT,useContext:ti,useEffect:dy,useImperativeHandle:nT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:iT,useReducer:cy,useRef:ZF,useState:function(){return cy(Nh)},useDebugValue:hy,useDeferredValue:function(c){var h=ri();return oT(h,Jr.memoizedState,c)},useTransition:function(){var c=cy(Nh)[0],h=ri().memoizedState;return[c,h]},useMutableSource:UF,useSyncExternalStore:$F,useId:aT,unstable_isNewReconciler:!1},Q6={readContext:ti,useCallback:sT,useContext:ti,useEffect:dy,useImperativeHandle:nT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:iT,useReducer:uy,useRef:ZF,useState:function(){return uy(Nh)},useDebugValue:hy,useDeferredValue:function(c){var h=ri();return Jr===null?h.memoizedState=c:oT(h,Jr.memoizedState,c)},useTransition:function(){var c=uy(Nh)[0],h=ri().memoizedState;return[c,h]},useMutableSource:UF,useSyncExternalStore:$F,useId:aT,unstable_isNewReconciler:!1};function Pi(c,h){if(c&&c.defaultProps){h=de({},h),c=c.defaultProps;for(var v in c)h[v]===void 0&&(h[v]=c[v]);return h}return h}function fy(c,h,v,x){h=c.memoizedState,v=v(x,h),v=v==null?h:de({},h,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var Ig={isMounted:function(c){return(c=c._reactInternals)?Y(c)===c:!1},enqueueSetState:function(c,h,v){c=c._reactInternals;var x=Hn(),T=Ia(c),P=ko(x,T);P.payload=h,v!=null&&(P.callback=v),h=Aa(c,P,T),h!==null&&(Mi(h,c,T,x),Rg(h,c,T))},enqueueReplaceState:function(c,h,v){c=c._reactInternals;var x=Hn(),T=Ia(c),P=ko(x,T);P.tag=1,P.payload=h,v!=null&&(P.callback=v),h=Aa(c,P,T),h!==null&&(Mi(h,c,T,x),Rg(h,c,T))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var v=Hn(),x=Ia(c),T=ko(v,x);T.tag=2,h!=null&&(T.callback=h),h=Aa(c,T,x),h!==null&&(Mi(h,c,x,v),Rg(h,c,x))}};function dT(c,h,v,x,T,P,k){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(x,P,k):h.prototype&&h.prototype.isPureReactComponent?!yh(v,x)||!yh(T,P):!0}function hT(c,h,v){var x=!1,T=Fa,P=h.contextType;return typeof P=="object"&&P!==null?P=ti(P):(T=ds(h)?Ll:An.current,x=h.contextTypes,P=(x=x!=null)?gu(c,T):Fa),h=new h(v,P),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ig,c.stateNode=h,h._reactInternals=c,x&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=T,c.__reactInternalMemoizedMaskedChildContext=P),h}function fT(c,h,v,x){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,x),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,x),h.state!==c&&Ig.enqueueReplaceState(h,h.state,null)}function py(c,h,v,x){var T=c.stateNode;T.props=v,T.state=c.memoizedState,T.refs={},ey(c);var P=h.contextType;typeof P=="object"&&P!==null?T.context=ti(P):(P=ds(h)?Ll:An.current,T.context=gu(c,P)),T.state=c.memoizedState,P=h.getDerivedStateFromProps,typeof P=="function"&&(fy(c,h,P,v),T.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(h=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),h!==T.state&&Ig.enqueueReplaceState(T,T.state,null),Fg(c,v,T,x),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308)}function bu(c,h){try{var v="",x=h;do v+=G(x),x=x.return;while(x);var T=v}catch(P){T=`
Error generating stack: `+P.message+`
`+P.stack}return{value:c,source:h,stack:T,digest:null}}function gy(c,h,v){return{value:c,source:null,stack:v??null,digest:h??null}}function my(c,h){try{console.error(h.value)}catch(v){setTimeout(function(){throw v})}}var X6=typeof WeakMap=="function"?WeakMap:Map;function pT(c,h,v){v=ko(-1,v),v.tag=3,v.payload={element:null};var x=h.value;return v.callback=function(){Gg||(Gg=!0,My=x),my(c,h)},v}function gT(c,h,v){v=ko(-1,v),v.tag=3;var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var T=h.value;v.payload=function(){return x(T)},v.callback=function(){my(c,h)}}var P=c.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(v.callback=function(){my(c,h),typeof x!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})}),v}function mT(c,h,v){var x=c.pingCache;if(x===null){x=c.pingCache=new X6;var T=new Set;x.set(h,T)}else T=x.get(h),T===void 0&&(T=new Set,x.set(h,T));T.has(v)||(T.add(v),c=d8.bind(null,c,h,v),h.then(c,c))}function vT(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function CT(c,h,v,x,T){return(c.mode&1)===0?(c===h?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(h=ko(-1,1),h.tag=2,Aa(v,h,1))),v.lanes|=1),c):(c.flags|=65536,c.lanes=T,c)}var Z6=E.ReactCurrentOwner,hs=!1;function Vn(c,h,v,x){h.child=c===null?jF(h,null,v,x):yu(h,c.child,v,x)}function yT(c,h,v,x,T){v=v.render;var P=h.ref;return wu(h,T),x=ay(c,h,v,x,P,T),v=ly(),c!==null&&!hs?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~T,Lo(c,h,T)):(br&&v&&UC(h),h.flags|=1,Vn(c,h,x,T),h.child)}function ST(c,h,v,x,T){if(c===null){var P=v.type;return typeof P=="function"&&!jy(P)&&P.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(h.tag=15,h.type=P,wT(c,h,P,x,T)):(c=zg(v.type,null,x,h,h.mode,T),c.ref=h.ref,c.return=h,h.child=c)}if(P=c.child,(c.lanes&T)===0){var k=P.memoizedProps;if(v=v.compare,v=v!==null?v:yh,v(k,x)&&c.ref===h.ref)return Lo(c,h,T)}return h.flags|=1,c=ka(P,x),c.ref=h.ref,c.return=h,h.child=c}function wT(c,h,v,x,T){if(c!==null){var P=c.memoizedProps;if(yh(P,x)&&c.ref===h.ref)if(hs=!1,h.pendingProps=x=P,(c.lanes&T)!==0)(c.flags&131072)!==0&&(hs=!0);else return h.lanes=c.lanes,Lo(c,h,T)}return vy(c,h,v,x,T)}function xT(c,h,v){var x=h.pendingProps,T=x.children,P=c!==null?c.memoizedState:null;if(x.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},fr(Ru,Os),Os|=v;else{if((v&1073741824)===0)return c=P!==null?P.baseLanes|v:v,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null,transitions:null},h.updateQueue=null,fr(Ru,Os),Os|=c,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=P!==null?P.baseLanes:v,fr(Ru,Os),Os|=x}else P!==null?(x=P.baseLanes|v,h.memoizedState=null):x=v,fr(Ru,Os),Os|=x;return Vn(c,h,T,v),h.child}function bT(c,h){var v=h.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(h.flags|=512,h.flags|=2097152)}function vy(c,h,v,x,T){var P=ds(v)?Ll:An.current;return P=gu(h,P),wu(h,T),v=ay(c,h,v,x,P,T),x=ly(),c!==null&&!hs?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~T,Lo(c,h,T)):(br&&x&&UC(h),h.flags|=1,Vn(c,h,v,T),h.child)}function ET(c,h,v,x,T){if(ds(v)){var P=!0;vg(h)}else P=!1;if(wu(h,T),h.stateNode===null)kg(c,h),hT(h,v,x),py(h,v,x,T),x=!0;else if(c===null){var k=h.stateNode,Q=h.memoizedProps;k.props=Q;var te=k.context,xe=v.contextType;typeof xe=="object"&&xe!==null?xe=ti(xe):(xe=ds(v)?Ll:An.current,xe=gu(h,xe));var je=v.getDerivedStateFromProps,Ge=typeof je=="function"||typeof k.getSnapshotBeforeUpdate=="function";Ge||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Q!==x||te!==xe)&&fT(h,k,x,xe),Pa=!1;var ke=h.memoizedState;k.state=ke,Fg(h,x,k,T),te=h.memoizedState,Q!==x||ke!==te||us.current||Pa?(typeof je=="function"&&(fy(h,v,je,x),te=h.memoizedState),(Q=Pa||dT(h,v,Q,x,ke,te,xe))?(Ge||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(h.flags|=4194308)):(typeof k.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=x,h.memoizedState=te),k.props=x,k.state=te,k.context=xe,x=Q):(typeof k.componentDidMount=="function"&&(h.flags|=4194308),x=!1)}else{k=h.stateNode,GF(c,h),Q=h.memoizedProps,xe=h.type===h.elementType?Q:Pi(h.type,Q),k.props=xe,Ge=h.pendingProps,ke=k.context,te=v.contextType,typeof te=="object"&&te!==null?te=ti(te):(te=ds(v)?Ll:An.current,te=gu(h,te));var it=v.getDerivedStateFromProps;(je=typeof it=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Q!==Ge||ke!==te)&&fT(h,k,x,te),Pa=!1,ke=h.memoizedState,k.state=ke,Fg(h,x,k,T);var ut=h.memoizedState;Q!==Ge||ke!==ut||us.current||Pa?(typeof it=="function"&&(fy(h,v,it,x),ut=h.memoizedState),(xe=Pa||dT(h,v,xe,x,ke,ut,te)||!1)?(je||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(x,ut,te),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(x,ut,te)),typeof k.componentDidUpdate=="function"&&(h.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof k.componentDidUpdate!="function"||Q===c.memoizedProps&&ke===c.memoizedState||(h.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&ke===c.memoizedState||(h.flags|=1024),h.memoizedProps=x,h.memoizedState=ut),k.props=x,k.state=ut,k.context=te,x=xe):(typeof k.componentDidUpdate!="function"||Q===c.memoizedProps&&ke===c.memoizedState||(h.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&ke===c.memoizedState||(h.flags|=1024),x=!1)}return Cy(c,h,v,x,P,T)}function Cy(c,h,v,x,T,P){bT(c,h);var k=(h.flags&128)!==0;if(!x&&!k)return T&&AF(h,v,!1),Lo(c,h,P);x=h.stateNode,Z6.current=h;var Q=k&&typeof v.getDerivedStateFromError!="function"?null:x.render();return h.flags|=1,c!==null&&k?(h.child=yu(h,c.child,null,P),h.child=yu(h,null,Q,P)):Vn(c,h,Q,P),h.memoizedState=x.state,T&&AF(h,v,!0),h.child}function RT(c){var h=c.stateNode;h.pendingContext?TF(c,h.pendingContext,h.pendingContext!==h.context):h.context&&TF(c,h.context,!1),ty(c,h.containerInfo)}function FT(c,h,v,x,T){return Cu(),qC(T),h.flags|=256,Vn(c,h,v,x),h.child}var yy={dehydrated:null,treeContext:null,retryLane:0};function Sy(c){return{baseLanes:c,cachePool:null,transitions:null}}function TT(c,h,v){var x=h.pendingProps,T=Fr.current,P=!1,k=(h.flags&128)!==0,Q;if((Q=k)||(Q=c!==null&&c.memoizedState===null?!1:(T&2)!==0),Q?(P=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(T|=1),fr(Fr,T&1),c===null)return KC(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((h.mode&1)===0?h.lanes=1:c.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(k=x.children,c=x.fallback,P?(x=h.mode,P=h.child,k={mode:"hidden",children:k},(x&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=k):P=Kg(k,x,0,null),c=zl(c,x,v,null),P.return=h,c.return=h,P.sibling=c,h.child=P,h.child.memoizedState=Sy(v),h.memoizedState=yy,c):wy(h,k));if(T=c.memoizedState,T!==null&&(Q=T.dehydrated,Q!==null))return J6(c,h,k,x,Q,T,v);if(P){P=x.fallback,k=h.mode,T=c.child,Q=T.sibling;var te={mode:"hidden",children:x.children};return(k&1)===0&&h.child!==T?(x=h.child,x.childLanes=0,x.pendingProps=te,h.deletions=null):(x=ka(T,te),x.subtreeFlags=T.subtreeFlags&14680064),Q!==null?P=ka(Q,P):(P=zl(P,k,v,null),P.flags|=2),P.return=h,x.return=h,x.sibling=P,h.child=x,x=P,P=h.child,k=c.child.memoizedState,k=k===null?Sy(v):{baseLanes:k.baseLanes|v,cachePool:null,transitions:k.transitions},P.memoizedState=k,P.childLanes=c.childLanes&~v,h.memoizedState=yy,x}return P=c.child,c=P.sibling,x=ka(P,{mode:"visible",children:x.children}),(h.mode&1)===0&&(x.lanes=v),x.return=h,x.sibling=null,c!==null&&(v=h.deletions,v===null?(h.deletions=[c],h.flags|=16):v.push(c)),h.child=x,h.memoizedState=null,x}function wy(c,h){return h=Kg({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function Og(c,h,v,x){return x!==null&&qC(x),yu(h,c.child,null,v),c=wy(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function J6(c,h,v,x,T,P,k){if(v)return h.flags&256?(h.flags&=-257,x=gy(Error(r(422))),Og(c,h,k,x)):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(P=x.fallback,T=h.mode,x=Kg({mode:"visible",children:x.children},T,0,null),P=zl(P,T,k,null),P.flags|=2,x.return=h,P.return=h,x.sibling=P,h.child=x,(h.mode&1)!==0&&yu(h,c.child,null,k),h.child.memoizedState=Sy(k),h.memoizedState=yy,P);if((h.mode&1)===0)return Og(c,h,k,null);if(T.data==="$!"){if(x=T.nextSibling&&T.nextSibling.dataset,x)var Q=x.dgst;return x=Q,P=Error(r(419)),x=gy(P,x,void 0),Og(c,h,k,x)}if(Q=(k&c.childLanes)!==0,hs||Q){if(x=ln,x!==null){switch(k&-k){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(x.suspendedLanes|k))!==0?0:T,T!==0&&T!==P.retryLane&&(P.retryLane=T,Oo(c,T),Mi(x,c,T,-1))}return _y(),x=gy(Error(r(421))),Og(c,h,k,x)}return T.data==="$?"?(h.flags|=128,h.child=c.child,h=h8.bind(null,c),T._reactRetry=h,null):(c=P.treeContext,Is=Ea(T.nextSibling),Ns=h,br=!0,Ti=null,c!==null&&(Js[ei++]=No,Js[ei++]=Io,Js[ei++]=_l,No=c.id,Io=c.overflow,_l=h),h=wy(h,x.children),h.flags|=4096,h)}function PT(c,h,v){c.lanes|=h;var x=c.alternate;x!==null&&(x.lanes|=h),ZC(c.return,h,v)}function xy(c,h,v,x,T){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:x,tail:v,tailMode:T}:(P.isBackwards=h,P.rendering=null,P.renderingStartTime=0,P.last=x,P.tail=v,P.tailMode=T)}function AT(c,h,v){var x=h.pendingProps,T=x.revealOrder,P=x.tail;if(Vn(c,h,x.children,v),x=Fr.current,(x&2)!==0)x=x&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&PT(c,v,h);else if(c.tag===19)PT(c,v,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}x&=1}if(fr(Fr,x),(h.mode&1)===0)h.memoizedState=null;else switch(T){case"forwards":for(v=h.child,T=null;v!==null;)c=v.alternate,c!==null&&Tg(c)===null&&(T=v),v=v.sibling;v=T,v===null?(T=h.child,h.child=null):(T=v.sibling,v.sibling=null),xy(h,!1,T,v,P);break;case"backwards":for(v=null,T=h.child,h.child=null;T!==null;){if(c=T.alternate,c!==null&&Tg(c)===null){h.child=T;break}c=T.sibling,T.sibling=v,v=T,T=c}xy(h,!0,v,null,P);break;case"together":xy(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function kg(c,h){(h.mode&1)===0&&c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2)}function Lo(c,h,v){if(c!==null&&(h.dependencies=c.dependencies),Hl|=h.lanes,(v&h.childLanes)===0)return null;if(c!==null&&h.child!==c.child)throw Error(r(153));if(h.child!==null){for(c=h.child,v=ka(c,c.pendingProps),h.child=v,v.return=h;c.sibling!==null;)c=c.sibling,v=v.sibling=ka(c,c.pendingProps),v.return=h;v.sibling=null}return h.child}function e8(c,h,v){switch(h.tag){case 3:RT(h),Cu();break;case 5:WF(h);break;case 1:ds(h.type)&&vg(h);break;case 4:ty(h,h.stateNode.containerInfo);break;case 10:var x=h.type._context,T=h.memoizedProps.value;fr(bg,x._currentValue),x._currentValue=T;break;case 13:if(x=h.memoizedState,x!==null)return x.dehydrated!==null?(fr(Fr,Fr.current&1),h.flags|=128,null):(v&h.child.childLanes)!==0?TT(c,h,v):(fr(Fr,Fr.current&1),c=Lo(c,h,v),c!==null?c.sibling:null);fr(Fr,Fr.current&1);break;case 19:if(x=(v&h.childLanes)!==0,(c.flags&128)!==0){if(x)return AT(c,h,v);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),fr(Fr,Fr.current),x)break;return null;case 22:case 23:return h.lanes=0,xT(c,h,v)}return Lo(c,h,v)}var DT,by,MT,NT;DT=function(c,h){for(var v=h.child;v!==null;){if(v.tag===5||v.tag===6)c.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},by=function(){},MT=function(c,h,v,x){var T=c.memoizedProps;if(T!==x){c=h.stateNode,Gl(Xi.current);var P=null;switch(v){case"input":T=Ze(c,T),x=Ze(c,x),P=[];break;case"select":T=de({},T,{value:void 0}),x=de({},x,{value:void 0}),P=[];break;case"textarea":T=ue(c,T),x=ue(c,x),P=[];break;default:typeof T.onClick!="function"&&typeof x.onClick=="function"&&(c.onclick=pg)}bt(v,x);var k;v=null;for(xe in T)if(!x.hasOwnProperty(xe)&&T.hasOwnProperty(xe)&&T[xe]!=null)if(xe==="style"){var Q=T[xe];for(k in Q)Q.hasOwnProperty(k)&&(v||(v={}),v[k]="")}else xe!=="dangerouslySetInnerHTML"&&xe!=="children"&&xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&xe!=="autoFocus"&&(s.hasOwnProperty(xe)?P||(P=[]):(P=P||[]).push(xe,null));for(xe in x){var te=x[xe];if(Q=T!=null?T[xe]:void 0,x.hasOwnProperty(xe)&&te!==Q&&(te!=null||Q!=null))if(xe==="style")if(Q){for(k in Q)!Q.hasOwnProperty(k)||te&&te.hasOwnProperty(k)||(v||(v={}),v[k]="");for(k in te)te.hasOwnProperty(k)&&Q[k]!==te[k]&&(v||(v={}),v[k]=te[k])}else v||(P||(P=[]),P.push(xe,v)),v=te;else xe==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,Q=Q?Q.__html:void 0,te!=null&&Q!==te&&(P=P||[]).push(xe,te)):xe==="children"?typeof te!="string"&&typeof te!="number"||(P=P||[]).push(xe,""+te):xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&(s.hasOwnProperty(xe)?(te!=null&&xe==="onScroll"&&gr("scroll",c),P||Q===te||(P=[])):(P=P||[]).push(xe,te))}v&&(P=P||[]).push("style",v);var xe=P;(h.updateQueue=xe)&&(h.flags|=4)}},NT=function(c,h,v,x){v!==x&&(h.flags|=4)};function Oh(c,h){if(!br)switch(c.tailMode){case"hidden":h=c.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var x=null;v!==null;)v.alternate!==null&&(x=v),v=v.sibling;x===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:x.sibling=null}}function Mn(c){var h=c.alternate!==null&&c.alternate.child===c.child,v=0,x=0;if(h)for(var T=c.child;T!==null;)v|=T.lanes|T.childLanes,x|=T.subtreeFlags&14680064,x|=T.flags&14680064,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)v|=T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=x,c.childLanes=v,h}function t8(c,h,v){var x=h.pendingProps;switch($C(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(h),null;case 1:return ds(h.type)&&mg(),Mn(h),null;case 3:return x=h.stateNode,xu(),mr(us),mr(An),sy(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(c===null||c.child===null)&&(wg(h)?h.flags|=4:c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Ti!==null&&(Oy(Ti),Ti=null))),by(c,h),Mn(h),null;case 5:ry(h);var T=Gl(Ah.current);if(v=h.type,c!==null&&h.stateNode!=null)MT(c,h,v,x,T),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!x){if(h.stateNode===null)throw Error(r(166));return Mn(h),null}if(c=Gl(Xi.current),wg(h)){x=h.stateNode,v=h.type;var P=h.memoizedProps;switch(x[Qi]=h,x[Eh]=P,c=(h.mode&1)!==0,v){case"dialog":gr("cancel",x),gr("close",x);break;case"iframe":case"object":case"embed":gr("load",x);break;case"video":case"audio":for(T=0;T<wh.length;T++)gr(wh[T],x);break;case"source":gr("error",x);break;case"img":case"image":case"link":gr("error",x),gr("load",x);break;case"details":gr("toggle",x);break;case"input":ft(x,P),gr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!P.multiple},gr("invalid",x);break;case"textarea":Ve(x,P),gr("invalid",x)}bt(v,P),T=null;for(var k in P)if(P.hasOwnProperty(k)){var Q=P[k];k==="children"?typeof Q=="string"?x.textContent!==Q&&(P.suppressHydrationWarning!==!0&&fg(x.textContent,Q,c),T=["children",Q]):typeof Q=="number"&&x.textContent!==""+Q&&(P.suppressHydrationWarning!==!0&&fg(x.textContent,Q,c),T=["children",""+Q]):s.hasOwnProperty(k)&&Q!=null&&k==="onScroll"&&gr("scroll",x)}switch(v){case"input":Ne(x),le(x,P,!0);break;case"textarea":Ne(x),rt(x);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(x.onclick=pg)}x=T,h.updateQueue=x,x!==null&&(h.flags|=4)}else{k=T.nodeType===9?T:T.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=tt(v)),c==="http://www.w3.org/1999/xhtml"?v==="script"?(c=k.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof x.is=="string"?c=k.createElement(v,{is:x.is}):(c=k.createElement(v),v==="select"&&(k=c,x.multiple?k.multiple=!0:x.size&&(k.size=x.size))):c=k.createElementNS(c,v),c[Qi]=h,c[Eh]=x,DT(c,h,!1,!1),h.stateNode=c;e:{switch(k=Ht(v,x),v){case"dialog":gr("cancel",c),gr("close",c),T=x;break;case"iframe":case"object":case"embed":gr("load",c),T=x;break;case"video":case"audio":for(T=0;T<wh.length;T++)gr(wh[T],c);T=x;break;case"source":gr("error",c),T=x;break;case"img":case"image":case"link":gr("error",c),gr("load",c),T=x;break;case"details":gr("toggle",c),T=x;break;case"input":ft(c,x),T=Ze(c,x),gr("invalid",c);break;case"option":T=x;break;case"select":c._wrapperState={wasMultiple:!!x.multiple},T=de({},x,{value:void 0}),gr("invalid",c);break;case"textarea":Ve(c,x),T=ue(c,x),gr("invalid",c);break;default:T=x}bt(v,T),Q=T;for(P in Q)if(Q.hasOwnProperty(P)){var te=Q[P];P==="style"?Xs(c,te):P==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&$r(c,te)):P==="children"?typeof te=="string"?(v!=="textarea"||te!=="")&&Oe(c,te):typeof te=="number"&&Oe(c,""+te):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(s.hasOwnProperty(P)?te!=null&&P==="onScroll"&&gr("scroll",c):te!=null&&R(c,P,te,k))}switch(v){case"input":Ne(c),le(c,x,!1);break;case"textarea":Ne(c),rt(c);break;case"option":x.value!=null&&c.setAttribute("value",""+ge(x.value));break;case"select":c.multiple=!!x.multiple,P=x.value,P!=null?Mt(c,!!x.multiple,P,!1):x.defaultValue!=null&&Mt(c,!!x.multiple,x.defaultValue,!0);break;default:typeof T.onClick=="function"&&(c.onclick=pg)}switch(v){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Mn(h),null;case 6:if(c&&h.stateNode!=null)NT(c,h,c.memoizedProps,x);else{if(typeof x!="string"&&h.stateNode===null)throw Error(r(166));if(v=Gl(Ah.current),Gl(Xi.current),wg(h)){if(x=h.stateNode,v=h.memoizedProps,x[Qi]=h,(P=x.nodeValue!==v)&&(c=Ns,c!==null))switch(c.tag){case 3:fg(x.nodeValue,v,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&fg(x.nodeValue,v,(c.mode&1)!==0)}P&&(h.flags|=4)}else x=(v.nodeType===9?v:v.ownerDocument).createTextNode(x),x[Qi]=h,h.stateNode=x}return Mn(h),null;case 13:if(mr(Fr),x=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(br&&Is!==null&&(h.mode&1)!==0&&(h.flags&128)===0)kF(),Cu(),h.flags|=98560,P=!1;else if(P=wg(h),x!==null&&x.dehydrated!==null){if(c===null){if(!P)throw Error(r(318));if(P=h.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[Qi]=h}else Cu(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Mn(h),P=!1}else Ti!==null&&(Oy(Ti),Ti=null),P=!0;if(!P)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=v,h):(x=x!==null,x!==(c!==null&&c.memoizedState!==null)&&x&&(h.child.flags|=8192,(h.mode&1)!==0&&(c===null||(Fr.current&1)!==0?en===0&&(en=3):_y())),h.updateQueue!==null&&(h.flags|=4),Mn(h),null);case 4:return xu(),by(c,h),c===null&&xh(h.stateNode.containerInfo),Mn(h),null;case 10:return XC(h.type._context),Mn(h),null;case 17:return ds(h.type)&&mg(),Mn(h),null;case 19:if(mr(Fr),P=h.memoizedState,P===null)return Mn(h),null;if(x=(h.flags&128)!==0,k=P.rendering,k===null)if(x)Oh(P,!1);else{if(en!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(k=Tg(c),k!==null){for(h.flags|=128,Oh(P,!1),x=k.updateQueue,x!==null&&(h.updateQueue=x,h.flags|=4),h.subtreeFlags=0,x=v,v=h.child;v!==null;)P=v,c=x,P.flags&=14680066,k=P.alternate,k===null?(P.childLanes=0,P.lanes=c,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=k.childLanes,P.lanes=k.lanes,P.child=k.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=k.memoizedProps,P.memoizedState=k.memoizedState,P.updateQueue=k.updateQueue,P.type=k.type,c=k.dependencies,P.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),v=v.sibling;return fr(Fr,Fr.current&1|2),h.child}c=c.sibling}P.tail!==null&&He()>Fu&&(h.flags|=128,x=!0,Oh(P,!1),h.lanes=4194304)}else{if(!x)if(c=Tg(k),c!==null){if(h.flags|=128,x=!0,v=c.updateQueue,v!==null&&(h.updateQueue=v,h.flags|=4),Oh(P,!0),P.tail===null&&P.tailMode==="hidden"&&!k.alternate&&!br)return Mn(h),null}else 2*He()-P.renderingStartTime>Fu&&v!==1073741824&&(h.flags|=128,x=!0,Oh(P,!1),h.lanes=4194304);P.isBackwards?(k.sibling=h.child,h.child=k):(v=P.last,v!==null?v.sibling=k:h.child=k,P.last=k)}return P.tail!==null?(h=P.tail,P.rendering=h,P.tail=h.sibling,P.renderingStartTime=He(),h.sibling=null,v=Fr.current,fr(Fr,x?v&1|2:v&1),h):(Mn(h),null);case 22:case 23:return Ly(),x=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==x&&(h.flags|=8192),x&&(h.mode&1)!==0?(Os&1073741824)!==0&&(Mn(h),h.subtreeFlags&6&&(h.flags|=8192)):Mn(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function r8(c,h){switch($C(h),h.tag){case 1:return ds(h.type)&&mg(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return xu(),mr(us),mr(An),sy(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 5:return ry(h),null;case 13:if(mr(Fr),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Cu()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return mr(Fr),null;case 4:return xu(),null;case 10:return XC(h.type._context),null;case 22:case 23:return Ly(),null;case 24:return null;default:return null}}var Lg=!1,Nn=!1,n8=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Eu(c,h){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(x){Ir(c,h,x)}else v.current=null}function Ey(c,h,v){try{v()}catch(x){Ir(c,h,x)}}var IT=!1;function s8(c,h){if(LC=rg,c=dF(),PC(c)){if("selectionStart"in c)var v={start:c.selectionStart,end:c.selectionEnd};else e:{v=(v=c.ownerDocument)&&v.defaultView||window;var x=v.getSelection&&v.getSelection();if(x&&x.rangeCount!==0){v=x.anchorNode;var T=x.anchorOffset,P=x.focusNode;x=x.focusOffset;try{v.nodeType,P.nodeType}catch{v=null;break e}var k=0,Q=-1,te=-1,xe=0,je=0,Ge=c,ke=null;t:for(;;){for(var it;Ge!==v||T!==0&&Ge.nodeType!==3||(Q=k+T),Ge!==P||x!==0&&Ge.nodeType!==3||(te=k+x),Ge.nodeType===3&&(k+=Ge.nodeValue.length),(it=Ge.firstChild)!==null;)ke=Ge,Ge=it;for(;;){if(Ge===c)break t;if(ke===v&&++xe===T&&(Q=k),ke===P&&++je===x&&(te=k),(it=Ge.nextSibling)!==null)break;Ge=ke,ke=Ge.parentNode}Ge=it}v=Q===-1||te===-1?null:{start:Q,end:te}}else v=null}v=v||{start:0,end:0}}else v=null;for(_C={focusedElem:c,selectionRange:v},rg=!1,lt=h;lt!==null;)if(h=lt,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,lt=c;else for(;lt!==null;){h=lt;try{var ut=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var dt=ut.memoizedProps,Hr=ut.memoizedState,he=h.stateNode,ie=he.getSnapshotBeforeUpdate(h.elementType===h.type?dt:Pi(h.type,dt),Hr);he.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var fe=h.stateNode.containerInfo;fe.nodeType===1?fe.textContent="":fe.nodeType===9&&fe.documentElement&&fe.removeChild(fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ze){Ir(h,h.return,ze)}if(c=h.sibling,c!==null){c.return=h.return,lt=c;break}lt=h.return}return ut=IT,IT=!1,ut}function kh(c,h,v){var x=h.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var T=x=x.next;do{if((T.tag&c)===c){var P=T.destroy;T.destroy=void 0,P!==void 0&&Ey(h,v,P)}T=T.next}while(T!==x)}}function _g(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&c)===c){var x=v.create;v.destroy=x()}v=v.next}while(v!==h)}}function Ry(c){var h=c.ref;if(h!==null){var v=c.stateNode;switch(c.tag){case 5:c=v;break;default:c=v}typeof h=="function"?h(c):h.current=c}}function OT(c){var h=c.alternate;h!==null&&(c.alternate=null,OT(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&(delete h[Qi],delete h[Eh],delete h[VC],delete h[G6],delete h[V6])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function kT(c){return c.tag===5||c.tag===3||c.tag===4}function LT(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||kT(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Fy(c,h,v){var x=c.tag;if(x===5||x===6)c=c.stateNode,h?v.nodeType===8?v.parentNode.insertBefore(c,h):v.insertBefore(c,h):(v.nodeType===8?(h=v.parentNode,h.insertBefore(c,v)):(h=v,h.appendChild(c)),v=v._reactRootContainer,v!=null||h.onclick!==null||(h.onclick=pg));else if(x!==4&&(c=c.child,c!==null))for(Fy(c,h,v),c=c.sibling;c!==null;)Fy(c,h,v),c=c.sibling}function Ty(c,h,v){var x=c.tag;if(x===5||x===6)c=c.stateNode,h?v.insertBefore(c,h):v.appendChild(c);else if(x!==4&&(c=c.child,c!==null))for(Ty(c,h,v),c=c.sibling;c!==null;)Ty(c,h,v),c=c.sibling}var Cn=null,Ai=!1;function Da(c,h,v){for(v=v.child;v!==null;)_T(c,h,v),v=v.sibling}function _T(c,h,v){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Yi,v)}catch{}switch(v.tag){case 5:Nn||Eu(v,h);case 6:var x=Cn,T=Ai;Cn=null,Da(c,h,v),Cn=x,Ai=T,Cn!==null&&(Ai?(c=Cn,v=v.stateNode,c.nodeType===8?c.parentNode.removeChild(v):c.removeChild(v)):Cn.removeChild(v.stateNode));break;case 18:Cn!==null&&(Ai?(c=Cn,v=v.stateNode,c.nodeType===8?GC(c.parentNode,v):c.nodeType===1&&GC(c,v),fh(c)):GC(Cn,v.stateNode));break;case 4:x=Cn,T=Ai,Cn=v.stateNode.containerInfo,Ai=!0,Da(c,h,v),Cn=x,Ai=T;break;case 0:case 11:case 14:case 15:if(!Nn&&(x=v.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){T=x=x.next;do{var P=T,k=P.destroy;P=P.tag,k!==void 0&&((P&2)!==0||(P&4)!==0)&&Ey(v,h,k),T=T.next}while(T!==x)}Da(c,h,v);break;case 1:if(!Nn&&(Eu(v,h),x=v.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=v.memoizedProps,x.state=v.memoizedState,x.componentWillUnmount()}catch(Q){Ir(v,h,Q)}Da(c,h,v);break;case 21:Da(c,h,v);break;case 22:v.mode&1?(Nn=(x=Nn)||v.memoizedState!==null,Da(c,h,v),Nn=x):Da(c,h,v);break;default:Da(c,h,v)}}function jT(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new n8),h.forEach(function(x){var T=f8.bind(null,c,x);v.has(x)||(v.add(x),x.then(T,T))})}}function Di(c,h){var v=h.deletions;if(v!==null)for(var x=0;x<v.length;x++){var T=v[x];try{var P=c,k=h,Q=k;e:for(;Q!==null;){switch(Q.tag){case 5:Cn=Q.stateNode,Ai=!1;break e;case 3:Cn=Q.stateNode.containerInfo,Ai=!0;break e;case 4:Cn=Q.stateNode.containerInfo,Ai=!0;break e}Q=Q.return}if(Cn===null)throw Error(r(160));_T(P,k,T),Cn=null,Ai=!1;var te=T.alternate;te!==null&&(te.return=null),T.return=null}catch(xe){Ir(T,h,xe)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)BT(h,c),h=h.sibling}function BT(c,h){var v=c.alternate,x=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Di(h,c),Ji(c),x&4){try{kh(3,c,c.return),_g(3,c)}catch(dt){Ir(c,c.return,dt)}try{kh(5,c,c.return)}catch(dt){Ir(c,c.return,dt)}}break;case 1:Di(h,c),Ji(c),x&512&&v!==null&&Eu(v,v.return);break;case 5:if(Di(h,c),Ji(c),x&512&&v!==null&&Eu(v,v.return),c.flags&32){var T=c.stateNode;try{Oe(T,"")}catch(dt){Ir(c,c.return,dt)}}if(x&4&&(T=c.stateNode,T!=null)){var P=c.memoizedProps,k=v!==null?v.memoizedProps:P,Q=c.type,te=c.updateQueue;if(c.updateQueue=null,te!==null)try{Q==="input"&&P.type==="radio"&&P.name!=null&&xt(T,P),Ht(Q,k);var xe=Ht(Q,P);for(k=0;k<te.length;k+=2){var je=te[k],Ge=te[k+1];je==="style"?Xs(T,Ge):je==="dangerouslySetInnerHTML"?$r(T,Ge):je==="children"?Oe(T,Ge):R(T,je,Ge,xe)}switch(Q){case"input":We(T,P);break;case"textarea":Ue(T,P);break;case"select":var ke=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!P.multiple;var it=P.value;it!=null?Mt(T,!!P.multiple,it,!1):ke!==!!P.multiple&&(P.defaultValue!=null?Mt(T,!!P.multiple,P.defaultValue,!0):Mt(T,!!P.multiple,P.multiple?[]:"",!1))}T[Eh]=P}catch(dt){Ir(c,c.return,dt)}}break;case 6:if(Di(h,c),Ji(c),x&4){if(c.stateNode===null)throw Error(r(162));T=c.stateNode,P=c.memoizedProps;try{T.nodeValue=P}catch(dt){Ir(c,c.return,dt)}}break;case 3:if(Di(h,c),Ji(c),x&4&&v!==null&&v.memoizedState.isDehydrated)try{fh(h.containerInfo)}catch(dt){Ir(c,c.return,dt)}break;case 4:Di(h,c),Ji(c);break;case 13:Di(h,c),Ji(c),T=c.child,T.flags&8192&&(P=T.memoizedState!==null,T.stateNode.isHidden=P,!P||T.alternate!==null&&T.alternate.memoizedState!==null||(Dy=He())),x&4&&jT(c);break;case 22:if(je=v!==null&&v.memoizedState!==null,c.mode&1?(Nn=(xe=Nn)||je,Di(h,c),Nn=xe):Di(h,c),Ji(c),x&8192){if(xe=c.memoizedState!==null,(c.stateNode.isHidden=xe)&&!je&&(c.mode&1)!==0)for(lt=c,je=c.child;je!==null;){for(Ge=lt=je;lt!==null;){switch(ke=lt,it=ke.child,ke.tag){case 0:case 11:case 14:case 15:kh(4,ke,ke.return);break;case 1:Eu(ke,ke.return);var ut=ke.stateNode;if(typeof ut.componentWillUnmount=="function"){x=ke,v=ke.return;try{h=x,ut.props=h.memoizedProps,ut.state=h.memoizedState,ut.componentWillUnmount()}catch(dt){Ir(x,v,dt)}}break;case 5:Eu(ke,ke.return);break;case 22:if(ke.memoizedState!==null){HT(Ge);continue}}it!==null?(it.return=ke,lt=it):HT(Ge)}je=je.sibling}e:for(je=null,Ge=c;;){if(Ge.tag===5){if(je===null){je=Ge;try{T=Ge.stateNode,xe?(P=T.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(Q=Ge.stateNode,te=Ge.memoizedProps.style,k=te!=null&&te.hasOwnProperty("display")?te.display:null,Q.style.display=sn("display",k))}catch(dt){Ir(c,c.return,dt)}}}else if(Ge.tag===6){if(je===null)try{Ge.stateNode.nodeValue=xe?"":Ge.memoizedProps}catch(dt){Ir(c,c.return,dt)}}else if((Ge.tag!==22&&Ge.tag!==23||Ge.memoizedState===null||Ge===c)&&Ge.child!==null){Ge.child.return=Ge,Ge=Ge.child;continue}if(Ge===c)break e;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===c)break e;je===Ge&&(je=null),Ge=Ge.return}je===Ge&&(je=null),Ge.sibling.return=Ge.return,Ge=Ge.sibling}}break;case 19:Di(h,c),Ji(c),x&4&&jT(c);break;case 21:break;default:Di(h,c),Ji(c)}}function Ji(c){var h=c.flags;if(h&2){try{e:{for(var v=c.return;v!==null;){if(kT(v)){var x=v;break e}v=v.return}throw Error(r(160))}switch(x.tag){case 5:var T=x.stateNode;x.flags&32&&(Oe(T,""),x.flags&=-33);var P=LT(c);Ty(c,P,T);break;case 3:case 4:var k=x.stateNode.containerInfo,Q=LT(c);Fy(c,Q,k);break;default:throw Error(r(161))}}catch(te){Ir(c,c.return,te)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function i8(c,h,v){lt=c,GT(c)}function GT(c,h,v){for(var x=(c.mode&1)!==0;lt!==null;){var T=lt,P=T.child;if(T.tag===22&&x){var k=T.memoizedState!==null||Lg;if(!k){var Q=T.alternate,te=Q!==null&&Q.memoizedState!==null||Nn;Q=Lg;var xe=Nn;if(Lg=k,(Nn=te)&&!xe)for(lt=T;lt!==null;)k=lt,te=k.child,k.tag===22&&k.memoizedState!==null?WT(T):te!==null?(te.return=k,lt=te):WT(T);for(;P!==null;)lt=P,GT(P),P=P.sibling;lt=T,Lg=Q,Nn=xe}VT(c)}else(T.subtreeFlags&8772)!==0&&P!==null?(P.return=T,lt=P):VT(c)}}function VT(c){for(;lt!==null;){var h=lt;if((h.flags&8772)!==0){var v=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Nn||_g(5,h);break;case 1:var x=h.stateNode;if(h.flags&4&&!Nn)if(v===null)x.componentDidMount();else{var T=h.elementType===h.type?v.memoizedProps:Pi(h.type,v.memoizedProps);x.componentDidUpdate(T,v.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var P=h.updateQueue;P!==null&&HF(h,P,x);break;case 3:var k=h.updateQueue;if(k!==null){if(v=null,h.child!==null)switch(h.child.tag){case 5:v=h.child.stateNode;break;case 1:v=h.child.stateNode}HF(h,k,v)}break;case 5:var Q=h.stateNode;if(v===null&&h.flags&4){v=Q;var te=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&v.focus();break;case"img":te.src&&(v.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var xe=h.alternate;if(xe!==null){var je=xe.memoizedState;if(je!==null){var Ge=je.dehydrated;Ge!==null&&fh(Ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Nn||h.flags&512&&Ry(h)}catch(ke){Ir(h,h.return,ke)}}if(h===c){lt=null;break}if(v=h.sibling,v!==null){v.return=h.return,lt=v;break}lt=h.return}}function HT(c){for(;lt!==null;){var h=lt;if(h===c){lt=null;break}var v=h.sibling;if(v!==null){v.return=h.return,lt=v;break}lt=h.return}}function WT(c){for(;lt!==null;){var h=lt;try{switch(h.tag){case 0:case 11:case 15:var v=h.return;try{_g(4,h)}catch(te){Ir(h,v,te)}break;case 1:var x=h.stateNode;if(typeof x.componentDidMount=="function"){var T=h.return;try{x.componentDidMount()}catch(te){Ir(h,T,te)}}var P=h.return;try{Ry(h)}catch(te){Ir(h,P,te)}break;case 5:var k=h.return;try{Ry(h)}catch(te){Ir(h,k,te)}}}catch(te){Ir(h,h.return,te)}if(h===c){lt=null;break}var Q=h.sibling;if(Q!==null){Q.return=h.return,lt=Q;break}lt=h.return}}var o8=Math.ceil,jg=E.ReactCurrentDispatcher,Py=E.ReactCurrentOwner,ni=E.ReactCurrentBatchConfig,Ut=0,ln=null,zr=null,yn=0,Os=0,Ru=Ra(0),en=0,Lh=null,Hl=0,Bg=0,Ay=0,_h=null,fs=null,Dy=0,Fu=1/0,_o=null,Gg=!1,My=null,Ma=null,Vg=!1,Na=null,Hg=0,jh=0,Ny=null,Wg=-1,Ug=0;function Hn(){return(Ut&6)!==0?He():Wg!==-1?Wg:Wg=He()}function Ia(c){return(c.mode&1)===0?1:(Ut&2)!==0&&yn!==0?yn&-yn:W6.transition!==null?(Ug===0&&(Ug=LR()),Ug):(c=rr,c!==0||(c=window.event,c=c===void 0?16:$R(c.type)),c)}function Mi(c,h,v,x){if(50<jh)throw jh=0,Ny=null,Error(r(185));lh(c,v,x),((Ut&2)===0||c!==ln)&&(c===ln&&((Ut&2)===0&&(Bg|=v),en===4&&Oa(c,yn)),ps(c,x),v===1&&Ut===0&&(h.mode&1)===0&&(Fu=He()+500,Cg&&Ta()))}function ps(c,h){var v=c.callbackNode;WG(c,h);var x=Jp(c,c===ln?yn:0);if(x===0)v!==null&&Xe(v),c.callbackNode=null,c.callbackPriority=0;else if(h=x&-x,c.callbackPriority!==h){if(v!=null&&Xe(v),h===1)c.tag===0?H6($T.bind(null,c)):DF($T.bind(null,c)),j6(function(){(Ut&6)===0&&Ta()}),v=null;else{switch(_R(x)){case 1:v=ur;break;case 4:v=hr;break;case 16:v=Gr;break;case 536870912:v=va;break;default:v=Gr}v=JT(v,UT.bind(null,c))}c.callbackPriority=h,c.callbackNode=v}}function UT(c,h){if(Wg=-1,Ug=0,(Ut&6)!==0)throw Error(r(327));var v=c.callbackNode;if(Tu()&&c.callbackNode!==v)return null;var x=Jp(c,c===ln?yn:0);if(x===0)return null;if((x&30)!==0||(x&c.expiredLanes)!==0||h)h=$g(c,x);else{h=x;var T=Ut;Ut|=2;var P=KT();(ln!==c||yn!==h)&&(_o=null,Fu=He()+500,Ul(c,h));do try{c8();break}catch(Q){zT(c,Q)}while(!0);QC(),jg.current=P,Ut=T,zr!==null?h=0:(ln=null,yn=0,h=en)}if(h!==0){if(h===2&&(T=hC(c),T!==0&&(x=T,h=Iy(c,T))),h===1)throw v=Lh,Ul(c,0),Oa(c,x),ps(c,He()),v;if(h===6)Oa(c,x);else{if(T=c.current.alternate,(x&30)===0&&!a8(T)&&(h=$g(c,x),h===2&&(P=hC(c),P!==0&&(x=P,h=Iy(c,P))),h===1))throw v=Lh,Ul(c,0),Oa(c,x),ps(c,He()),v;switch(c.finishedWork=T,c.finishedLanes=x,h){case 0:case 1:throw Error(r(345));case 2:$l(c,fs,_o);break;case 3:if(Oa(c,x),(x&130023424)===x&&(h=Dy+500-He(),10<h)){if(Jp(c,0)!==0)break;if(T=c.suspendedLanes,(T&x)!==x){Hn(),c.pingedLanes|=c.suspendedLanes&T;break}c.timeoutHandle=BC($l.bind(null,c,fs,_o),h);break}$l(c,fs,_o);break;case 4:if(Oa(c,x),(x&4194240)===x)break;for(h=c.eventTimes,T=-1;0<x;){var k=31-Vr(x);P=1<<k,k=h[k],k>T&&(T=k),x&=~P}if(x=T,x=He()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*o8(x/1960))-x,10<x){c.timeoutHandle=BC($l.bind(null,c,fs,_o),x);break}$l(c,fs,_o);break;case 5:$l(c,fs,_o);break;default:throw Error(r(329))}}}return ps(c,He()),c.callbackNode===v?UT.bind(null,c):null}function Iy(c,h){var v=_h;return c.current.memoizedState.isDehydrated&&(Ul(c,h).flags|=256),c=$g(c,h),c!==2&&(h=fs,fs=v,h!==null&&Oy(h)),c}function Oy(c){fs===null?fs=c:fs.push.apply(fs,c)}function a8(c){for(var h=c;;){if(h.flags&16384){var v=h.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var x=0;x<v.length;x++){var T=v[x],P=T.getSnapshot;T=T.value;try{if(!Fi(P(),T))return!1}catch{return!1}}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Oa(c,h){for(h&=~Ay,h&=~Bg,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var v=31-Vr(h),x=1<<v;c[v]=-1,h&=~x}}function $T(c){if((Ut&6)!==0)throw Error(r(327));Tu();var h=Jp(c,0);if((h&1)===0)return ps(c,He()),null;var v=$g(c,h);if(c.tag!==0&&v===2){var x=hC(c);x!==0&&(h=x,v=Iy(c,x))}if(v===1)throw v=Lh,Ul(c,0),Oa(c,h),ps(c,He()),v;if(v===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,$l(c,fs,_o),ps(c,He()),null}function ky(c,h){var v=Ut;Ut|=1;try{return c(h)}finally{Ut=v,Ut===0&&(Fu=He()+500,Cg&&Ta())}}function Wl(c){Na!==null&&Na.tag===0&&(Ut&6)===0&&Tu();var h=Ut;Ut|=1;var v=ni.transition,x=rr;try{if(ni.transition=null,rr=1,c)return c()}finally{rr=x,ni.transition=v,Ut=h,(Ut&6)===0&&Ta()}}function Ly(){Os=Ru.current,mr(Ru)}function Ul(c,h){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==-1&&(c.timeoutHandle=-1,_6(v)),zr!==null)for(v=zr.return;v!==null;){var x=v;switch($C(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&mg();break;case 3:xu(),mr(us),mr(An),sy();break;case 5:ry(x);break;case 4:xu();break;case 13:mr(Fr);break;case 19:mr(Fr);break;case 10:XC(x.type._context);break;case 22:case 23:Ly()}v=v.return}if(ln=c,zr=c=ka(c.current,null),yn=Os=h,en=0,Lh=null,Ay=Bg=Hl=0,fs=_h=null,Bl!==null){for(h=0;h<Bl.length;h++)if(v=Bl[h],x=v.interleaved,x!==null){v.interleaved=null;var T=x.next,P=v.pending;if(P!==null){var k=P.next;P.next=T,x.next=k}v.pending=x}Bl=null}return c}function zT(c,h){do{var v=zr;try{if(QC(),Pg.current=Ng,Ag){for(var x=Tr.memoizedState;x!==null;){var T=x.queue;T!==null&&(T.pending=null),x=x.next}Ag=!1}if(Vl=0,an=Jr=Tr=null,Dh=!1,Mh=0,Py.current=null,v===null||v.return===null){en=1,Lh=h,zr=null;break}e:{var P=c,k=v.return,Q=v,te=h;if(h=yn,Q.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var xe=te,je=Q,Ge=je.tag;if((je.mode&1)===0&&(Ge===0||Ge===11||Ge===15)){var ke=je.alternate;ke?(je.updateQueue=ke.updateQueue,je.memoizedState=ke.memoizedState,je.lanes=ke.lanes):(je.updateQueue=null,je.memoizedState=null)}var it=vT(k);if(it!==null){it.flags&=-257,CT(it,k,Q,P,h),it.mode&1&&mT(P,xe,h),h=it,te=xe;var ut=h.updateQueue;if(ut===null){var dt=new Set;dt.add(te),h.updateQueue=dt}else ut.add(te);break e}else{if((h&1)===0){mT(P,xe,h),_y();break e}te=Error(r(426))}}else if(br&&Q.mode&1){var Hr=vT(k);if(Hr!==null){(Hr.flags&65536)===0&&(Hr.flags|=256),CT(Hr,k,Q,P,h),qC(bu(te,Q));break e}}P=te=bu(te,Q),en!==4&&(en=2),_h===null?_h=[P]:_h.push(P),P=k;do{switch(P.tag){case 3:P.flags|=65536,h&=-h,P.lanes|=h;var he=pT(P,te,h);VF(P,he);break e;case 1:Q=te;var ie=P.type,fe=P.stateNode;if((P.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(Ma===null||!Ma.has(fe)))){P.flags|=65536,h&=-h,P.lanes|=h;var ze=gT(P,Q,h);VF(P,ze);break e}}P=P.return}while(P!==null)}YT(v)}catch(ht){h=ht,zr===v&&v!==null&&(zr=v=v.return);continue}break}while(!0)}function KT(){var c=jg.current;return jg.current=Ng,c===null?Ng:c}function _y(){(en===0||en===3||en===2)&&(en=4),ln===null||(Hl&268435455)===0&&(Bg&268435455)===0||Oa(ln,yn)}function $g(c,h){var v=Ut;Ut|=2;var x=KT();(ln!==c||yn!==h)&&(_o=null,Ul(c,h));do try{l8();break}catch(T){zT(c,T)}while(!0);if(QC(),Ut=v,jg.current=x,zr!==null)throw Error(r(261));return ln=null,yn=0,en}function l8(){for(;zr!==null;)qT(zr)}function c8(){for(;zr!==null&&!at();)qT(zr)}function qT(c){var h=ZT(c.alternate,c,Os);c.memoizedProps=c.pendingProps,h===null?YT(c):zr=h,Py.current=null}function YT(c){var h=c;do{var v=h.alternate;if(c=h.return,(h.flags&32768)===0){if(v=t8(v,h,Os),v!==null){zr=v;return}}else{if(v=r8(v,h),v!==null){v.flags&=32767,zr=v;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{en=6,zr=null;return}}if(h=h.sibling,h!==null){zr=h;return}zr=h=c}while(h!==null);en===0&&(en=5)}function $l(c,h,v){var x=rr,T=ni.transition;try{ni.transition=null,rr=1,u8(c,h,v,x)}finally{ni.transition=T,rr=x}return null}function u8(c,h,v,x){do Tu();while(Na!==null);if((Ut&6)!==0)throw Error(r(327));v=c.finishedWork;var T=c.finishedLanes;if(v===null)return null;if(c.finishedWork=null,c.finishedLanes=0,v===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var P=v.lanes|v.childLanes;if(UG(c,P),c===ln&&(zr=ln=null,yn=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Vg||(Vg=!0,JT(Gr,function(){return Tu(),null})),P=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||P){P=ni.transition,ni.transition=null;var k=rr;rr=1;var Q=Ut;Ut|=4,Py.current=null,s8(c,v),BT(v,c),D6(_C),rg=!!LC,_C=LC=null,c.current=v,i8(v),$e(),Ut=Q,rr=k,ni.transition=P}else c.current=v;if(Vg&&(Vg=!1,Na=c,Hg=T),P=c.pendingLanes,P===0&&(Ma=null),oh(v.stateNode),ps(c,He()),h!==null)for(x=c.onRecoverableError,v=0;v<h.length;v++)T=h[v],x(T.value,{componentStack:T.stack,digest:T.digest});if(Gg)throw Gg=!1,c=My,My=null,c;return(Hg&1)!==0&&c.tag!==0&&Tu(),P=c.pendingLanes,(P&1)!==0?c===Ny?jh++:(jh=0,Ny=c):jh=0,Ta(),null}function Tu(){if(Na!==null){var c=_R(Hg),h=ni.transition,v=rr;try{if(ni.transition=null,rr=16>c?16:c,Na===null)var x=!1;else{if(c=Na,Na=null,Hg=0,(Ut&6)!==0)throw Error(r(331));var T=Ut;for(Ut|=4,lt=c.current;lt!==null;){var P=lt,k=P.child;if((lt.flags&16)!==0){var Q=P.deletions;if(Q!==null){for(var te=0;te<Q.length;te++){var xe=Q[te];for(lt=xe;lt!==null;){var je=lt;switch(je.tag){case 0:case 11:case 15:kh(8,je,P)}var Ge=je.child;if(Ge!==null)Ge.return=je,lt=Ge;else for(;lt!==null;){je=lt;var ke=je.sibling,it=je.return;if(OT(je),je===xe){lt=null;break}if(ke!==null){ke.return=it,lt=ke;break}lt=it}}}var ut=P.alternate;if(ut!==null){var dt=ut.child;if(dt!==null){ut.child=null;do{var Hr=dt.sibling;dt.sibling=null,dt=Hr}while(dt!==null)}}lt=P}}if((P.subtreeFlags&2064)!==0&&k!==null)k.return=P,lt=k;else e:for(;lt!==null;){if(P=lt,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:kh(9,P,P.return)}var he=P.sibling;if(he!==null){he.return=P.return,lt=he;break e}lt=P.return}}var ie=c.current;for(lt=ie;lt!==null;){k=lt;var fe=k.child;if((k.subtreeFlags&2064)!==0&&fe!==null)fe.return=k,lt=fe;else e:for(k=ie;lt!==null;){if(Q=lt,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:_g(9,Q)}}catch(ht){Ir(Q,Q.return,ht)}if(Q===k){lt=null;break e}var ze=Q.sibling;if(ze!==null){ze.return=Q.return,lt=ze;break e}lt=Q.return}}if(Ut=T,Ta(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Yi,c)}catch{}x=!0}return x}finally{rr=v,ni.transition=h}}return!1}function QT(c,h,v){h=bu(v,h),h=pT(c,h,1),c=Aa(c,h,1),h=Hn(),c!==null&&(lh(c,1,h),ps(c,h))}function Ir(c,h,v){if(c.tag===3)QT(c,c,v);else for(;h!==null;){if(h.tag===3){QT(h,c,v);break}else if(h.tag===1){var x=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ma===null||!Ma.has(x))){c=bu(v,c),c=gT(h,c,1),h=Aa(h,c,1),c=Hn(),h!==null&&(lh(h,1,c),ps(h,c));break}}h=h.return}}function d8(c,h,v){var x=c.pingCache;x!==null&&x.delete(h),h=Hn(),c.pingedLanes|=c.suspendedLanes&v,ln===c&&(yn&v)===v&&(en===4||en===3&&(yn&130023424)===yn&&500>He()-Dy?Ul(c,0):Ay|=v),ps(c,h)}function XT(c,h){h===0&&((c.mode&1)===0?h=1:(h=Zp,Zp<<=1,(Zp&130023424)===0&&(Zp=4194304)));var v=Hn();c=Oo(c,h),c!==null&&(lh(c,h,v),ps(c,v))}function h8(c){var h=c.memoizedState,v=0;h!==null&&(v=h.retryLane),XT(c,v)}function f8(c,h){var v=0;switch(c.tag){case 13:var x=c.stateNode,T=c.memoizedState;T!==null&&(v=T.retryLane);break;case 19:x=c.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(h),XT(c,v)}var ZT;ZT=function(c,h,v){if(c!==null)if(c.memoizedProps!==h.pendingProps||us.current)hs=!0;else{if((c.lanes&v)===0&&(h.flags&128)===0)return hs=!1,e8(c,h,v);hs=(c.flags&131072)!==0}else hs=!1,br&&(h.flags&1048576)!==0&&MF(h,Sg,h.index);switch(h.lanes=0,h.tag){case 2:var x=h.type;kg(c,h),c=h.pendingProps;var T=gu(h,An.current);wu(h,v),T=ay(null,h,x,c,T,v);var P=ly();return h.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ds(x)?(P=!0,vg(h)):P=!1,h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,ey(h),T.updater=Ig,h.stateNode=T,T._reactInternals=h,py(h,x,c,v),h=Cy(null,h,x,!0,P,v)):(h.tag=0,br&&P&&UC(h),Vn(null,h,T,v),h=h.child),h;case 16:x=h.elementType;e:{switch(kg(c,h),c=h.pendingProps,T=x._init,x=T(x._payload),h.type=x,T=h.tag=g8(x),c=Pi(x,c),T){case 0:h=vy(null,h,x,c,v);break e;case 1:h=ET(null,h,x,c,v);break e;case 11:h=yT(null,h,x,c,v);break e;case 14:h=ST(null,h,x,Pi(x.type,c),v);break e}throw Error(r(306,x,""))}return h;case 0:return x=h.type,T=h.pendingProps,T=h.elementType===x?T:Pi(x,T),vy(c,h,x,T,v);case 1:return x=h.type,T=h.pendingProps,T=h.elementType===x?T:Pi(x,T),ET(c,h,x,T,v);case 3:e:{if(RT(h),c===null)throw Error(r(387));x=h.pendingProps,P=h.memoizedState,T=P.element,GF(c,h),Fg(h,x,null,v);var k=h.memoizedState;if(x=k.element,P.isDehydrated)if(P={element:x,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},h.updateQueue.baseState=P,h.memoizedState=P,h.flags&256){T=bu(Error(r(423)),h),h=FT(c,h,x,v,T);break e}else if(x!==T){T=bu(Error(r(424)),h),h=FT(c,h,x,v,T);break e}else for(Is=Ea(h.stateNode.containerInfo.firstChild),Ns=h,br=!0,Ti=null,v=jF(h,null,x,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Cu(),x===T){h=Lo(c,h,v);break e}Vn(c,h,x,v)}h=h.child}return h;case 5:return WF(h),c===null&&KC(h),x=h.type,T=h.pendingProps,P=c!==null?c.memoizedProps:null,k=T.children,jC(x,T)?k=null:P!==null&&jC(x,P)&&(h.flags|=32),bT(c,h),Vn(c,h,k,v),h.child;case 6:return c===null&&KC(h),null;case 13:return TT(c,h,v);case 4:return ty(h,h.stateNode.containerInfo),x=h.pendingProps,c===null?h.child=yu(h,null,x,v):Vn(c,h,x,v),h.child;case 11:return x=h.type,T=h.pendingProps,T=h.elementType===x?T:Pi(x,T),yT(c,h,x,T,v);case 7:return Vn(c,h,h.pendingProps,v),h.child;case 8:return Vn(c,h,h.pendingProps.children,v),h.child;case 12:return Vn(c,h,h.pendingProps.children,v),h.child;case 10:e:{if(x=h.type._context,T=h.pendingProps,P=h.memoizedProps,k=T.value,fr(bg,x._currentValue),x._currentValue=k,P!==null)if(Fi(P.value,k)){if(P.children===T.children&&!us.current){h=Lo(c,h,v);break e}}else for(P=h.child,P!==null&&(P.return=h);P!==null;){var Q=P.dependencies;if(Q!==null){k=P.child;for(var te=Q.firstContext;te!==null;){if(te.context===x){if(P.tag===1){te=ko(-1,v&-v),te.tag=2;var xe=P.updateQueue;if(xe!==null){xe=xe.shared;var je=xe.pending;je===null?te.next=te:(te.next=je.next,je.next=te),xe.pending=te}}P.lanes|=v,te=P.alternate,te!==null&&(te.lanes|=v),ZC(P.return,v,h),Q.lanes|=v;break}te=te.next}}else if(P.tag===10)k=P.type===h.type?null:P.child;else if(P.tag===18){if(k=P.return,k===null)throw Error(r(341));k.lanes|=v,Q=k.alternate,Q!==null&&(Q.lanes|=v),ZC(k,v,h),k=P.sibling}else k=P.child;if(k!==null)k.return=P;else for(k=P;k!==null;){if(k===h){k=null;break}if(P=k.sibling,P!==null){P.return=k.return,k=P;break}k=k.return}P=k}Vn(c,h,T.children,v),h=h.child}return h;case 9:return T=h.type,x=h.pendingProps.children,wu(h,v),T=ti(T),x=x(T),h.flags|=1,Vn(c,h,x,v),h.child;case 14:return x=h.type,T=Pi(x,h.pendingProps),T=Pi(x.type,T),ST(c,h,x,T,v);case 15:return wT(c,h,h.type,h.pendingProps,v);case 17:return x=h.type,T=h.pendingProps,T=h.elementType===x?T:Pi(x,T),kg(c,h),h.tag=1,ds(x)?(c=!0,vg(h)):c=!1,wu(h,v),hT(h,x,T),py(h,x,T,v),Cy(null,h,x,!0,c,v);case 19:return AT(c,h,v);case 22:return xT(c,h,v)}throw Error(r(156,h.tag))};function JT(c,h){return Be(c,h)}function p8(c,h,v,x){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(c,h,v,x){return new p8(c,h,v,x)}function jy(c){return c=c.prototype,!(!c||!c.isReactComponent)}function g8(c){if(typeof c=="function")return jy(c)?1:0;if(c!=null){if(c=c.$$typeof,c===B)return 11;if(c===Re)return 14}return 2}function ka(c,h){var v=c.alternate;return v===null?(v=si(c.tag,h,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=h,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&14680064,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,h=c.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function zg(c,h,v,x,T,P){var k=2;if(x=c,typeof c=="function")jy(c)&&(k=1);else if(typeof c=="string")k=5;else e:switch(c){case M:return zl(v.children,T,P,h);case I:k=8,T|=8;break;case _:return c=si(12,v,h,T|2),c.elementType=_,c.lanes=P,c;case oe:return c=si(13,v,h,T),c.elementType=oe,c.lanes=P,c;case ye:return c=si(19,v,h,T),c.elementType=ye,c.lanes=P,c;case se:return Kg(v,T,P,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case j:k=10;break e;case H:k=9;break e;case B:k=11;break e;case Re:k=14;break e;case we:k=16,x=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return h=si(k,v,h,T),h.elementType=c,h.type=x,h.lanes=P,h}function zl(c,h,v,x){return c=si(7,c,x,h),c.lanes=v,c}function Kg(c,h,v,x){return c=si(22,c,x,h),c.elementType=se,c.lanes=v,c.stateNode={isHidden:!1},c}function By(c,h,v){return c=si(6,c,null,h),c.lanes=v,c}function Gy(c,h,v){return h=si(4,c.children!==null?c.children:[],c.key,h),h.lanes=v,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function m8(c,h,v,x,T){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fC(0),this.expirationTimes=fC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fC(0),this.identifierPrefix=x,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Vy(c,h,v,x,T,P,k,Q,te){return c=new m8(c,h,v,Q,te),h===1?(h=1,P===!0&&(h|=8)):h=0,P=si(3,null,null,h),c.current=P,P.stateNode=c,P.memoizedState={element:x,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},ey(P),c}function v8(c,h,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:x==null?null:""+x,children:c,containerInfo:h,implementation:v}}function eP(c){if(!c)return Fa;c=c._reactInternals;e:{if(Y(c)!==c||c.tag!==1)throw Error(r(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ds(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(c.tag===1){var v=c.type;if(ds(v))return PF(c,v,h)}return h}function tP(c,h,v,x,T,P,k,Q,te){return c=Vy(v,x,!0,c,T,P,k,Q,te),c.context=eP(null),v=c.current,x=Hn(),T=Ia(v),P=ko(x,T),P.callback=h??null,Aa(v,P,T),c.current.lanes=T,lh(c,T,x),ps(c,x),c}function qg(c,h,v,x){var T=h.current,P=Hn(),k=Ia(T);return v=eP(v),h.context===null?h.context=v:h.pendingContext=v,h=ko(P,k),h.payload={element:c},x=x===void 0?null:x,x!==null&&(h.callback=x),c=Aa(T,h,k),c!==null&&(Mi(c,T,k,P),Rg(c,T,k)),k}function Yg(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function rP(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<h?v:h}}function Hy(c,h){rP(c,h),(c=c.alternate)&&rP(c,h)}function C8(){return null}var nP=typeof reportError=="function"?reportError:function(c){console.error(c)};function Wy(c){this._internalRoot=c}Qg.prototype.render=Wy.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(r(409));qg(c,h,null,null)},Qg.prototype.unmount=Wy.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;Wl(function(){qg(null,c,null,null)}),h[Do]=null}};function Qg(c){this._internalRoot=c}Qg.prototype.unstable_scheduleHydration=function(c){if(c){var h=GR();c={blockedOn:null,target:c,priority:h};for(var v=0;v<wa.length&&h!==0&&h<wa[v].priority;v++);wa.splice(v,0,c),v===0&&WR(c)}};function Uy(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Xg(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function sP(){}function y8(c,h,v,x,T){if(T){if(typeof x=="function"){var P=x;x=function(){var xe=Yg(k);P.call(xe)}}var k=tP(h,x,c,0,null,!1,!1,"",sP);return c._reactRootContainer=k,c[Do]=k.current,xh(c.nodeType===8?c.parentNode:c),Wl(),k}for(;T=c.lastChild;)c.removeChild(T);if(typeof x=="function"){var Q=x;x=function(){var xe=Yg(te);Q.call(xe)}}var te=Vy(c,0,!1,null,null,!1,!1,"",sP);return c._reactRootContainer=te,c[Do]=te.current,xh(c.nodeType===8?c.parentNode:c),Wl(function(){qg(h,te,v,x)}),te}function Zg(c,h,v,x,T){var P=v._reactRootContainer;if(P){var k=P;if(typeof T=="function"){var Q=T;T=function(){var te=Yg(k);Q.call(te)}}qg(h,k,c,T)}else k=y8(v,h,c,T,x);return Yg(k)}jR=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var v=ah(h.pendingLanes);v!==0&&(pC(h,v|1),ps(h,He()),(Ut&6)===0&&(Fu=He()+500,Ta()))}break;case 13:Wl(function(){var x=Oo(c,1);if(x!==null){var T=Hn();Mi(x,c,1,T)}}),Hy(c,1)}},gC=function(c){if(c.tag===13){var h=Oo(c,134217728);if(h!==null){var v=Hn();Mi(h,c,134217728,v)}Hy(c,134217728)}},BR=function(c){if(c.tag===13){var h=Ia(c),v=Oo(c,h);if(v!==null){var x=Hn();Mi(v,c,h,x)}Hy(c,h)}},GR=function(){return rr},VR=function(c,h){var v=rr;try{return rr=c,h()}finally{rr=v}},Ri=function(c,h,v){switch(h){case"input":if(We(c,v),h=v.name,v.type==="radio"&&h!=null){for(v=c;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<v.length;h++){var x=v[h];if(x!==c&&x.form===c.form){var T=gg(x);if(!T)throw Error(r(90));Ae(x),We(x,T)}}}break;case"textarea":Ue(c,v);break;case"select":h=v.value,h!=null&&Mt(c,!!v.multiple,h,!1)}},qp=ky,Yp=Wl;var S8={usingClientEntryPoint:!1,Events:[Rh,fu,gg,zp,Kp,ky]},Bh={findFiberByHostInstance:kl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w8={bundleType:Bh.bundleType,version:Bh.version,rendererPackageName:Bh.rendererPackageName,rendererConfig:Bh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Ce(c),c===null?null:c.stateNode},findFiberByHostInstance:Bh.findFiberByHostInstance||C8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jg.isDisabled&&Jg.supportsFiber)try{Yi=Jg.inject(w8),on=Jg}catch{}}return gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S8,gs.createPortal=function(c,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uy(h))throw Error(r(200));return v8(c,h,null,v)},gs.createRoot=function(c,h){if(!Uy(c))throw Error(r(299));var v=!1,x="",T=nP;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onRecoverableError!==void 0&&(T=h.onRecoverableError)),h=Vy(c,1,!1,null,null,v,!1,x,T),c[Do]=h.current,xh(c.nodeType===8?c.parentNode:c),new Wy(h)},gs.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=Ce(h),c=c===null?null:c.stateNode,c},gs.flushSync=function(c){return Wl(c)},gs.hydrate=function(c,h,v){if(!Xg(h))throw Error(r(200));return Zg(null,c,h,!0,v)},gs.hydrateRoot=function(c,h,v){if(!Uy(c))throw Error(r(405));var x=v!=null&&v.hydratedSources||null,T=!1,P="",k=nP;if(v!=null&&(v.unstable_strictMode===!0&&(T=!0),v.identifierPrefix!==void 0&&(P=v.identifierPrefix),v.onRecoverableError!==void 0&&(k=v.onRecoverableError)),h=tP(h,null,c,1,v??null,T,!1,P,k),c[Do]=h.current,xh(c),x)for(c=0;c<x.length;c++)v=x[c],T=v._getVersion,T=T(v._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[v,T]:h.mutableSourceEagerHydrationData.push(v,T);return new Qg(h)},gs.render=function(c,h,v){if(!Xg(h))throw Error(r(200));return Zg(null,c,h,!1,v)},gs.unmountComponentAtNode=function(c){if(!Xg(c))throw Error(r(40));return c._reactRootContainer?(Wl(function(){Zg(null,null,c,!1,function(){c._reactRootContainer=null,c[Do]=null})}),!0):!1},gs.unstable_batchedUpdates=ky,gs.unstable_renderSubtreeIntoContainer=function(c,h,v,x){if(!Xg(v))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return Zg(c,h,v,!1,x)},gs.version="18.3.1-next-f1338f8080-20240426",gs}var fP;function eN(){if(fP)return qy.exports;fP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qy.exports=D8(),qy.exports}var pP;function M8(){if(pP)return tm;pP=1;var e=eN();return tm.createRoot=e.createRoot,tm.hydrateRoot=e.hydrateRoot,tm}var N8=M8();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gP="popstate";function I8(e={}){function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return pw("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Rf(s)}return k8(t,r,null,e)}function Er(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function O8(){return Math.random().toString(36).substring(2,10)}function mP(e,t){return{usr:e.state,key:e.key,idx:t}}function pw(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Nd(t):t,state:r,key:t&&t.key||n||O8()}}function Rf({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function k8(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a="POP",l=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let w=f(),b=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:b})}function g(w,b){a="PUSH";let F=pw(y.location,w,b);u=f()+1;let R=mP(F,u),E=y.createHref(F);try{o.pushState(R,"",E)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(E)}i&&l&&l({action:a,location:y.location,delta:1})}function C(w,b){a="REPLACE";let F=pw(y.location,w,b);u=f();let R=mP(F,u),E=y.createHref(F);o.replaceState(R,"",E),i&&l&&l({action:a,location:y.location,delta:0})}function S(w){return L8(w)}let y={get action(){return a},get location(){return e(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(gP,p),l=w,()=>{s.removeEventListener(gP,p),l=null}},createHref(w){return t(s,w)},createURL:S,encodeLocation(w){let b=S(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:C,go(w){return o.go(w)}};return y}function L8(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Er(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Rf(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function tN(e,t,r="/"){return _8(e,t,r,!1)}function _8(e,t,r,n){let s=typeof t=="string"?Nd(t):t,i=sa(s.pathname||"/",r);if(i==null)return null;let o=rN(e);j8(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Y8(i);a=K8(o[l],u,n)}return a}function rN(e,t=[],r=[],n="",s=!1){let i=(o,a,l=s,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&l)return;Er(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=qo([n,f.relativePath]),g=r.concat(f);o.children&&o.children.length>0&&(Er(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),rN(o.children,t,g,p,l)),!(o.path==null&&!o.index)&&t.push({path:p,score:$8(p,o.index),routesMeta:g})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of nN(o.path))i(o,a,!0,u)}),t}function nN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=nN(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function j8(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:z8(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var B8=/^:[\w-]+$/,G8=3,V8=2,H8=1,W8=10,U8=-2,vP=e=>e==="*";function $8(e,t){let r=e.split("/"),n=r.length;return r.some(vP)&&(n+=U8),t&&(n+=V8),r.filter(s=>!vP(s)).reduce((s,i)=>s+(B8.test(i)?G8:i===""?H8:W8),n)}function z8(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function K8(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",p=Zm({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),g=l.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=Zm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:qo([i,p.pathname]),pathnameBase:eV(qo([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=qo([i,p.pathnameBase]))}return o}function Zm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=q8(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,{paramName:f,isOptional:p},g)=>{if(f==="*"){let S=a[g]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const C=a[g];return p&&!C?u[f]=void 0:u[f]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function q8(e,t=!1,r=!0){yi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Y8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function sa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var Q8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X8=e=>Q8.test(e);function Z8(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Nd(e):e,i;if(r)if(X8(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),yi(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=CP(r.substring(1),"/"):i=CP(r,t)}else i=t;return{pathname:i,search:tV(n),hash:rV(s)}}function CP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Xy(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function J8(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yx(e){let t=J8(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Qx(e,t,r,n=!1){let s;typeof e=="string"?s=Nd(e):(s={...e},Er(!s.pathname||!s.pathname.includes("?"),Xy("?","pathname","search",s)),Er(!s.pathname||!s.pathname.includes("#"),Xy("#","pathname","hash",s)),Er(!s.search||!s.search.includes("#"),Xy("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}a=p>=0?t[p]:"/"}let l=Z8(s,a),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var qo=e=>e.join("/").replace(/\/\/+/g,"/"),eV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,nV=class{constructor(e,t){this.type="DataWithResponseInit",this.data=e,this.init=t||null}};function n0(e,t){return new nV(e,typeof t=="number"?{status:t}:t)}function sV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function iV(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sN=["POST","PUT","PATCH","DELETE"];new Set(sN);var oV=["GET",...sN];new Set(oV);var Id=m.createContext(null);Id.displayName="DataRouter";var s0=m.createContext(null);s0.displayName="DataRouterState";m.createContext(!1);var iN=m.createContext({isTransitioning:!1});iN.displayName="ViewTransition";var aV=m.createContext(new Map);aV.displayName="Fetchers";var lV=m.createContext(null);lV.displayName="Await";var Si=m.createContext(null);Si.displayName="Navigation";var ap=m.createContext(null);ap.displayName="Location";var wo=m.createContext({outlet:null,matches:[],isDataRoute:!1});wo.displayName="Route";var Xx=m.createContext(null);Xx.displayName="RouteError";function cV(e,{relative:t}={}){Er(Od(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=m.useContext(Si),{hash:s,pathname:i,search:o}=lp(e,{relative:t}),a=i;return r!=="/"&&(a=i==="/"?r:qo([r,i])),n.createHref({pathname:a,search:o,hash:s})}function Od(){return m.useContext(ap)!=null}function Ps(){return Er(Od(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(ap).location}var oN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aN(e){m.useContext(Si).static||m.useLayoutEffect(e)}function Bn(){let{isDataRoute:e}=m.useContext(wo);return e?xV():uV()}function uV(){Er(Od(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(Id),{basename:t,navigator:r}=m.useContext(Si),{matches:n}=m.useContext(wo),{pathname:s}=Ps(),i=JSON.stringify(Yx(n)),o=m.useRef(!1);return aN(()=>{o.current=!0}),m.useCallback((l,u={})=>{if(yi(o.current,oN),!o.current)return;if(typeof l=="number"){r.go(l);return}let f=Qx(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:qo([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,i,s,e])}m.createContext(null);function lp(e,{relative:t}={}){let{matches:r}=m.useContext(wo),{pathname:n}=Ps(),s=JSON.stringify(Yx(r));return m.useMemo(()=>Qx(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function dV(e,t){return lN(e,t)}function lN(e,t,r,n,s){var F;Er(Od(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=m.useContext(Si),{matches:o}=m.useContext(wo),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let R=p&&p.path||"";cN(u,!p||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let g=Ps(),C;if(t){let R=typeof t=="string"?Nd(t):t;Er(f==="/"||((F=R.pathname)==null?void 0:F.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${R.pathname}" was given in the \`location\` prop.`),C=R}else C=g;let S=C.pathname||"/",y=S;if(f!=="/"){let R=f.replace(/^\//,"").split("/");y="/"+S.replace(/^\//,"").split("/").slice(R.length).join("/")}let w=tN(e,{pathname:y});yi(p||w!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),yi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=mV(w&&w.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:qo([f,i.encodeLocation?i.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?f:qo([f,i.encodeLocation?i.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),o,r,n,s);return t&&b?m.createElement(ap.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},b):b}function hV(){let e=wV(),t=sV(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:i},"ErrorBoundary")," or"," ",m.createElement("code",{style:i},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,o)}var fV=m.createElement(hV,null),pV=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?m.createElement(wo.Provider,{value:this.props.routeContext},m.createElement(Xx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gV({routeContext:e,match:t,children:r}){let n=m.useContext(Id);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(wo.Provider,{value:e},r)}function mV(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let f=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Er(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let a=!1,l=-1;if(r)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=f),p.route.id){let{loaderData:g,errors:C}=r,S=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!C||C[p.route.id]===void 0);if(p.route.lazy||S){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let u=r&&n?(f,p)=>{var g,C;n(f,{location:r.location,params:((C=(g=r.matches)==null?void 0:g[0])==null?void 0:C.params)??{},unstable_pattern:iV(r.matches),errorInfo:p})}:void 0;return i.reduceRight((f,p,g)=>{let C,S=!1,y=null,w=null;r&&(C=o&&p.route.id?o[p.route.id]:void 0,y=p.route.errorElement||fV,a&&(l<0&&g===0?(cN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,w=null):l===g&&(S=!0,w=p.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,g+1)),F=()=>{let R;return C?R=y:S?R=w:p.route.Component?R=m.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=f,m.createElement(gV,{match:p,routeContext:{outlet:f,matches:b,isDataRoute:r!=null},children:R})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?m.createElement(pV,{location:r.location,revalidation:r.revalidation,component:y,error:C,children:F(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:u}):F()},null)}function Zx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vV(e){let t=m.useContext(Id);return Er(t,Zx(e)),t}function CV(e){let t=m.useContext(s0);return Er(t,Zx(e)),t}function yV(e){let t=m.useContext(wo);return Er(t,Zx(e)),t}function Jx(e){let t=yV(e),r=t.matches[t.matches.length-1];return Er(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function SV(){return Jx("useRouteId")}function wV(){var n;let e=m.useContext(Xx),t=CV("useRouteError"),r=Jx("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function xV(){let{router:e}=vV("useNavigate"),t=Jx("useNavigate"),r=m.useRef(!1);return aN(()=>{r.current=!0}),m.useCallback(async(s,i={})=>{yi(r.current,oN),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var yP={};function cN(e,t,r){!t&&!yP[e]&&(yP[e]=!0,yi(!1,r))}m.memo(bV);function bV({routes:e,future:t,state:r,unstable_onError:n}){return lN(e,void 0,r,n,t)}function EV({to:e,replace:t,state:r,relative:n}){Er(Od(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=m.useContext(Si);yi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=m.useContext(wo),{pathname:o}=Ps(),a=Bn(),l=Qx(e,Yx(i),o,n==="path"),u=JSON.stringify(l);return m.useEffect(()=>{a(JSON.parse(u),{replace:t,state:r,relative:n})},[a,u,n,t,r]),null}function zt(e){Er(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RV({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1,unstable_useTransitions:o}){Er(!Od(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:a,navigator:s,static:i,unstable_useTransitions:o,future:{}}),[a,s,i,o]);typeof r=="string"&&(r=Nd(r));let{pathname:u="/",search:f="",hash:p="",state:g=null,key:C="default"}=r,S=m.useMemo(()=>{let y=sa(u,a);return y==null?null:{location:{pathname:y,search:f,hash:p,state:g,key:C},navigationType:n}},[a,u,f,p,g,C,n]);return yi(S!=null,`<Router basename="${a}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:m.createElement(Si.Provider,{value:l},m.createElement(ap.Provider,{children:t,value:S}))}function FV({children:e,location:t}){return dV(gw(e),t)}function gw(e,t=[]){let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let i=[...t,s];if(n.type===m.Fragment){r.push.apply(r,gw(n.props.children,i));return}Er(n.type===zt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Er(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=gw(n.props.children,i)),r.push(o)}),r}var Om="get",km="application/x-www-form-urlencoded";function i0(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function TV(e){return i0(e)&&e.tagName.toLowerCase()==="button"}function PV(e){return i0(e)&&e.tagName.toLowerCase()==="form"}function AV(e){return i0(e)&&e.tagName.toLowerCase()==="input"}function DV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MV(e,t){return e.button===0&&(!t||t==="_self")&&!DV(e)}var rm=null;function NV(){if(rm===null)try{new FormData(document.createElement("form"),0),rm=!1}catch{rm=!0}return rm}var IV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zy(e){return e!=null&&!IV.has(e)?(yi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${km}"`),null):e}function OV(e,t){let r,n,s,i,o;if(PV(e)){let a=e.getAttribute("action");n=a?sa(a,t):null,r=e.getAttribute("method")||Om,s=Zy(e.getAttribute("enctype"))||km,i=new FormData(e)}else if(TV(e)||AV(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(n=l?sa(l,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||Om,s=Zy(e.getAttribute("formenctype"))||Zy(a.getAttribute("enctype"))||km,i=new FormData(a,e),!NV()){let{name:u,type:f,value:p}=e;if(f==="image"){let g=u?`${u}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else u&&i.append(u,p)}}else{if(i0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Om,n=null,s=km,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function e1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kV(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&sa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function LV(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _V(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function jV(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await LV(i,r);return o.links?o.links():[]}return[]}));return HV(n.flat(1).filter(_V).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function SP(e,t,r,n,s,i){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,a=(l,u)=>{var f;return r[u].pathname!==l.pathname||((f=r[u].route.path)==null?void 0:f.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?t.filter((l,u)=>{var p;let f=n.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function BV(e,t,{includeHydrateFallback:r}={}){return GV(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function GV(e){return[...new Set(e)]}function VV(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function HV(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(VV(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function uN(){let e=m.useContext(Id);return e1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function WV(){let e=m.useContext(s0);return e1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var t1=m.createContext(void 0);t1.displayName="FrameworkContext";function dN(){let e=m.useContext(t1);return e1(e,"You must render this element inside a <HydratedRouter> element"),e}function UV(e,t){let r=m.useContext(t1),[n,s]=m.useState(!1),[i,o]=m.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:p}=t,g=m.useRef(null);m.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=b=>{b.forEach(F=>{o(F.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[e]),m.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let C=()=>{s(!0)},S=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Vh(a,C),onBlur:Vh(l,S),onMouseEnter:Vh(u,C),onMouseLeave:Vh(f,S),onTouchStart:Vh(p,C)}]:[!1,g,{}]}function Vh(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function $V({page:e,...t}){let{router:r}=uN(),n=m.useMemo(()=>tN(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?m.createElement(KV,{page:e,matches:n,...t}):null}function zV(e){let{manifest:t,routeModules:r}=dN(),[n,s]=m.useState([]);return m.useEffect(()=>{let i=!1;return jV(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function KV({page:e,matches:t,...r}){let n=Ps(),{manifest:s,routeModules:i}=dN(),{basename:o}=uN(),{loaderData:a,matches:l}=WV(),u=m.useMemo(()=>SP(e,t,l,s,n,"data"),[e,t,l,s,n]),f=m.useMemo(()=>SP(e,t,l,s,n,"assets"),[e,t,l,s,n]),p=m.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,y=!1;if(t.forEach(b=>{var R;let F=s.routes[b.route.id];!F||!F.hasLoader||(!u.some(E=>E.route.id===b.route.id)&&b.route.id in a&&((R=i[b.route.id])!=null&&R.shouldRevalidate)||F.hasClientLoader?y=!0:S.add(b.route.id))}),S.size===0)return[];let w=kV(e,o,"data");return y&&S.size>0&&w.searchParams.set("_routes",t.filter(b=>S.has(b.route.id)).map(b=>b.route.id).join(",")),[w.pathname+w.search]},[o,a,n,s,u,t,e,i]),g=m.useMemo(()=>BV(f,s),[f,s]),C=zV(f);return m.createElement(m.Fragment,null,p.map(S=>m.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),g.map(S=>m.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),C.map(({key:S,link:y})=>m.createElement("link",{key:S,nonce:r.nonce,...y})))}function qV(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var hN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hN&&(window.__reactRouterVersion="7.10.1")}catch{}function YV({basename:e,children:t,unstable_useTransitions:r,window:n}){let s=m.useRef();s.current==null&&(s.current=I8({window:n,v5Compat:!0}));let i=s.current,[o,a]=m.useState({action:i.action,location:i.location}),l=m.useCallback(u=>{r===!1?a(u):m.startTransition(()=>a(u))},[r]);return m.useLayoutEffect(()=>i.listen(l),[i,l]),m.createElement(RV,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r===!0})}var fN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pN=m.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:f,viewTransition:p,...g},C){let{basename:S,unstable_useTransitions:y}=m.useContext(Si),w=typeof u=="string"&&fN.test(u),b,F=!1;if(typeof u=="string"&&w&&(b=u,hN))try{let j=new URL(window.location.href),H=u.startsWith("//")?new URL(j.protocol+u):new URL(u),B=sa(H.pathname,S);H.origin===j.origin&&B!=null?u=B+H.search+H.hash:F=!0}catch{yi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=cV(u,{relative:s}),[E,A,D]=UV(n,g),M=JV(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:s,viewTransition:p,unstable_useTransitions:y});function I(j){t&&t(j),j.defaultPrevented||M(j)}let _=m.createElement("a",{...g,...D,href:b||R,onClick:F||i?t:I,ref:qV(C,A),target:l,"data-discover":!w&&r==="render"?"true":void 0});return E&&!w?m.createElement(m.Fragment,null,_,m.createElement($V,{page:R})):_});pN.displayName="Link";var QV=m.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},f){let p=lp(o,{relative:u.relative}),g=Ps(),C=m.useContext(s0),{navigator:S,basename:y}=m.useContext(Si),w=C!=null&&sH(p)&&a===!0,b=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,F=g.pathname,R=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(F=F.toLowerCase(),R=R?R.toLowerCase():null,b=b.toLowerCase()),R&&y&&(R=sa(R,y)||R);const E=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let A=F===b||!s&&F.startsWith(b)&&F.charAt(E)==="/",D=R!=null&&(R===b||!s&&R.startsWith(b)&&R.charAt(b.length)==="/"),M={isActive:A,isPending:D,isTransitioning:w},I=A?t:void 0,_;typeof n=="function"?_=n(M):_=[n,A?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let j=typeof i=="function"?i(M):i;return m.createElement(pN,{...u,"aria-current":I,className:_,ref:f,style:j,to:o,viewTransition:a},typeof l=="function"?l(M):l)});QV.displayName="NavLink";var XV=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=Om,action:a,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:p,...g},C)=>{let{unstable_useTransitions:S}=m.useContext(Si),y=rH(),w=nH(a,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",F=typeof a=="string"&&fN.test(a),R=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let A=E.nativeEvent.submitter,D=(A==null?void 0:A.getAttribute("formmethod"))||o,M=()=>y(A||E.currentTarget,{fetcherKey:t,method:D,navigate:r,replace:s,state:i,relative:u,preventScrollReset:f,viewTransition:p});S&&r!==!1?m.startTransition(()=>M()):M()};return m.createElement("form",{ref:C,method:b,action:w,onSubmit:n?l:R,...g,"data-discover":!F&&e==="render"?"true":void 0})});XV.displayName="Form";function ZV(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gN(e){let t=m.useContext(Id);return Er(t,ZV(e)),t}function JV(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o,unstable_useTransitions:a}={}){let l=Bn(),u=Ps(),f=lp(e,{relative:i});return m.useCallback(p=>{if(MV(p,t)){p.preventDefault();let g=r!==void 0?r:Rf(u)===Rf(f),C=()=>l(e,{replace:g,state:n,preventScrollReset:s,relative:i,viewTransition:o});a?m.startTransition(()=>C()):C()}},[u,l,f,r,n,t,e,s,i,o,a])}var eH=0,tH=()=>`__${String(++eH)}__`;function rH(){let{router:e}=gN("useSubmit"),{basename:t}=m.useContext(Si),r=SV(),n=e.fetch,s=e.navigate;return m.useCallback(async(i,o={})=>{let{action:a,method:l,encType:u,formData:f,body:p}=OV(i,t);if(o.navigate===!1){let g=o.fetcherKey||tH();await n(g,r,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await s(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,s,t,r])}function nH(e,{relative:t}={}){let{basename:r}=m.useContext(Si),n=m.useContext(wo);Er(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...lp(e||".",{relative:t})},o=Ps();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:qo([r,i.pathname])),Rf(i)}function sH(e,{relative:t}={}){let r=m.useContext(iN);Er(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=gN("useViewTransitionState"),s=lp(e,{relative:t});if(!r.isTransitioning)return!1;let i=sa(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=sa(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zm(s.pathname,o)!=null||Zm(s.pathname,i)!=null}var Sl=eN();const mN=t0(Sl),Qr=()=>d.jsx("div",{className:"flex h-screen/2 items-center justify-center ",children:d.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-solid border-primary border-t-transparent"})}),vN=m.createContext(null),r1=()=>{const e=m.useContext(vN);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},iH=({children:e})=>{const[t,r]=m.useState(!1),[n,s]=m.useState(!0),i=()=>{r(!0)};m.useEffect(()=>{const a=localStorage.getItem("user");a&&(console.log(a),r(!0)),s(!1)},[]);const o=()=>{localStorage.removeItem("user"),r(!1)};return d.jsx(vN.Provider,{value:{isAuthenticated:t,login:i,logout:o,isLoading:n},children:e})},Zt=({children:e})=>{const{isAuthenticated:t,isLoading:r}=r1();return r?d.jsx(Qr,{}):t?d.jsxs(d.Fragment,{children:[" ",e," "]}):d.jsx(EV,{to:"/",replace:!0})};var CN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wP=De.createContext&&De.createContext(CN),oH=["attr","size","title"];function aH(e,t){if(e==null)return{};var r=lH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(this,arguments)}function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ev(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){cH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cH(e,t,r){return t=uH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uH(e){var t=dH(e,"string");return typeof t=="symbol"?t:t+""}function dH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yN(e){return e&&e.map((t,r)=>De.createElement(t.tag,ev({key:r},t.attr),yN(t.child)))}function Xr(e){return t=>De.createElement(hH,Jm({attr:ev({},e.attr)},t),yN(e.child))}function hH(e){var t=r=>{var{attr:n,size:s,title:i}=e,o=aH(e,oH),a=s||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),De.createElement("svg",Jm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:ev(ev({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&De.createElement("title",null,i),e.children)};return wP!==void 0?De.createElement(wP.Consumer,null,r=>t(r)):t(CN)}function fH(e){return Xr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function pH(e){return Xr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function gH(e){return Xr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function mH(e){return Xr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}let vH={data:""},CH=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||vH},yH=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SH=/\/\*[^]*?\*\/|  +/g,bP=/\n+/g,Ka=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Ka(o,i):i+"{"+Ka(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Ka(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ka.p?Ka.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},jo={},SN=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+SN(e[r]);return t}return e},wH=(e,t,r,n,s)=>{let i=SN(e),o=jo[i]||(jo[i]=(l=>{let u=0,f=11;for(;u<l.length;)f=101*f+l.charCodeAt(u++)>>>0;return"go"+f})(i));if(!jo[o]){let l=i!==e?e:(u=>{let f,p,g=[{}];for(;f=yH.exec(u.replace(SH,""));)f[4]?g.shift():f[3]?(p=f[3].replace(bP," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][f[1]]=f[2].replace(bP," ").trim();return g[0]})(e);jo[o]=Ka(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&jo.g?jo.g:null;return r&&(jo.g=jo[o]),((l,u,f,p)=>{p?u.data=u.data.replace(p,l):u.data.indexOf(l)===-1&&(u.data=f?l+u.data:u.data+l)})(jo[o],t,n,a),o},xH=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Ka(a,""):a===!1?"":a}return n+s+(o??"")},"");function o0(e){let t=this||{},r=e.call?e(t.p):e;return wH(r.unshift?r.raw?xH(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,CH(t.target),t.g,t.o,t.k)}let wN,mw,vw;o0.bind({g:1});let ia=o0.bind({k:1});function bH(e,t,r,n){Ka.p=t,wN=e,mw=r,vw=n}function wl(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:mw&&mw()},a),r.o=/ *go\d+/.test(l),a.className=o0.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),vw&&u[0]&&vw(a),wN(u,a)}return s}}var EH=e=>typeof e=="function",tv=(e,t)=>EH(e)?e(t):e,RH=(()=>{let e=0;return()=>(++e).toString()})(),xN=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),FH=20,n1="default",bN=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return bN(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Lm=[],EN={toasts:[],pausedAt:void 0,settings:{toastLimit:FH}},uo={},RN=(e,t=n1)=>{uo[t]=bN(uo[t]||EN,e),Lm.forEach(([r,n])=>{r===t&&n(uo[t])})},FN=e=>Object.keys(uo).forEach(t=>RN(e,t)),TH=e=>Object.keys(uo).find(t=>uo[t].toasts.some(r=>r.id===e)),a0=(e=n1)=>t=>{RN(t,e)},PH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},AH=(e={},t=n1)=>{let[r,n]=m.useState(uo[t]||EN),s=m.useRef(uo[t]);m.useEffect(()=>(s.current!==uo[t]&&n(uo[t]),Lm.push([t,n]),()=>{let o=Lm.findIndex(([a])=>a===t);o>-1&&Lm.splice(o,1)}),[t]);let i=r.toasts.map(o=>{var a,l,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||PH[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...r,toasts:i}},DH=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||RH()}),cp=e=>(t,r)=>{let n=DH(t,e,r);return a0(n.toasterId||TH(n.id))({type:2,toast:n}),n.id},rn=(e,t)=>cp("blank")(e,t);rn.error=cp("error");rn.success=cp("success");rn.loading=cp("loading");rn.custom=cp("custom");rn.dismiss=(e,t)=>{let r={type:3,toastId:e};t?a0(t)(r):FN(r)};rn.dismissAll=e=>rn.dismiss(void 0,e);rn.remove=(e,t)=>{let r={type:4,toastId:e};t?a0(t)(r):FN(r)};rn.removeAll=e=>rn.remove(void 0,e);rn.promise=(e,t,r)=>{let n=rn.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?tv(t.success,s):void 0;return i?rn.success(i,{id:n,...r,...r==null?void 0:r.success}):rn.dismiss(n),s}).catch(s=>{let i=t.error?tv(t.error,s):void 0;i?rn.error(i,{id:n,...r,...r==null?void 0:r.error}):rn.dismiss(n)}),e};var MH=1e3,NH=(e,t="default")=>{let{toasts:r,pausedAt:n}=AH(e,t),s=m.useRef(new Map).current,i=m.useCallback((p,g=MH)=>{if(s.has(p))return;let C=setTimeout(()=>{s.delete(p),o({type:4,toastId:p})},g);s.set(p,C)},[]);m.useEffect(()=>{if(n)return;let p=Date.now(),g=r.map(C=>{if(C.duration===1/0)return;let S=(C.duration||0)+C.pauseDuration-(p-C.createdAt);if(S<0){C.visible&&rn.dismiss(C.id);return}return setTimeout(()=>rn.dismiss(C.id,t),S)});return()=>{g.forEach(C=>C&&clearTimeout(C))}},[r,n,t]);let o=m.useCallback(a0(t),[t]),a=m.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=m.useCallback((p,g)=>{o({type:1,toast:{id:p,height:g}})},[o]),u=m.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),f=m.useCallback((p,g)=>{let{reverseOrder:C=!1,gutter:S=8,defaultPosition:y}=g||{},w=r.filter(R=>(R.position||y)===(p.position||y)&&R.height),b=w.findIndex(R=>R.id===p.id),F=w.filter((R,E)=>E<b&&R.visible).length;return w.filter(R=>R.visible).slice(...C?[F+1]:[0,F]).reduce((R,E)=>R+(E.height||0)+S,0)},[r]);return m.useEffect(()=>{r.forEach(p=>{if(p.dismissed)i(p.id,p.removeDelay);else{let g=s.get(p.id);g&&(clearTimeout(g),s.delete(p.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:l,startPause:a,endPause:u,calculateOffset:f}}},IH=ia`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,OH=ia`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kH=ia`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,LH=wl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${OH} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${kH} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_H=ia`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,jH=wl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${_H} 1s linear infinite;
`,BH=ia`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GH=ia`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,VH=wl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GH} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,HH=wl("div")`
  position: absolute;
`,WH=wl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,UH=ia`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$H=wl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${UH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,zH=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?m.createElement($H,null,t):t:r==="blank"?null:m.createElement(WH,null,m.createElement(jH,{...n}),r!=="loading"&&m.createElement(HH,null,r==="error"?m.createElement(LH,{...n}):m.createElement(VH,{...n})))},KH=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,qH=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,YH="0%{opacity:0;} 100%{opacity:1;}",QH="0%{opacity:1;} 100%{opacity:0;}",XH=wl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ZH=wl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,JH=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=xN()?[YH,QH]:[KH(r),qH(r)];return{animation:t?`${ia(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ia(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},e9=m.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?JH(e.position||t||"top-center",e.visible):{opacity:0},i=m.createElement(zH,{toast:e}),o=m.createElement(ZH,{...e.ariaProps},tv(e.message,e));return m.createElement(XH,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):m.createElement(m.Fragment,null,i,o))});bH(m.createElement);var t9=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=m.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return m.createElement("div",{ref:i,className:t,style:r},s)},r9=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:xN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},n9=o0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,nm=16,s9=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:u}=NH(r,i);return m.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:nm,left:nm,right:nm,bottom:nm,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(f=>{let p=f.position||t,g=u.calculateOffset(f,{reverseOrder:e,gutter:n,defaultPosition:t}),C=r9(p,g);return m.createElement(t9,{id:f.id,key:f.id,onHeightUpdate:u.updateHeight,className:f.visible?n9:"",style:C},f.type==="custom"?tv(f.message,f):s?s(f):m.createElement(e9,{toast:f,position:p}))}))},st=rn;function TN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=TN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function PN(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=TN(e))&&(n&&(n+=" "),n+=t);return n}const s1="-",i9=e=>{const t=a9(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(s1);return a[0]===""&&a.length!==1&&a.shift(),AN(a,t)||o9(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},AN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?AN(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(s1);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},EP=/^\[(.+)\]$/,o9=e=>{if(EP.test(e)){const t=EP.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},a9=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return c9(Object.entries(e.classGroups),r).forEach(([i,o])=>{Cw(o,n,i,t)}),n},Cw=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:RP(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(l9(s)){Cw(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Cw(o,RP(t,i),r,n)})})},RP=(e,t)=>{let r=e;return t.split(s1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},l9=e=>e.isThemeGetter,c9=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,u9=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},DN="!",d9=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,f=0,p;for(let w=0;w<a.length;w++){let b=a[w];if(u===0){if(b===s&&(n||a.slice(w,w+i)===t)){l.push(a.slice(f,w)),f=w+i;continue}if(b==="/"){p=w;continue}}b==="["?u++:b==="]"&&u--}const g=l.length===0?a:a.substring(f),C=g.startsWith(DN),S=C?g.substring(1):g,y=p&&p>f?p-f:void 0;return{modifiers:l,hasImportantModifier:C,baseClassName:S,maybePostfixModifierPosition:y}};return r?a=>r({className:a,parseClassName:o}):o},h9=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},f9=e=>({cache:u9(e.cacheSize),parseClassName:d9(e),...i9(e)}),p9=/\s+/,g9=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(p9);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:C}=r(u);let S=!!C,y=n(S?g.substring(0,C):g);if(!y){if(!S){a=u+(a.length>0?" "+a:a);continue}if(y=n(g),!y){a=u+(a.length>0?" "+a:a);continue}S=!1}const w=h9(f).join(":"),b=p?w+DN:w,F=b+y;if(i.includes(F))continue;i.push(F);const R=s(y,S);for(let E=0;E<R.length;++E){const A=R[E];i.push(b+A)}a=u+(a.length>0?" "+a:a)}return a};function m9(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=MN(t))&&(n&&(n+=" "),n+=r);return n}const MN=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=MN(e[n]))&&(r&&(r+=" "),r+=t);return r};function v9(e,...t){let r,n,s,i=o;function o(l){const u=t.reduce((f,p)=>p(f),e());return r=f9(u),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const f=g9(l,r);return s(l,f),f}return function(){return i(m9.apply(null,arguments))}}const vr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},NN=/^\[(?:([a-z-]+):)?(.+)\]$/i,C9=/^\d+\/\d+$/,y9=new Set(["px","full","screen"]),S9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,x9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,b9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bo=e=>Yu(e)||y9.has(e)||C9.test(e),_a=e=>kd(e,"length",N9),Yu=e=>!!e&&!Number.isNaN(Number(e)),Jy=e=>kd(e,"number",Yu),Hh=e=>!!e&&Number.isInteger(Number(e)),R9=e=>e.endsWith("%")&&Yu(e.slice(0,-1)),Nt=e=>NN.test(e),ja=e=>S9.test(e),F9=new Set(["length","size","percentage"]),T9=e=>kd(e,F9,IN),P9=e=>kd(e,"position",IN),A9=new Set(["image","url"]),D9=e=>kd(e,A9,O9),M9=e=>kd(e,"",I9),Wh=()=>!0,kd=(e,t,r)=>{const n=NN.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},N9=e=>w9.test(e)&&!x9.test(e),IN=()=>!1,I9=e=>b9.test(e),O9=e=>E9.test(e),k9=()=>{const e=vr("colors"),t=vr("spacing"),r=vr("blur"),n=vr("brightness"),s=vr("borderColor"),i=vr("borderRadius"),o=vr("borderSpacing"),a=vr("borderWidth"),l=vr("contrast"),u=vr("grayscale"),f=vr("hueRotate"),p=vr("invert"),g=vr("gap"),C=vr("gradientColorStops"),S=vr("gradientColorStopPositions"),y=vr("inset"),w=vr("margin"),b=vr("opacity"),F=vr("padding"),R=vr("saturate"),E=vr("scale"),A=vr("sepia"),D=vr("skew"),M=vr("space"),I=vr("translate"),_=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",Nt,t],B=()=>[Nt,t],oe=()=>["",Bo,_a],ye=()=>["auto",Yu,Nt],Re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],we=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",Nt],de=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Yu,Nt];return{cacheSize:500,separator:":",theme:{colors:[Wh],spacing:[Bo,_a],blur:["none","",ja,Nt],brightness:K(),borderColor:[e],borderRadius:["none","","full",ja,Nt],borderSpacing:B(),borderWidth:oe(),contrast:K(),grayscale:re(),hueRotate:K(),invert:re(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[R9,_a],inset:H(),margin:H(),opacity:K(),padding:B(),saturate:K(),scale:K(),sepia:re(),skew:K(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",Nt]}],container:["container"],columns:[{columns:[ja]}],"break-after":[{"break-after":de()}],"break-before":[{"break-before":de()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Re(),Nt]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hh,Nt]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Nt]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",Hh,Nt]}],"grid-cols":[{"grid-cols":[Wh]}],"col-start-end":[{col:["auto",{span:["full",Hh,Nt]},Nt]}],"col-start":[{"col-start":ye()}],"col-end":[{"col-end":ye()}],"grid-rows":[{"grid-rows":[Wh]}],"row-start-end":[{row:["auto",{span:[Hh,Nt]},Nt]}],"row-start":[{"row-start":ye()}],"row-end":[{"row-end":ye()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Nt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Nt,t]}],"min-w":[{"min-w":[Nt,t,"min","max","fit"]}],"max-w":[{"max-w":[Nt,t,"none","full","min","max","fit","prose",{screen:[ja]},ja]}],h:[{h:[Nt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Nt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Nt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Nt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ja,_a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jy]}],"font-family":[{font:[Wh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Nt]}],"line-clamp":[{"line-clamp":["none",Yu,Jy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bo,Nt]}],"list-image":[{"list-image":["none",Nt]}],"list-style-type":[{list:["none","disc","decimal",Nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bo,_a]}],"underline-offset":[{"underline-offset":["auto",Bo,Nt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Re(),P9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",T9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},D9]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...we(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:we()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...we()]}],"outline-offset":[{"outline-offset":[Bo,Nt]}],"outline-w":[{outline:[Bo,_a]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Bo,_a]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ja,M9]}],"shadow-color":[{shadow:[Wh]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ja,Nt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[R]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Nt]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Nt]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Hh,Nt]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Nt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Bo,_a,Jy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},L9=v9(k9);function Lt(...e){return L9(PN(e))}const be=m.forwardRef(({className:e,type:t,...r},n)=>d.jsx("input",{type:t,className:Lt("mt-1 w-full flex h-9 rounded-md border border-input border-gray-300 dark:border-gray-600 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));be.displayName="Input";function FP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wr(...e){return t=>{let r=!1;const n=e.map(s=>{const i=FP(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():FP(e[s],null)}}}}function Gt(...e){return m.useCallback(wr(...e),e)}var _9=Symbol.for("react.lazy"),rv=qx[" use ".trim().toString()];function j9(e){return typeof e=="object"&&e!==null&&"then"in e}function ON(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===_9&&"_payload"in e&&j9(e._payload)}function kN(e){const t=G9(e),r=m.forwardRef((n,s)=>{let{children:i,...o}=n;ON(i)&&typeof rv=="function"&&(i=rv(i._payload));const a=m.Children.toArray(i),l=a.find(H9);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var B9=kN("Slot");function G9(e){const t=m.forwardRef((r,n)=>{let{children:s,...i}=r;if(ON(s)&&typeof rv=="function"&&(s=rv(s._payload)),m.isValidElement(s)){const o=U9(s),a=W9(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var V9=Symbol("radix.slottable");function H9(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===V9}function W9(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function U9(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const TP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,PP=PN,LN=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return PP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],p=i==null?void 0:i[u];if(f===null)return null;const g=TP(f)||TP(p);return s[u][g]}),a=r&&Object.entries(r).reduce((u,f)=>{let[p,g]=f;return g===void 0||(u[p]=g),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:p,className:g,...C}=f;return Object.entries(C).every(S=>{let[y,w]=S;return Array.isArray(w)?w.includes({...i,...a}[y]):{...i,...a}[y]===w})?[...u,p,g]:u},[]);return PP(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},$9=LN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),It=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?B9:"button";return d.jsx(o,{className:Lt($9({variant:t,size:r,className:e})),ref:i,...s})});It.displayName="Button";const Fc="https://crm-backend-zmiu.onrender.com",_e=async(e,t={})=>{const r=localStorage.getItem("token"),n={"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{},...t.headers};try{const s=await fetch(`${Fc}${e}`,{...t,headers:n,cache:"no-cache"});if(!s.ok){let i="Something went wrong";try{i=(await s.json()).message||i}catch{i=s.statusText||i}throw new Error(i)}return await s.json()}catch(s){throw console.error("Error fetching data:",s),s}};var Ld=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},z9={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},qa,Kx,HM,K9=(HM=class{constructor(){vt(this,qa,z9);vt(this,Kx,!1)}setTimeoutProvider(e){nt(this,qa,e)}setTimeout(e,t){return Z(this,qa).setTimeout(e,t)}clearTimeout(e){Z(this,qa).clearTimeout(e)}setInterval(e,t){return Z(this,qa).setInterval(e,t)}clearInterval(e){Z(this,qa).clearInterval(e)}},qa=new WeakMap,Kx=new WeakMap,HM),sc=new K9;function q9(e){setTimeout(e,0)}var Tc=typeof window>"u"||"Deno"in globalThis;function Kn(){}function Y9(e,t){return typeof e=="function"?e(t):e}function yw(e){return typeof e=="number"&&e>=0&&e!==1/0}function _N(e,t){return Math.max(e+(t||0)-Date.now(),0)}function il(e,t){return typeof e=="function"?e(t):e}function fi(e,t){return typeof e=="function"?e(t):e}function AP(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==i1(o,t.options))return!1}else if(!Ff(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function DP(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Pc(t.options.mutationKey)!==Pc(i))return!1}else if(!Ff(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function i1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Pc)(e)}function Pc(e){return JSON.stringify(e,(t,r)=>Sw(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ff(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ff(e[r],t[r])):!1}var Q9=Object.prototype.hasOwnProperty;function jN(e,t){if(e===t)return e;const r=MP(e)&&MP(t);if(!r&&!(Sw(e)&&Sw(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,a=r?new Array(o):{};let l=0;for(let u=0;u<o;u++){const f=r?u:i[u],p=e[f],g=t[f];if(p===g){a[f]=p,(r?u<s:Q9.call(e,f))&&l++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){a[f]=g;continue}const C=jN(p,g);a[f]=C,C===p&&l++}return s===o&&l===s?e:a}function nv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function MP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Sw(e){if(!NP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!NP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function NP(e){return Object.prototype.toString.call(e)==="[object Object]"}function X9(e){return new Promise(t=>{sc.setTimeout(t,e)})}function ww(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?jN(e,t):t}function Z9(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function J9(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var o1=Symbol();function BN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===o1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function GN(e,t){return typeof e=="function"?e(...t):!!e}var lc,Ya,od,WM,eW=(WM=class extends Ld{constructor(){super();vt(this,lc);vt(this,Ya);vt(this,od);nt(this,od,t=>{if(!Tc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Z(this,Ya)||this.setEventListener(Z(this,od))}onUnsubscribe(){var t;this.hasListeners()||((t=Z(this,Ya))==null||t.call(this),nt(this,Ya,void 0))}setEventListener(t){var r;nt(this,od,t),(r=Z(this,Ya))==null||r.call(this),nt(this,Ya,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Z(this,lc)!==t&&(nt(this,lc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Z(this,lc)=="boolean"?Z(this,lc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},lc=new WeakMap,Ya=new WeakMap,od=new WeakMap,WM),a1=new eW;function xw(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var tW=q9;function rW(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=tW;const i=a=>{t?e.push(a):s(()=>{r(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var nn=rW(),ad,Qa,ld,UM,nW=(UM=class extends Ld{constructor(){super();vt(this,ad,!0);vt(this,Qa);vt(this,ld);nt(this,ld,t=>{if(!Tc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Z(this,Qa)||this.setEventListener(Z(this,ld))}onUnsubscribe(){var t;this.hasListeners()||((t=Z(this,Qa))==null||t.call(this),nt(this,Qa,void 0))}setEventListener(t){var r;nt(this,ld,t),(r=Z(this,Qa))==null||r.call(this),nt(this,Qa,t(this.setOnline.bind(this)))}setOnline(t){Z(this,ad)!==t&&(nt(this,ad,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Z(this,ad)}},ad=new WeakMap,Qa=new WeakMap,ld=new WeakMap,UM),sv=new nW;function sW(e){return Math.min(1e3*2**e,3e4)}function VN(e){return(e??"online")==="online"?sv.isOnline():!0}var bw=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function HN(e){let t=!1,r=0,n;const s=xw(),i=()=>s.status!=="pending",o=y=>{var w;if(!i()){const b=new bw(y);g(b),(w=e.onCancel)==null||w.call(e,b)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>a1.isFocused()&&(e.networkMode==="always"||sv.isOnline())&&e.canRun(),f=()=>VN(e.networkMode)&&e.canRun(),p=y=>{i()||(n==null||n(),s.resolve(y))},g=y=>{i()||(n==null||n(),s.reject(y))},C=()=>new Promise(y=>{var w;n=b=>{(i()||u())&&y(b)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;n=void 0,i()||(y=e.onContinue)==null||y.call(e)}),S=()=>{if(i())return;let y;const w=r===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(p).catch(b=>{var D;if(i())return;const F=e.retry??(Tc?0:3),R=e.retryDelay??sW,E=typeof R=="function"?R(r,b):R,A=F===!0||typeof F=="number"&&r<F||typeof F=="function"&&F(r,b);if(t||!A){g(b);return}r++,(D=e.onFail)==null||D.call(e,r,b),X9(E).then(()=>u()?void 0:C()).then(()=>{t?g(b):S()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?S():C().then(S),s)}}var cc,$M,WN=($M=class{constructor(){vt(this,cc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yw(this.gcTime)&&nt(this,cc,sc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Tc?1/0:300*1e3))}clearGcTimeout(){Z(this,cc)&&(sc.clearTimeout(Z(this,cc)),nt(this,cc,void 0))}},cc=new WeakMap,$M),uc,cd,di,dc,un,rp,hc,Li,Vo,zM,iW=(zM=class extends WN{constructor(t){super();vt(this,Li);vt(this,uc);vt(this,cd);vt(this,di);vt(this,dc);vt(this,un);vt(this,rp);vt(this,hc);nt(this,hc,!1),nt(this,rp,t.defaultOptions),this.setOptions(t.options),this.observers=[],nt(this,dc,t.client),nt(this,di,Z(this,dc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,nt(this,uc,OP(this.options)),this.state=t.state??Z(this,uc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Z(this,un))==null?void 0:t.promise}setOptions(t){if(this.options={...Z(this,rp),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=OP(this.options);r.data!==void 0&&(this.setState(IP(r.data,r.dataUpdatedAt)),nt(this,uc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,di).remove(this)}setData(t,r){const n=ww(this.state.data,t,this.options);return Ot(this,Li,Vo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ot(this,Li,Vo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Z(this,un))==null?void 0:n.promise;return(s=Z(this,un))==null||s.cancel(t),r?r.then(Kn).catch(Kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,uc))}isActive(){return this.observers.some(t=>fi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===o1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>il(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!_N(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Z(this,un))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Z(this,un))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Z(this,di).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Z(this,un)&&(Z(this,hc)?Z(this,un).cancel({revert:!0}):Z(this,un).cancelRetry()),this.scheduleGc()),Z(this,di).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ot(this,Li,Vo).call(this,{type:"invalidate"})}async fetch(t,r){var l,u,f,p,g,C,S,y,w,b,F,R;if(this.state.fetchStatus!=="idle"&&((l=Z(this,un))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Z(this,un))return Z(this,un).continueRetry(),Z(this,un).promise}if(t&&this.setOptions(t),!this.options.queryFn){const E=this.observers.find(A=>A.options.queryFn);E&&this.setOptions(E.options)}const n=new AbortController,s=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(nt(this,hc,!0),n.signal)})},i=()=>{const E=BN(this.options,r),D=(()=>{const M={client:Z(this,dc),queryKey:this.queryKey,meta:this.meta};return s(M),M})();return nt(this,hc,!1),this.options.persister?this.options.persister(E,D,this):E(D)},a=(()=>{const E={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Z(this,dc),state:this.state,fetchFn:i};return s(E),E})();(u=this.options.behavior)==null||u.onFetch(a,this),nt(this,cd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Ot(this,Li,Vo).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta}),nt(this,un,HN({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:E=>{E instanceof bw&&E.revert&&this.setState({...Z(this,cd),fetchStatus:"idle"}),n.abort()},onFail:(E,A)=>{Ot(this,Li,Vo).call(this,{type:"failed",failureCount:E,error:A})},onPause:()=>{Ot(this,Li,Vo).call(this,{type:"pause"})},onContinue:()=>{Ot(this,Li,Vo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const E=await Z(this,un).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(C=(g=Z(this,di).config).onSuccess)==null||C.call(g,E,this),(y=(S=Z(this,di).config).onSettled)==null||y.call(S,E,this.state.error,this),E}catch(E){if(E instanceof bw){if(E.silent)return Z(this,un).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw Ot(this,Li,Vo).call(this,{type:"error",error:E}),(b=(w=Z(this,di).config).onError)==null||b.call(w,E,this),(R=(F=Z(this,di).config).onSettled)==null||R.call(F,this.state.data,E,this),E}finally{this.scheduleGc()}}},uc=new WeakMap,cd=new WeakMap,di=new WeakMap,dc=new WeakMap,un=new WeakMap,rp=new WeakMap,hc=new WeakMap,Li=new WeakSet,Vo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...UN(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...IP(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return nt(this,cd,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),nn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Z(this,di).notify({query:this,type:"updated",action:t})})},zM);function UN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function IP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function OP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ys,Wt,np,$n,fc,ud,Uo,Xa,sp,dd,hd,pc,gc,Za,fd,tr,Zh,Ew,Rw,Fw,Tw,Pw,Aw,Dw,$N,KM,oW=(KM=class extends Ld{constructor(t,r){super();vt(this,tr);vt(this,ys);vt(this,Wt);vt(this,np);vt(this,$n);vt(this,fc);vt(this,ud);vt(this,Uo);vt(this,Xa);vt(this,sp);vt(this,dd);vt(this,hd);vt(this,pc);vt(this,gc);vt(this,Za);vt(this,fd,new Set);this.options=r,nt(this,ys,t),nt(this,Xa,null),nt(this,Uo,xw()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Z(this,Wt).addObserver(this),kP(Z(this,Wt),this.options)?Ot(this,tr,Zh).call(this):this.updateResult(),Ot(this,tr,Tw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mw(Z(this,Wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mw(Z(this,Wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ot(this,tr,Pw).call(this),Ot(this,tr,Aw).call(this),Z(this,Wt).removeObserver(this)}setOptions(t){const r=this.options,n=Z(this,Wt);if(this.options=Z(this,ys).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fi(this.options.enabled,Z(this,Wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ot(this,tr,Dw).call(this),Z(this,Wt).setOptions(this.options),r._defaulted&&!nv(this.options,r)&&Z(this,ys).getQueryCache().notify({type:"observerOptionsUpdated",query:Z(this,Wt),observer:this});const s=this.hasListeners();s&&LP(Z(this,Wt),n,this.options,r)&&Ot(this,tr,Zh).call(this),this.updateResult(),s&&(Z(this,Wt)!==n||fi(this.options.enabled,Z(this,Wt))!==fi(r.enabled,Z(this,Wt))||il(this.options.staleTime,Z(this,Wt))!==il(r.staleTime,Z(this,Wt)))&&Ot(this,tr,Ew).call(this);const i=Ot(this,tr,Rw).call(this);s&&(Z(this,Wt)!==n||fi(this.options.enabled,Z(this,Wt))!==fi(r.enabled,Z(this,Wt))||i!==Z(this,Za))&&Ot(this,tr,Fw).call(this,i)}getOptimisticResult(t){const r=Z(this,ys).getQueryCache().build(Z(this,ys),t),n=this.createResult(r,t);return lW(this,n)&&(nt(this,$n,n),nt(this,ud,this.options),nt(this,fc,Z(this,Wt).state)),n}getCurrentResult(){return Z(this,$n)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Z(this,Uo).status==="pending"&&Z(this,Uo).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){Z(this,fd).add(t)}getCurrentQuery(){return Z(this,Wt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Z(this,ys).defaultQueryOptions(t),n=Z(this,ys).getQueryCache().build(Z(this,ys),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ot(this,tr,Zh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Z(this,$n)))}createResult(t,r){var _;const n=Z(this,Wt),s=this.options,i=Z(this,$n),o=Z(this,fc),a=Z(this,ud),u=t!==n?t.state:Z(this,np),{state:f}=t;let p={...f},g=!1,C;if(r._optimisticResults){const j=this.hasListeners(),H=!j&&kP(t,r),B=j&&LP(t,n,r,s);(H||B)&&(p={...p,...UN(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:S,errorUpdatedAt:y,status:w}=p;C=p.data;let b=!1;if(r.placeholderData!==void 0&&C===void 0&&w==="pending"){let j;i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(j=i.data,b=!0):j=typeof r.placeholderData=="function"?r.placeholderData((_=Z(this,hd))==null?void 0:_.state.data,Z(this,hd)):r.placeholderData,j!==void 0&&(w="success",C=ww(i==null?void 0:i.data,j,r),g=!0)}if(r.select&&C!==void 0&&!b)if(i&&C===(o==null?void 0:o.data)&&r.select===Z(this,sp))C=Z(this,dd);else try{nt(this,sp,r.select),C=r.select(C),C=ww(i==null?void 0:i.data,C,r),nt(this,dd,C),nt(this,Xa,null)}catch(j){nt(this,Xa,j)}Z(this,Xa)&&(S=Z(this,Xa),C=Z(this,dd),y=Date.now(),w="error");const F=p.fetchStatus==="fetching",R=w==="pending",E=w==="error",A=R&&F,D=C!==void 0,I={status:w,fetchStatus:p.fetchStatus,isPending:R,isSuccess:w==="success",isError:E,isInitialLoading:A,isLoading:A,data:C,dataUpdatedAt:p.dataUpdatedAt,error:S,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:F,isRefetching:F&&!R,isLoadingError:E&&!D,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:E&&D,isStale:l1(t,r),refetch:this.refetch,promise:Z(this,Uo),isEnabled:fi(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const j=oe=>{I.status==="error"?oe.reject(I.error):I.data!==void 0&&oe.resolve(I.data)},H=()=>{const oe=nt(this,Uo,I.promise=xw());j(oe)},B=Z(this,Uo);switch(B.status){case"pending":t.queryHash===n.queryHash&&j(B);break;case"fulfilled":(I.status==="error"||I.data!==B.value)&&H();break;case"rejected":(I.status!=="error"||I.error!==B.reason)&&H();break}}return I}updateResult(){const t=Z(this,$n),r=this.createResult(Z(this,Wt),this.options);if(nt(this,fc,Z(this,Wt).state),nt(this,ud,this.options),Z(this,fc).data!==void 0&&nt(this,hd,Z(this,Wt)),nv(r,t))return;nt(this,$n,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Z(this,fd).size)return!0;const o=new Set(i??Z(this,fd));return this.options.throwOnError&&o.add("error"),Object.keys(Z(this,$n)).some(a=>{const l=a;return Z(this,$n)[l]!==t[l]&&o.has(l)})};Ot(this,tr,$N).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ot(this,tr,Tw).call(this)}},ys=new WeakMap,Wt=new WeakMap,np=new WeakMap,$n=new WeakMap,fc=new WeakMap,ud=new WeakMap,Uo=new WeakMap,Xa=new WeakMap,sp=new WeakMap,dd=new WeakMap,hd=new WeakMap,pc=new WeakMap,gc=new WeakMap,Za=new WeakMap,fd=new WeakMap,tr=new WeakSet,Zh=function(t){Ot(this,tr,Dw).call(this);let r=Z(this,Wt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Kn)),r},Ew=function(){Ot(this,tr,Pw).call(this);const t=il(this.options.staleTime,Z(this,Wt));if(Tc||Z(this,$n).isStale||!yw(t))return;const n=_N(Z(this,$n).dataUpdatedAt,t)+1;nt(this,pc,sc.setTimeout(()=>{Z(this,$n).isStale||this.updateResult()},n))},Rw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Z(this,Wt)):this.options.refetchInterval)??!1},Fw=function(t){Ot(this,tr,Aw).call(this),nt(this,Za,t),!(Tc||fi(this.options.enabled,Z(this,Wt))===!1||!yw(Z(this,Za))||Z(this,Za)===0)&&nt(this,gc,sc.setInterval(()=>{(this.options.refetchIntervalInBackground||a1.isFocused())&&Ot(this,tr,Zh).call(this)},Z(this,Za)))},Tw=function(){Ot(this,tr,Ew).call(this),Ot(this,tr,Fw).call(this,Ot(this,tr,Rw).call(this))},Pw=function(){Z(this,pc)&&(sc.clearTimeout(Z(this,pc)),nt(this,pc,void 0))},Aw=function(){Z(this,gc)&&(sc.clearInterval(Z(this,gc)),nt(this,gc,void 0))},Dw=function(){const t=Z(this,ys).getQueryCache().build(Z(this,ys),this.options);if(t===Z(this,Wt))return;const r=Z(this,Wt);nt(this,Wt,t),nt(this,np,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},$N=function(t){nn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Z(this,$n))}),Z(this,ys).getQueryCache().notify({query:Z(this,Wt),type:"observerResultsUpdated"})})},KM);function aW(e,t){return fi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function kP(e,t){return aW(e,t)||e.state.data!==void 0&&Mw(e,t,t.refetchOnMount)}function Mw(e,t,r){if(fi(t.enabled,e)!==!1&&il(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&l1(e,t)}return!1}function LP(e,t,r,n){return(e!==t||fi(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&l1(e,r)}function l1(e,t){return fi(t.enabled,e)!==!1&&e.isStaleByTime(il(t.staleTime,e))}function lW(e,t){return!nv(e.getCurrentResult(),t)}function _P(e){return{onFetch:(t,r)=>{var f,p,g,C,S;const n=t.options,s=(g=(p=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,i=((C=t.state.data)==null?void 0:C.pages)||[],o=((S=t.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const w=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},b=BN(t.options,t.fetchOptions),F=async(R,E,A)=>{if(y)return Promise.reject();if(E==null&&R.pages.length)return Promise.resolve(R);const M=(()=>{const H={client:t.client,queryKey:t.queryKey,pageParam:E,direction:A?"backward":"forward",meta:t.options.meta};return w(H),H})(),I=await b(M),{maxPages:_}=t.options,j=A?J9:Z9;return{pages:j(R.pages,I,_),pageParams:j(R.pageParams,E,_)}};if(s&&i.length){const R=s==="backward",E=R?cW:jP,A={pages:i,pageParams:o},D=E(n,A);a=await F(A,D,R)}else{const R=e??i.length;do{const E=l===0?o[0]??n.initialPageParam:jP(n,a);if(l>0&&E==null)break;a=await F(a,E),l++}while(l<R)}return a};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function jP(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function cW(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ip,so,zn,mc,io,Ha,qM,uW=(qM=class extends WN{constructor(t){super();vt(this,io);vt(this,ip);vt(this,so);vt(this,zn);vt(this,mc);nt(this,ip,t.client),this.mutationId=t.mutationId,nt(this,zn,t.mutationCache),nt(this,so,[]),this.state=t.state||zN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Z(this,so).includes(t)||(Z(this,so).push(t),this.clearGcTimeout(),Z(this,zn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){nt(this,so,Z(this,so).filter(r=>r!==t)),this.scheduleGc(),Z(this,zn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Z(this,so).length||(this.state.status==="pending"?this.scheduleGc():Z(this,zn).remove(this))}continue(){var t;return((t=Z(this,mc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,f,p,g,C,S,y,w,b,F,R,E,A,D,M,I,_;const r=()=>{Ot(this,io,Ha).call(this,{type:"continue"})},n={client:Z(this,ip),meta:this.options.meta,mutationKey:this.options.mutationKey};nt(this,mc,HN({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(j,H)=>{Ot(this,io,Ha).call(this,{type:"failed",failureCount:j,error:H})},onPause:()=>{Ot(this,io,Ha).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,zn).canRun(this)}));const s=this.state.status==="pending",i=!Z(this,mc).canStart();try{if(s)r();else{Ot(this,io,Ha).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=Z(this,zn).config).onMutate)==null?void 0:a.call(o,t,this,n));const H=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));H!==this.state.context&&Ot(this,io,Ha).call(this,{type:"pending",context:H,variables:t,isPaused:i})}const j=await Z(this,mc).start();return await((p=(f=Z(this,zn).config).onSuccess)==null?void 0:p.call(f,j,t,this.state.context,this,n)),await((C=(g=this.options).onSuccess)==null?void 0:C.call(g,j,t,this.state.context,n)),await((y=(S=Z(this,zn).config).onSettled)==null?void 0:y.call(S,j,null,this.state.variables,this.state.context,this,n)),await((b=(w=this.options).onSettled)==null?void 0:b.call(w,j,null,t,this.state.context,n)),Ot(this,io,Ha).call(this,{type:"success",data:j}),j}catch(j){try{throw await((R=(F=Z(this,zn).config).onError)==null?void 0:R.call(F,j,t,this.state.context,this,n)),await((A=(E=this.options).onError)==null?void 0:A.call(E,j,t,this.state.context,n)),await((M=(D=Z(this,zn).config).onSettled)==null?void 0:M.call(D,void 0,j,this.state.variables,this.state.context,this,n)),await((_=(I=this.options).onSettled)==null?void 0:_.call(I,void 0,j,t,this.state.context,n)),j}finally{Ot(this,io,Ha).call(this,{type:"error",error:j})}}finally{Z(this,zn).runNext(this)}}},ip=new WeakMap,so=new WeakMap,zn=new WeakMap,mc=new WeakMap,io=new WeakSet,Ha=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),nn.batch(()=>{Z(this,so).forEach(n=>{n.onMutationUpdate(t)}),Z(this,zn).notify({mutation:this,type:"updated",action:t})})},qM);function zN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $o,_i,op,YM,dW=(YM=class extends Ld{constructor(t={}){super();vt(this,$o);vt(this,_i);vt(this,op);this.config=t,nt(this,$o,new Set),nt(this,_i,new Map),nt(this,op,0)}build(t,r,n){const s=new uW({client:t,mutationCache:this,mutationId:++em(this,op)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){Z(this,$o).add(t);const r=sm(t);if(typeof r=="string"){const n=Z(this,_i).get(r);n?n.push(t):Z(this,_i).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Z(this,$o).delete(t)){const r=sm(t);if(typeof r=="string"){const n=Z(this,_i).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&Z(this,_i).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=sm(t);if(typeof r=="string"){const n=Z(this,_i).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=sm(t);if(typeof r=="string"){const s=(n=Z(this,_i).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nn.batch(()=>{Z(this,$o).forEach(t=>{this.notify({type:"removed",mutation:t})}),Z(this,$o).clear(),Z(this,_i).clear()})}getAll(){return Array.from(Z(this,$o))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>DP(r,n))}findAll(t={}){return this.getAll().filter(r=>DP(t,r))}notify(t){nn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return nn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Kn))))}},$o=new WeakMap,_i=new WeakMap,op=new WeakMap,YM);function sm(e){var t;return(t=e.options.scope)==null?void 0:t.id}var zo,Ja,Ss,Ko,na,_m,Nw,QM,hW=(QM=class extends Ld{constructor(r,n){super();vt(this,na);vt(this,zo);vt(this,Ja);vt(this,Ss);vt(this,Ko);nt(this,zo,r),this.setOptions(n),this.bindMethods(),Ot(this,na,_m).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=Z(this,zo).defaultMutationOptions(r),nv(this.options,n)||Z(this,zo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Z(this,Ss),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Pc(n.mutationKey)!==Pc(this.options.mutationKey)?this.reset():((s=Z(this,Ss))==null?void 0:s.state.status)==="pending"&&Z(this,Ss).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Z(this,Ss))==null||r.removeObserver(this)}onMutationUpdate(r){Ot(this,na,_m).call(this),Ot(this,na,Nw).call(this,r)}getCurrentResult(){return Z(this,Ja)}reset(){var r;(r=Z(this,Ss))==null||r.removeObserver(this),nt(this,Ss,void 0),Ot(this,na,_m).call(this),Ot(this,na,Nw).call(this)}mutate(r,n){var s;return nt(this,Ko,n),(s=Z(this,Ss))==null||s.removeObserver(this),nt(this,Ss,Z(this,zo).getMutationCache().build(Z(this,zo),this.options)),Z(this,Ss).addObserver(this),Z(this,Ss).execute(r)}},zo=new WeakMap,Ja=new WeakMap,Ss=new WeakMap,Ko=new WeakMap,na=new WeakSet,_m=function(){var n;const r=((n=Z(this,Ss))==null?void 0:n.state)??zN();nt(this,Ja,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Nw=function(r){nn.batch(()=>{var n,s,i,o,a,l,u,f;if(Z(this,Ko)&&this.hasListeners()){const p=Z(this,Ja).variables,g=Z(this,Ja).context,C={client:Z(this,zo),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=Z(this,Ko)).onSuccess)==null||s.call(n,r.data,p,g,C),(o=(i=Z(this,Ko)).onSettled)==null||o.call(i,r.data,null,p,g,C)):(r==null?void 0:r.type)==="error"&&((l=(a=Z(this,Ko)).onError)==null||l.call(a,r.error,p,g,C),(f=(u=Z(this,Ko)).onSettled)==null||f.call(u,void 0,r.error,p,g,C))}this.listeners.forEach(p=>{p(Z(this,Ja))})})},QM),oo,XM,fW=(XM=class extends Ld{constructor(t={}){super();vt(this,oo);this.config=t,nt(this,oo,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??i1(s,r);let o=this.get(i);return o||(o=new iW({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Z(this,oo).has(t.queryHash)||(Z(this,oo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Z(this,oo).get(t.queryHash);r&&(t.destroy(),r===t&&Z(this,oo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Z(this,oo).get(t)}getAll(){return[...Z(this,oo).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>AP(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>AP(t,n)):r}notify(t){nn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},oo=new WeakMap,XM),Or,el,tl,pd,gd,rl,md,vd,ZM,pW=(ZM=class{constructor(e={}){vt(this,Or);vt(this,el);vt(this,tl);vt(this,pd);vt(this,gd);vt(this,rl);vt(this,md);vt(this,vd);nt(this,Or,e.queryCache||new fW),nt(this,el,e.mutationCache||new dW),nt(this,tl,e.defaultOptions||{}),nt(this,pd,new Map),nt(this,gd,new Map),nt(this,rl,0)}mount(){em(this,rl)._++,Z(this,rl)===1&&(nt(this,md,a1.subscribe(async e=>{e&&(await this.resumePausedMutations(),Z(this,Or).onFocus())})),nt(this,vd,sv.subscribe(async e=>{e&&(await this.resumePausedMutations(),Z(this,Or).onOnline())})))}unmount(){var e,t;em(this,rl)._--,Z(this,rl)===0&&((e=Z(this,md))==null||e.call(this),nt(this,md,void 0),(t=Z(this,vd))==null||t.call(this),nt(this,vd,void 0))}isFetching(e){return Z(this,Or).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Z(this,el).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Z(this,Or).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Z(this,Or).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(il(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Z(this,Or).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Z(this,Or).get(n.queryHash),i=s==null?void 0:s.state.data,o=Y9(t,i);if(o!==void 0)return Z(this,Or).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return nn.batch(()=>Z(this,Or).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Z(this,Or).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Z(this,Or);nn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Z(this,Or);return nn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=nn.batch(()=>Z(this,Or).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Kn).catch(Kn)}invalidateQueries(e,t={}){return nn.batch(()=>(Z(this,Or).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=nn.batch(()=>Z(this,Or).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Kn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Kn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Z(this,Or).build(this,t);return r.isStaleByTime(il(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Kn).catch(Kn)}fetchInfiniteQuery(e){return e.behavior=_P(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Kn).catch(Kn)}ensureInfiniteQueryData(e){return e.behavior=_P(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sv.isOnline()?Z(this,el).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,Or)}getMutationCache(){return Z(this,el)}getDefaultOptions(){return Z(this,tl)}setDefaultOptions(e){nt(this,tl,e)}setQueryDefaults(e,t){Z(this,pd).set(Pc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Z(this,pd).values()],r={};return t.forEach(n=>{Ff(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Z(this,gd).set(Pc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Z(this,gd).values()],r={};return t.forEach(n=>{Ff(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Z(this,tl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=i1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===o1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Z(this,tl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Z(this,Or).clear(),Z(this,el).clear()}},Or=new WeakMap,el=new WeakMap,tl=new WeakMap,pd=new WeakMap,gd=new WeakMap,rl=new WeakMap,md=new WeakMap,vd=new WeakMap,ZM),KN=m.createContext(void 0),Pt=e=>{const t=m.useContext(KN);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},gW=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(KN.Provider,{value:e,children:t})),qN=m.createContext(!1),mW=()=>m.useContext(qN);qN.Provider;function vW(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var CW=m.createContext(vW()),yW=()=>m.useContext(CW),SW=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},wW=e=>{m.useEffect(()=>{e.clearReset()},[e])},xW=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||GN(r,[e.error,n])),bW=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},EW=(e,t)=>e.isLoading&&e.isFetching&&!t,RW=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,BP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function FW(e,t,r){var p,g,C,S,y;const n=mW(),s=yW(),i=Pt(),o=i.defaultQueryOptions(e);(g=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||g.call(p,o),o._optimisticResults=n?"isRestoring":"optimistic",bW(o),SW(o,s),wW(s);const a=!i.getQueryCache().get(o.queryHash),[l]=m.useState(()=>new t(i,o)),u=l.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(w=>{const b=f?l.subscribe(nn.batchCalls(w)):Kn;return l.updateResult(),b},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),m.useEffect(()=>{l.setOptions(o)},[o,l]),RW(o,u))throw BP(o,l,s);if(xW({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((S=(C=i.getDefaultOptions().queries)==null?void 0:C._experimental_afterQuery)==null||S.call(C,o,u),o.experimental_prefetchInRender&&!Tc&&EW(u,n)){const w=a?BP(o,l,s):(y=i.getQueryCache().get(o.queryHash))==null?void 0:y.promise;w==null||w.catch(Kn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Rr(e,t){return FW(e,oW)}function Je(e,t){const r=Pt(),[n]=m.useState(()=>new hW(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(nn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((o,a)=>{n.mutate(o,a).catch(Kn)},[n]);if(s.error&&GN(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const TW=()=>{},PW=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},AW=()=>Je({mutationFn:e=>_e("/api/user/login",{method:"POST",body:JSON.stringify(e)}),onSuccess:TW,onError:PW}),DW=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,i]=m.useState(!1),[o,a]=m.useState(""),l=Bn(),u=AW(),{login:f}=r1(),p=g=>{g.preventDefault(),u.mutate({userName:e,password:r},{onSuccess:C=>{C&&(localStorage.setItem("user",JSON.stringify(C)),st.success("Login Successful!"),f(),l("/app/home"))},onError:()=>{a("Invalid username or password.")}})};return d.jsxs("div",{className:"min-h-screen w-full flex flex-col md:flex-row",children:[d.jsx("div",{className:"hidden md:block w-1/2",children:d.jsx("img",{src:"/images/crm1.jpeg",alt:"Login Illustration",className:"w-full h-screen object-cover"})}),d.jsx("div",{className:"w-full md:w-1/2 flex items-center justify-center px-6 py-10 bg-gray-100 dark:bg-gray-950",children:d.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-900 rounded-2xl shadow-xl p-8 sm:p-10",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("img",{src:"/images/logo.png",alt:"Logo",className:"mx-auto h-16 w-16 mb-2"}),d.jsx("h2",{className:"text-3xl font-extrabold text-gray-800 dark:text-white",children:"Welcome Back "}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Please login to your account"})]}),o&&d.jsx("p",{className:"text-red-500 text-sm text-center mb-4",children:o}),d.jsxs("form",{onSubmit:p,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),d.jsx(be,{type:"text",value:e,onChange:g=>t(g.target.value),placeholder:"Enter your username",className:"dark:bg-gray-800 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(be,{type:s?"text":"password",value:r,onChange:g=>n(g.target.value),placeholder:"Enter your password",className:"dark:bg-gray-800 dark:text-white pr-10"}),d.jsx("button",{type:"button",className:"absolute top-1/2 right-3 -translate-y-1/2 focus:outline-none",onClick:()=>i(!s),children:s?d.jsx(pH,{size:20,className:"text-gray-400"}):d.jsx(gH,{size:20,className:"text-gray-400"})})]})]}),d.jsx(It,{type:"submit",className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-300",children:"Login"})]})]})})]})},MW=()=>d.jsx("div",{className:"flex flex-col min-h-screen",children:d.jsxs("main",{className:"text-center p-6 w-full",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Welcome to the Home Page!"}),d.jsx("p",{children:"This is the protected content visible only after login."})]})}),c1=m.createContext({});function u1(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const l0=m.createContext(null),d1=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class NW extends m.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function IW({children:e,isPresent:t}){const r=m.useId(),n=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(d1);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(t||!n.current||!o||!a)return;n.current.dataset.motionPopId=r;const f=document.createElement("style");return i&&(f.nonce=i),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),d.jsx(NW,{isPresent:t,childRef:n,sizeRef:s,children:m.cloneElement(e,{ref:n})})}const OW=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=u1(kW),l=m.useId(),u=m.useCallback(p=>{a.set(p,!0);for(const g of a.values())if(!g)return;n&&n()},[a,n]),f=m.useMemo(()=>({id:l,initial:t,isPresent:r,custom:s,onExitComplete:u,register:p=>(a.set(p,!1),()=>a.delete(p))}),i?[Math.random(),u]:[r,u]);return m.useMemo(()=>{a.forEach((p,g)=>a.set(g,!1))},[r]),m.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(e=d.jsx(IW,{isPresent:r,children:e})),d.jsx(l0.Provider,{value:f,children:e})};function kW(){return new Map}function YN(e=!0){const t=m.useContext(l0);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=m.useId();m.useEffect(()=>{e&&s(i)},[e]);const o=m.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const im=e=>e.key||"";function GP(e){const t=[];return m.Children.forEach(e,r=>{m.isValidElement(r)&&t.push(r)}),t}const h1=typeof window<"u",QN=h1?m.useLayoutEffect:m.useEffect,LW=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=YN(o),u=m.useMemo(()=>GP(e),[e]),f=o&&!a?[]:u.map(im),p=m.useRef(!0),g=m.useRef(u),C=u1(()=>new Map),[S,y]=m.useState(u),[w,b]=m.useState(u);QN(()=>{p.current=!1,g.current=u;for(let E=0;E<w.length;E++){const A=im(w[E]);f.includes(A)?C.delete(A):C.get(A)!==!0&&C.set(A,!1)}},[w,f.length,f.join("-")]);const F=[];if(u!==S){let E=[...u];for(let A=0;A<w.length;A++){const D=w[A],M=im(D);f.includes(M)||(E.splice(A,0,D),F.push(D))}i==="wait"&&F.length&&(E=F),b(GP(E)),y(u);return}const{forceRender:R}=m.useContext(c1);return d.jsx(d.Fragment,{children:w.map(E=>{const A=im(E),D=o&&!a?!1:u===w||f.includes(A),M=()=>{if(C.has(A))C.set(A,!0);else return;let I=!0;C.forEach(_=>{_||(I=!1)}),I&&(R==null||R(),b(g.current),o&&(l==null||l()),n&&n())};return d.jsx(OW,{isPresent:D,initial:!p.current||r?void 0:!1,custom:D?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:D?void 0:M,children:E},A)})})},Us=e=>e;let XN=Us;function f1(e){let t;return()=>(t===void 0&&(t=e()),t)}const Cd=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Yo=e=>e*1e3,Qo=e=>e/1e3,_W={useManualTiming:!1};function jW(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,f=!1,p=!1)=>{const C=p&&n?t:r;return f&&i.add(u),C.has(u)||C.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(o=u,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(a),t.clear(),n=!1,s&&(s=!1,l.process(u))}};return l}const om=["read","resolveKeyframes","update","preRender","render","postRender"],BW=40;function ZN(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=om.reduce((b,F)=>(b[F]=jW(i),b),{}),{read:a,resolveKeyframes:l,update:u,preRender:f,render:p,postRender:g}=o,C=()=>{const b=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(b-s.timestamp,BW),1),s.timestamp=b,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),f.process(s),p.process(s),g.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(C))},S=()=>{r=!0,n=!0,s.isProcessing||e(C)};return{schedule:om.reduce((b,F)=>{const R=o[F];return b[F]=(E,A=!1,D=!1)=>(r||S(),R.schedule(E,A,D)),b},{}),cancel:b=>{for(let F=0;F<om.length;F++)o[om[F]].cancel(b)},state:s,steps:o}}const{schedule:Sr,cancel:ll,state:wn,steps:eS}=ZN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Us,!0),JN=m.createContext({strict:!1}),VP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yd={};for(const e in VP)yd[e]={isEnabled:t=>VP[e].some(r=>!!t[r])};function GW(e){for(const t in e)yd[t]={...yd[t],...e[t]}}const VW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function iv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||VW.has(e)}let eI=e=>!iv(e);function HW(e){e&&(eI=t=>t.startsWith("on")?!iv(t):e(t))}try{HW(require("@emotion/is-prop-valid").default)}catch{}function WW(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(eI(s)||r===!0&&iv(s)||!t&&!iv(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function UW(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const c0=m.createContext({});function Tf(e){return typeof e=="string"||Array.isArray(e)}function u0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const p1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g1=["initial",...p1];function d0(e){return u0(e.animate)||g1.some(t=>Tf(e[t]))}function tI(e){return!!(d0(e)||e.variants)}function $W(e,t){if(d0(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Tf(r)?r:void 0,animate:Tf(n)?n:void 0}}return e.inherit!==!1?t:{}}function zW(e){const{initial:t,animate:r}=$W(e,m.useContext(c0));return m.useMemo(()=>({initial:t,animate:r}),[HP(t),HP(r)])}function HP(e){return Array.isArray(e)?e.join(" "):e}const KW=Symbol.for("motionComponentSymbol");function Vu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qW(e,t,r){return m.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Vu(r)&&(r.current=n))},[t])}const m1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YW="framerAppearId",rI="data-"+m1(YW),{schedule:v1}=ZN(queueMicrotask,!1),nI=m.createContext({});function QW(e,t,r,n,s){var i,o;const{visualElement:a}=m.useContext(c0),l=m.useContext(JN),u=m.useContext(l0),f=m.useContext(d1).reducedMotion,p=m.useRef(null);n=n||l.renderer,!p.current&&n&&(p.current=n(e,{visualState:t,parent:a,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,C=m.useContext(nI);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&XW(p.current,r,s,C);const S=m.useRef(!1);m.useInsertionEffect(()=>{g&&S.current&&g.update(r,u)});const y=r[rI],w=m.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return QN(()=>{g&&(S.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),v1.render(g.render),w.current&&g.animationState&&g.animationState.animateChanges())}),m.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,y)}),w.current=!1))}),g}function XW(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:sI(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Vu(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:u})}function sI(e){if(e)return e.options.allowProjection!==!1?e.projection:sI(e.parent)}function ZW({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var i,o;e&&GW(e);function a(u,f){let p;const g={...m.useContext(d1),...u,layoutId:JW(u)},{isStatic:C}=g,S=zW(u),y=n(u,C);if(!C&&h1){e7();const w=t7(g);p=w.MeasureLayout,S.visualElement=QW(s,y,g,t,w.ProjectionNode)}return d.jsxs(c0.Provider,{value:S,children:[p&&S.visualElement?d.jsx(p,{visualElement:S.visualElement,...g}):null,r(s,u,qW(y,S.visualElement,f),y,C,S.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=m.forwardRef(a);return l[KW]=s,l}function JW({layoutId:e}){const t=m.useContext(c1).id;return t&&e!==void 0?t+"-"+e:e}function e7(e,t){m.useContext(JN).strict}function t7(e){const{drag:t,layout:r}=yd;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const r7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function C1(e){return typeof e!="string"||e.includes("-")?!1:!!(r7.indexOf(e)>-1||/[A-Z]/u.test(e))}function WP(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function y1(e,t,r,n){if(typeof t=="function"){const[s,i]=WP(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=WP(n);t=t(r!==void 0?r:e.custom,s,i)}return t}const Iw=e=>Array.isArray(e),n7=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),s7=e=>Iw(e)?e[e.length-1]||0:e,Ln=e=>!!(e&&e.getVelocity);function jm(e){const t=Ln(e)?e.get():e;return n7(t)?t.toValue():t}function i7({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,i){const o={latestValues:o7(n,s,i,e),renderState:t()};return r&&(o.onMount=a=>r({props:n,current:a,...o}),o.onUpdate=a=>r(a)),o}const iI=e=>(t,r)=>{const n=m.useContext(c0),s=m.useContext(l0),i=()=>i7(e,t,n,s);return r?i():u1(i)};function o7(e,t,r,n){const s={},i=n(e,{});for(const g in i)s[g]=jm(i[g]);let{initial:o,animate:a}=e;const l=d0(e),u=tI(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!u0(p)){const g=Array.isArray(p)?p:[p];for(let C=0;C<g.length;C++){const S=y1(e,g[C]);if(S){const{transitionEnd:y,transition:w,...b}=S;for(const F in b){let R=b[F];if(Array.isArray(R)){const E=f?R.length-1:0;R=R[E]}R!==null&&(s[F]=R)}for(const F in y)s[F]=y[F]}}}return s}const _d=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hc=new Set(_d),oI=e=>t=>typeof t=="string"&&t.startsWith(e),aI=oI("--"),a7=oI("var(--"),S1=e=>a7(e)?l7.test(e.split("/*")[0].trim()):!1,l7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lI=(e,t)=>t&&typeof e=="number"?t.transform(e):e,oa=(e,t,r)=>r>t?t:r<e?e:r,jd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pf={...jd,transform:e=>oa(0,1,e)},am={...jd,default:1},up=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wa=up("deg"),fo=up("%"),Tt=up("px"),c7=up("vh"),u7=up("vw"),UP={...fo,parse:e=>fo.parse(e)/100,transform:e=>fo.transform(e*100)},d7={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt},h7={rotate:Wa,rotateX:Wa,rotateY:Wa,rotateZ:Wa,scale:am,scaleX:am,scaleY:am,scaleZ:am,skew:Wa,skewX:Wa,skewY:Wa,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:Pf,originX:UP,originY:UP,originZ:Tt},$P={...jd,transform:Math.round},w1={...d7,...h7,zIndex:$P,size:Tt,fillOpacity:Pf,strokeOpacity:Pf,numOctaves:$P},f7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},p7=_d.length;function g7(e,t,r){let n="",s=!0;for(let i=0;i<p7;i++){const o=_d[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){const u=lI(a,w1[o]);if(!l){s=!1;const f=f7[o]||o;n+=`${f}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function x1(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(Hc.has(l)){o=!0;continue}else if(aI(l)){s[l]=u;continue}else{const f=lI(u,w1[l]);l.startsWith("origin")?(a=!0,i[l]=f):n[l]=f}}if(t.transform||(o||r?n.transform=g7(t,e.transform,r):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:f=0}=i;n.transformOrigin=`${l} ${u} ${f}`}}const m7={offset:"stroke-dashoffset",array:"stroke-dasharray"},v7={offset:"strokeDashoffset",array:"strokeDasharray"};function C7(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?m7:v7;e[i.offset]=Tt.transform(-n);const o=Tt.transform(t),a=Tt.transform(r);e[i.array]=`${o} ${a}`}function zP(e,t,r){return typeof e=="string"?e:Tt.transform(t+r*e)}function y7(e,t,r){const n=zP(t,e.x,e.width),s=zP(r,e.y,e.height);return`${n} ${s}`}function b1(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},f,p){if(x1(e,u,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:C,dimensions:S}=e;g.transform&&(S&&(C.transform=g.transform),delete g.transform),S&&(s!==void 0||i!==void 0||C.transform)&&(C.transformOrigin=y7(S,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(g.x=t),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&C7(g,o,a,l,!1)}const E1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),cI=()=>({...E1(),attrs:{}}),R1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function uI(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const dI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hI(e,t,r,n){uI(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(dI.has(s)?s:m1(s),t.attrs[s])}const ov={};function S7(e){Object.assign(ov,e)}function fI(e,{layout:t,layoutId:r}){return Hc.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ov[e]||e==="opacity")}function F1(e,t,r){var n;const{style:s}=e,i={};for(const o in s)(Ln(s[o])||t.style&&Ln(t.style[o])||fI(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function pI(e,t,r){const n=F1(e,t,r);for(const s in e)if(Ln(e[s])||Ln(t[s])){const i=_d.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function w7(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const KP=["x","y","width","height","cx","cy","r"],x7={useVisualState:iI({scrapeMotionValuesFromProps:pI,createRenderState:cI,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let i=!!e.drag;if(!i){for(const a in s)if(Hc.has(a)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let a=0;a<KP.length;a++){const l=KP[a];e[l]!==t[l]&&(o=!0)}o&&Sr.read(()=>{w7(r,n),Sr.render(()=>{b1(n,s,R1(r.tagName),e.transformTemplate),hI(r,n)})})}})},b7={useVisualState:iI({scrapeMotionValuesFromProps:F1,createRenderState:E1})};function gI(e,t,r){for(const n in t)!Ln(t[n])&&!fI(n,r)&&(e[n]=t[n])}function E7({transformTemplate:e},t){return m.useMemo(()=>{const r=E1();return x1(r,t,e),Object.assign({},r.vars,r.style)},[t])}function R7(e,t){const r=e.style||{},n={};return gI(n,r,e),Object.assign(n,E7(e,t)),n}function F7(e,t){const r={},n=R7(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function T7(e,t,r,n){const s=m.useMemo(()=>{const i=cI();return b1(i,t,R1(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};gI(i,e.style,e),s.style={...i,...s.style}}return s}function P7(e=!1){return(r,n,s,{latestValues:i},o)=>{const l=(C1(r)?T7:F7)(n,i,o,r),u=WW(n,typeof r=="string",e),f=r!==m.Fragment?{...u,...l,ref:s}:{},{children:p}=n,g=m.useMemo(()=>Ln(p)?p.get():p,[p]);return m.createElement(r,{...f,children:g})}}function A7(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...C1(n)?x7:b7,preloadedFeatures:e,useRender:P7(s),createVisualElement:t,Component:n};return ZW(o)}}function mI(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function h0(e,t,r){const n=e.getProps();return y1(n,t,r!==void 0?r:n.custom,e)}const D7=f1(()=>window.ScrollTimeline!==void 0);class M7{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(D7()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class N7 extends M7{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function T1(e,t){return e?e[t]||e.default||e:void 0}const Ow=2e4;function vI(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Ow;)t+=r,n=e.next(t);return t>=Ow?1/0:t}function P1(e){return typeof e=="function"}function qP(e,t){e.timeline=t,e.onfinish=null}const A1=e=>Array.isArray(e)&&typeof e[0]=="number",I7={linearEasing:void 0};function O7(e,t){const r=f1(e);return()=>{var n;return(n=I7[t])!==null&&n!==void 0?n:r()}}const av=O7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),CI=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(Cd(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function yI(e){return!!(typeof e=="function"&&av()||!e||typeof e=="string"&&(e in kw||av())||A1(e)||Array.isArray(e)&&e.every(yI))}const Jh=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,kw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jh([0,.65,.55,1]),circOut:Jh([.55,0,1,.45]),backIn:Jh([.31,.01,.66,-.59]),backOut:Jh([.33,1.53,.69,.99])};function SI(e,t){if(e)return typeof e=="function"&&av()?CI(e,t):A1(e)?Jh(e):Array.isArray(e)?e.map(r=>SI(r,t)||kw.easeOut):kw[e]}const Oi={x:!1,y:!1};function wI(){return Oi.x||Oi.y}function k7(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function xI(e,t){const r=k7(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function YP(e){return t=>{t.pointerType==="touch"||wI()||e(t)}}function L7(e,t,r={}){const[n,s,i]=xI(e,r),o=YP(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const f=YP(p=>{u(p),l.removeEventListener("pointerleave",f)});l.addEventListener("pointerleave",f,s)});return n.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const bI=(e,t)=>t?e===t?!0:bI(e,t.parentElement):!1,D1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,_7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function j7(e){return _7.has(e.tagName)||e.tabIndex!==-1}const ef=new WeakSet;function QP(e){return t=>{t.key==="Enter"&&e(t)}}function tS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const B7=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=QP(()=>{if(ef.has(r))return;tS(r,"down");const s=QP(()=>{tS(r,"up")}),i=()=>tS(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function XP(e){return D1(e)&&!wI()}function G7(e,t,r={}){const[n,s,i]=xI(e,r),o=a=>{const l=a.currentTarget;if(!XP(a)||ef.has(l))return;ef.add(l);const u=t(a),f=(C,S)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!XP(C)||!ef.has(l))&&(ef.delete(l),typeof u=="function"&&u(C,{success:S}))},p=C=>{f(C,r.useGlobalTarget||bI(l,C.target))},g=C=>{f(C,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",g,s)};return n.forEach(a=>{!j7(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",u=>B7(u,s),s)}),i}function V7(e){return e==="x"||e==="y"?Oi[e]?null:(Oi[e]=!0,()=>{Oi[e]=!1}):Oi.x||Oi.y?null:(Oi.x=Oi.y=!0,()=>{Oi.x=Oi.y=!1})}const EI=new Set(["width","height","top","left","right","bottom",..._d]);let Bm;function H7(){Bm=void 0}const po={now:()=>(Bm===void 0&&po.set(wn.isProcessing||_W.useManualTiming?wn.timestamp:performance.now()),Bm),set:e=>{Bm=e,queueMicrotask(H7)}};function M1(e,t){e.indexOf(t)===-1&&e.push(t)}function N1(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class I1{constructor(){this.subscriptions=[]}add(t){return M1(this.subscriptions,t),()=>N1(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function RI(e,t){return t?e*(1e3/t):0}const ZP=30,W7=e=>!isNaN(parseFloat(e));class U7{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=po.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=po.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=W7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new I1);const n=this.events[t].add(r);return t==="change"?()=>{n(),Sr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=po.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ZP)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ZP);return RI(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Af(e,t){return new U7(e,t)}function $7(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Af(r))}function z7(e,t){const r=h0(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const a=s7(i[o]);$7(e,o,a)}}function K7(e){return!!(Ln(e)&&e.add)}function Lw(e,t){const r=e.getValue("willChange");if(K7(r))return r.add(t)}function FI(e){return e.props[rI]}const TI=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,q7=1e-7,Y7=12;function Q7(e,t,r,n,s){let i,o,a=0;do o=t+(r-t)/2,i=TI(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>q7&&++a<Y7);return o}function dp(e,t,r,n){if(e===t&&r===n)return Us;const s=i=>Q7(i,0,1,e,r);return i=>i===0||i===1?i:TI(s(i),t,n)}const PI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,AI=e=>t=>1-e(1-t),DI=dp(.33,1.53,.69,.99),O1=AI(DI),MI=PI(O1),NI=e=>(e*=2)<1?.5*O1(e):.5*(2-Math.pow(2,-10*(e-1))),k1=e=>1-Math.sin(Math.acos(e)),II=AI(k1),OI=PI(k1),kI=e=>/^0[^.\s]+$/u.test(e);function X7(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||kI(e):!0}const lf=e=>Math.round(e*1e5)/1e5,L1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Z7(e){return e==null}const J7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_1=(e,t)=>r=>!!(typeof r=="string"&&J7.test(r)&&r.startsWith(e)||t&&!Z7(r)&&Object.prototype.hasOwnProperty.call(r,t)),LI=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,a]=n.match(L1);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},eU=e=>oa(0,255,e),rS={...jd,transform:e=>Math.round(eU(e))},ic={test:_1("rgb","red"),parse:LI("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+rS.transform(e)+", "+rS.transform(t)+", "+rS.transform(r)+", "+lf(Pf.transform(n))+")"};function tU(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const _w={test:_1("#"),parse:tU,transform:ic.transform},Hu={test:_1("hsl","hue"),parse:LI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+fo.transform(lf(t))+", "+fo.transform(lf(r))+", "+lf(Pf.transform(n))+")"},In={test:e=>ic.test(e)||_w.test(e)||Hu.test(e),parse:e=>ic.test(e)?ic.parse(e):Hu.test(e)?Hu.parse(e):_w.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ic.transform(e):Hu.transform(e)},rU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nU(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(L1))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(rU))===null||r===void 0?void 0:r.length)||0)>0}const _I="number",jI="color",sU="var",iU="var(",JP="${}",oU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Df(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(oU,l=>(In.test(l)?(n.color.push(i),s.push(jI),r.push(In.parse(l))):l.startsWith(iU)?(n.var.push(i),s.push(sU),r.push(l)):(n.number.push(i),s.push(_I),r.push(parseFloat(l))),++i,JP)).split(JP);return{values:r,split:a,indexes:n,types:s}}function BI(e){return Df(e).values}function GI(e){const{split:t,types:r}=Df(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const a=r[o];a===_I?i+=lf(s[o]):a===jI?i+=In.transform(s[o]):i+=s[o]}return i}}const aU=e=>typeof e=="number"?0:e;function lU(e){const t=BI(e);return GI(e)(t.map(aU))}const cl={test:nU,parse:BI,createTransformer:GI,getAnimatableNone:lU},cU=new Set(["brightness","contrast","saturate","opacity"]);function uU(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(L1)||[];if(!n)return e;const s=r.replace(n,"");let i=cU.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const dU=/\b([a-z-]*)\(.*?\)/gu,jw={...cl,getAnimatableNone:e=>{const t=e.match(dU);return t?t.map(uU).join(" "):e}},hU={...w1,color:In,backgroundColor:In,outlineColor:In,fill:In,stroke:In,borderColor:In,borderTopColor:In,borderRightColor:In,borderBottomColor:In,borderLeftColor:In,filter:jw,WebkitFilter:jw},j1=e=>hU[e];function VI(e,t){let r=j1(e);return r!==jw&&(r=cl),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const fU=new Set(["auto","none","0"]);function pU(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!fU.has(i)&&Df(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=VI(r,s)}const eA=e=>e===jd||e===Tt,tA=(e,t)=>parseFloat(e.split(", ")[t]),rA=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return tA(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?tA(i[1],e):0}},gU=new Set(["x","y","z"]),mU=_d.filter(e=>!gU.has(e));function vU(e){const t=[];return mU.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Sd={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:rA(4,13),y:rA(5,14)};Sd.translateX=Sd.x;Sd.translateY=Sd.y;const vc=new Set;let Bw=!1,Gw=!1;function HI(){if(Gw){const e=Array.from(vc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=vU(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var a;(a=n.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Gw=!1,Bw=!1,vc.forEach(e=>e.complete()),vc.clear()}function WI(){vc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Gw=!0)})}function CU(){WI(),HI()}class B1{constructor(t,r,n,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vc.add(this),Bw||(Bw=!0,Sr.read(WI),Sr.resolveKeyframes(HI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const UI=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),yU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SU(e){const t=yU.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function $I(e,t,r=1){const[n,s]=SU(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return UI(o)?parseFloat(o):o}return S1(s)?$I(s,t,r+1):s}const zI=e=>t=>t.test(e),wU={test:e=>e==="auto",parse:e=>e},KI=[jd,Tt,fo,Wa,u7,c7,wU],nA=e=>KI.find(zI(e));class qI extends B1{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),S1(u))){const f=$I(u,r.current);f!==void 0&&(t[l]=f),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!EI.has(n)||t.length!==2)return;const[s,i]=t,o=nA(s),a=nA(i);if(o!==a)if(eA(o)&&eA(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)X7(t[s])&&n.push(s);n.length&&pU(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Sd[n](r.measureViewportBox(),window.getComputedStyle(r.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{r.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const sA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(cl.test(e)||e==="0")&&!e.startsWith("url("));function xU(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function bU(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=sA(s,t),a=sA(i,t);return!o||!a?!1:xU(e)||(r==="spring"||P1(r))&&n}const EU=e=>e!==null;function f0(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(EU),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const RU=40;class YI{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=po.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>RU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&CU(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=po.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!bU(t,n,s,i))if(o)this.options.duration=0;else{l&&l(f0(t,this.options,r)),a&&a(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,r);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...f},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ar=(e,t,r)=>e+(t-e)*r;function nS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function FU({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;s=nS(l,a,e+1/3),i=nS(l,a,e),o=nS(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function lv(e,t){return r=>r>0?t:e}const sS=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},TU=[_w,ic,Hu],PU=e=>TU.find(t=>t.test(e));function iA(e){const t=PU(e);if(!t)return!1;let r=t.parse(e);return t===Hu&&(r=FU(r)),r}const oA=(e,t)=>{const r=iA(e),n=iA(t);if(!r||!n)return lv(e,t);const s={...r};return i=>(s.red=sS(r.red,n.red,i),s.green=sS(r.green,n.green,i),s.blue=sS(r.blue,n.blue,i),s.alpha=Ar(r.alpha,n.alpha,i),ic.transform(s))},AU=(e,t)=>r=>t(e(r)),hp=(...e)=>e.reduce(AU),Vw=new Set(["none","hidden"]);function DU(e,t){return Vw.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function MU(e,t){return r=>Ar(e,t,r)}function G1(e){return typeof e=="number"?MU:typeof e=="string"?S1(e)?lv:In.test(e)?oA:OU:Array.isArray(e)?QI:typeof e=="object"?In.test(e)?oA:NU:lv}function QI(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>G1(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function NU(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=G1(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function IU(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(r=e.values[a])!==null&&r!==void 0?r:0;n[i]=l,s[o]++}return n}const OU=(e,t)=>{const r=cl.createTransformer(t),n=Df(e),s=Df(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Vw.has(e)&&!s.values.length||Vw.has(t)&&!n.values.length?DU(e,t):hp(QI(IU(n,s),s.values),r):lv(e,t)};function XI(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ar(e,t,r):G1(e)(e,t)}const kU=5;function ZI(e,t,r){const n=Math.max(t-kU,0);return RI(r-e(n),t-n)}const kr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},iS=.001;function LU({duration:e=kr.duration,bounce:t=kr.bounce,velocity:r=kr.velocity,mass:n=kr.mass}){let s,i,o=1-t;o=oa(kr.minDamping,kr.maxDamping,o),e=oa(kr.minDuration,kr.maxDuration,Qo(e)),o<1?(s=u=>{const f=u*o,p=f*e,g=f-r,C=Hw(u,o),S=Math.exp(-p);return iS-g/C*S},i=u=>{const p=u*o*e,g=p*r+r,C=Math.pow(o,2)*Math.pow(u,2)*e,S=Math.exp(-p),y=Hw(Math.pow(u,2),o);return(-s(u)+iS>0?-1:1)*((g-C)*S)/y}):(s=u=>{const f=Math.exp(-u*e),p=(u-r)*e+1;return-iS+f*p},i=u=>{const f=Math.exp(-u*e),p=(r-u)*(e*e);return f*p});const a=5/e,l=jU(s,i,a);if(e=Yo(e),isNaN(l))return{stiffness:kr.stiffness,damping:kr.damping,duration:e};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const _U=12;function jU(e,t,r){let n=r;for(let s=1;s<_U;s++)n=n-e(n)/t(n);return n}function Hw(e,t){return e*Math.sqrt(1-t*t)}const BU=["duration","bounce"],GU=["stiffness","damping","mass"];function aA(e,t){return t.some(r=>e[r]!==void 0)}function VU(e){let t={velocity:kr.velocity,stiffness:kr.stiffness,damping:kr.damping,mass:kr.mass,isResolvedFromDuration:!1,...e};if(!aA(e,GU)&&aA(e,BU))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*oa(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:kr.mass,stiffness:s,damping:i}}else{const r=LU(e);t={...t,...r,mass:kr.mass},t.isResolvedFromDuration=!0}return t}function JI(e=kr.visualDuration,t=kr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:f,duration:p,velocity:g,isResolvedFromDuration:C}=VU({...r,velocity:-Qo(r.velocity||0)}),S=g||0,y=u/(2*Math.sqrt(l*f)),w=o-i,b=Qo(Math.sqrt(l/f)),F=Math.abs(w)<5;n||(n=F?kr.restSpeed.granular:kr.restSpeed.default),s||(s=F?kr.restDelta.granular:kr.restDelta.default);let R;if(y<1){const A=Hw(b,y);R=D=>{const M=Math.exp(-y*b*D);return o-M*((S+y*b*w)/A*Math.sin(A*D)+w*Math.cos(A*D))}}else if(y===1)R=A=>o-Math.exp(-b*A)*(w+(S+b*w)*A);else{const A=b*Math.sqrt(y*y-1);R=D=>{const M=Math.exp(-y*b*D),I=Math.min(A*D,300);return o-M*((S+y*b*w)*Math.sinh(I)+A*w*Math.cosh(I))/A}}const E={calculatedDuration:C&&p||null,next:A=>{const D=R(A);if(C)a.done=A>=p;else{let M=0;y<1&&(M=A===0?Yo(S):ZI(R,A,D));const I=Math.abs(M)<=n,_=Math.abs(o-D)<=s;a.done=I&&_}return a.value=a.done?o:D,a},toString:()=>{const A=Math.min(vI(E),Ow),D=CI(M=>E.next(A*M).value,A,30);return A+"ms "+D}};return E}function lA({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:f}){const p=e[0],g={done:!1,value:p},C=I=>a!==void 0&&I<a||l!==void 0&&I>l,S=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let y=r*t;const w=p+y,b=o===void 0?w:o(w);b!==w&&(y=b-p);const F=I=>-y*Math.exp(-I/n),R=I=>b+F(I),E=I=>{const _=F(I),j=R(I);g.done=Math.abs(_)<=u,g.value=g.done?b:j};let A,D;const M=I=>{C(g.value)&&(A=I,D=JI({keyframes:[g.value,S(g.value)],velocity:ZI(R,I,g.value),damping:s,stiffness:i,restDelta:u,restSpeed:f}))};return M(0),{calculatedDuration:null,next:I=>{let _=!1;return!D&&A===void 0&&(_=!0,E(I),M(I)),A!==void 0&&I>=A?D.next(I-A):(!_&&E(I),g)}}}const HU=dp(.42,0,1,1),WU=dp(0,0,.58,1),eO=dp(.42,0,.58,1),UU=e=>Array.isArray(e)&&typeof e[0]!="number",$U={linear:Us,easeIn:HU,easeInOut:eO,easeOut:WU,circIn:k1,circInOut:OI,circOut:II,backIn:O1,backInOut:MI,backOut:DI,anticipate:NI},cA=e=>{if(A1(e)){XN(e.length===4);const[t,r,n,s]=e;return dp(t,r,n,s)}else if(typeof e=="string")return $U[e];return e};function zU(e,t,r){const n=[],s=r||XI,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Us:t;a=hp(l,a)}n.push(a)}return n}function KU(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(XN(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=zU(t,n,s),l=a.length,u=f=>{if(o&&f<e[0])return t[0];let p=0;if(l>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const g=Cd(e[p],e[p+1],f);return a[p](g)};return r?f=>u(oa(e[0],e[i-1],f)):u}function qU(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Cd(0,t,n);e.push(Ar(r,1,s))}}function YU(e){const t=[0];return qU(t,e.length-1),t}function QU(e,t){return e.map(r=>r*t)}function XU(e,t){return e.map(()=>t||eO).splice(0,e.length-1)}function cv({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=UU(n)?n.map(cA):cA(n),i={done:!1,value:t[0]},o=QU(r&&r.length===t.length?r:YU(t),e),a=KU(o,t,{ease:Array.isArray(s)?s:XU(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const ZU=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Sr.update(t,!0),stop:()=>ll(t),now:()=>wn.isProcessing?wn.timestamp:po.now()}},JU={decay:lA,inertia:lA,tween:cv,keyframes:cv,spring:JI},e$=e=>e/100;class V1 extends YI{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||B1,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=P1(r)?r:JU[r]||cv;let l,u;a!==cv&&typeof t[0]!="number"&&(l=hp(e$,XI(t[0],t[1])),t=[0,100]);const f=a({...this.options,keyframes:t});i==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=vI(f));const{calculatedDuration:p}=f,g=p+s,C=g*(n+1)-s;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:p,resolvedDuration:g,totalDuration:C}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:f,resolvedDuration:p}=n;if(this.startTime===null)return i.next(0);const{delay:g,repeat:C,repeatType:S,repeatDelay:y,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-g*(this.speed>=0?1:-1),F=this.speed>=0?b<0:b>f;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let R=this.currentTime,E=i;if(C){const I=Math.min(this.currentTime,f)/p;let _=Math.floor(I),j=I%1;!j&&I>=1&&(j=1),j===1&&_--,_=Math.min(_,C+1),!!(_%2)&&(S==="reverse"?(j=1-j,y&&(j-=y/p)):S==="mirror"&&(E=o)),R=oa(0,1,j)*p}const A=F?{done:!1,value:l[0]}:E.next(R);a&&(A.value=a(A.value));let{done:D}=A;!F&&u!==null&&(D=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return M&&s!==void 0&&(A.value=f0(l,this.options,s)),w&&w(A.value),M&&this.finish(),A}get duration(){const{resolved:t}=this;return t?Qo(t.calculatedDuration):0}get time(){return Qo(this.currentTime)}set time(t){t=Yo(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Qo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=ZU,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const t$=new Set(["opacity","clipPath","filter","transform"]);function r$(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:r};l&&(u.offset=l);const f=SI(a,s);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const n$=f1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uv=10,s$=2e4;function i$(e){return P1(e.type)||e.type==="spring"||!yI(e.ease)}function o$(e,t){const r=new V1({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<s$;)n=r.sample(i),s.push(n.value),i+=uv;return{times:void 0,keyframes:s,duration:i-uv,ease:"linear"}}const tO={anticipate:NI,backInOut:MI,circInOut:OI};function a$(e){return e in tO}class uA extends YI{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new qI(i,(o,a)=>this.onKeyframesResolved(o,a),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&av()&&a$(i)&&(i=tO[i]),i$(this.options)){const{onComplete:p,onUpdate:g,motionValue:C,element:S,...y}=this.options,w=o$(t,y);t=w.keyframes,t.length===1&&(t[1]=t[0]),n=w.duration,s=w.times,i=w.ease,o="keyframes"}const f=r$(a.owner.current,l,t,{...this.options,duration:n,times:s,ease:i});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(qP(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;a.set(f0(t,this.options,r)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:n,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Qo(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Qo(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Yo(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Us;const{animation:n}=r;qP(n,t)}return Us}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:o,times:a}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:p,element:g,...C}=this.options,S=new V1({...C,keyframes:n,duration:s,type:i,ease:o,times:a,isGenerator:!0}),y=Yo(this.time);u.setWithVelocity(S.sample(y-uv).value,S.sample(y).value,uv)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:o,type:a}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=r.owner.getProps();return n$()&&n&&t$.has(n)&&!l&&!u&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const l$={type:"spring",stiffness:500,damping:25,restSpeed:10},c$=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),u$={type:"keyframes",duration:.8},d$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h$=(e,{keyframes:t})=>t.length>2?u$:Hc.has(e)?e.startsWith("scale")?c$(t[1]):l$:d$;function f$({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const H1=(e,t,r,n={},s,i)=>o=>{const a=T1(n,e)||{},l=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Yo(l);let f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};f$(a)||(f={...f,...h$(e,f)}),f.duration&&(f.duration=Yo(f.duration)),f.repeatDelay&&(f.repeatDelay=Yo(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!i&&t.get()!==void 0){const g=f0(f.keyframes,a);if(g!==void 0)return Sr.update(()=>{f.onUpdate(g),f.onComplete()}),new N7([])}return!i&&uA.supports(f)?new uA(f):new V1(f)};function p$({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function rO(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(o=n);const u=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const p in l){const g=e.getValue(p,(i=e.latestValues[p])!==null&&i!==void 0?i:null),C=l[p];if(C===void 0||f&&p$(f,p))continue;const S={delay:r,...T1(o||{},p)};let y=!1;if(window.MotionHandoffAnimation){const b=FI(e);if(b){const F=window.MotionHandoffAnimation(b,p,Sr);F!==null&&(S.startTime=F,y=!0)}}Lw(e,p),g.start(H1(p,g,C,e.shouldReduceMotion&&EI.has(p)?{type:!1}:S,e,y));const w=g.animation;w&&u.push(w)}return a&&Promise.all(u).then(()=>{Sr.update(()=>{a&&z7(e,a)})}),u}function Ww(e,t,r={}){var n;const s=h0(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(rO(e,s,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=i;return g$(e,t,f+u,p,g,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,f]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>f())}else return Promise.all([o(),a(r.delay)])}function g$(e,t,r=0,n=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*n,l=s===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(e.variantChildren).sort(m$).forEach((u,f)=>{u.notify("AnimationStart",t),o.push(Ww(u,t,{...i,delay:r+l(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function m$(e,t){return e.sortNodePosition(t)}function v$(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Ww(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Ww(e,t,r);else{const s=typeof t=="function"?h0(e,t,r.custom):t;n=Promise.all(rO(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const C$=g1.length;function nO(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?nO(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<C$;r++){const n=g1[r],s=e.props[n];(Tf(s)||s===!1)&&(t[n]=s)}return t}const y$=[...p1].reverse(),S$=p1.length;function w$(e){return t=>Promise.all(t.map(({animation:r,options:n})=>v$(e,r,n)))}function x$(e){let t=w$(e),r=dA(),n=!0;const s=l=>(u,f)=>{var p;const g=h0(e,f,l==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(g){const{transition:C,transitionEnd:S,...y}=g;u={...u,...y,...S}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,f=nO(e.parent)||{},p=[],g=new Set;let C={},S=1/0;for(let w=0;w<S$;w++){const b=y$[w],F=r[b],R=u[b]!==void 0?u[b]:f[b],E=Tf(R),A=b===l?F.isActive:null;A===!1&&(S=w);let D=R===f[b]&&R!==u[b]&&E;if(D&&n&&e.manuallyAnimateOnMount&&(D=!1),F.protectedKeys={...C},!F.isActive&&A===null||!R&&!F.prevProp||u0(R)||typeof R=="boolean")continue;const M=b$(F.prevProp,R);let I=M||b===l&&F.isActive&&!D&&E||w>S&&E,_=!1;const j=Array.isArray(R)?R:[R];let H=j.reduce(s(b),{});A===!1&&(H={});const{prevResolvedValues:B={}}=F,oe={...B,...H},ye=se=>{I=!0,g.has(se)&&(_=!0,g.delete(se)),F.needsAnimating[se]=!0;const ee=e.getValue(se);ee&&(ee.liveStyle=!1)};for(const se in oe){const ee=H[se],re=B[se];if(C.hasOwnProperty(se))continue;let de=!1;Iw(ee)&&Iw(re)?de=!mI(ee,re):de=ee!==re,de?ee!=null?ye(se):g.add(se):ee!==void 0&&g.has(se)?ye(se):F.protectedKeys[se]=!0}F.prevProp=R,F.prevResolvedValues=H,F.isActive&&(C={...C,...H}),n&&e.blockInitialAnimation&&(I=!1),I&&(!(D&&M)||_)&&p.push(...j.map(se=>({animation:se,options:{type:b}})))}if(g.size){const w={};g.forEach(b=>{const F=e.getBaseTarget(b),R=e.getValue(b);R&&(R.liveStyle=!0),w[b]=F??null}),p.push({animation:w})}let y=!!p.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(p):Promise.resolve()}function a(l,u){var f;if(r[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var C;return(C=g.animationState)===null||C===void 0?void 0:C.setActive(l,u)}),r[l].isActive=u;const p=o(l);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r,reset:()=>{r=dA(),n=!0}}}function b$(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mI(t,e):!1}function Kl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dA(){return{animate:Kl(!0),whileInView:Kl(),whileHover:Kl(),whileTap:Kl(),whileDrag:Kl(),whileFocus:Kl(),exit:Kl()}}class xl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class E$ extends xl{constructor(t){super(t),t.animationState||(t.animationState=x$(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();u0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let R$=0;class F$ extends xl{constructor(){super(...arguments),this.id=R$++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const T$={animation:{Feature:E$},exit:{Feature:F$}};function Mf(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function fp(e){return{point:{x:e.pageX,y:e.pageY}}}const P$=e=>t=>D1(t)&&e(t,fp(t));function cf(e,t,r,n){return Mf(e,t,P$(r),n)}const hA=(e,t)=>Math.abs(e-t);function A$(e,t){const r=hA(e.x,t.x),n=hA(e.y,t.y);return Math.sqrt(r**2+n**2)}class sO{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=aS(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,C=A$(p.offset,{x:0,y:0})>=3;if(!g&&!C)return;const{point:S}=p,{timestamp:y}=wn;this.history.push({...S,timestamp:y});const{onStart:w,onMove:b}=this.handlers;g||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=oS(g,this.transformPagePoint),Sr.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:C,onSessionEnd:S,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=aS(p.type==="pointercancel"?this.lastMoveEventInfo:oS(g,this.transformPagePoint),this.history);this.startEvent&&C&&C(p,w),S&&S(p,w)},!D1(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=fp(t),a=oS(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=wn;this.history=[{...l,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,aS(a,this.history)),this.removeListeners=hp(cf(this.contextWindow,"pointermove",this.handlePointerMove),cf(this.contextWindow,"pointerup",this.handlePointerUp),cf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ll(this.updatePoint)}}function oS(e,t){return t?{point:t(e.point)}:e}function fA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function aS({point:e},t){return{point:e,delta:fA(e,iO(t)),offset:fA(e,D$(t)),velocity:M$(t,.1)}}function D$(e){return e[0]}function iO(e){return e[e.length-1]}function M$(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=iO(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Yo(t)));)r--;if(!n)return{x:0,y:0};const i=Qo(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const oO=1e-4,N$=1-oO,I$=1+oO,aO=.01,O$=0-aO,k$=0+aO;function Ks(e){return e.max-e.min}function L$(e,t,r){return Math.abs(e-t)<=r}function pA(e,t,r,n=.5){e.origin=n,e.originPoint=Ar(t.min,t.max,e.origin),e.scale=Ks(r)/Ks(t),e.translate=Ar(r.min,r.max,e.origin)-e.originPoint,(e.scale>=N$&&e.scale<=I$||isNaN(e.scale))&&(e.scale=1),(e.translate>=O$&&e.translate<=k$||isNaN(e.translate))&&(e.translate=0)}function uf(e,t,r,n){pA(e.x,t.x,r.x,n?n.originX:void 0),pA(e.y,t.y,r.y,n?n.originY:void 0)}function gA(e,t,r){e.min=r.min+t.min,e.max=e.min+Ks(t)}function _$(e,t,r){gA(e.x,t.x,r.x),gA(e.y,t.y,r.y)}function mA(e,t,r){e.min=t.min-r.min,e.max=e.min+Ks(t)}function df(e,t,r){mA(e.x,t.x,r.x),mA(e.y,t.y,r.y)}function j$(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ar(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ar(r,e,n.max):Math.min(e,r)),e}function vA(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function B$(e,{top:t,left:r,bottom:n,right:s}){return{x:vA(e.x,r,s),y:vA(e.y,t,n)}}function CA(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function G$(e,t){return{x:CA(e.x,t.x),y:CA(e.y,t.y)}}function V$(e,t){let r=.5;const n=Ks(e),s=Ks(t);return s>n?r=Cd(t.min,t.max-n,e.min):n>s&&(r=Cd(e.min,e.max-s,t.min)),oa(0,1,r)}function H$(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Uw=.35;function W$(e=Uw){return e===!1?e=0:e===!0&&(e=Uw),{x:yA(e,"left","right"),y:yA(e,"top","bottom")}}function yA(e,t,r){return{min:SA(e,t),max:SA(e,r)}}function SA(e,t){return typeof e=="number"?e:e[t]||0}const wA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wu=()=>({x:wA(),y:wA()}),xA=()=>({min:0,max:0}),Wr=()=>({x:xA(),y:xA()});function ui(e){return[e("x"),e("y")]}function lO({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function U$({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $$(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function lS(e){return e===void 0||e===1}function $w({scale:e,scaleX:t,scaleY:r}){return!lS(e)||!lS(t)||!lS(r)}function Yl(e){return $w(e)||cO(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function cO(e){return bA(e.x)||bA(e.y)}function bA(e){return e&&e!=="0%"}function dv(e,t,r){const n=e-r,s=t*n;return r+s}function EA(e,t,r,n,s){return s!==void 0&&(e=dv(e,s,n)),dv(e,r,n)+t}function zw(e,t=0,r=1,n,s){e.min=EA(e.min,t,r,n,s),e.max=EA(e.max,t,r,n,s)}function uO(e,{x:t,y:r}){zw(e.x,t.translate,t.scale,t.originPoint),zw(e.y,r.translate,r.scale,r.originPoint)}const RA=.999999999999,FA=1.0000000000001;function z$(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&$u(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,uO(e,o)),n&&Yl(i.latestValues)&&$u(e,i.latestValues))}t.x<FA&&t.x>RA&&(t.x=1),t.y<FA&&t.y>RA&&(t.y=1)}function Uu(e,t){e.min=e.min+t,e.max=e.max+t}function TA(e,t,r,n,s=.5){const i=Ar(e.min,e.max,s);zw(e,t,r,i,n)}function $u(e,t){TA(e.x,t.x,t.scaleX,t.scale,t.originX),TA(e.y,t.y,t.scaleY,t.scale,t.originY)}function dO(e,t){return lO($$(e.getBoundingClientRect(),t))}function K$(e,t,r){const n=dO(e,r),{scroll:s}=t;return s&&(Uu(n.x,s.offset.x),Uu(n.y,s.offset.y)),n}const hO=({current:e})=>e?e.ownerDocument.defaultView:null,q$=new WeakMap;class Y${constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wr(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(fp(f).point)},i=(f,p)=>{const{drag:g,dragPropagation:C,onDragStart:S}=this.getProps();if(g&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=V7(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ui(w=>{let b=this.getAxisMotionValue(w).get()||0;if(fo.test(b)){const{projection:F}=this.visualElement;if(F&&F.layout){const R=F.layout.layoutBox[w];R&&(b=Ks(R)*(parseFloat(b)/100))}}this.originPoint[w]=b}),S&&Sr.postRender(()=>S(f,p)),Lw(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(f,p)=>{const{dragPropagation:g,dragDirectionLock:C,onDirectionLock:S,onDrag:y}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=p;if(C&&this.currentDirection===null){this.currentDirection=Q$(w),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),y&&y(f,p)},a=(f,p)=>this.stop(f,p),l=()=>ui(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new sO(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:hO(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Sr.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!lm(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=j$(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Vu(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=B$(s.layoutBox,r):this.constraints=!1,this.elastic=W$(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ui(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=H$(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Vu(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=K$(n,s.root,this.visualElement.getTransformPagePoint());let o=G$(s.layout.layoutBox,i);if(r){const a=r(U$(o));this.hasMutatedConstraints=!!a,a&&(o=lO(a))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=ui(f=>{if(!lm(f,r,this.currentDirection))return;let p=l&&l[f]||{};o&&(p={min:0,max:0});const g=s?200:1e6,C=s?40:1e7,S={type:"inertia",velocity:n?t[f]:0,bounceStiffness:g,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(f,S)});return Promise.all(u).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Lw(this.visualElement,t),n.start(H1(t,n,0,r,this.visualElement,!1))}stopAnimation(){ui(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ui(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ui(r=>{const{drag:n}=this.getProps();if(!lm(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(t[r]-Ar(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Vu(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ui(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=V$({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ui(o=>{if(!lm(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ar(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;q$.set(this.visualElement,this);const t=this.visualElement.current,r=cf(t,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Vu(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Sr.read(n);const o=Mf(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ui(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=l[f].translate,p.set(p.get()+l[f].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Uw,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function lm(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Q$(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class X$ extends xl{constructor(t){super(t),this.removeGroupControls=Us,this.removeListeners=Us,this.controls=new Y$(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Us}unmount(){this.removeGroupControls(),this.removeListeners()}}const PA=e=>(t,r)=>{e&&Sr.postRender(()=>e(t,r))};class Z$ extends xl{constructor(){super(...arguments),this.removePointerDownListener=Us}onPointerDown(t){this.session=new sO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:PA(t),onStart:PA(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&Sr.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=cf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Uh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Tt.test(e))e=parseFloat(e);else return e;const r=AA(e,t.target.x),n=AA(e,t.target.y);return`${r}% ${n}%`}},J$={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=cl.parse(e);if(s.length>5)return n;const i=cl.createTransformer(e),o=typeof s[0]!="number"?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=Ar(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class ez extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;S7(tz),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Gm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Sr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),v1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fO(e){const[t,r]=YN(),n=m.useContext(c1);return d.jsx(ez,{...e,layoutGroup:n,switchLayoutGroup:m.useContext(nI),isPresent:t,safeToRemove:r})}const tz={borderRadius:{...Uh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uh,borderTopRightRadius:Uh,borderBottomLeftRadius:Uh,borderBottomRightRadius:Uh,boxShadow:J$};function rz(e,t,r){const n=Ln(e)?e:Af(e);return n.start(H1("",n,t,r)),n.animation}function nz(e){return e instanceof SVGElement&&e.tagName!=="svg"}const sz=(e,t)=>e.depth-t.depth;class iz{constructor(){this.children=[],this.isDirty=!1}add(t){M1(this.children,t),this.isDirty=!0}remove(t){N1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sz),this.isDirty=!1,this.children.forEach(t)}}function oz(e,t){const r=po.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(ll(n),e(i-t))};return Sr.read(n,!0),()=>ll(n)}const pO=["TopLeft","TopRight","BottomLeft","BottomRight"],az=pO.length,DA=e=>typeof e=="string"?parseFloat(e):e,MA=e=>typeof e=="number"||Tt.test(e);function lz(e,t,r,n,s,i){s?(e.opacity=Ar(0,r.opacity!==void 0?r.opacity:1,cz(n)),e.opacityExit=Ar(t.opacity!==void 0?t.opacity:1,0,uz(n))):i&&(e.opacity=Ar(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<az;o++){const a=`border${pO[o]}Radius`;let l=NA(t,a),u=NA(r,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||MA(l)===MA(u)?(e[a]=Math.max(Ar(DA(l),DA(u),n),0),(fo.test(u)||fo.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||r.rotate)&&(e.rotate=Ar(t.rotate||0,r.rotate||0,n))}function NA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const cz=gO(0,.5,II),uz=gO(.5,.95,Us);function gO(e,t,r){return n=>n<e?0:n>t?1:r(Cd(e,t,n))}function IA(e,t){e.min=t.min,e.max=t.max}function ii(e,t){IA(e.x,t.x),IA(e.y,t.y)}function OA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function kA(e,t,r,n,s){return e-=t,e=dv(e,1/r,n),s!==void 0&&(e=dv(e,1/s,n)),e}function dz(e,t=0,r=1,n=.5,s,i=e,o=e){if(fo.test(t)&&(t=parseFloat(t),t=Ar(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Ar(i.min,i.max,n);e===i&&(a-=t),e.min=kA(e.min,t,r,a,s),e.max=kA(e.max,t,r,a,s)}function LA(e,t,[r,n,s],i,o){dz(e,t[r],t[n],t[s],t.scale,i,o)}const hz=["x","scaleX","originX"],fz=["y","scaleY","originY"];function _A(e,t,r,n){LA(e.x,t,hz,r?r.x:void 0,n?n.x:void 0),LA(e.y,t,fz,r?r.y:void 0,n?n.y:void 0)}function jA(e){return e.translate===0&&e.scale===1}function mO(e){return jA(e.x)&&jA(e.y)}function BA(e,t){return e.min===t.min&&e.max===t.max}function pz(e,t){return BA(e.x,t.x)&&BA(e.y,t.y)}function GA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function vO(e,t){return GA(e.x,t.x)&&GA(e.y,t.y)}function VA(e){return Ks(e.x)/Ks(e.y)}function HA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class gz{constructor(){this.members=[]}add(t){M1(this.members,t),t.scheduleRender()}remove(t){if(N1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mz(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:p,rotateY:g,skewX:C,skewY:S}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),C&&(n+=`skewX(${C}deg) `),S&&(n+=`skewY(${S}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const Ql={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},tf=typeof window<"u"&&window.MotionDebug!==void 0,cS=["","X","Y","Z"],vz={visibility:"hidden"},WA=1e3;let Cz=0;function uS(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function CO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=FI(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Sr,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&CO(n)}function yO({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Cz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,tf&&(Ql.totalNodes=Ql.resolvedTargetDeltas=Ql.recalculatedProjection=0),this.nodes.forEach(wz),this.nodes.forEach(Fz),this.nodes.forEach(Tz),this.nodes.forEach(xz),tf&&window.MotionDebug.record(Ql)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new iz)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new I1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nz(o),this.instance=o;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let p;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=oz(g,250),Gm.hasAnimatedSinceResize&&(Gm.hasAnimatedSinceResize=!1,this.nodes.forEach($A))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:C,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||Nz,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=f.getProps(),F=!this.targetLayout||!vO(this.targetLayout,S)||C,R=!g&&C;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||R||g&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,R);const E={...T1(y,"layout"),onPlay:w,onComplete:b};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else g||$A(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ll(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UA);return}this.isUpdating||this.nodes.forEach(Ez),this.isUpdating=!1,this.nodes.forEach(Rz),this.nodes.forEach(yz),this.nodes.forEach(Sz),this.clearAllSnapshots();const a=po.now();wn.delta=oa(0,1e3/60,a-wn.timestamp),wn.timestamp=a,wn.isProcessing=!0,eS.update.process(wn),eS.preRender.process(wn),eS.render.process(wn),wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,v1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bz),this.sharedNodes.forEach(Az)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Sr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Sr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!mO(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(a||Yl(this.latestValues)||f)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Iz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Wr();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Oz))){const{scroll:f}=this.root;f&&(Uu(l.x,f.offset.x),Uu(l.y,f.offset.y))}return l}removeElementScroll(o){var a;const l=Wr();if(ii(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&ii(l,o),Uu(l.x,p.offset.x),Uu(l.y,p.offset.y))}return l}applyTransform(o,a=!1){const l=Wr();ii(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&$u(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Yl(f.latestValues)&&$u(l,f.latestValues)}return Yl(this.latestValues)&&$u(l,this.latestValues),l}removeTransform(o){const a=Wr();ii(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Yl(u.latestValues))continue;$w(u.latestValues)&&u.updateSnapshot();const f=Wr(),p=u.measurePageBox();ii(f,p),_A(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Yl(this.latestValues)&&_A(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=wn.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wr(),this.relativeTargetOrigin=Wr(),df(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wr(),this.targetWithTransforms=Wr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ii(this.target,this.layout.layoutBox),uO(this.target,this.targetDelta)):ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wr(),this.relativeTargetOrigin=Wr(),df(this.relativeTargetOrigin,this.target,C.target),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}tf&&Ql.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$w(this.parent.latestValues)||cO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===wn.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ii(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,C=this.treeScale.y;z$(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Wr());const{target:S}=a;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OA(this.prevProjectionDelta.x,this.projectionDelta.x),OA(this.prevProjectionDelta.y,this.projectionDelta.y)),uf(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==C||!HA(this.projectionDelta.x,this.prevProjectionDelta.x)||!HA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),tf&&Ql.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wu(),this.projectionDelta=Wu(),this.projectionDeltaWithTransform=Wu()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},p=Wu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Wr(),C=l?l.source:void 0,S=this.layout?this.layout.source:void 0,y=C!==S,w=this.getStack(),b=!w||w.members.length<=1,F=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(Mz));this.animationProgress=0;let R;this.mixTargetDelta=E=>{const A=E/1e3;zA(p.x,o.x,A),zA(p.y,o.y,A),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(df(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dz(this.relativeTarget,this.relativeTargetOrigin,g,A),R&&pz(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Wr()),ii(R,this.relativeTarget)),y&&(this.animationValues=f,lz(f,u,this.latestValues,A,F,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ll(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Sr.update(()=>{Gm.hasAnimatedSinceResize=!0,this.currentAnimation=rz(0,WA,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&SO(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Wr();const p=Ks(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const g=Ks(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}ii(a,l),$u(a,f),uf(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new gz),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&uS("z",o,u,this.animationValues);for(let f=0;f<cS.length;f++)uS(`rotate${cS[f]}`,o,u,this.animationValues),uS(`skew${cS[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vz;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=jm(o==null?void 0:o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=jm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Yl(this.latestValues)&&(y.transform=f?f({},""):"none",this.hasProjected=!1),y}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=mz(this.projectionDeltaWithTransform,this.treeScale,g),f&&(u.transform=f(g,u.transform));const{x:C,y:S}=this.projectionDelta;u.transformOrigin=`${C.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?(l=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const y in ov){if(g[y]===void 0)continue;const{correct:w,applyTo:b}=ov[y],F=u.transform==="none"?g[y]:w(g[y],p);if(b){const R=b.length;for(let E=0;E<R;E++)u[b[E]]=F}else u[y]=F}return this.options.layoutId&&(u.pointerEvents=p===this?jm(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(UA),this.root.sharedNodes.clear()}}}function yz(e){e.updateLayout()}function Sz(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?ui(p=>{const g=o?r.measuredBox[p]:r.layoutBox[p],C=Ks(g);g.min=n[p].min,g.max=g.min+C}):SO(i,r.layoutBox,n)&&ui(p=>{const g=o?r.measuredBox[p]:r.layoutBox[p],C=Ks(n[p]);g.max=g.min+C,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+C)});const a=Wu();uf(a,n,r.layoutBox);const l=Wu();o?uf(l,e.applyTransform(s,!0),r.measuredBox):uf(l,n,r.layoutBox);const u=!mO(a);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:C}=p;if(g&&C){const S=Wr();df(S,r.layoutBox,g.layoutBox);const y=Wr();df(y,n,C.layoutBox),vO(S,y)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=S,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function wz(e){tf&&Ql.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bz(e){e.clearSnapshot()}function UA(e){e.clearMeasurements()}function Ez(e){e.isLayoutDirty=!1}function Rz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $A(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Fz(e){e.resolveTargetDelta()}function Tz(e){e.calcProjection()}function Pz(e){e.resetSkewAndRotation()}function Az(e){e.removeLeadSnapshot()}function zA(e,t,r){e.translate=Ar(t.translate,0,r),e.scale=Ar(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function KA(e,t,r,n){e.min=Ar(t.min,r.min,n),e.max=Ar(t.max,r.max,n)}function Dz(e,t,r,n){KA(e.x,t.x,r.x,n),KA(e.y,t.y,r.y,n)}function Mz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Nz={duration:.45,ease:[.4,0,.1,1]},qA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),YA=qA("applewebkit/")&&!qA("chrome/")?Math.round:Us;function QA(e){e.min=YA(e.min),e.max=YA(e.max)}function Iz(e){QA(e.x),QA(e.y)}function SO(e,t,r){return e==="position"||e==="preserve-aspect"&&!L$(VA(t),VA(r),.2)}function Oz(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const kz=yO({attachResizeListener:(e,t)=>Mf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dS={current:void 0},wO=yO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!dS.current){const e=new kz({});e.mount(window),e.setOptions({layoutScroll:!0}),dS.current=e}return dS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Lz={pan:{Feature:Z$},drag:{Feature:X$,ProjectionNode:wO,MeasureLayout:fO}};function XA(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Sr.postRender(()=>i(t,fp(t)))}class _z extends xl{mount(){const{current:t}=this.node;t&&(this.unmount=L7(t,r=>(XA(this.node,r,"Start"),n=>XA(this.node,n,"End"))))}unmount(){}}class jz extends xl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hp(Mf(this.node.current,"focus",()=>this.onFocus()),Mf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ZA(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Sr.postRender(()=>i(t,fp(t)))}class Bz extends xl{mount(){const{current:t}=this.node;t&&(this.unmount=G7(t,r=>(ZA(this.node,r,"Start"),(n,{success:s})=>ZA(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kw=new WeakMap,hS=new WeakMap,Gz=e=>{const t=Kw.get(e.target);t&&t(e)},Vz=e=>{e.forEach(Gz)};function Hz({root:e,...t}){const r=e||document;hS.has(r)||hS.set(r,{});const n=hS.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(Vz,{root:e,...t})),n[s]}function Wz(e,t,r){const n=Hz(t);return Kw.set(e,r),n.observe(e),()=>{Kw.delete(e),n.unobserve(e)}}const Uz={some:0,all:1};class $z extends xl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Uz[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=u?f:p;g&&g(l)};return Wz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(zz(t,r))&&this.startObserver()}unmount(){}}function zz({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Kz={inView:{Feature:$z},tap:{Feature:Bz},focus:{Feature:jz},hover:{Feature:_z}},qz={layout:{ProjectionNode:wO,MeasureLayout:fO}},qw={current:null},xO={current:!1};function Yz(){if(xO.current=!0,!!h1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>qw.current=e.matches;e.addListener(t),t()}else qw.current=!1}const Qz=[...KI,In,cl],Xz=e=>Qz.find(zI(e)),JA=new WeakMap;function Zz(e,t,r){for(const n in t){const s=t[n],i=r[n];if(Ln(s))e.addValue(n,s);else if(Ln(i))e.addValue(n,Af(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,Af(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const eD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Jz{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=B1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=po.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,Sr.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:f}=o;this.onUpdate=f,this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=d0(r),this.isVariantNode=tI(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const C in g){const S=g[C];l[C]!==void 0&&Ln(S)&&S.set(l[C],!1)}}mount(t){this.current=t,JA.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),xO.current||Yz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){JA.delete(this.current),this.projection&&this.projection.unmount(),ll(this.notifyUpdate),ll(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Hc.has(t),s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Sr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yd){const r=yd[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<eD.length;n++){const s=eD[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Zz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Af(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(UI(s)||kI(s))?s=parseFloat(s):!Xz(s)&&cl.test(r)&&(s=VI(t,r)),this.setBaseTarget(t,Ln(s)?s.get():s)),Ln(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=y1(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ln(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new I1),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class bO extends Jz{constructor(){super(...arguments),this.KeyframeResolver=qI}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ln(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function eK(e){return window.getComputedStyle(e)}class tK extends bO{constructor(){super(...arguments),this.type="html",this.renderInstance=uI}readValueFromInstance(t,r){if(Hc.has(r)){const n=j1(r);return n&&n.default||0}else{const n=eK(t),s=(aI(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return dO(t,r)}build(t,r,n){x1(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return F1(t,r,n)}}class rK extends bO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Hc.has(r)){const n=j1(r);return n&&n.default||0}return r=dI.has(r)?r:m1(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return pI(t,r,n)}build(t,r,n){b1(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){hI(t,r,n,s)}mount(t){this.isSVGTag=R1(t.tagName),super.mount(t)}}const nK=(e,t)=>C1(e)?new rK(t):new tK(t,{allowProjection:e!==m.Fragment}),sK=A7({...T$,...Kz,...Lz,...qz},nK),Gs=UW(sK);function tD(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function iK(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function oK(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function aK(e){return Xr({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(e)}function lK(e){return Xr({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M2.8 1L2.74967 0.99997C2.52122 0.999752 2.32429 0.999564 2.14983 1.04145C1.60136 1.17312 1.17312 1.60136 1.04145 2.14983C0.999564 2.32429 0.999752 2.52122 0.99997 2.74967L1 2.8V5.2L0.99997 5.25033C0.999752 5.47878 0.999564 5.67572 1.04145 5.85017C1.17312 6.39864 1.60136 6.82688 2.14983 6.95856C2.32429 7.00044 2.52122 7.00025 2.74967 7.00003L2.8 7H5.2L5.25033 7.00003C5.47878 7.00025 5.67572 7.00044 5.85017 6.95856C6.39864 6.82688 6.82688 6.39864 6.95856 5.85017C7.00044 5.67572 7.00025 5.47878 7.00003 5.25033L7 5.2V2.8L7.00003 2.74967C7.00025 2.52122 7.00044 2.32429 6.95856 2.14983C6.82688 1.60136 6.39864 1.17312 5.85017 1.04145C5.67572 0.999564 5.47878 0.999752 5.25033 0.99997L5.2 1H2.8ZM2.38328 2.01382C2.42632 2.00348 2.49222 2 2.8 2H5.2C5.50779 2 5.57369 2.00348 5.61672 2.01382C5.79955 2.05771 5.94229 2.20045 5.98619 2.38328C5.99652 2.42632 6 2.49222 6 2.8V5.2C6 5.50779 5.99652 5.57369 5.98619 5.61672C5.94229 5.79955 5.79955 5.94229 5.61672 5.98619C5.57369 5.99652 5.50779 6 5.2 6H2.8C2.49222 6 2.42632 5.99652 2.38328 5.98619C2.20045 5.94229 2.05771 5.79955 2.01382 5.61672C2.00348 5.57369 2 5.50779 2 5.2V2.8C2 2.49222 2.00348 2.42632 2.01382 2.38328C2.05771 2.20045 2.20045 2.05771 2.38328 2.01382ZM9.8 1L9.74967 0.99997C9.52122 0.999752 9.32429 0.999564 9.14983 1.04145C8.60136 1.17312 8.17312 1.60136 8.04145 2.14983C7.99956 2.32429 7.99975 2.52122 7.99997 2.74967L8 2.8V5.2L7.99997 5.25033C7.99975 5.47878 7.99956 5.67572 8.04145 5.85017C8.17312 6.39864 8.60136 6.82688 9.14983 6.95856C9.32429 7.00044 9.52122 7.00025 9.74967 7.00003L9.8 7H12.2L12.2503 7.00003C12.4788 7.00025 12.6757 7.00044 12.8502 6.95856C13.3986 6.82688 13.8269 6.39864 13.9586 5.85017C14.0004 5.67572 14.0003 5.47878 14 5.25033L14 5.2V2.8L14 2.74967C14.0003 2.52122 14.0004 2.32429 13.9586 2.14983C13.8269 1.60136 13.3986 1.17312 12.8502 1.04145C12.6757 0.999564 12.4788 0.999752 12.2503 0.99997L12.2 1H9.8ZM9.38328 2.01382C9.42632 2.00348 9.49222 2 9.8 2H12.2C12.5078 2 12.5737 2.00348 12.6167 2.01382C12.7995 2.05771 12.9423 2.20045 12.9862 2.38328C12.9965 2.42632 13 2.49222 13 2.8V5.2C13 5.50779 12.9965 5.57369 12.9862 5.61672C12.9423 5.79955 12.7995 5.94229 12.6167 5.98619C12.5737 5.99652 12.5078 6 12.2 6H9.8C9.49222 6 9.42632 5.99652 9.38328 5.98619C9.20045 5.94229 9.05771 5.79955 9.01382 5.61672C9.00348 5.57369 9 5.50779 9 5.2V2.8C9 2.49222 9.00348 2.42632 9.01382 2.38328C9.05771 2.20045 9.20045 2.05771 9.38328 2.01382ZM2.74967 7.99997L2.8 8H5.2L5.25033 7.99997C5.47878 7.99975 5.67572 7.99956 5.85017 8.04145C6.39864 8.17312 6.82688 8.60136 6.95856 9.14983C7.00044 9.32429 7.00025 9.52122 7.00003 9.74967L7 9.8V12.2L7.00003 12.2503C7.00025 12.4788 7.00044 12.6757 6.95856 12.8502C6.82688 13.3986 6.39864 13.8269 5.85017 13.9586C5.67572 14.0004 5.47878 14.0003 5.25033 14L5.2 14H2.8L2.74967 14C2.52122 14.0003 2.32429 14.0004 2.14983 13.9586C1.60136 13.8269 1.17312 13.3986 1.04145 12.8502C0.999564 12.6757 0.999752 12.4788 0.99997 12.2503L1 12.2V9.8L0.99997 9.74967C0.999752 9.52122 0.999564 9.32429 1.04145 9.14983C1.17312 8.60136 1.60136 8.17312 2.14983 8.04145C2.32429 7.99956 2.52122 7.99975 2.74967 7.99997ZM2.8 9C2.49222 9 2.42632 9.00348 2.38328 9.01382C2.20045 9.05771 2.05771 9.20045 2.01382 9.38328C2.00348 9.42632 2 9.49222 2 9.8V12.2C2 12.5078 2.00348 12.5737 2.01382 12.6167C2.05771 12.7995 2.20045 12.9423 2.38328 12.9862C2.42632 12.9965 2.49222 13 2.8 13H5.2C5.50779 13 5.57369 12.9965 5.61672 12.9862C5.79955 12.9423 5.94229 12.7995 5.98619 12.6167C5.99652 12.5737 6 12.5078 6 12.2V9.8C6 9.49222 5.99652 9.42632 5.98619 9.38328C5.94229 9.20045 5.79955 9.05771 5.61672 9.01382C5.57369 9.00348 5.50779 9 5.2 9H2.8ZM9.8 8L9.74967 7.99997C9.52122 7.99975 9.32429 7.99956 9.14983 8.04145C8.60136 8.17312 8.17312 8.60136 8.04145 9.14983C7.99956 9.32429 7.99975 9.52122 7.99997 9.74967L8 9.8V12.2L7.99997 12.2503C7.99975 12.4788 7.99956 12.6757 8.04145 12.8502C8.17312 13.3986 8.60136 13.8269 9.14983 13.9586C9.32429 14.0004 9.52122 14.0003 9.74967 14L9.8 14H12.2L12.2503 14C12.4788 14.0003 12.6757 14.0004 12.8502 13.9586C13.3986 13.8269 13.8269 13.3986 13.9586 12.8502C14.0004 12.6757 14.0003 12.4788 14 12.2503L14 12.2V9.8L14 9.74967C14.0003 9.52122 14.0004 9.32429 13.9586 9.14983C13.8269 8.60136 13.3986 8.17312 12.8502 8.04145C12.6757 7.99956 12.4788 7.99975 12.2503 7.99997L12.2 8H9.8ZM9.38328 9.01382C9.42632 9.00348 9.49222 9 9.8 9H12.2C12.5078 9 12.5737 9.00348 12.6167 9.01382C12.7995 9.05771 12.9423 9.20045 12.9862 9.38328C12.9965 9.42632 13 9.49222 13 9.8V12.2C13 12.5078 12.9965 12.5737 12.9862 12.6167C12.9423 12.7995 12.7995 12.9423 12.6167 12.9862C12.5737 12.9965 12.5078 13 12.2 13H9.8C9.49222 13 9.42632 12.9965 9.38328 12.9862C9.20045 12.9423 9.05771 12.7995 9.01382 12.6167C9.00348 12.5737 9 12.5078 9 12.2V9.8C9 9.49222 9.00348 9.42632 9.01382 9.38328C9.05771 9.20045 9.20045 9.05771 9.38328 9.01382Z",fill:"currentColor"},child:[]}]})(e)}function et(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function cK(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const u=p=>{var b;const{scope:g,children:C,...S}=p,y=((b=g==null?void 0:g[e])==null?void 0:b[l])||a,w=m.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:w,children:C})};u.displayName=i+"Provider";function f(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,S=m.useContext(C);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,uK(s,...t)]}function uK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function dK(e){const t=hK(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(pK);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function hK(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=mK(s),a=gK(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fK=Symbol("radix.slottable");function pK(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fK}function gK(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function mK(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],EO=vK.reduce((e,t)=>{const r=dK(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function CK(e,t){e&&Sl.flushSync(()=>e.dispatchEvent(t))}function hn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function yK(e,t=globalThis==null?void 0:globalThis.document){const r=hn(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var SK="DismissableLayer",Yw="dismissableLayer.update",wK="dismissableLayer.pointerDownOutside",xK="dismissableLayer.focusOutside",rD,RO=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bd=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,u=m.useContext(RO),[f,p]=m.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=m.useState({}),S=Gt(t,M=>p(M)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(w),F=f?y.indexOf(f):-1,R=u.layersWithOutsidePointerEventsDisabled.size>0,E=F>=b,A=RK(M=>{const I=M.target,_=[...u.branches].some(j=>j.contains(I));!E||_||(s==null||s(M),o==null||o(M),M.defaultPrevented||a==null||a())},g),D=FK(M=>{const I=M.target;[...u.branches].some(j=>j.contains(I))||(i==null||i(M),o==null||o(M),M.defaultPrevented||a==null||a())},g);return yK(M=>{F===u.layers.size-1&&(n==null||n(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},g),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(rD=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),nD(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=rD)}},[f,g,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),nD())},[f,u]),m.useEffect(()=>{const M=()=>C({});return document.addEventListener(Yw,M),()=>document.removeEventListener(Yw,M)},[]),d.jsx(EO.div,{...l,ref:S,style:{pointerEvents:R?E?"auto":"none":void 0,...e.style},onFocusCapture:et(e.onFocusCapture,D.onFocusCapture),onBlurCapture:et(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:et(e.onPointerDownCapture,A.onPointerDownCapture)})});Bd.displayName=SK;var bK="DismissableLayerBranch",EK=m.forwardRef((e,t)=>{const r=m.useContext(RO),n=m.useRef(null),s=Gt(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),d.jsx(EO.div,{...e,ref:s})});EK.displayName=bK;function RK(e,t=globalThis==null?void 0:globalThis.document){const r=hn(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){FO(wK,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function FK(e,t=globalThis==null?void 0:globalThis.document){const r=hn(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&FO(xK,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function nD(){const e=new CustomEvent(Yw);document.dispatchEvent(e)}function FO(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?CK(s,i):s.dispatchEvent(i)}var Yr=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},TK=qx[" useId ".trim().toString()]||(()=>{}),PK=0;function mn(e){const[t,r]=m.useState(TK());return Yr(()=>{r(n=>n??String(PK++))},[e]),t?`radix-${t}`:""}const AK=["top","right","bottom","left"],ul=Math.min,_s=Math.max,hv=Math.round,cm=Math.floor,go=e=>({x:e,y:e}),DK={left:"right",right:"left",bottom:"top",top:"bottom"},MK={start:"end",end:"start"};function Qw(e,t,r){return _s(e,ul(t,r))}function aa(e,t){return typeof e=="function"?e(t):e}function la(e){return e.split("-")[0]}function Gd(e){return e.split("-")[1]}function W1(e){return e==="x"?"y":"x"}function U1(e){return e==="y"?"height":"width"}const NK=new Set(["top","bottom"]);function ho(e){return NK.has(la(e))?"y":"x"}function $1(e){return W1(ho(e))}function IK(e,t,r){r===void 0&&(r=!1);const n=Gd(e),s=$1(e),i=U1(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=fv(o)),[o,fv(o)]}function OK(e){const t=fv(e);return[Xw(e),t,Xw(t)]}function Xw(e){return e.replace(/start|end/g,t=>MK[t])}const sD=["left","right"],iD=["right","left"],kK=["top","bottom"],LK=["bottom","top"];function _K(e,t,r){switch(e){case"top":case"bottom":return r?t?iD:sD:t?sD:iD;case"left":case"right":return t?kK:LK;default:return[]}}function jK(e,t,r,n){const s=Gd(e);let i=_K(la(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Xw)))),i}function fv(e){return e.replace(/left|right|bottom|top/g,t=>DK[t])}function BK(e){return{top:0,right:0,bottom:0,left:0,...e}}function TO(e){return typeof e!="number"?BK(e):{top:e,right:e,bottom:e,left:e}}function pv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function oD(e,t,r){let{reference:n,floating:s}=e;const i=ho(t),o=$1(t),a=U1(o),l=la(t),u=i==="y",f=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,g=n[a]/2-s[a]/2;let C;switch(l){case"top":C={x:f,y:n.y-s.height};break;case"bottom":C={x:f,y:n.y+n.height};break;case"right":C={x:n.x+n.width,y:p};break;case"left":C={x:n.x-s.width,y:p};break;default:C={x:n.x,y:n.y}}switch(Gd(t)){case"start":C[o]-=g*(r&&u?-1:1);break;case"end":C[o]+=g*(r&&u?-1:1);break}return C}const GK=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:p}=oD(u,n,l),g=n,C={},S=0;for(let y=0;y<a.length;y++){const{name:w,fn:b}=a[y],{x:F,y:R,data:E,reset:A}=await b({x:f,y:p,initialPlacement:n,placement:g,strategy:s,middlewareData:C,rects:u,platform:o,elements:{reference:e,floating:t}});f=F??f,p=R??p,C={...C,[w]:{...C[w],...E}},A&&S<=50&&(S++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(u=A.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):A.rects),{x:f,y:p}=oD(u,g,l)),y=-1)}return{x:f,y:p,placement:g,strategy:s,middlewareData:C}};async function Nf(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:C=0}=aa(t,e),S=TO(C),w=a[g?p==="floating"?"reference":"floating":p],b=pv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),F=p==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},A=pv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:F,offsetParent:R,strategy:l}):F);return{top:(b.top-A.top+S.top)/E.y,bottom:(A.bottom-b.bottom+S.bottom)/E.y,left:(b.left-A.left+S.left)/E.x,right:(A.right-b.right+S.right)/E.x}}const VK=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:f=0}=aa(e,t)||{};if(u==null)return{};const p=TO(f),g={x:r,y:n},C=$1(s),S=U1(C),y=await o.getDimensions(u),w=C==="y",b=w?"top":"left",F=w?"bottom":"right",R=w?"clientHeight":"clientWidth",E=i.reference[S]+i.reference[C]-g[C]-i.floating[S],A=g[C]-i.reference[C],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let M=D?D[R]:0;(!M||!await(o.isElement==null?void 0:o.isElement(D)))&&(M=a.floating[R]||i.floating[S]);const I=E/2-A/2,_=M/2-y[S]/2-1,j=ul(p[b],_),H=ul(p[F],_),B=j,oe=M-y[S]-H,ye=M/2-y[S]/2+I,Re=Qw(B,ye,oe),we=!l.arrow&&Gd(s)!=null&&ye!==Re&&i.reference[S]/2-(ye<B?j:H)-y[S]/2<0,se=we?ye<B?ye-B:ye-oe:0;return{[C]:g[C]+se,data:{[C]:Re,centerOffset:ye-Re-se,...we&&{alignmentOffset:se}},reset:we}}}),HK=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...w}=aa(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=la(s),F=ho(a),R=la(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),A=g||(R||!y?[fv(a)]:OK(a)),D=S!=="none";!g&&D&&A.push(...jK(a,y,S,E));const M=[a,...A],I=await Nf(t,w),_=[];let j=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&_.push(I[b]),p){const ye=IK(s,o,E);_.push(I[ye[0]],I[ye[1]])}if(j=[...j,{placement:s,overflows:_}],!_.every(ye=>ye<=0)){var H,B;const ye=(((H=i.flip)==null?void 0:H.index)||0)+1,Re=M[ye];if(Re&&(!(p==="alignment"?F!==ho(Re):!1)||j.every(ee=>ho(ee.placement)===F?ee.overflows[0]>0:!0)))return{data:{index:ye,overflows:j},reset:{placement:Re}};let we=(B=j.filter(se=>se.overflows[0]<=0).sort((se,ee)=>se.overflows[1]-ee.overflows[1])[0])==null?void 0:B.placement;if(!we)switch(C){case"bestFit":{var oe;const se=(oe=j.filter(ee=>{if(D){const re=ho(ee.placement);return re===F||re==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(re=>re>0).reduce((re,de)=>re+de,0)]).sort((ee,re)=>ee[1]-re[1])[0])==null?void 0:oe[0];se&&(we=se);break}case"initialPlacement":we=a;break}if(s!==we)return{reset:{placement:we}}}return{}}}};function aD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lD(e){return AK.some(t=>e[t]>=0)}const WK=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=aa(e,t);switch(n){case"referenceHidden":{const i=await Nf(t,{...s,elementContext:"reference"}),o=aD(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:lD(o)}}}case"escaped":{const i=await Nf(t,{...s,altBoundary:!0}),o=aD(i,r.floating);return{data:{escapedOffsets:o,escaped:lD(o)}}}default:return{}}}}},PO=new Set(["left","top"]);async function UK(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=la(r),a=Gd(r),l=ho(r)==="y",u=PO.has(o)?-1:1,f=i&&l?-1:1,p=aa(t,e);let{mainAxis:g,crossAxis:C,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof S=="number"&&(C=a==="end"?S*-1:S),l?{x:C*f,y:g*u}:{x:g*u,y:C*f}}const $K=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await UK(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},zK=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:b,y:F}=w;return{x:b,y:F}}},...l}=aa(e,t),u={x:r,y:n},f=await Nf(t,l),p=ho(la(s)),g=W1(p);let C=u[g],S=u[p];if(i){const w=g==="y"?"top":"left",b=g==="y"?"bottom":"right",F=C+f[w],R=C-f[b];C=Qw(F,C,R)}if(o){const w=p==="y"?"top":"left",b=p==="y"?"bottom":"right",F=S+f[w],R=S-f[b];S=Qw(F,S,R)}const y=a.fn({...t,[g]:C,[p]:S});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[g]:i,[p]:o}}}}}},KK=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=aa(e,t),f={x:r,y:n},p=ho(s),g=W1(p);let C=f[g],S=f[p];const y=aa(a,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const R=g==="y"?"height":"width",E=i.reference[g]-i.floating[R]+w.mainAxis,A=i.reference[g]+i.reference[R]-w.mainAxis;C<E?C=E:C>A&&(C=A)}if(u){var b,F;const R=g==="y"?"width":"height",E=PO.has(la(s)),A=i.reference[p]-i.floating[R]+(E&&((b=o.offset)==null?void 0:b[p])||0)+(E?0:w.crossAxis),D=i.reference[p]+i.reference[R]+(E?0:((F=o.offset)==null?void 0:F[p])||0)-(E?w.crossAxis:0);S<A?S=A:S>D&&(S=D)}return{[g]:C,[p]:S}}}},qK=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...u}=aa(e,t),f=await Nf(t,u),p=la(s),g=Gd(s),C=ho(s)==="y",{width:S,height:y}=i.floating;let w,b;p==="top"||p==="bottom"?(w=p,b=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=p,w=g==="end"?"top":"bottom");const F=y-f.top-f.bottom,R=S-f.left-f.right,E=ul(y-f[w],F),A=ul(S-f[b],R),D=!t.middlewareData.shift;let M=E,I=A;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=R),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(M=F),D&&!g){const j=_s(f.left,0),H=_s(f.right,0),B=_s(f.top,0),oe=_s(f.bottom,0);C?I=S-2*(j!==0||H!==0?j+H:_s(f.left,f.right)):M=y-2*(B!==0||oe!==0?B+oe:_s(f.top,f.bottom))}await l({...t,availableWidth:I,availableHeight:M});const _=await o.getDimensions(a.floating);return S!==_.width||y!==_.height?{reset:{rects:!0}}:{}}}};function p0(){return typeof window<"u"}function Vd(e){return AO(e)?(e.nodeName||"").toLowerCase():"#document"}function $s(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xo(e){var t;return(t=(AO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function AO(e){return p0()?e instanceof Node||e instanceof $s(e).Node:!1}function $i(e){return p0()?e instanceof Element||e instanceof $s(e).Element:!1}function vo(e){return p0()?e instanceof HTMLElement||e instanceof $s(e).HTMLElement:!1}function cD(e){return!p0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $s(e).ShadowRoot}const YK=new Set(["inline","contents"]);function pp(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=zi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!YK.has(s)}const QK=new Set(["table","td","th"]);function XK(e){return QK.has(Vd(e))}const ZK=[":popover-open",":modal"];function g0(e){return ZK.some(t=>{try{return e.matches(t)}catch{return!1}})}const JK=["transform","translate","scale","rotate","perspective"],eq=["transform","translate","scale","rotate","perspective","filter"],tq=["paint","layout","strict","content"];function z1(e){const t=K1(),r=$i(e)?zi(e):e;return JK.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||eq.some(n=>(r.willChange||"").includes(n))||tq.some(n=>(r.contain||"").includes(n))}function rq(e){let t=dl(e);for(;vo(t)&&!wd(t);){if(z1(t))return t;if(g0(t))return null;t=dl(t)}return null}function K1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nq=new Set(["html","body","#document"]);function wd(e){return nq.has(Vd(e))}function zi(e){return $s(e).getComputedStyle(e)}function m0(e){return $i(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function dl(e){if(Vd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cD(e)&&e.host||xo(e);return cD(t)?t.host:t}function DO(e){const t=dl(e);return wd(t)?e.ownerDocument?e.ownerDocument.body:e.body:vo(t)&&pp(t)?t:DO(t)}function If(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=DO(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=$s(s);if(i){const a=Zw(o);return t.concat(o,o.visualViewport||[],pp(s)?s:[],a&&r?If(a):[])}return t.concat(s,If(s,[],r))}function Zw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function MO(e){const t=zi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=vo(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=hv(r)!==i||hv(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function q1(e){return $i(e)?e:e.contextElement}function Qu(e){const t=q1(e);if(!vo(t))return go(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=MO(t);let o=(i?hv(r.width):r.width)/n,a=(i?hv(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const sq=go(0);function NO(e){const t=$s(e);return!K1()||!t.visualViewport?sq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function iq(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==$s(e)?!1:t}function Ac(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=q1(e);let o=go(1);t&&(n?$i(n)&&(o=Qu(n)):o=Qu(e));const a=iq(i,r,n)?NO(i):go(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,f=s.width/o.x,p=s.height/o.y;if(i){const g=$s(i),C=n&&$i(n)?$s(n):n;let S=g,y=Zw(S);for(;y&&n&&C!==S;){const w=Qu(y),b=y.getBoundingClientRect(),F=zi(y),R=b.left+(y.clientLeft+parseFloat(F.paddingLeft))*w.x,E=b.top+(y.clientTop+parseFloat(F.paddingTop))*w.y;l*=w.x,u*=w.y,f*=w.x,p*=w.y,l+=R,u+=E,S=$s(y),y=Zw(S)}}return pv({width:f,height:p,x:l,y:u})}function v0(e,t){const r=m0(e).scrollLeft;return t?t.left+r:Ac(xo(e)).left+r}function IO(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-v0(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function oq(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=xo(n),a=t?g0(t.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},u=go(1);const f=go(0),p=vo(n);if((p||!p&&!i)&&((Vd(n)!=="body"||pp(o))&&(l=m0(n)),vo(n))){const C=Ac(n);u=Qu(n),f.x=C.x+n.clientLeft,f.y=C.y+n.clientTop}const g=o&&!p&&!i?IO(o,l):go(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+f.x+g.x,y:r.y*u.y-l.scrollTop*u.y+f.y+g.y}}function aq(e){return Array.from(e.getClientRects())}function lq(e){const t=xo(e),r=m0(e),n=e.ownerDocument.body,s=_s(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=_s(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+v0(e);const a=-r.scrollTop;return zi(n).direction==="rtl"&&(o+=_s(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}const uD=25;function cq(e,t){const r=$s(e),n=xo(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const f=K1();(!f||f&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=v0(n);if(u<=0){const f=n.ownerDocument,p=f.body,g=getComputedStyle(p),C=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,S=Math.abs(n.clientWidth-p.clientWidth-C);S<=uD&&(i-=S)}else u<=uD&&(i+=u);return{width:i,height:o,x:a,y:l}}const uq=new Set(["absolute","fixed"]);function dq(e,t){const r=Ac(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=vo(e)?Qu(e):go(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,u=n*i.y;return{width:o,height:a,x:l,y:u}}function dD(e,t,r){let n;if(t==="viewport")n=cq(e,r);else if(t==="document")n=lq(xo(e));else if($i(t))n=dq(t,r);else{const s=NO(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return pv(n)}function OO(e,t){const r=dl(e);return r===t||!$i(r)||wd(r)?!1:zi(r).position==="fixed"||OO(r,t)}function hq(e,t){const r=t.get(e);if(r)return r;let n=If(e,[],!1).filter(a=>$i(a)&&Vd(a)!=="body"),s=null;const i=zi(e).position==="fixed";let o=i?dl(e):e;for(;$i(o)&&!wd(o);){const a=zi(o),l=z1(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&uq.has(s.position)||pp(o)&&!l&&OO(e,o))?n=n.filter(f=>f!==o):s=a,o=dl(o)}return t.set(e,n),n}function fq(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?g0(t)?[]:hq(t,this._c):[].concat(r),n],a=o[0],l=o.reduce((u,f)=>{const p=dD(t,f,s);return u.top=_s(p.top,u.top),u.right=ul(p.right,u.right),u.bottom=ul(p.bottom,u.bottom),u.left=_s(p.left,u.left),u},dD(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function pq(e){const{width:t,height:r}=MO(e);return{width:t,height:r}}function gq(e,t,r){const n=vo(t),s=xo(t),i=r==="fixed",o=Ac(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=go(0);function u(){l.x=v0(s)}if(n||!n&&!i)if((Vd(t)!=="body"||pp(s))&&(a=m0(t)),n){const C=Ac(t,!0,i,t);l.x=C.x+t.clientLeft,l.y=C.y+t.clientTop}else s&&u();i&&!n&&s&&u();const f=s&&!n&&!i?IO(s,a):go(0),p=o.left+a.scrollLeft-l.x-f.x,g=o.top+a.scrollTop-l.y-f.y;return{x:p,y:g,width:o.width,height:o.height}}function fS(e){return zi(e).position==="static"}function hD(e,t){if(!vo(e)||zi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return xo(e)===r&&(r=r.ownerDocument.body),r}function kO(e,t){const r=$s(e);if(g0(e))return r;if(!vo(e)){let s=dl(e);for(;s&&!wd(s);){if($i(s)&&!fS(s))return s;s=dl(s)}return r}let n=hD(e,t);for(;n&&XK(n)&&fS(n);)n=hD(n,t);return n&&wd(n)&&fS(n)&&!z1(n)?r:n||rq(e)||r}const mq=async function(e){const t=this.getOffsetParent||kO,r=this.getDimensions,n=await r(e.floating);return{reference:gq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function vq(e){return zi(e).direction==="rtl"}const Cq={convertOffsetParentRelativeRectToViewportRelativeRect:oq,getDocumentElement:xo,getClippingRect:fq,getOffsetParent:kO,getElementRects:mq,getClientRects:aq,getDimensions:pq,getScale:Qu,isElement:$i,isRTL:vq};function LO(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yq(e,t){let r=null,n;const s=xo(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:f,top:p,width:g,height:C}=u;if(a||t(),!g||!C)return;const S=cm(p),y=cm(s.clientWidth-(f+g)),w=cm(s.clientHeight-(p+C)),b=cm(f),R={rootMargin:-S+"px "+-y+"px "+-w+"px "+-b+"px",threshold:_s(0,ul(1,l))||1};let E=!0;function A(D){const M=D[0].intersectionRatio;if(M!==l){if(!E)return o();M?o(!1,M):n=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!LO(u,e.getBoundingClientRect())&&o(),E=!1}try{r=new IntersectionObserver(A,{...R,root:s.ownerDocument})}catch{r=new IntersectionObserver(A,R)}r.observe(e)}return o(!0),i}function Sq(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=q1(e),f=s||i?[...u?If(u):[],...If(t)]:[];f.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const p=u&&a?yq(u,r):null;let g=-1,C=null;o&&(C=new ResizeObserver(b=>{let[F]=b;F&&F.target===u&&C&&(C.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var R;(R=C)==null||R.observe(t)})),r()}),u&&!l&&C.observe(u),C.observe(t));let S,y=l?Ac(e):null;l&&w();function w(){const b=Ac(e);y&&!LO(y,b)&&r(),y=b,S=requestAnimationFrame(w)}return r(),()=>{var b;f.forEach(F=>{s&&F.removeEventListener("scroll",r),i&&F.removeEventListener("resize",r)}),p==null||p(),(b=C)==null||b.disconnect(),C=null,l&&cancelAnimationFrame(S)}}const wq=$K,xq=zK,bq=HK,Eq=qK,Rq=WK,fD=VK,Fq=KK,Tq=(e,t,r)=>{const n=new Map,s={platform:Cq,...r},i={...s.platform,_c:n};return GK(e,t,{...s,platform:i})};var Pq=typeof document<"u",Aq=function(){},Vm=Pq?m.useLayoutEffect:Aq;function gv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!gv(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!gv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function _O(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pD(e,t){const r=_O(e);return Math.round(t*r)/r}function pS(e){const t=m.useRef(e);return Vm(()=>{t.current=e}),t}function Dq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[f,p]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,C]=m.useState(n);gv(g,n)||C(n);const[S,y]=m.useState(null),[w,b]=m.useState(null),F=m.useCallback(ee=>{ee!==D.current&&(D.current=ee,y(ee))},[]),R=m.useCallback(ee=>{ee!==M.current&&(M.current=ee,b(ee))},[]),E=i||S,A=o||w,D=m.useRef(null),M=m.useRef(null),I=m.useRef(f),_=l!=null,j=pS(l),H=pS(s),B=pS(u),oe=m.useCallback(()=>{if(!D.current||!M.current)return;const ee={placement:t,strategy:r,middleware:g};H.current&&(ee.platform=H.current),Tq(D.current,M.current,ee).then(re=>{const de={...re,isPositioned:B.current!==!1};ye.current&&!gv(I.current,de)&&(I.current=de,Sl.flushSync(()=>{p(de)}))})},[g,t,r,H,B]);Vm(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,p(ee=>({...ee,isPositioned:!1})))},[u]);const ye=m.useRef(!1);Vm(()=>(ye.current=!0,()=>{ye.current=!1}),[]),Vm(()=>{if(E&&(D.current=E),A&&(M.current=A),E&&A){if(j.current)return j.current(E,A,oe);oe()}},[E,A,oe,j,_]);const Re=m.useMemo(()=>({reference:D,floating:M,setReference:F,setFloating:R}),[F,R]),we=m.useMemo(()=>({reference:E,floating:A}),[E,A]),se=m.useMemo(()=>{const ee={position:r,left:0,top:0};if(!we.floating)return ee;const re=pD(we.floating,f.x),de=pD(we.floating,f.y);return a?{...ee,transform:"translate("+re+"px, "+de+"px)",..._O(we.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:re,top:de}},[r,a,we.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:oe,refs:Re,elements:we,floatingStyles:se}),[f,oe,Re,we,se])}const Mq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?fD({element:n.current,padding:s}).fn(r):{}:n?fD({element:n,padding:s}).fn(r):{}}}},Nq=(e,t)=>({...wq(e),options:[e,t]}),Iq=(e,t)=>({...xq(e),options:[e,t]}),Oq=(e,t)=>({...Fq(e),options:[e,t]}),kq=(e,t)=>({...bq(e),options:[e,t]}),Lq=(e,t)=>({...Eq(e),options:[e,t]}),_q=(e,t)=>({...Rq(e),options:[e,t]}),jq=(e,t)=>({...Mq(e),options:[e,t]});function Bq(e){const t=Gq(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(Hq);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Gq(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=Uq(s),a=Wq(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vq=Symbol("radix.slottable");function Hq(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vq}function Wq(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Uq(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zq=$q.reduce((e,t)=>{const r=Bq(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Kq="Arrow",jO=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return d.jsx(zq.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});jO.displayName=Kq;var qq=jO;function Yq(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const u=p=>{var b;const{scope:g,children:C,...S}=p,y=((b=g==null?void 0:g[e])==null?void 0:b[l])||a,w=m.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:w,children:C})};u.displayName=i+"Provider";function f(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,S=m.useContext(C);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,Qq(s,...t)]}function Qq(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Xq(e){const t=Zq(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(eY);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Zq(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=rY(s),a=tY(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jq=Symbol("radix.slottable");function eY(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jq}function tY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function rY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var nY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],BO=nY.reduce((e,t)=>{const r=Xq(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function sY(e){const[t,r]=m.useState(void 0);return Yr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Y1="Popper",[GO,bl]=Yq(Y1),[iY,VO]=GO(Y1),HO=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return d.jsx(iY,{scope:t,anchor:n,onAnchorChange:s,children:r})};HO.displayName=Y1;var WO="PopperAnchor",UO=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=VO(WO,r),o=m.useRef(null),a=Gt(t,o),l=m.useRef(null);return m.useEffect(()=>{const u=l.current;l.current=(n==null?void 0:n.current)||o.current,u!==l.current&&i.onAnchorChange(l.current)}),n?null:d.jsx(BO.div,{...s,ref:a})});UO.displayName=WO;var Q1="PopperContent",[oY,aY]=GO(Q1),$O=m.forwardRef((e,t)=>{var ae,ge,X,ne,Ne,Ae;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:C="optimized",onPlaced:S,...y}=e,w=VO(Q1,r),[b,F]=m.useState(null),R=Gt(t,Qe=>F(Qe)),[E,A]=m.useState(null),D=sY(E),M=(D==null?void 0:D.width)??0,I=(D==null?void 0:D.height)??0,_=n+(i!=="center"?"-"+i:""),j=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},H=Array.isArray(u)?u:[u],B=H.length>0,oe={padding:j,boundary:H.filter(cY),altBoundary:B},{refs:ye,floatingStyles:Re,placement:we,isPositioned:se,middlewareData:ee}=Dq({strategy:"fixed",placement:_,whileElementsMounted:(...Qe)=>Sq(...Qe,{animationFrame:C==="always"}),elements:{reference:w.anchor},middleware:[Nq({mainAxis:s+I,alignmentAxis:o}),l&&Iq({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Oq():void 0,...oe}),l&&kq({...oe}),Lq({...oe,apply:({elements:Qe,rects:Ze,availableWidth:ft,availableHeight:xt})=>{const{width:We,height:le}=Ze.reference,Ke=Qe.floating.style;Ke.setProperty("--radix-popper-available-width",`${ft}px`),Ke.setProperty("--radix-popper-available-height",`${xt}px`),Ke.setProperty("--radix-popper-anchor-width",`${We}px`),Ke.setProperty("--radix-popper-anchor-height",`${le}px`)}}),E&&jq({element:E,padding:a}),uY({arrowWidth:M,arrowHeight:I}),g&&_q({strategy:"referenceHidden",...oe})]}),[re,de]=qO(we),K=hn(S);Yr(()=>{se&&(K==null||K())},[se,K]);const N=(ae=ee.arrow)==null?void 0:ae.x,O=(ge=ee.arrow)==null?void 0:ge.y,V=((X=ee.arrow)==null?void 0:X.centerOffset)!==0,[G,J]=m.useState();return Yr(()=>{b&&J(window.getComputedStyle(b).zIndex)},[b]),d.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...Re,transform:se?Re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(ne=ee.transformOrigin)==null?void 0:ne.x,(Ne=ee.transformOrigin)==null?void 0:Ne.y].join(" "),...((Ae=ee.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(oY,{scope:r,placedSide:re,onArrowChange:A,arrowX:N,arrowY:O,shouldHideArrow:V,children:d.jsx(BO.div,{"data-side":re,"data-align":de,...y,ref:R,style:{...y.style,animation:se?void 0:"none"}})})})});$O.displayName=Q1;var zO="PopperArrow",lY={top:"bottom",right:"left",bottom:"top",left:"right"},KO=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=aY(zO,n),o=lY[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(qq,{...s,ref:r,style:{...s.style,display:"block"}})})});KO.displayName=zO;function cY(e){return e!==null}var uY=e=>({name:"transformOrigin",options:e,fn(t){var w,b,F;const{placement:r,rects:n,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,f]=qO(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,C=(((F=s.arrow)==null?void 0:F.y)??0)+l/2;let S="",y="";return u==="bottom"?(S=o?p:`${g}px`,y=`${-l}px`):u==="top"?(S=o?p:`${g}px`,y=`${n.floating.height+l}px`):u==="right"?(S=`${-l}px`,y=o?p:`${C}px`):u==="left"&&(S=`${n.floating.width+l}px`,y=o?p:`${C}px`),{data:{x:S,y}}}});function qO(e){const[t,r="center"]=e.split("-");return[t,r]}var C0=HO,gp=UO,y0=$O,S0=KO;function dY(e){const t=hY(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(pY);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function hY(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=mY(s),a=gY(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fY=Symbol("radix.slottable");function pY(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fY}function gY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function mY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CY=vY.reduce((e,t)=>{const r=dY(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),yY="Portal",Hd=m.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=m.useState(!1);Yr(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mN.createPortal(d.jsx(CY.div,{...n,ref:t}),o):null});Hd.displayName=yY;function SY(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Pn=e=>{const{present:t,children:r}=e,n=wY(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=Gt(n.ref,xY(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};Pn.displayName="Presence";function wY(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[a,l]=SY(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=um(n.current);i.current=a==="mounted"?u:"none"},[a]),Yr(()=>{const u=n.current,f=s.current;if(f!==e){const g=i.current,C=um(u);e?l("MOUNT"):C==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(f&&g!==C?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Yr(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,p=C=>{const y=um(n.current).includes(CSS.escape(C.animationName));if(C.target===t&&y&&(l("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},g=C=>{C.target===t&&(i.current=um(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function um(e){return(e==null?void 0:e.animationName)||"none"}function xY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function bY(e){const t=EY(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(FY);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function EY(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=PY(s),a=TY(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YO=Symbol("radix.slottable");function RY(e){const t=({children:r})=>d.jsx(d.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=YO,t}function FY(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YO}function TY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function PY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var AY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DY=AY.reduce((e,t)=>{const r=bY(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),MY=qx[" useInsertionEffect ".trim().toString()]||Yr;function hl({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=NY({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:s;{const f=m.useRef(e!==void 0);m.useEffect(()=>{const p=f.current;p!==a&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,n])}const u=m.useCallback(f=>{var p;if(a){const g=IY(f)?f(e):f;g!==e&&((p=o.current)==null||p.call(o,g))}else i(f)},[a,e,i,o]);return[l,u]}function NY({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),i=m.useRef(t);return MY(()=>{i.current=t},[t]),m.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function IY(e){return typeof e=="function"}function OY(e){const t=kY(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(_Y);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function kY(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=BY(s),a=jY(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LY=Symbol("radix.slottable");function _Y(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LY}function jY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function BY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var GY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],VY=GY.reduce((e,t)=>{const r=OY(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),QO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),HY="VisuallyHidden",XO=m.forwardRef((e,t)=>d.jsx(VY.span,{...e,ref:t,style:{...QO,...e.style}}));XO.displayName=HY;var WY=XO,[w0]=cK("Tooltip",[bl]),x0=bl(),ZO="TooltipProvider",UY=700,Jw="tooltip.open",[$Y,X1]=w0(ZO),JO=e=>{const{__scopeTooltip:t,delayDuration:r=UY,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),d.jsx($Y,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};JO.displayName=ZO;var Of="Tooltip",[zY,mp]=w0(Of),ek=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=e,l=X1(Of,e.__scopeTooltip),u=x0(t),[f,p]=m.useState(null),g=mn(),C=m.useRef(0),S=o??l.disableHoverableContent,y=a??l.delayDuration,w=m.useRef(!1),[b,F]=hl({prop:n,defaultProp:s??!1,onChange:M=>{M?(l.onOpen(),document.dispatchEvent(new CustomEvent(Jw))):l.onClose(),i==null||i(M)},caller:Of}),R=m.useMemo(()=>b?w.current?"delayed-open":"instant-open":"closed",[b]),E=m.useCallback(()=>{window.clearTimeout(C.current),C.current=0,w.current=!1,F(!0)},[F]),A=m.useCallback(()=>{window.clearTimeout(C.current),C.current=0,F(!1)},[F]),D=m.useCallback(()=>{window.clearTimeout(C.current),C.current=window.setTimeout(()=>{w.current=!0,F(!0),C.current=0},y)},[y,F]);return m.useEffect(()=>()=>{C.current&&(window.clearTimeout(C.current),C.current=0)},[]),d.jsx(C0,{...u,children:d.jsx(zY,{scope:t,contentId:g,open:b,stateAttribute:R,trigger:f,onTriggerChange:p,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayedRef.current?D():E()},[l.isOpenDelayedRef,D,E]),onTriggerLeave:m.useCallback(()=>{S?A():(window.clearTimeout(C.current),C.current=0)},[A,S]),onOpen:E,onClose:A,disableHoverableContent:S,children:r})})};ek.displayName=Of;var ex="TooltipTrigger",tk=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=mp(ex,r),i=X1(ex,r),o=x0(r),a=m.useRef(null),l=Gt(t,a,s.onTriggerChange),u=m.useRef(!1),f=m.useRef(!1),p=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),d.jsx(gp,{asChild:!0,...o,children:d.jsx(DY.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:et(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:et(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:et(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:et(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:et(e.onBlur,s.onClose),onClick:et(e.onClick,s.onClose)})})});tk.displayName=ex;var Z1="TooltipPortal",[KY,qY]=w0(Z1,{forceMount:void 0}),rk=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:s}=e,i=mp(Z1,t);return d.jsx(KY,{scope:t,forceMount:r,children:d.jsx(Pn,{present:r||i.open,children:d.jsx(Hd,{asChild:!0,container:s,children:n})})})};rk.displayName=Z1;var xd="TooltipContent",nk=m.forwardRef((e,t)=>{const r=qY(xd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=mp(xd,e.__scopeTooltip);return d.jsx(Pn,{present:n||o.open,children:o.disableHoverableContent?d.jsx(sk,{side:s,...i,ref:t}):d.jsx(YY,{side:s,...i,ref:t})})}),YY=m.forwardRef((e,t)=>{const r=mp(xd,e.__scopeTooltip),n=X1(xd,e.__scopeTooltip),s=m.useRef(null),i=Gt(t,s),[o,a]=m.useState(null),{trigger:l,onClose:u}=r,f=s.current,{onPointerInTransitChange:p}=n,g=m.useCallback(()=>{a(null),p(!1)},[p]),C=m.useCallback((S,y)=>{const w=S.currentTarget,b={x:S.clientX,y:S.clientY},F=eQ(b,w.getBoundingClientRect()),R=tQ(b,F),E=rQ(y.getBoundingClientRect()),A=sQ([...R,...E]);a(A),p(!0)},[p]);return m.useEffect(()=>()=>g(),[g]),m.useEffect(()=>{if(l&&f){const S=w=>C(w,f),y=w=>C(w,l);return l.addEventListener("pointerleave",S),f.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",S),f.removeEventListener("pointerleave",y)}}},[l,f,C,g]),m.useEffect(()=>{if(o){const S=y=>{const w=y.target,b={x:y.clientX,y:y.clientY},F=(l==null?void 0:l.contains(w))||(f==null?void 0:f.contains(w)),R=!nQ(b,o);F?g():R&&(g(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,f,o,u,g]),d.jsx(sk,{...e,ref:i})}),[QY,XY]=w0(Of,{isInside:!1}),ZY=RY("TooltipContent"),sk=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=mp(xd,r),u=x0(r),{onClose:f}=l;return m.useEffect(()=>(document.addEventListener(Jw,f),()=>document.removeEventListener(Jw,f)),[f]),m.useEffect(()=>{if(l.trigger){const p=g=>{const C=g.target;C!=null&&C.contains(l.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,f]),d.jsx(Bd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:d.jsxs(y0,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(ZY,{children:n}),d.jsx(QY,{scope:r,isInside:!0,children:d.jsx(WY,{id:l.contentId,role:"tooltip",children:s||n})})]})})});nk.displayName=xd;var ik="TooltipArrow",JY=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=x0(r);return XY(ik,r).isInside?null:d.jsx(S0,{...s,...n,ref:t})});JY.displayName=ik;function eQ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function tQ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function rQ(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function nQ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],u=a.x,f=a.y,p=l.x,g=l.y;f>n!=g>n&&r<(p-u)*(n-f)/(g-f)+u&&(s=!s)}return s}function sQ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),iQ(t)}function iQ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var oQ=JO,aQ=ek,lQ=tk,cQ=rk,ok=nk;const uQ=oQ,dQ=aQ,hQ=lQ,ak=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(cQ,{children:d.jsx(ok,{ref:n,sideOffset:t,className:Lt("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ak.displayName=ok.displayName;function fQ(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(e)}function pQ(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"},child:[]},{tag:"path",attr:{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M9 17v-5"},child:[]},{tag:"path",attr:{d:"M12 17v-1"},child:[]},{tag:"path",attr:{d:"M15 17v-3"},child:[]}]})(e)}function gQ(e){return Xr({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.8 9.7l6.2 6.3 6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7c-.2-.2-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3-.2.2-.3.4-.3.7s.1.5.3.7z"},child:[]}]})(e)}function mQ(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C15.2713 2 18.1757 3.57078 20.0002 5.99923L17.2909 5.99931C15.8807 4.75499 14.0285 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C14.029 20 15.8816 19.2446 17.2919 17.9998L20.0009 17.9998C18.1765 20.4288 15.2717 22 12 22ZM19 16V13H11V11H19V8L24 12L19 16Z"},child:[]}]})(e)}function vQ(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM14.5946 18.8115C14.5327 18.5511 14.5 18.2794 14.5 18C14.5 17.7207 14.5327 17.449 14.5945 17.1886L13.6029 16.6161L14.6029 14.884L15.5952 15.4569C15.9883 15.0851 16.4676 14.8034 17 14.6449V13.5H19V14.6449C19.5324 14.8034 20.0116 15.0851 20.4047 15.4569L21.3971 14.8839L22.3972 16.616L21.4055 17.1885C21.4673 17.449 21.5 17.7207 21.5 18C21.5 18.2793 21.4673 18.551 21.4055 18.8114L22.3972 19.3839L21.3972 21.116L20.4048 20.543C20.0117 20.9149 19.5325 21.1966 19.0001 21.355V22.5H17.0001V21.3551C16.4677 21.1967 15.9884 20.915 15.5953 20.5431L14.603 21.1161L13.6029 19.384L14.5946 18.8115ZM18 19.5C18.8284 19.5 19.5 18.8284 19.5 18C19.5 17.1716 18.8284 16.5 18 16.5C17.1716 16.5 16.5 17.1716 16.5 18C16.5 18.8284 17.1716 19.5 18 19.5Z"},child:[]}]})(e)}const gS=[{label:"Dashboard",path:"/app/home",icon:d.jsx(lK,{})},{label:"Product List",path:"/app/product-list",icon:d.jsx(pQ,{})},{label:"User",path:"/app/user",icon:d.jsx(oK,{})},{label:"Transaction",path:"",icon:d.jsx(fQ,{}),subLinks:[{label:"Customer List",path:"/app/customer-list"},{label:"Sales",path:"/app/sales"},{label:"Installation-Location",path:"/app/installation-location"},{label:"Delivery Challan",path:"/app/delivery-challan"},{label:"Installation",path:"/app/installation"},{label:"Services",path:"/app/services"}]},{label:"Customer Setting",path:"",icon:d.jsx(vQ,{}),subLinks:[{label:"Customer Type",path:"/app/customer-type"},{label:"Source of Reference",path:"/app/SourceOfReference"},{label:"Reference Details",path:"/app/reference-details"},{label:"Customer Status",path:"/app/customer-status"},{label:"Designation",path:"/app/designation"}]},{label:"Product Setting",path:"",icon:d.jsx(iK,{}),subLinks:[{label:"Item Category",path:"/app/item-category"},{label:"Item Type",path:"/app/item-type"},{label:"Item Status",path:"/app/item-status"},{label:"Star Rating",path:"/app/star-rating"},{label:"Ref Gas Type",path:"/app/ref-gas-type"},{label:"Order Type",path:"/app/order-type"},{label:"Ton Capacity",path:"/app/ton-capacity"},{label:"Unit Of Measurements",path:"/app/unit-of-measurements"},{label:"Brand Names",path:"/app/brand-name"},{label:"Material",path:"/app/material"}]}],CQ=()=>{const e=Ps(),t=Bn(),[r,n]=m.useState(!0),[s,i]=m.useState(!1),[o,a]=m.useState(null),[l,u]=m.useState(null);m.useEffect(()=>{const p=()=>{i(window.innerWidth<=768),window.innerWidth>768&&n(!0)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),m.useEffect(()=>{const p=e.pathname;let g=gS.find(C=>{var S;return(S=C.subLinks)==null?void 0:S.some(y=>y.path===p)});g||(g=gS.find(C=>C.path===p)),g!=null&&g.subLinks&&a(g.label),u(p)},[e.pathname]);const f=(p,g)=>{u(g),t(g),s&&n(!1)};return d.jsxs("div",{className:"bg-sidebar text-sidebar-foreground",children:[s&&!r&&d.jsx("button",{onClick:()=>n(!0),className:"fixed top-4 left-4 z-50",children:d.jsx(tD,{size:24,className:"text-black dark:text-white"})}),d.jsxs("div",{className:`${s?`fixed top-0 left-0 h-screen shadow-md z-40 transition-transform ${r?"translate-x-0":"-translate-x-full"}`:`h-screen shadow-md transition-all ${r?"w-52":"w-16"}`} bg-white dark:bg-gray-900 text-black dark:text-white flex flex-col`,children:[d.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[r&&d.jsx("h1",{className:"text-lg font-bold",children:"CRM"}),d.jsx("button",{onClick:()=>n(!r),children:r?d.jsx(aK,{size:20}):d.jsx(tD,{size:20})})]}),d.jsx("nav",{className:"flex-1 overflow-y-auto px-1 py-2 space-y-1",children:gS.map(p=>{var C;const g=p.path===e.pathname||((C=p.subLinks)==null?void 0:C.some(S=>S.path===e.pathname));return d.jsxs("div",{children:[d.jsxs("div",{onClick:()=>p.subLinks?a(o===p.label?null:p.label):f(p.label,p.path),className:`flex items-center gap-2 p-2 text-sm rounded cursor-pointer transition-colors ${g?"bg-primary text-primary-foreground":"hover:underline underline-offset-1 hover:bg-gray-200 dark:hover:bg-gray-800"}`,children:[d.jsx(uQ,{children:d.jsxs(dQ,{children:[d.jsx(hQ,{children:p.icon}),d.jsx(ak,{children:p.label})]})}),r&&d.jsx("span",{children:p.label}),p.subLinks&&r&&d.jsx(gQ,{className:`ml-auto transition-transform ${o===p.label?"rotate-180":""}`})]}),d.jsx(LW,{children:p.subLinks&&o===p.label&&r&&d.jsx(Gs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-0.5 space-y-1",children:p.subLinks.map(S=>d.jsx("div",{onClick:()=>f(S.label,S.path),className:`p-1.5 text-sm rounded cursor-pointer transition-colors ${e.pathname===S.path?"bg-primary text-primary-foreground":"hover:underline underline-offset-1 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:S.label},S.label))})})]},p.label)})})]}),s&&r&&d.jsx("div",{className:"fixed inset-0 bg-black opacity-30 z-30",onClick:()=>n(!1)})]})};var yQ=(e,t,r,n,s,i,o,a)=>{let l=document.documentElement,u=["light","dark"];function f(C){(Array.isArray(e)?e:[e]).forEach(S=>{let y=S==="class",w=y&&i?s.map(b=>i[b]||b):s;y?(l.classList.remove(...w),l.classList.add(i&&i[C]?i[C]:C)):l.setAttribute(S,C)}),p(C)}function p(C){a&&u.includes(C)&&(l.style.colorScheme=C)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)f(n);else try{let C=localStorage.getItem(t)||r,S=o&&C==="system"?g():C;f(S)}catch{}},gD=["light","dark"],lk="(prefers-color-scheme: dark)",SQ=typeof window>"u",J1=m.createContext(void 0),wQ={setTheme:e=>{},themes:[]},eb=()=>{var e;return(e=m.useContext(J1))!=null?e:wQ},xQ=e=>m.useContext(J1)?m.createElement(m.Fragment,null,e.children):m.createElement(EQ,{...e}),bQ=["light","dark"],EQ=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:i=bQ,defaultTheme:o=r?"system":"light",attribute:a="data-theme",value:l,children:u,nonce:f,scriptProps:p})=>{let[g,C]=m.useState(()=>FQ(s,o)),[S,y]=m.useState(()=>g==="system"?mS():g),w=l?Object.values(l):i,b=m.useCallback(A=>{let D=A;if(!D)return;A==="system"&&r&&(D=mS());let M=l?l[D]:D,I=t?TQ(f):null,_=document.documentElement,j=H=>{H==="class"?(_.classList.remove(...w),M&&_.classList.add(M)):H.startsWith("data-")&&(M?_.setAttribute(H,M):_.removeAttribute(H))};if(Array.isArray(a)?a.forEach(j):j(a),n){let H=gD.includes(o)?o:null,B=gD.includes(D)?D:H;_.style.colorScheme=B}I==null||I()},[f]),F=m.useCallback(A=>{let D=typeof A=="function"?A(g):A;C(D);try{localStorage.setItem(s,D)}catch{}},[g]),R=m.useCallback(A=>{let D=mS(A);y(D),g==="system"&&r&&!e&&b("system")},[g,e]);m.useEffect(()=>{let A=window.matchMedia(lk);return A.addListener(R),R(A),()=>A.removeListener(R)},[R]),m.useEffect(()=>{let A=D=>{D.key===s&&(D.newValue?C(D.newValue):F(o))};return window.addEventListener("storage",A),()=>window.removeEventListener("storage",A)},[F]),m.useEffect(()=>{b(e??g)},[e,g]);let E=m.useMemo(()=>({theme:g,setTheme:F,forcedTheme:e,resolvedTheme:g==="system"?S:g,themes:r?[...i,"system"]:i,systemTheme:r?S:void 0}),[g,F,e,S,r,i]);return m.createElement(J1.Provider,{value:E},m.createElement(RQ,{forcedTheme:e,storageKey:s,attribute:a,enableSystem:r,enableColorScheme:n,defaultTheme:o,value:l,themes:i,nonce:f,scriptProps:p}),u)},RQ=m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:u})=>{let f=JSON.stringify([r,t,i,e,a,o,n,s]).slice(1,-1);return m.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${yQ.toString()})(${f})`}})}),FQ=(e,t)=>{if(SQ)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},TQ=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},mS=e=>(e||(e=window.matchMedia(lk)),e.matches?"dark":"light");const PQ=()=>{const{theme:e,setTheme:t}=eb();return d.jsxs("button",{"aria-label":"theme toggler",onClick:()=>t(e==="dark"?"light":"dark"),className:"flex items-center justify-center text-black rounded-full cursor-pointer bg-gray-2 dark:bg-dark-bg h-9 w-9 dark:text-white md:h-14 md:w-14",children:[d.jsx("svg",{viewBox:"0 0 23 23",className:"w-5 h-5 stroke-current dark:hidden md:h-6 md:w-6",fill:"none",children:d.jsx("path",{d:"M9.55078 1.5C5.80078 1.5 1.30078 5.25 1.30078 11.25C1.30078 17.25 5.80078 21.75 11.8008 21.75C17.8008 21.75 21.5508 17.25 21.5508 13.5C13.3008 18.75 4.30078 9.75 9.55078 1.5Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),d.jsxs("svg",{viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"hidden w-5 h-5 dark:block md:h-6 md:w-6",children:[d.jsx("mask",{id:"path-1-inside-1_977:1934",fill:"white",children:d.jsx("path",{d:"M12.0508 16.5C10.8573 16.5 9.71271 16.0259 8.8688 15.182C8.02489 14.3381 7.55078 13.1935 7.55078 12C7.55078 10.8065 8.02489 9.66193 8.8688 8.81802C9.71271 7.97411 10.8573 7.5 12.0508 7.5C13.2443 7.5 14.3888 7.97411 15.2328 8.81802C16.0767 9.66193 16.5508 10.8065 16.5508 12C16.5508 13.1935 16.0767 14.3381 15.2328 15.182C14.3888 16.0259 13.2443 16.5 12.0508 16.5ZM12.0508 18C13.6421 18 15.1682 17.3679 16.2934 16.2426C17.4186 15.1174 18.0508 13.5913 18.0508 12C18.0508 10.4087 17.4186 8.88258 16.2934 7.75736C15.1682 6.63214 13.6421 6 12.0508 6C10.4595 6 8.93336 6.63214 7.80814 7.75736C6.68292 8.88258 6.05078 10.4087 6.05078 12C6.05078 13.5913 6.68292 15.1174 7.80814 16.2426C8.93336 17.3679 10.4595 18 12.0508 18ZM12.0508 0C12.2497 0 12.4405 0.0790176 12.5811 0.21967C12.7218 0.360322 12.8008 0.551088 12.8008 0.75V3.75C12.8008 3.94891 12.7218 4.13968 12.5811 4.28033C12.4405 4.42098 12.2497 4.5 12.0508 4.5C11.8519 4.5 11.6611 4.42098 11.5205 4.28033C11.3798 4.13968 11.3008 3.94891 11.3008 3.75V0.75C11.3008 0.551088 11.3798 0.360322 11.5205 0.21967C11.6611 0.0790176 11.8519 0 12.0508 0V0ZM12.0508 19.5C12.2497 19.5 12.4405 19.579 12.5811 19.7197C12.7218 19.8603 12.8008 20.0511 12.8008 20.25V23.25C12.8008 23.4489 12.7218 23.6397 12.5811 23.7803C12.4405 23.921 12.2497 24 12.0508 24C11.8519 24 11.6611 23.921 11.5205 23.7803C11.3798 23.6397 11.3008 23.4489 11.3008 23.25V20.25C11.3008 20.0511 11.3798 19.8603 11.5205 19.7197C11.6611 19.579 11.8519 19.5 12.0508 19.5ZM24.0508 12C24.0508 12.1989 23.9718 12.3897 23.8311 12.5303C23.6905 12.671 23.4997 12.75 23.3008 12.75H20.3008C20.1019 12.75 19.9111 12.671 19.7705 12.5303C19.6298 12.3897 19.5508 12.1989 19.5508 12C19.5508 11.8011 19.6298 11.6103 19.7705 11.4697C19.9111 11.329 20.1019 11.25 20.3008 11.25H23.3008C23.4997 11.25 23.6905 11.329 23.8311 11.4697C23.9718 11.6103 24.0508 11.8011 24.0508 12ZM4.55078 12C4.55078 12.1989 4.47176 12.3897 4.33111 12.5303C4.19046 12.671 3.99969 12.75 3.80078 12.75H0.800781C0.601869 12.75 0.411103 12.671 0.270451 12.5303C0.129799 12.3897 0.0507813 12.1989 0.0507812 12C0.0507813 11.8011 0.129799 11.6103 0.270451 11.4697C0.411103 11.329 0.601869 11.25 0.800781 11.25H3.80078C3.99969 11.25 4.19046 11.329 4.33111 11.4697C4.47176 11.6103 4.55078 11.8011 4.55078 12ZM20.5363 3.5145C20.6769 3.65515 20.7559 3.84588 20.7559 4.04475C20.7559 4.24362 20.6769 4.43435 20.5363 4.575L18.4153 6.6975C18.3455 6.76713 18.2628 6.82235 18.1717 6.86C18.0806 6.89765 17.983 6.91699 17.8845 6.91692C17.6855 6.91678 17.4947 6.83758 17.354 6.69675C17.2844 6.62702 17.2292 6.54425 17.1915 6.45318C17.1539 6.36211 17.1345 6.26452 17.1346 6.16597C17.1348 5.96695 17.214 5.77613 17.3548 5.6355L19.4758 3.5145C19.6164 3.3739 19.8072 3.29491 20.006 3.29491C20.2049 3.29491 20.3956 3.3739 20.5363 3.5145ZM6.74678 17.304C6.88738 17.4446 6.96637 17.6354 6.96637 17.8342C6.96637 18.0331 6.88738 18.2239 6.74678 18.3645L4.62578 20.4855C4.48433 20.6221 4.29488 20.6977 4.09823 20.696C3.90158 20.6943 3.71347 20.6154 3.57442 20.4764C3.43536 20.3373 3.35648 20.1492 3.35478 19.9526C3.35307 19.7559 3.42866 19.5665 3.56528 19.425L5.68628 17.304C5.82693 17.1634 6.01766 17.0844 6.21653 17.0844C6.4154 17.0844 6.60614 17.1634 6.74678 17.304ZM20.5363 20.4855C20.3956 20.6261 20.2049 20.7051 20.006 20.7051C19.8072 20.7051 19.6164 20.6261 19.4758 20.4855L17.3548 18.3645C17.2182 18.223 17.1426 18.0336 17.1443 17.8369C17.146 17.6403 17.2249 17.4522 17.3639 17.3131C17.503 17.1741 17.6911 17.0952 17.8877 17.0935C18.0844 17.0918 18.2738 17.1674 18.4153 17.304L20.5363 19.425C20.6769 19.5656 20.7559 19.7564 20.7559 19.9552C20.7559 20.1541 20.6769 20.3449 20.5363 20.4855ZM6.74678 6.6975C6.60614 6.8381 6.4154 6.91709 6.21653 6.91709C6.01766 6.91709 5.82693 6.8381 5.68628 6.6975L3.56528 4.575C3.49365 4.50582 3.43651 4.42306 3.39721 4.33155C3.3579 4.24005 3.33721 4.14164 3.33634 4.04205C3.33548 3.94247 3.35445 3.84371 3.39216 3.75153C3.42988 3.65936 3.48557 3.57562 3.55598 3.5052C3.6264 3.43478 3.71014 3.37909 3.80232 3.34138C3.89449 3.30367 3.99325 3.2847 4.09283 3.28556C4.19242 3.28643 4.29083 3.30712 4.38233 3.34642C4.47384 3.38573 4.5566 3.44287 4.62578 3.5145L6.74678 5.6355C6.81663 5.70517 6.87204 5.78793 6.90985 5.87905C6.94766 5.97017 6.96712 6.06785 6.96712 6.1665C6.96712 6.26515 6.94766 6.36283 6.90985 6.45395C6.87204 6.54507 6.81663 6.62783 6.74678 6.6975Z"})}),d.jsx("path",{d:"M12.0508 16.5C10.8573 16.5 9.71271 16.0259 8.8688 15.182C8.02489 14.3381 7.55078 13.1935 7.55078 12C7.55078 10.8065 8.02489 9.66193 8.8688 8.81802C9.71271 7.97411 10.8573 7.5 12.0508 7.5C13.2443 7.5 14.3888 7.97411 15.2328 8.81802C16.0767 9.66193 16.5508 10.8065 16.5508 12C16.5508 13.1935 16.0767 14.3381 15.2328 15.182C14.3888 16.0259 13.2443 16.5 12.0508 16.5ZM12.0508 18C13.6421 18 15.1682 17.3679 16.2934 16.2426C17.4186 15.1174 18.0508 13.5913 18.0508 12C18.0508 10.4087 17.4186 8.88258 16.2934 7.75736C15.1682 6.63214 13.6421 6 12.0508 6C10.4595 6 8.93336 6.63214 7.80814 7.75736C6.68292 8.88258 6.05078 10.4087 6.05078 12C6.05078 13.5913 6.68292 15.1174 7.80814 16.2426C8.93336 17.3679 10.4595 18 12.0508 18ZM12.0508 0C12.2497 0 12.4405 0.0790176 12.5811 0.21967C12.7218 0.360322 12.8008 0.551088 12.8008 0.75V3.75C12.8008 3.94891 12.7218 4.13968 12.5811 4.28033C12.4405 4.42098 12.2497 4.5 12.0508 4.5C11.8519 4.5 11.6611 4.42098 11.5205 4.28033C11.3798 4.13968 11.3008 3.94891 11.3008 3.75V0.75C11.3008 0.551088 11.3798 0.360322 11.5205 0.21967C11.6611 0.0790176 11.8519 0 12.0508 0V0ZM12.0508 19.5C12.2497 19.5 12.4405 19.579 12.5811 19.7197C12.7218 19.8603 12.8008 20.0511 12.8008 20.25V23.25C12.8008 23.4489 12.7218 23.6397 12.5811 23.7803C12.4405 23.921 12.2497 24 12.0508 24C11.8519 24 11.6611 23.921 11.5205 23.7803C11.3798 23.6397 11.3008 23.4489 11.3008 23.25V20.25C11.3008 20.0511 11.3798 19.8603 11.5205 19.7197C11.6611 19.579 11.8519 19.5 12.0508 19.5ZM24.0508 12C24.0508 12.1989 23.9718 12.3897 23.8311 12.5303C23.6905 12.671 23.4997 12.75 23.3008 12.75H20.3008C20.1019 12.75 19.9111 12.671 19.7705 12.5303C19.6298 12.3897 19.5508 12.1989 19.5508 12C19.5508 11.8011 19.6298 11.6103 19.7705 11.4697C19.9111 11.329 20.1019 11.25 20.3008 11.25H23.3008C23.4997 11.25 23.6905 11.329 23.8311 11.4697C23.9718 11.6103 24.0508 11.8011 24.0508 12ZM4.55078 12C4.55078 12.1989 4.47176 12.3897 4.33111 12.5303C4.19046 12.671 3.99969 12.75 3.80078 12.75H0.800781C0.601869 12.75 0.411103 12.671 0.270451 12.5303C0.129799 12.3897 0.0507813 12.1989 0.0507812 12C0.0507813 11.8011 0.129799 11.6103 0.270451 11.4697C0.411103 11.329 0.601869 11.25 0.800781 11.25H3.80078C3.99969 11.25 4.19046 11.329 4.33111 11.4697C4.47176 11.6103 4.55078 11.8011 4.55078 12ZM20.5363 3.5145C20.6769 3.65515 20.7559 3.84588 20.7559 4.04475C20.7559 4.24362 20.6769 4.43435 20.5363 4.575L18.4153 6.6975C18.3455 6.76713 18.2628 6.82235 18.1717 6.86C18.0806 6.89765 17.983 6.91699 17.8845 6.91692C17.6855 6.91678 17.4947 6.83758 17.354 6.69675C17.2844 6.62702 17.2292 6.54425 17.1915 6.45318C17.1539 6.36211 17.1345 6.26452 17.1346 6.16597C17.1348 5.96695 17.214 5.77613 17.3548 5.6355L19.4758 3.5145C19.6164 3.3739 19.8072 3.29491 20.006 3.29491C20.2049 3.29491 20.3956 3.3739 20.5363 3.5145ZM6.74678 17.304C6.88738 17.4446 6.96637 17.6354 6.96637 17.8342C6.96637 18.0331 6.88738 18.2239 6.74678 18.3645L4.62578 20.4855C4.48433 20.6221 4.29488 20.6977 4.09823 20.696C3.90158 20.6943 3.71347 20.6154 3.57442 20.4764C3.43536 20.3373 3.35648 20.1492 3.35478 19.9526C3.35307 19.7559 3.42866 19.5665 3.56528 19.425L5.68628 17.304C5.82693 17.1634 6.01766 17.0844 6.21653 17.0844C6.4154 17.0844 6.60614 17.1634 6.74678 17.304ZM20.5363 20.4855C20.3956 20.6261 20.2049 20.7051 20.006 20.7051C19.8072 20.7051 19.6164 20.6261 19.4758 20.4855L17.3548 18.3645C17.2182 18.223 17.1426 18.0336 17.1443 17.8369C17.146 17.6403 17.2249 17.4522 17.3639 17.3131C17.503 17.1741 17.6911 17.0952 17.8877 17.0935C18.0844 17.0918 18.2738 17.1674 18.4153 17.304L20.5363 19.425C20.6769 19.5656 20.7559 19.7564 20.7559 19.9552C20.7559 20.1541 20.6769 20.3449 20.5363 20.4855ZM6.74678 6.6975C6.60614 6.8381 6.4154 6.91709 6.21653 6.91709C6.01766 6.91709 5.82693 6.8381 5.68628 6.6975L3.56528 4.575C3.49365 4.50582 3.43651 4.42306 3.39721 4.33155C3.3579 4.24005 3.33721 4.14164 3.33634 4.04205C3.33548 3.94247 3.35445 3.84371 3.39216 3.75153C3.42988 3.65936 3.48557 3.57562 3.55598 3.5052C3.6264 3.43478 3.71014 3.37909 3.80232 3.34138C3.89449 3.30367 3.99325 3.2847 4.09283 3.28556C4.19242 3.28643 4.29083 3.30712 4.38233 3.34642C4.47384 3.38573 4.5566 3.44287 4.62578 3.5145L6.74678 5.6355C6.81663 5.70517 6.87204 5.78793 6.90985 5.87905C6.94766 5.97017 6.96712 6.06785 6.96712 6.1665C6.96712 6.26515 6.94766 6.36283 6.90985 6.45395C6.87204 6.54507 6.81663 6.62783 6.74678 6.6975Z",fill:"black",stroke:"white",strokeWidth:"2",mask:"url(#path-1-inside-1_977:1934)"})]})]})};function AQ(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const u=p=>{var b;const{scope:g,children:C,...S}=p,y=((b=g==null?void 0:g[e])==null?void 0:b[l])||a,w=m.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:w,children:C})};u.displayName=i+"Provider";function f(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,S=m.useContext(C);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,DQ(s,...t)]}function DQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function MQ(e){const t=NQ(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(OQ);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function NQ(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=LQ(s),a=kQ(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IQ=Symbol("radix.slottable");function OQ(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IQ}function kQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function LQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var _Q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jQ=_Q.reduce((e,t)=>{const r=MQ(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function BQ(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const u=p=>{var b;const{scope:g,children:C,...S}=p,y=((b=g==null?void 0:g[e])==null?void 0:b[l])||a,w=m.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:w,children:C})};u.displayName=i+"Provider";function f(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,S=m.useContext(C);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,GQ(s,...t)]}function GQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function mD(e){const t=VQ(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(WQ);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function VQ(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=$Q(s),a=UQ(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HQ=Symbol("radix.slottable");function WQ(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HQ}function UQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function $Q(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function tb(e){const t=e+"CollectionProvider",[r,n]=BQ(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:b}=y,F=De.useRef(null),R=De.useRef(new Map).current;return d.jsx(s,{scope:w,itemMap:R,collectionRef:F,children:b})};o.displayName=t;const a=e+"CollectionSlot",l=mD(a),u=De.forwardRef((y,w)=>{const{scope:b,children:F}=y,R=i(a,b),E=Gt(w,R.collectionRef);return d.jsx(l,{ref:E,children:F})});u.displayName=a;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=mD(f),C=De.forwardRef((y,w)=>{const{scope:b,children:F,...R}=y,E=De.useRef(null),A=Gt(w,E),D=i(f,b);return De.useEffect(()=>(D.itemMap.set(E,{ref:E,...R}),()=>void D.itemMap.delete(E))),d.jsx(g,{[p]:"",ref:A,children:F})});C.displayName=f;function S(y){const w=i(e+"CollectionConsumer",y);return De.useCallback(()=>{const F=w.collectionRef.current;if(!F)return[];const R=Array.from(F.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((D,M)=>R.indexOf(D.ref.current)-R.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:C},S,n]}function zQ(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const u=p=>{var b;const{scope:g,children:C,...S}=p,y=((b=g==null?void 0:g[e])==null?void 0:b[l])||a,w=m.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:w,children:C})};u.displayName=i+"Provider";function f(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,S=m.useContext(C);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,KQ(s,...t)]}function KQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var qQ=m.createContext(void 0);function vp(e){const t=m.useContext(qQ);return e||t||"ltr"}var vS=0;function b0(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vD()),document.body.insertAdjacentElement("beforeend",e[1]??vD()),vS++,()=>{vS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vS--}},[])}function vD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function YQ(e){const t=QQ(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(ZQ);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function QQ(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=eX(s),a=JQ(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var XQ=Symbol("radix.slottable");function ZQ(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===XQ}function JQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function eX(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var tX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rX=tX.reduce((e,t)=>{const r=YQ(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),CS="focusScope.autoFocusOnMount",yS="focusScope.autoFocusOnUnmount",CD={bubbles:!1,cancelable:!0},nX="FocusScope",Cp=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=m.useState(null),u=hn(s),f=hn(i),p=m.useRef(null),g=Gt(t,y=>l(y)),C=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let y=function(R){if(C.paused||!a)return;const E=R.target;a.contains(E)?p.current=E:Ua(p.current,{select:!0})},w=function(R){if(C.paused||!a)return;const E=R.relatedTarget;E!==null&&(a.contains(E)||Ua(p.current,{select:!0}))},b=function(R){if(document.activeElement===document.body)for(const A of R)A.removedNodes.length>0&&Ua(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const F=new MutationObserver(b);return a&&F.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),F.disconnect()}}},[n,a,C.paused]),m.useEffect(()=>{if(a){SD.add(C);const y=document.activeElement;if(!a.contains(y)){const b=new CustomEvent(CS,CD);a.addEventListener(CS,u),a.dispatchEvent(b),b.defaultPrevented||(sX(cX(ck(a)),{select:!0}),document.activeElement===y&&Ua(a))}return()=>{a.removeEventListener(CS,u),setTimeout(()=>{const b=new CustomEvent(yS,CD);a.addEventListener(yS,f),a.dispatchEvent(b),b.defaultPrevented||Ua(y??document.body,{select:!0}),a.removeEventListener(yS,f),SD.remove(C)},0)}}},[a,u,f,C]);const S=m.useCallback(y=>{if(!r&&!n||C.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(w&&b){const F=y.currentTarget,[R,E]=iX(F);R&&E?!y.shiftKey&&b===E?(y.preventDefault(),r&&Ua(R,{select:!0})):y.shiftKey&&b===R&&(y.preventDefault(),r&&Ua(E,{select:!0})):b===F&&y.preventDefault()}},[r,n,C.paused]);return d.jsx(rX.div,{tabIndex:-1,...o,ref:g,onKeyDown:S})});Cp.displayName=nX;function sX(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ua(n,{select:t}),document.activeElement!==r)return}function iX(e){const t=ck(e),r=yD(t,e),n=yD(t.reverse(),e);return[r,n]}function ck(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function yD(e,t){for(const r of e)if(!oX(r,{upTo:t}))return r}function oX(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aX(e){return e instanceof HTMLInputElement&&"select"in e}function Ua(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&aX(e)&&t&&e.select()}}var SD=lX();function lX(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=wD(e,t),e.unshift(t)},remove(t){var r;e=wD(e,t),(r=e[0])==null||r.resume()}}}function wD(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function cX(e){return e.filter(t=>t.tagName!=="A")}function uk(e){const t=uX(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(hX);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function uX(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=pX(s),a=fX(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dX=Symbol("radix.slottable");function hX(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dX}function fX(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function pX(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yp=gX.reduce((e,t)=>{const r=uk(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function mX(e,t){e&&Sl.flushSync(()=>e.dispatchEvent(t))}function vX(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const u=p=>{var b;const{scope:g,children:C,...S}=p,y=((b=g==null?void 0:g[e])==null?void 0:b[l])||a,w=m.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:w,children:C})};u.displayName=i+"Provider";function f(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,S=m.useContext(C);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,CX(s,...t)]}function CX(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function yX(e){const t=SX(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(xX);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function SX(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=EX(s),a=bX(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wX=Symbol("radix.slottable");function xX(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wX}function bX(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function EX(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var RX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dk=RX.reduce((e,t)=>{const r=yX(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),SS="rovingFocusGroup.onEntryFocus",FX={bubbles:!1,cancelable:!0},Sp="RovingFocusGroup",[tx,hk,TX]=tb(Sp),[PX,E0]=vX(Sp,[TX]),[AX,DX]=PX(Sp),fk=m.forwardRef((e,t)=>d.jsx(tx.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(tx.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(MX,{...e,ref:t})})}));fk.displayName=Sp;var MX=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...p}=e,g=m.useRef(null),C=Gt(t,g),S=vp(i),[y,w]=hl({prop:o,defaultProp:a??null,onChange:l,caller:Sp}),[b,F]=m.useState(!1),R=hn(u),E=hk(r),A=m.useRef(!1),[D,M]=m.useState(0);return m.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(SS,R),()=>I.removeEventListener(SS,R)},[R]),d.jsx(AX,{scope:r,orientation:n,dir:S,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(I=>w(I),[w]),onItemShiftTab:m.useCallback(()=>F(!0),[]),onFocusableItemAdd:m.useCallback(()=>M(I=>I+1),[]),onFocusableItemRemove:m.useCallback(()=>M(I=>I-1),[]),children:d.jsx(dk.div,{tabIndex:b||D===0?-1:0,"data-orientation":n,...p,ref:C,style:{outline:"none",...e.style},onMouseDown:et(e.onMouseDown,()=>{A.current=!0}),onFocus:et(e.onFocus,I=>{const _=!A.current;if(I.target===I.currentTarget&&_&&!b){const j=new CustomEvent(SS,FX);if(I.currentTarget.dispatchEvent(j),!j.defaultPrevented){const H=E().filter(we=>we.focusable),B=H.find(we=>we.active),oe=H.find(we=>we.id===y),Re=[B,oe,...H].filter(Boolean).map(we=>we.ref.current);mk(Re,f)}}A.current=!1}),onBlur:et(e.onBlur,()=>F(!1))})})}),pk="RovingFocusGroupItem",gk=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=mn(),u=i||l,f=DX(pk,r),p=f.currentTabStopId===u,g=hk(r),{onFocusableItemAdd:C,onFocusableItemRemove:S,currentTabStopId:y}=f;return m.useEffect(()=>{if(n)return C(),()=>S()},[n,C,S]),d.jsx(tx.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:d.jsx(dk.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...a,ref:t,onMouseDown:et(e.onMouseDown,w=>{n?f.onItemFocus(u):w.preventDefault()}),onFocus:et(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:et(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=OX(w,f.orientation,f.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let R=g().filter(E=>E.focusable).map(E=>E.ref.current);if(b==="last")R.reverse();else if(b==="prev"||b==="next"){b==="prev"&&R.reverse();const E=R.indexOf(w.currentTarget);R=f.loop?kX(R,E+1):R.slice(E+1)}setTimeout(()=>mk(R))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:y!=null}):o})})});gk.displayName=pk;var NX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function IX(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function OX(e,t,r){const n=IX(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return NX[n]}function mk(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function kX(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var vk=fk,Ck=gk,LX=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Pu=new WeakMap,dm=new WeakMap,hm={},wS=0,yk=function(e){return e&&(e.host||yk(e.parentNode))},_X=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=yk(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},jX=function(e,t,r,n){var s=_X(t,Array.isArray(e)?e:[e]);hm[r]||(hm[r]=new WeakMap);var i=hm[r],o=[],a=new Set,l=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var f=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(g){if(a.has(g))f(g);else try{var C=g.getAttribute(n),S=C!==null&&C!=="false",y=(Pu.get(g)||0)+1,w=(i.get(g)||0)+1;Pu.set(g,y),i.set(g,w),o.push(g),y===1&&S&&dm.set(g,!0),w===1&&g.setAttribute(r,"true"),S||g.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",g,b)}})};return f(t),a.clear(),wS++,function(){o.forEach(function(p){var g=Pu.get(p)-1,C=i.get(p)-1;Pu.set(p,g),i.set(p,C),g||(dm.has(p)||p.removeAttribute(n),dm.delete(p)),C||p.removeAttribute(r)}),wS--,wS||(Pu=new WeakMap,Pu=new WeakMap,dm=new WeakMap,hm={})}},R0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=LX(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),jX(n,s,r,"aria-hidden")):function(){return null}},ao=function(){return ao=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ao.apply(this,arguments)};function Sk(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function BX(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Hm="right-scroll-bar-position",Wm="width-before-scroll-bar",GX="with-scroll-bars-hidden",VX="--removed-body-scroll-bar-size";function xS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function HX(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var WX=typeof window<"u"?m.useLayoutEffect:m.useEffect,xD=new WeakMap;function UX(e,t){var r=HX(null,function(n){return e.forEach(function(s){return xS(s,n)})});return WX(function(){var n=xD.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||xS(a,null)}),i.forEach(function(a){s.has(a)||xS(a,o)})}xD.set(r,e)},[e]),r}function $X(e){return e}function zX(e,t){t===void 0&&(t=$X);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return s}function KX(e){e===void 0&&(e={});var t=zX(null);return t.options=ao({async:!0,ssr:!1},e),t}var wk=function(e){var t=e.sideCar,r=Sk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,ao({},r))};wk.isSideCarExport=!0;function qX(e,t){return e.useMedium(t),wk}var xk=KX(),bS=function(){},F0=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:bS,onWheelCapture:bS,onTouchMoveCapture:bS}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,f=e.enabled,p=e.shards,g=e.sideCar,C=e.noRelative,S=e.noIsolation,y=e.inert,w=e.allowPinchZoom,b=e.as,F=b===void 0?"div":b,R=e.gapMode,E=Sk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,D=UX([r,t]),M=ao(ao({},E),s);return m.createElement(m.Fragment,null,f&&m.createElement(A,{sideCar:xk,removeScrollBar:u,shards:p,noRelative:C,noIsolation:S,inert:y,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:R}),o?m.cloneElement(m.Children.only(a),ao(ao({},M),{ref:D})):m.createElement(F,ao({},M,{className:l,ref:D}),a))});F0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};F0.classNames={fullWidth:Wm,zeroRight:Hm};var YX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QX(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=YX();return t&&e.setAttribute("nonce",t),e}function XX(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ZX(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var JX=function(){var e=0,t=null;return{add:function(r){e==0&&(t=QX())&&(XX(t,r),ZX(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},eZ=function(){var e=JX();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},bk=function(){var e=eZ(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},tZ={left:0,top:0,right:0,gap:0},ES=function(e){return parseInt(e||"",10)||0},rZ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ES(r),ES(n),ES(s)]},nZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return tZ;var t=rZ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},sZ=bk(),Xu="data-scroll-locked",iZ=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(GX,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Xu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hm,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Wm,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Hm," .").concat(Hm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Wm," .").concat(Wm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Xu,`] {
    `).concat(VX,": ").concat(a,`px;
  }
`)},bD=function(){var e=parseInt(document.body.getAttribute(Xu)||"0",10);return isFinite(e)?e:0},oZ=function(){m.useEffect(function(){return document.body.setAttribute(Xu,(bD()+1).toString()),function(){var e=bD()-1;e<=0?document.body.removeAttribute(Xu):document.body.setAttribute(Xu,e.toString())}},[])},aZ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;oZ();var i=m.useMemo(function(){return nZ(s)},[s]);return m.createElement(sZ,{styles:iZ(i,!t,s,r?"":"!important")})},rx=!1;if(typeof window<"u")try{var fm=Object.defineProperty({},"passive",{get:function(){return rx=!0,!0}});window.addEventListener("test",fm,fm),window.removeEventListener("test",fm,fm)}catch{rx=!1}var Au=rx?{passive:!1}:!1,lZ=function(e){return e.tagName==="TEXTAREA"},Ek=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!lZ(e)&&r[t]==="visible")},cZ=function(e){return Ek(e,"overflowY")},uZ=function(e){return Ek(e,"overflowX")},ED=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Rk(e,n);if(s){var i=Fk(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},dZ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},hZ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Rk=function(e,t){return e==="v"?cZ(t):uZ(t)},Fk=function(e,t){return e==="v"?dZ(t):hZ(t)},fZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},pZ=function(e,t,r,n,s){var i=fZ(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),u=!1,f=o>0,p=0,g=0;do{if(!a)break;var C=Fk(e,a),S=C[0],y=C[1],w=C[2],b=y-w-i*S;(S||b)&&Rk(e,a)&&(p+=b,g+=S);var F=a.parentNode;a=F&&F.nodeType===Node.DOCUMENT_FRAGMENT_NODE?F.host:F}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(u=!0),u},pm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},RD=function(e){return[e.deltaX,e.deltaY]},FD=function(e){return e&&"current"in e?e.current:e},gZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vZ=0,Du=[];function CZ(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(vZ++)[0],i=m.useState(bk)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=BX([e.lockRef.current],(e.shards||[]).map(FD),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var b=pm(y),F=r.current,R="deltaX"in y?y.deltaX:F[0]-b[0],E="deltaY"in y?y.deltaY:F[1]-b[1],A,D=y.target,M=Math.abs(R)>Math.abs(E)?"h":"v";if("touches"in y&&M==="h"&&D.type==="range")return!1;var I=window.getSelection(),_=I&&I.anchorNode,j=_?_===D||_.contains(D):!1;if(j)return!1;var H=ED(M,D);if(!H)return!0;if(H?A=M:(A=M==="v"?"h":"v",H=ED(M,D)),!H)return!1;if(!n.current&&"changedTouches"in y&&(R||E)&&(n.current=A),!A)return!0;var B=n.current||A;return pZ(B,w,y,B==="h"?R:E)},[]),l=m.useCallback(function(y){var w=y;if(!(!Du.length||Du[Du.length-1]!==i)){var b="deltaY"in w?RD(w):pm(w),F=t.current.filter(function(A){return A.name===w.type&&(A.target===w.target||w.target===A.shadowParent)&&gZ(A.delta,b)})[0];if(F&&F.should){w.cancelable&&w.preventDefault();return}if(!F){var R=(o.current.shards||[]).map(FD).filter(Boolean).filter(function(A){return A.contains(w.target)}),E=R.length>0?a(w,R[0]):!o.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(y,w,b,F){var R={name:y,delta:w,target:b,should:F,shadowParent:yZ(b)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(E){return E!==R})},1)},[]),f=m.useCallback(function(y){r.current=pm(y),n.current=void 0},[]),p=m.useCallback(function(y){u(y.type,RD(y),y.target,a(y,e.lockRef.current))},[]),g=m.useCallback(function(y){u(y.type,pm(y),y.target,a(y,e.lockRef.current))},[]);m.useEffect(function(){return Du.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Au),document.addEventListener("touchmove",l,Au),document.addEventListener("touchstart",f,Au),function(){Du=Du.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Au),document.removeEventListener("touchmove",l,Au),document.removeEventListener("touchstart",f,Au)}},[]);var C=e.removeScrollBar,S=e.inert;return m.createElement(m.Fragment,null,S?m.createElement(i,{styles:mZ(s)}):null,C?m.createElement(aZ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function yZ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const SZ=qX(xk,CZ);var wp=m.forwardRef(function(e,t){return m.createElement(F0,ao({},e,{ref:t,sideCar:SZ}))});wp.classNames=F0.classNames;var nx=["Enter"," "],wZ=["ArrowDown","PageUp","Home"],Tk=["ArrowUp","PageDown","End"],xZ=[...wZ,...Tk],bZ={ltr:[...nx,"ArrowRight"],rtl:[...nx,"ArrowLeft"]},EZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},xp="Menu",[kf,RZ,FZ]=tb(xp),[Wc,Pk]=zQ(xp,[FZ,bl,E0]),T0=bl(),Ak=E0(),[TZ,Uc]=Wc(xp),[PZ,bp]=Wc(xp),Dk=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,a=T0(t),[l,u]=m.useState(null),f=m.useRef(!1),p=hn(i),g=vp(s);return m.useEffect(()=>{const C=()=>{f.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>f.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),d.jsx(C0,{...a,children:d.jsx(TZ,{scope:t,open:r,onOpenChange:p,content:l,onContentChange:u,children:d.jsx(PZ,{scope:t,onClose:m.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:g,modal:o,children:n})})})};Dk.displayName=xp;var AZ="MenuAnchor",rb=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=T0(r);return d.jsx(gp,{...s,...n,ref:t})});rb.displayName=AZ;var nb="MenuPortal",[DZ,Mk]=Wc(nb,{forceMount:void 0}),Nk=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Uc(nb,t);return d.jsx(DZ,{scope:t,forceMount:r,children:d.jsx(Pn,{present:r||i.open,children:d.jsx(Hd,{asChild:!0,container:s,children:n})})})};Nk.displayName=nb;var gi="MenuContent",[MZ,sb]=Wc(gi),Ik=m.forwardRef((e,t)=>{const r=Mk(gi,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Uc(gi,e.__scopeMenu),o=bp(gi,e.__scopeMenu);return d.jsx(kf.Provider,{scope:e.__scopeMenu,children:d.jsx(Pn,{present:n||i.open,children:d.jsx(kf.Slot,{scope:e.__scopeMenu,children:o.modal?d.jsx(NZ,{...s,ref:t}):d.jsx(IZ,{...s,ref:t})})})})}),NZ=m.forwardRef((e,t)=>{const r=Uc(gi,e.__scopeMenu),n=m.useRef(null),s=Gt(t,n);return m.useEffect(()=>{const i=n.current;if(i)return R0(i)},[]),d.jsx(ib,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:et(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),IZ=m.forwardRef((e,t)=>{const r=Uc(gi,e.__scopeMenu);return d.jsx(ib,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),OZ=uk("MenuContent.ScrollLock"),ib=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:C,disableOutsideScroll:S,...y}=e,w=Uc(gi,r),b=bp(gi,r),F=T0(r),R=Ak(r),E=RZ(r),[A,D]=m.useState(null),M=m.useRef(null),I=Gt(t,M,w.onContentChange),_=m.useRef(0),j=m.useRef(""),H=m.useRef(0),B=m.useRef(null),oe=m.useRef("right"),ye=m.useRef(0),Re=S?wp:m.Fragment,we=S?{as:OZ,allowPinchZoom:!0}:void 0,se=re=>{var ae,ge;const de=j.current+re,K=E().filter(X=>!X.disabled),N=document.activeElement,O=(ae=K.find(X=>X.ref.current===N))==null?void 0:ae.textValue,V=K.map(X=>X.textValue),G=zZ(V,de,O),J=(ge=K.find(X=>X.textValue===G))==null?void 0:ge.ref.current;(function X(ne){j.current=ne,window.clearTimeout(_.current),ne!==""&&(_.current=window.setTimeout(()=>X(""),1e3))})(de),J&&setTimeout(()=>J.focus())};m.useEffect(()=>()=>window.clearTimeout(_.current),[]),b0();const ee=m.useCallback(re=>{var K,N;return oe.current===((K=B.current)==null?void 0:K.side)&&qZ(re,(N=B.current)==null?void 0:N.area)},[]);return d.jsx(MZ,{scope:r,searchRef:j,onItemEnter:m.useCallback(re=>{ee(re)&&re.preventDefault()},[ee]),onItemLeave:m.useCallback(re=>{var de;ee(re)||((de=M.current)==null||de.focus(),D(null))},[ee]),onTriggerLeave:m.useCallback(re=>{ee(re)&&re.preventDefault()},[ee]),pointerGraceTimerRef:H,onPointerGraceIntentChange:m.useCallback(re=>{B.current=re},[]),children:d.jsx(Re,{...we,children:d.jsx(Cp,{asChild:!0,trapped:s,onMountAutoFocus:et(i,re=>{var de;re.preventDefault(),(de=M.current)==null||de.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(Bd,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:C,children:d.jsx(vk,{asChild:!0,...R,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:D,onEntryFocus:et(l,re=>{b.isUsingKeyboardRef.current||re.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(y0,{role:"menu","aria-orientation":"vertical","data-state":Yk(w.open),"data-radix-menu-content":"",dir:b.dir,...F,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:et(y.onKeyDown,re=>{const K=re.target.closest("[data-radix-menu-content]")===re.currentTarget,N=re.ctrlKey||re.altKey||re.metaKey,O=re.key.length===1;K&&(re.key==="Tab"&&re.preventDefault(),!N&&O&&se(re.key));const V=M.current;if(re.target!==V||!xZ.includes(re.key))return;re.preventDefault();const J=E().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);Tk.includes(re.key)&&J.reverse(),UZ(J)}),onBlur:et(e.onBlur,re=>{re.currentTarget.contains(re.target)||(window.clearTimeout(_.current),j.current="")}),onPointerMove:et(e.onPointerMove,Lf(re=>{const de=re.target,K=ye.current!==re.clientX;if(re.currentTarget.contains(de)&&K){const N=re.clientX>ye.current?"right":"left";oe.current=N,ye.current=re.clientX}}))})})})})})})});Ik.displayName=gi;var kZ="MenuGroup",ob=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(yp.div,{role:"group",...n,ref:t})});ob.displayName=kZ;var LZ="MenuLabel",Ok=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(yp.div,{...n,ref:t})});Ok.displayName=LZ;var mv="MenuItem",TD="menu.itemSelect",P0=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=m.useRef(null),o=bp(mv,e.__scopeMenu),a=sb(mv,e.__scopeMenu),l=Gt(t,i),u=m.useRef(!1),f=()=>{const p=i.current;if(!r&&p){const g=new CustomEvent(TD,{bubbles:!0,cancelable:!0});p.addEventListener(TD,C=>n==null?void 0:n(C),{once:!0}),mX(p,g),g.defaultPrevented?u.current=!1:o.onClose()}};return d.jsx(kk,{...s,ref:l,disabled:r,onClick:et(e.onClick,f),onPointerDown:p=>{var g;(g=e.onPointerDown)==null||g.call(e,p),u.current=!0},onPointerUp:et(e.onPointerUp,p=>{var g;u.current||(g=p.currentTarget)==null||g.click()}),onKeyDown:et(e.onKeyDown,p=>{const g=a.searchRef.current!=="";r||g&&p.key===" "||nx.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});P0.displayName=mv;var kk=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=sb(mv,r),a=Ak(r),l=m.useRef(null),u=Gt(t,l),[f,p]=m.useState(!1),[g,C]=m.useState("");return m.useEffect(()=>{const S=l.current;S&&C((S.textContent??"").trim())},[i.children]),d.jsx(kf.ItemSlot,{scope:r,disabled:n,textValue:s??g,children:d.jsx(Ck,{asChild:!0,...a,focusable:!n,children:d.jsx(yp.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:et(e.onPointerMove,Lf(S=>{n?o.onItemLeave(S):(o.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(e.onPointerLeave,Lf(S=>o.onItemLeave(S))),onFocus:et(e.onFocus,()=>p(!0)),onBlur:et(e.onBlur,()=>p(!1))})})})}),_Z="MenuCheckboxItem",Lk=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return d.jsx(Vk,{scope:e.__scopeMenu,checked:r,children:d.jsx(P0,{role:"menuitemcheckbox","aria-checked":vv(r)?"mixed":r,...s,ref:t,"data-state":lb(r),onSelect:et(s.onSelect,()=>n==null?void 0:n(vv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Lk.displayName=_Z;var _k="MenuRadioGroup",[jZ,BZ]=Wc(_k,{value:void 0,onValueChange:()=>{}}),jk=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=hn(n);return d.jsx(jZ,{scope:e.__scopeMenu,value:r,onValueChange:i,children:d.jsx(ob,{...s,ref:t})})});jk.displayName=_k;var Bk="MenuRadioItem",Gk=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=BZ(Bk,e.__scopeMenu),i=r===s.value;return d.jsx(Vk,{scope:e.__scopeMenu,checked:i,children:d.jsx(P0,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":lb(i),onSelect:et(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});Gk.displayName=Bk;var ab="MenuItemIndicator",[Vk,GZ]=Wc(ab,{checked:!1}),Hk=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=GZ(ab,r);return d.jsx(Pn,{present:n||vv(i.checked)||i.checked===!0,children:d.jsx(yp.span,{...s,ref:t,"data-state":lb(i.checked)})})});Hk.displayName=ab;var VZ="MenuSeparator",Wk=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(yp.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Wk.displayName=VZ;var HZ="MenuArrow",Uk=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=T0(r);return d.jsx(S0,{...s,...n,ref:t})});Uk.displayName=HZ;var WZ="MenuSub",[DTe,$k]=Wc(WZ),rf="MenuSubTrigger",zk=m.forwardRef((e,t)=>{const r=Uc(rf,e.__scopeMenu),n=bp(rf,e.__scopeMenu),s=$k(rf,e.__scopeMenu),i=sb(rf,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},f=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>f,[f]),m.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),l(null)}},[a,l]),d.jsx(rb,{asChild:!0,...u,children:d.jsx(kk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Yk(r.open),...e,ref:wr(t,s.onTriggerChange),onClick:p=>{var g;(g=e.onClick)==null||g.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:et(e.onPointerMove,Lf(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:et(e.onPointerLeave,Lf(p=>{var C,S;f();const g=(C=r.content)==null?void 0:C.getBoundingClientRect();if(g){const y=(S=r.content)==null?void 0:S.dataset.side,w=y==="right",b=w?-5:5,F=g[w?"left":"right"],R=g[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+b,y:p.clientY},{x:F,y:g.top},{x:R,y:g.top},{x:R,y:g.bottom},{x:F,y:g.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(e.onKeyDown,p=>{var C;const g=i.searchRef.current!=="";e.disabled||g&&p.key===" "||bZ[n.dir].includes(p.key)&&(r.onOpenChange(!0),(C=r.content)==null||C.focus(),p.preventDefault())})})})});zk.displayName=rf;var Kk="MenuSubContent",qk=m.forwardRef((e,t)=>{const r=Mk(gi,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Uc(gi,e.__scopeMenu),o=bp(gi,e.__scopeMenu),a=$k(Kk,e.__scopeMenu),l=m.useRef(null),u=Gt(t,l);return d.jsx(kf.Provider,{scope:e.__scopeMenu,children:d.jsx(Pn,{present:n||i.open,children:d.jsx(kf.Slot,{scope:e.__scopeMenu,children:d.jsx(ib,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;o.isUsingKeyboardRef.current&&((p=l.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:et(e.onFocusOutside,f=>{f.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:et(e.onKeyDown,f=>{var C;const p=f.currentTarget.contains(f.target),g=EZ[o.dir].includes(f.key);p&&g&&(i.onOpenChange(!1),(C=a.trigger)==null||C.focus(),f.preventDefault())})})})})})});qk.displayName=Kk;function Yk(e){return e?"open":"closed"}function vv(e){return e==="indeterminate"}function lb(e){return vv(e)?"indeterminate":e?"checked":"unchecked"}function UZ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function $Z(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function zZ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=$Z(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function KZ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],u=a.x,f=a.y,p=l.x,g=l.y;f>n!=g>n&&r<(p-u)*(n-f)/(g-f)+u&&(s=!s)}return s}function qZ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return KZ(r,t)}function Lf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var YZ=Dk,QZ=rb,XZ=Nk,ZZ=Ik,JZ=ob,eJ=Ok,tJ=P0,rJ=Lk,nJ=jk,sJ=Gk,iJ=Hk,oJ=Wk,aJ=Uk,lJ=zk,cJ=qk,A0="DropdownMenu",[uJ]=AQ(A0,[Pk]),cs=Pk(),[dJ,Qk]=uJ(A0),Xk=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,l=cs(t),u=m.useRef(null),[f,p]=hl({prop:s,defaultProp:i??!1,onChange:o,caller:A0});return d.jsx(dJ,{scope:t,triggerId:mn(),triggerRef:u,contentId:mn(),open:f,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(g=>!g),[p]),modal:a,children:d.jsx(YZ,{...l,open:f,onOpenChange:p,dir:n,modal:a,children:r})})};Xk.displayName=A0;var Zk="DropdownMenuTrigger",Jk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=Qk(Zk,r),o=cs(r);return d.jsx(QZ,{asChild:!0,...o,children:d.jsx(jQ.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:wr(t,i.triggerRef),onPointerDown:et(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:et(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Jk.displayName=Zk;var hJ="DropdownMenuPortal",eL=e=>{const{__scopeDropdownMenu:t,...r}=e,n=cs(t);return d.jsx(XZ,{...n,...r})};eL.displayName=hJ;var tL="DropdownMenuContent",rL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Qk(tL,r),i=cs(r),o=m.useRef(!1);return d.jsx(ZZ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:et(e.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:et(e.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rL.displayName=tL;var fJ="DropdownMenuGroup",pJ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cs(r);return d.jsx(JZ,{...s,...n,ref:t})});pJ.displayName=fJ;var gJ="DropdownMenuLabel",nL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cs(r);return d.jsx(eJ,{...s,...n,ref:t})});nL.displayName=gJ;var mJ="DropdownMenuItem",sL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cs(r);return d.jsx(tJ,{...s,...n,ref:t})});sL.displayName=mJ;var vJ="DropdownMenuCheckboxItem",iL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cs(r);return d.jsx(rJ,{...s,...n,ref:t})});iL.displayName=vJ;var CJ="DropdownMenuRadioGroup",yJ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cs(r);return d.jsx(nJ,{...s,...n,ref:t})});yJ.displayName=CJ;var SJ="DropdownMenuRadioItem",oL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cs(r);return d.jsx(sJ,{...s,...n,ref:t})});oL.displayName=SJ;var wJ="DropdownMenuItemIndicator",aL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cs(r);return d.jsx(iJ,{...s,...n,ref:t})});aL.displayName=wJ;var xJ="DropdownMenuSeparator",lL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cs(r);return d.jsx(oJ,{...s,...n,ref:t})});lL.displayName=xJ;var bJ="DropdownMenuArrow",EJ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cs(r);return d.jsx(aJ,{...s,...n,ref:t})});EJ.displayName=bJ;var RJ="DropdownMenuSubTrigger",cL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cs(r);return d.jsx(lJ,{...s,...n,ref:t})});cL.displayName=RJ;var FJ="DropdownMenuSubContent",uL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cs(r);return d.jsx(cJ,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uL.displayName=FJ;var TJ=Xk,PJ=Jk,AJ=eL,dL=rL,cb=nL,hL=sL,fL=iL,pL=oL,gL=aL,mL=lL,vL=cL,CL=uL;/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yL=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...MJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:yL("lucide",s),...a},[...o.map(([u,f])=>m.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=(e,t)=>{const r=m.forwardRef(({className:n,...s},i)=>m.createElement(NJ,{ref:i,iconNode:t,className:yL(`lucide-${DJ(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=El("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=El("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=El("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=El("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=El("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=El("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=El("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=El("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cv=TJ,yv=PJ,jJ=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>d.jsxs(vL,{ref:s,className:Lt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,d.jsx(IJ,{className:"ml-auto"})]}));jJ.displayName=vL.displayName;const BJ=m.forwardRef(({className:e,...t},r)=>d.jsx(CL,{ref:r,className:Lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));BJ.displayName=CL.displayName;const _f=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(AJ,{children:d.jsx(dL,{ref:n,sideOffset:t,className:Lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));_f.displayName=dL.displayName;const Zu=m.forwardRef(({className:e,inset:t,...r},n)=>d.jsx(hL,{ref:n,className:Lt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));Zu.displayName=hL.displayName;const ub=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>d.jsxs(fL,{ref:s,className:Lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(gL,{children:d.jsx(kn,{className:"h-4 w-4"})})}),t]}));ub.displayName=fL.displayName;const GJ=m.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(pL,{ref:n,className:Lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(gL,{children:d.jsx(kJ,{className:"h-2 w-2 fill-current"})})}),t]}));GJ.displayName=pL.displayName;const wL=m.forwardRef(({className:e,inset:t,...r},n)=>d.jsx(cb,{ref:n,className:Lt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));wL.displayName=cb.displayName;const xL=m.forwardRef(({className:e,...t},r)=>d.jsx(mL,{ref:r,className:Lt("-mx-1 my-1 h-px bg-muted",e),...t}));xL.displayName=mL.displayName;function VJ(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o);a.displayName=i+"Context";const l=r.length;r=[...r,o];const u=p=>{var b;const{scope:g,children:C,...S}=p,y=((b=g==null?void 0:g[e])==null?void 0:b[l])||a,w=m.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:w,children:C})};u.displayName=i+"Provider";function f(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,S=m.useContext(C);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,HJ(s,...t)]}function HJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var WJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wi=WJ.reduce((e,t)=>{const r=kN(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),RS={exports:{}},FS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PD;function UJ(){if(PD)return FS;PD=1;var e=r0();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(p,g){var C=g(),S=n({inst:{value:C,getSnapshot:g}}),y=S[0].inst,w=S[1];return i(function(){y.value=C,y.getSnapshot=g,l(y)&&w({inst:y})},[p,C,g]),s(function(){return l(y)&&w({inst:y}),p(function(){l(y)&&w({inst:y})})},[p]),o(C),C}function l(p){var g=p.getSnapshot;p=p.value;try{var C=g();return!r(p,C)}catch{return!0}}function u(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return FS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,FS}var AD;function $J(){return AD||(AD=1,RS.exports=UJ()),RS.exports}var zJ=$J();function KJ(){return zJ.useSyncExternalStore(qJ,()=>!0,()=>!1)}function qJ(){return()=>{}}var db="Avatar",[YJ]=VJ(db),[QJ,bL]=YJ(db),EL=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=m.useState("idle");return d.jsx(QJ,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:d.jsx(wi.span,{...n,ref:t})})});EL.displayName=db;var RL="AvatarImage",FL=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=bL(RL,r),a=XJ(n,i),l=hn(u=>{s(u),o.onImageLoadingStatusChange(u)});return Yr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?d.jsx(wi.img,{...i,ref:t,src:n}):null});FL.displayName=RL;var TL="AvatarFallback",PL=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=bL(TL,r),[o,a]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&i.imageLoadingStatus!=="loaded"?d.jsx(wi.span,{...s,ref:t}):null});PL.displayName=TL;function DD(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function XJ(e,{referrerPolicy:t,crossOrigin:r}){const n=KJ(),s=m.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,a]=m.useState(()=>DD(i,e));return Yr(()=>{a(DD(i,e))},[i,e]),Yr(()=>{const l=p=>()=>{a(p)};if(!i)return;const u=l("loaded"),f=l("error");return i.addEventListener("load",u),i.addEventListener("error",f),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,r,t]),o}var AL=EL,DL=FL,ML=PL;const NL=m.forwardRef(({className:e,...t},r)=>d.jsx(AL,{ref:r,className:Lt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));NL.displayName=AL.displayName;const IL=m.forwardRef(({className:e,...t},r)=>d.jsx(DL,{ref:r,className:Lt("aspect-square h-full w-full",e),...t}));IL.displayName=DL.displayName;const OL=m.forwardRef(({className:e,...t},r)=>d.jsx(ML,{ref:r,className:Lt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));OL.displayName=ML.displayName;function ZJ(e){return Xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 352c-12.6-.84-21-4-28-12-14-16-14-36 5.49-52.48l32.82-29.14c50.27-44.41 50.27-117.21 0-161.63C389.26 64.14 339.54 48 287.86 48c-60.34 0-123.39 22-172 65.11-90.46 80-90.46 210.92 0 290.87 45 39.76 105.63 59.59 165.64 60h1.84c60 0 119.07-19.5 161.2-56.77C464 390 464 385 444.62 355.56 440 348 431 353 416 352zM112 208a32 32 0 1 1 32 32 32 32 0 0 1-32-32zm40 135a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm40-199a32 32 0 1 1 32 32 32 32 0 0 1-32-32zm64 271a48 48 0 1 1 48-48 48 48 0 0 1-48 48zm72-239a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"},child:[]}]})(e)}function TS(e){return Xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29 448 448"},child:[]}]})(e)}function JJ(e,t){const r=m.createContext(t),n=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return d.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function eee(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const u=p=>{var b;const{scope:g,children:C,...S}=p,y=((b=g==null?void 0:g[e])==null?void 0:b[l])||a,w=m.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:w,children:C})};u.displayName=i+"Provider";function f(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,S=m.useContext(C);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,tee(s,...t)]}function tee(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function kL(e){const t=ree(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(see);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function ree(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=oee(s),a=iee(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nee=Symbol("radix.slottable");function see(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nee}function iee(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function oee(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ep=aee.reduce((e,t)=>{const r=kL(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),D0="Dialog",[LL]=eee(D0),[lee,qi]=LL(D0),_L=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=m.useRef(null),l=m.useRef(null),[u,f]=hl({prop:n,defaultProp:s??!1,onChange:i,caller:D0});return d.jsx(lee,{scope:t,triggerRef:a,contentRef:l,contentId:mn(),titleId:mn(),descriptionId:mn(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:o,children:r})};_L.displayName=D0;var jL="DialogTrigger",cee=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qi(jL,r),i=Gt(t,s.triggerRef);return d.jsx(Ep.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":pb(s.open),...n,ref:i,onClick:et(e.onClick,s.onOpenToggle)})});cee.displayName=jL;var hb="DialogPortal",[uee,BL]=LL(hb,{forceMount:void 0}),GL=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=qi(hb,t);return d.jsx(uee,{scope:t,forceMount:r,children:m.Children.map(n,o=>d.jsx(Pn,{present:r||i.open,children:d.jsx(Hd,{asChild:!0,container:s,children:o})}))})};GL.displayName=hb;var Sv="DialogOverlay",VL=m.forwardRef((e,t)=>{const r=BL(Sv,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=qi(Sv,e.__scopeDialog);return i.modal?d.jsx(Pn,{present:n||i.open,children:d.jsx(hee,{...s,ref:t})}):null});VL.displayName=Sv;var dee=kL("DialogOverlay.RemoveScroll"),hee=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qi(Sv,r);return d.jsx(wp,{as:dee,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Ep.div,{"data-state":pb(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Dc="DialogContent",HL=m.forwardRef((e,t)=>{const r=BL(Dc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=qi(Dc,e.__scopeDialog);return d.jsx(Pn,{present:n||i.open,children:i.modal?d.jsx(fee,{...s,ref:t}):d.jsx(pee,{...s,ref:t})})});HL.displayName=Dc;var fee=m.forwardRef((e,t)=>{const r=qi(Dc,e.__scopeDialog),n=m.useRef(null),s=Gt(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return R0(i)},[]),d.jsx(WL,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:et(e.onFocusOutside,i=>i.preventDefault())})}),pee=m.forwardRef((e,t)=>{const r=qi(Dc,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return d.jsx(WL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),WL=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=qi(Dc,r),l=m.useRef(null),u=Gt(t,l);return b0(),d.jsxs(d.Fragment,{children:[d.jsx(Cp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Bd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":pb(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(gee,{titleId:a.titleId}),d.jsx(vee,{contentRef:l,descriptionId:a.descriptionId})]})]})}),fb="DialogTitle",UL=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qi(fb,r);return d.jsx(Ep.h2,{id:s.titleId,...n,ref:t})});UL.displayName=fb;var $L="DialogDescription",zL=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qi($L,r);return d.jsx(Ep.p,{id:s.descriptionId,...n,ref:t})});zL.displayName=$L;var KL="DialogClose",qL=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qi(KL,r);return d.jsx(Ep.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>s.onOpenChange(!1))})});qL.displayName=KL;function pb(e){return e?"open":"closed"}var YL="DialogTitleWarning",[MTe,QL]=JJ(YL,{contentName:Dc,titleName:fb,docsSlug:"dialog"}),gee=({titleId:e})=>{const t=QL(YL),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},mee="DialogDescriptionWarning",vee=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QL(mee).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},XL=_L,ZL=GL,gb=VL,mb=HL,JL=UL,e_=zL,t_=qL;const r_=XL,Cee=ZL,yee=t_,n_=m.forwardRef(({className:e,...t},r)=>d.jsx(gb,{ref:r,className:Lt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));n_.displayName=gb.displayName;const vb=m.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(Cee,{children:[d.jsx(n_,{}),d.jsxs(mb,{ref:n,className:Lt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,d.jsxs(t_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(_J,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vb.displayName=mb.displayName;const Cb=({className:e,...t})=>d.jsx("div",{className:Lt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Cb.displayName="DialogHeader";const s_=({className:e,...t})=>d.jsx("div",{className:Lt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});s_.displayName="DialogFooter";const i_=m.forwardRef(({className:e,...t},r)=>d.jsx(JL,{ref:r,className:Lt("text-lg font-semibold leading-none tracking-tight",e),...t}));i_.displayName=JL.displayName;const o_=m.forwardRef(({className:e,...t},r)=>d.jsx(e_,{ref:r,className:Lt("text-sm text-muted-foreground",e),...t}));o_.displayName=e_.displayName;function See(e){return Xr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function wee(e){return Xr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},child:[]},{tag:"path",attr:{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},child:[]}]})(e)}function xee(e){return Xr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}const PS=[{group:"Main Navigation",label:"Dashboard",path:"/app/home"},{group:"Main Navigation",label:"Product List",path:"/app/product-list"},{group:"Main Navigation",label:"User",path:"/app/user"},{group:"Transaction",label:"Customer List",path:"/app/customer-list"},{group:"Transaction",label:"Sales",path:"/app/sales"},{group:"Transaction",label:"Installation-Location",path:"/app/installation-location"},{group:"Transaction",label:"Delivery Challan",path:"/app/delivery-challan"},{group:"Transaction",label:"Installation",path:"/app/delivery-challan"},{group:"Transaction",label:"Services",path:"/app/services"},{group:"Customer Setting",label:"Customer Type",path:"/app/customer-type"},{group:"Customer Setting",label:"Source of Reference",path:"/app/SourceOfReference"},{group:"Customer Setting",label:"Reference Details",path:"/app/reference-details"},{group:"Customer Setting",label:"Customer Status",path:"/app/customer-status"},{group:"Customer Setting",label:"Designation",path:"/app/designation"},{group:"Product Setting",label:"Item Category",path:"/app/item-category"},{group:"Product Setting",label:"Item Type",path:"/app/item-type"},{group:"Product Setting",label:"Item Status",path:"/app/item-status"},{group:"Product Setting",label:"Star Rating",path:"/app/star-rating"},{group:"Product Setting",label:"Ref Gas Type",path:"/app/ref-gas-type"},{group:"Product Setting",label:"Order Type",path:"/app/order-type"},{group:"Product Setting",label:"Ton Capacity",path:"/app/ton-capacity"},{group:"Product Setting",label:"Unit Of Measurements",path:"/app/unit-of-measurements"},{group:"Product Setting",label:"Brand Names",path:"/app/brand-name"},{group:"Product Setting",label:"Material",path:"/app/material"}],bee=()=>{const{logout:e}=r1(),t=Bn(),[r,n]=m.useState(!1),[s,i]=m.useState(""),[o,a]=m.useState(PS),[l,u]=m.useState(-1),f=m.useRef(null),p=()=>{e(),t("/")},g=()=>{t("/app/appearance")},C=JSON.parse(localStorage.getItem("user")||"{}"),S=(C==null?void 0:C.userName)||"",y=(C==null?void 0:C.email)||"",w=`${S.charAt(0)}${y.charAt(0)}`.toUpperCase()||"DB";m.useEffect(()=>{if(s.trim()==="")a(PS);else{const R=s.toLowerCase(),E=PS.filter(A=>A.label.toLowerCase().includes(R)||A.group.toLowerCase().includes(R));a(E)}u(-1)},[s]);const b=m.useCallback(R=>{r?R.key==="ArrowDown"?(R.preventDefault(),u(E=>Math.min(E+1,o.length-1))):R.key==="ArrowUp"?(R.preventDefault(),u(E=>Math.max(E-1,0))):R.key==="Enter"?(R.preventDefault(),l>=0&&o[l]&&(t(o[l].path),n(!1),i(""))):R.key==="Escape"&&(n(!1),i("")):R.key==="k"&&(R.metaKey||R.ctrlKey)&&(R.preventDefault(),n(!0))},[r,o,l,t]);m.useEffect(()=>(document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}),[b]),m.useEffect(()=>{r&&f.current&&f.current.focus()},[r]);const F=o.reduce((R,E)=>(R[E.group]||(R[E.group]=[]),R[E.group].push(E),R),{});return d.jsxs("header",{className:"w-full h-[3.8rem] bg-white shadow-lg shadow-gray-500/10 p-4 flex justify-between dark:bg-gray-900 dark:text-white items-center",children:[d.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-white"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs(r_,{open:r,onOpenChange:n,children:[d.jsx(It,{variant:"outline",className:"hidden sm:flex h-9 w-48 justify-between text-sm text-muted-foreground items-center",onClick:()=>n(!0),children:d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(TS,{className:"h-4 w-4"}),"Search..."]})}),d.jsx(It,{variant:"outline",size:"icon",className:"sm:hidden",onClick:()=>n(!0),children:d.jsx(TS,{className:"h-4 w-4"})}),d.jsxs(vb,{className:"p-0 sm:max-w-[450px] flex flex-col h-[80vh]",children:[d.jsx(Cb,{className:"p-2 border-b",children:d.jsxs("div",{className:"relative flex items-center",children:[d.jsx(TS,{className:"absolute left-4 h-4 w-4 text-gray-500 dark:text-gray-400"}),d.jsx(be,{ref:f,className:"flex h-10 w-full rounded-md border-none bg-background py-2 pl-10 pr-8 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Type a command or search...",value:s,onChange:R=>i(R.target.value)})]})}),d.jsxs("div",{className:`flex-1 overflow-y-auto py-2\r
                         scrollbar scrollbar-thumb-gray-400 scrollbar-track-gray-200\r
                         dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800`,children:[Object.keys(F).length===0&&d.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 p-4",children:"No results found."}),Object.keys(F).map(R=>d.jsxs(De.Fragment,{children:[d.jsx("h3",{className:"px-4 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400",children:R}),F[R].map(E=>d.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 cursor-pointer text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800
                      ${l===o.findIndex(A=>A.label===E.label)?"bg-gray-100 dark:bg-gray-800":""}`,onClick:()=>{t(E.path),n(!1),i("")},children:[d.jsx(wee,{className:"h-4 w-4"}),d.jsx("span",{children:E.label})]},E.label))]},R))]})]})]}),d.jsx(PQ,{}),d.jsxs(Cv,{children:[d.jsx(yv,{asChild:!0,children:d.jsxs(NL,{children:[d.jsx(IL,{src:"/default-avatar.png",alt:"Profile Picture"}),d.jsx(OL,{children:w})]})}),d.jsxs(_f,{align:"end",children:[d.jsxs(Zu,{onClick:g,children:[d.jsx(ZJ,{})," Appearance"]}),d.jsxs(Zu,{onClick:p,children:[d.jsx(mQ,{}),"Logout"]})]})]})]})]})},Jt=({children:e})=>d.jsx("div",{className:"flex h-screen overflow-hidden",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[" ",d.jsx(CQ,{})]}),d.jsxs("div",{className:"relative flex  flex-1 flex-col overflow-y-auto overflow-x-hidden",children:[d.jsx(bee,{}),d.jsx("main",{children:d.jsx("div",{className:"mx-auto max-w-screen-2xl p-4 md:p-4",children:e})})]})]})});var Wd=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,r){const n=t?this.allAsyncListeners:this.allSyncListeners;let s=n.get(e);return!s&&r&&(s=new Set,n.set(e,s)),s}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,r=!1){this.getListeners(e,r,!0).add(t)}removeEventListener(e,t,r=!1){const n=this.getListeners(e,r,!1);n&&(n.delete(t),n.size===0&&(r?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const r=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const n=(a,l)=>a.forEach(u=>{if(!l.has(u))return;const f=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(e)):()=>u(e);t?this.dispatchAsync(f):f()}),s=this.getListeners(r,t,!1)??new Set,i=new Set(s);i.size>0&&n(i,s),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(r,e)):()=>a(r,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},a_=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(a_||{}),MD={};function yb(e,t){MD[t]||(e(),MD[t]=!0)}function Vi(e,...t){console.log("AG Grid: "+e,...t)}function Te(e,...t){yb(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Yt(e,...t){yb(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Sb(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Eee(e){Ree(e,400)}var AS=[],DS=!1;function ND(e){AS.push(e),!DS&&(DS=!0,window.setTimeout(()=>{const t=AS.slice();AS.length=0,DS=!1,t.forEach(r=>r())},0))}function Ree(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(r=>r()),t)}function os(e,t){let r;return function(...n){const s=this;window.clearTimeout(r),r=window.setTimeout(function(){e.apply(s,n)},t)}}function ID(e,t){let r=0;return function(...n){const s=this,i=new Date().getTime();i-r<t||(r=i,e.apply(s,n))}}function Fee(e,t,r=100,n){const s=new Date().getTime();let i=null,o=!1;const a=()=>{const l=new Date().getTime()-s>r;(e()||l)&&(t(),o=!0,i!=null&&(window.clearInterval(i),i=null))};a(),o||(i=window.setInterval(a,10))}function Tee(...e){return t=>e.reduce((r,n)=>n(r),t)}function Xo(e){return e==null||e===""?null:e}function Le(e,t=!1){return e!=null&&(e!==""||t)}function Bt(e){return!Le(e)}function zs(e){return e==null||e.length===0}function sx(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Cc(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function ix(e){if(e!==void 0)return e===null||e===""?!1:ox(e)}function ox(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function jf(e,t){const r=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return r===n}function Pee(e,t,r=!1){const n=e==null,s=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&s)return 0;if(n)return-1;if(s)return 1;function i(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!r)return i(e,t);try{return e.localeCompare(t)}catch{return i(e,t)}}function Um(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(r=>t.push(r)),t}return Object.values(e)}function l_(e,t){return e.get("rowModelType")===t}function yr(e){return l_(e,"clientSide")}function bo(e){return l_(e,"serverSide")}function Rn(e,t){return e.get("domLayout")===t}function wv(e){return Ev(e)!==void 0}function xv(e){return!e.get("suppressAsyncEvents")}function c_(e){return typeof e.get("getRowHeight")=="function"}function Aee(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function fl(e,t,r=!1,n){if(n==null&&(n=e.environment.getDefaultRowHeight()),c_(e)){if(r)return{height:n,estimated:!0};const o={node:t,data:t.data},a=e.getCallback("getRowHeight")(o);if(ax(a))return a===0&&Te("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(t.detail&&e.get("masterDetail"))return Dee(e);const s=e.get("rowHeight");return{height:s&&ax(s)?s:n,estimated:!1}}function Dee(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return ax(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function yc(e){const{environment:t}=e,r=e.get("rowHeight");if(!r||Bt(r))return t.getDefaultRowHeight();const n=t.refreshRowHeightVariable();return n!==-1?n:(Te("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function ax(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Bf(e,t,r){const n=t[e.getDomDataKey()];return n?n[r]:void 0}function Mc(e,t,r,n){const s=e.getDomDataKey();let i=t[s];Bt(i)&&(i={},t[s]=i),i[r]=n}function jr(e){let t=null;const r=e.get("getDocument");return r&&Le(r)?t=r():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&Le(t)?t:document}function u_(e){return jr(e).defaultView||window}function Gf(e){return e.eGridDiv.getRootNode()}function Dr(e){return Gf(e).activeElement}function d_(e){const t=jr(e),r=Dr(e);return r===null||r===t.body}function Ju(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function M0(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Rn(e,"print"))}function lo(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function lx(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function h_(e){const t=e.get("grandTotalRow");if(t)return t;if(e.get("groupIncludeTotalFooter"))return"bottom"}function f_(e){const t=e.get("groupTotalRow");if(typeof t=="function")return e.getCallback("groupTotalRow");if(t)return()=>t;const r=e.get("groupIncludeFooter");if(typeof r=="function"){const n=e.getCallback("groupIncludeFooter");return s=>n(s)?"bottom":void 0}return()=>r?"bottom":void 0}function p_(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function N0(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function Ud(e){const t=e.getCallback("getRowId");return t===void 0?t:r=>{let n=t(r);return typeof n!="string"&&(Te("The getRowId callback must return a string. The ID ",n," is being cast to a string."),n=String(n)),n}}function bd(e){return(e==null?void 0:e.checkboxes)??!0}function bv(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function Mee(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function Nee(e){return typeof e.get("rowSelection")!="string"}function Iee(e){return e.get("cellSelection")!==void 0}function Oee(e){const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?(t==null?void 0:t.suppressMultiRanges)??!1:!1:e.get("suppressMultiRangeSelection")}function ca(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function kee(e){var n;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((n=t.handle)==null?void 0:n.mode)==="range":!1:e.get("enableRangeHandle")}function OD(e){var n;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((n=t.handle)==null?void 0:n.mode)==="fill":!1:e.get("enableFillHandle")}function g_(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const r=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return r&&n?!1:r?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function Lee(e){const t=g_(e);return t===!0||t==="enableSelection"}function kD(e){const t=g_(e);return t===!0||t==="enableDeselection"}function wb(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function Ev(e){const t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t==null?void 0:t.mode}function m_(e){return Ev(e)==="multiRow"}function _ee(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function xb(e){const t=e.get("rowSelection");if(typeof t=="string"){const r=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return r&&n?"filteredDescendants":r?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function Nc(e){const t=xb(e);return t==="descendants"||t==="filteredDescendants"}function MS(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function jt(e){if(!(!e||!e.length))return e[e.length-1]}function Rl(e,t,r){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,s)=>r?r(n,t[s]):t[s]===n)}function jee(e){return e.sort((t,r)=>t-r)}function v_(e,t){const r=e.indexOf(t);r>=0&&(e[r]=e[e.length-1],e.pop())}function as(e,t){const r=e.indexOf(t);r>=0&&e.splice(r,1)}function Bee(e,t){for(let r=0;r<t.length;r++)v_(e,t[r])}function Gee(e,t){for(let r=0;r<t.length;r++)as(e,t[r])}function Rv(e,t,r){e.splice(r,0,t)}function C_(e,t,r){Gee(e,t),t.slice().reverse().forEach(n=>Rv(e,n,r))}function Sc(e,t){return e.indexOf(t)>-1}function Vee(e){return(e==null?void 0:e.flatMap(t=>t))??[]}function LD(e,t){t==null||e==null||t.forEach(r=>e.push(r))}var y_="__ag_Grid_Stop_Propagation",Hee=["touchstart","touchend","touchmove","touchcancel","scroll"],NS={};function Ed(e){e[y_]=!0}function Zo(e){return e[y_]===!0}var S_=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r=>{if(typeof NS[r]=="boolean")return NS[r];const n=document.createElement(e[r]||"div");return r="on"+r,NS[r]=r in n}})();function cx(e,t,r){let n=t;for(;n;){const s=Bf(e,n,r);if(s)return s;n=n.parentElement}return null}function Wee(e,t){return!t||!e?!1:$ee(t).indexOf(e)>=0}function Uee(e){const t=[];let r=e.target;for(;r;)t.push(r),r=r.parentElement;return t}function $ee(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():Uee(t)}function zee(e,t,r,n){const i=Sc(Hee,r)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,r,n,i)}var Ee=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,r){this.localEventService||(this.localEventService=new Wd),this.localEventService.addEventListener(e,t,r)}removeEventListener(e,t,r){this.localEventService&&this.localEventService.removeEventListener(e,t,r)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const r=[];for(const n in t){const s=t[n];s&&r.push(this._setupListener(e,n,s))}return r}_setupListener(e,t,r){if(this.destroyed)return()=>null;e instanceof HTMLElement?zee(this.getFrameworkOverrides(),e,t,r):e.addEventListener(t,r);const n=()=>(e.removeEventListener(t,r),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const r=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const r=e.join("-")+this.propertyListenerId++,n=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[r])return;this.lastChangeSetIdLookup[r]=s.changeSet.id}const i={type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source};t(i)};e.forEach(s=>this.setupGridOptionListener(s,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const r=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),r}createBean(e,t,r){return(t||this.stubContext).createBean(e,r)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Xn(e){return e instanceof $m}var $m=class extends Ee{constructor(e,t,r,n){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=b_(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=r,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{pl(t)?e.push(t):Xn(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,r=!1;const n=this.findChildrenRemovingPadding();for(let i=0,o=n.length;i<o;i++){const a=n[i];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,r=!0):l==="closed"?(t=!0,r=!0):(e=!0,t=!0)}const s=e&&t&&r;this.expandable!==s&&(this.expandable=s,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=r=>{r.forEach(n=>{Xn(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},w_="ag-Grid-ControlsColumn",Kee=class extends Ee{constructor(){super(...arguments),this.beanName="controlsColService"}isControlsColEnabled(){const{gos:e}=this,t=e.get("rowSelection");if(!t||typeof t!="object")return!1;const r=bd(t),n=bv(t);return!!(r||n)}createControlsCols(){if(!this.isControlsColEnabled())return[];const{gos:e}=this,t=e.get("selectionColumnDef"),n={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(i,o,a,l){const u=a.isSelected(),f=l.isSelected();return u&&f?0:u?1:-1},editable:!1,suppressFillHandle:!0,...t,colId:`${w_}`},s=new Rb(n,null,n.colId,!1);return this.createBean(s),[s]}},I0="ag-Grid-AutoColumn";function bb(e){const t=[],r=n=>{for(let s=0;s<n.length;s++){const i=n[s];pl(i)?t.push(i):Xn(i)&&r(i.getChildren())}};return r(e),t}function Ho(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}function za(e,t,r){const n={};if(!t)return;ua(null,t,i=>{n[i.getInstanceId()]=i}),r&&ua(null,r,i=>{n[i.getInstanceId()]=null});const s=Object.values(n).filter(i=>i!=null);e.destroyBeans(s)}function ux(e){return e.getId().startsWith(I0)}function Rd(e){return e.getColId().startsWith(w_)}function zm(e){let t=[];return e instanceof Array?e.some(n=>typeof n!="string")?Te("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):Te("colDef.type should be of type 'string' | 'string[]'"),t}var Eb=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e,t){const{frameworkOverrides:r,wrappedListeners:n}=this;let s=t;if(r.shouldWrapOutgoing){s=o=>{r.wrapOutgoing(()=>t(o))};let i=n.get(e);i||(i=new Map,n.set(e,i)),i.set(t,s)}return s}wrapGlobal(e){const{frameworkOverrides:t,wrappedGlobalListeners:r}=this;let n=e;return t.shouldWrapOutgoing&&(n=(s,i)=>{t.wrapOutgoing(()=>e(s,i))},r.set(e,n)),n}unwrap(e,t){const{wrappedListeners:r}=this,n=r.get(e);if(n){const s=n.get(t);if(s)return n.delete(t),n.size===0&&r.delete(e),s}return t}unwrapGlobal(e){const{wrappedGlobalListeners:t}=this,r=t.get(e);return r?(t.delete(e),r):e}},O0=new Set(["__proto__","constructor","prototype"]);function Bi(e,t){if(e!=null){if(Array.isArray(e)){for(let r=0;r<e.length;r++)t(r.toString(),e[r]);return}for(const[r,n]of Object.entries(e))O0.has(r)||t(r,n)}}function x_(e){const t={},r=Object.keys(e);for(let n=0;n<r.length;n++){if(O0.has(r[n]))continue;const s=r[n],i=e[s];t[s]=i}return t}function dx(e,t){if(!e)return;const r=e,n={};return Object.keys(r).forEach(s=>{if(t&&t.indexOf(s)>=0||O0.has(s))return;const i=r[s];fx(i)&&i.constructor===Object?n[s]=dx(i):n[s]=i}),n}function hx(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const r=[];for(const n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&r.push(e[n]);return r}function is(e,t,r=!0,n=!1){Le(t)&&Bi(t,(s,i)=>{if(O0.has(s))return;let o=e[s];o!==i&&(n&&o==null&&i!=null&&typeof i=="object"&&i.constructor===Object&&(o={},e[s]=o),fx(i)&&fx(o)&&!Array.isArray(o)?is(o,i,r,n):(r||i!==void 0)&&(e[s]=i))})}function hf(e,t,r){if(!t||!e)return;if(!r)return e[t];const n=t.split(".");let s=e;for(let i=0;i<n.length;i++){if(s==null)return;s=s[n[i]]}return s}function fx(e){return typeof e=="object"&&e!==null}var qee={resizable:!0,sortable:!0},Yee=0;function b_(){return Yee++}function pl(e){return e instanceof Rb}var Rb=class extends Ee{constructor(e,t,r,n){super(),this.isColumn=!0,this.instanceId=b_(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new Wd,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=r,this.primary=n,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=e.sortIndex,r=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):r!==null&&(this.sortIndex=r);const n=e.hide,s=e.initialHide;n!==void 0?this.visible=!n:this.visible=!s,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const i=e.flex,o=e.initialFlex;i!==void 0?this.flex=i:o!==void 0&&(this.flex=o)}setColDef(e,t,r){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",r))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=Le(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=Le(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=Le(this.colDef.tooltipField)||Le(this.colDef.tooltipValueGetter)||Le(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const r=Cc(e.width),n=Cc(e.initialWidth);return r!=null?t=r:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(Bt(this.colDef)||Bt(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===e;return t||r}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){var n;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new Eb(this.frameworkOverrides));const r=((n=this.frameworkEventListenerService)==null?void 0:n.wrap(e,t))??t;this.columnEventService.addEventListener(e,r)}removeEventListener(e,t){var n;const r=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(e,t))??t;this.columnEventService.removeEventListener(e,r)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),r=this.colDef.suppressNavigable;return r(t)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&typeof t!="string"){const r=Rd(this)&&bd(t);return this.isColumnFunc(e,r)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??qee[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const r=this.createColumnFunctionCallbackParams(e);return t(r)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Bt(this.sort)}isSorting(){return Le(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,r){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const n=this.createColumnEvent("filterChanged",t);r&&is(n,r),this.columnEventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const r=e===!0;this.visible!==r&&(this.visible=r,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let r=!0;for(;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:r}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Bt(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.colSpan(t);return Math.max(r,1)}getRowSpan(e){if(Bt(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.rowSpan(t);return Math.max(r,1)}setActualWidth(e,t,r=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},Qee={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Xee=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=sx(e);let r=0;for(;;){let n;if(e?(n=e,r!==0&&(n+="_"+r)):t?(n=t,r!==0&&(n+="_"+r)):n=r,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);r++}}},Zee=class extends Ee{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,r,n){const s=new Xee,{existingCols:i,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(r);s.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,i,s,o,n),u=this.findMaxDept(l,0),f=this.balanceColumnTree(l,0,u,s);return ua(null,f,(g,C)=>{Xn(g)&&g.setupExpandable(),g.setOriginalParent(C)}),{columnTree:f,treeDept:u}}extractExistingTreeData(e){const t=[],r=[],n=[];return e&&ua(null,e,s=>{if(Xn(s)){const i=s;r.push(i)}else{const i=s;n.push(i.getId()),t.push(i)}}),{existingCols:t,existingGroups:r,existingColKeys:n}}balanceTreeForAutoCols(e,t){const r=[],n=this.findDepth(t);return e.forEach(s=>{let i=s;for(let o=n-1;o>=0;o--){const a=new $m(null,`FAKE_PATH_${s.getId()}}_${o}`,!0,o);this.createBean(a),a.setChildren([i]),i.setOriginalParent(a),i=a}n===0&&s.setOriginalParent(null),r.push(i)}),[r,n]}findDepth(e){let t=0,r=e;for(;r&&r[0]&&Xn(r[0]);)t++,r=r[0].getChildren();return t}balanceColumnTree(e,t,r,n){const s=[];for(let i=0;i<e.length;i++){const o=e[i];if(Xn(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,r,n);a.setChildren(l),s.push(a)}else{let a,l;for(let u=r-1;u>=t;u--){const f=n.getUniqueKey(null,null),p=this.createMergedColGroupDef(null),g=new $m(p,f,!0,t);this.createBean(g),l&&l.setChildren([g]),l=g,a||(a=l)}if(a&&l)if(s.push(a),e.some(f=>Xn(f))){l.setChildren([o]);continue}else{l.setChildren(e);break}s.push(o)}}return s}findMaxDept(e,t){let r=t;for(let n=0;n<e.length;n++){const s=e[n];if(Xn(s)){const i=s,o=this.findMaxDept(i.getChildren(),t+1);r<o&&(r=o)}}return r}recursivelyCreateColumns(e,t,r,n,s,i,o){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const u=e[l];this.isColumnGroup(u)?a[l]=this.createColumnGroup(r,u,t,n,s,i,o):a[l]=this.createColumn(r,u,n,s,o)}return a}createColumnGroup(e,t,r,n,s,i,o){const a=this.createMergedColGroupDef(t),l=s.getUniqueKey(a.groupId||null,null),u=new $m(a,l,!1,r);this.createBean(u);const f=this.findExistingGroup(t,i);f&&i.splice(f.idx,1);const p=f==null?void 0:f.group;p&&u.setExpanded(p.isExpanded());const g=this.recursivelyCreateColumns(a.children,r+1,e,n,s,i,o);return u.setChildren(g),u}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,r,n,s){var a;const i=this.findExistingColumn(t,r);i&&(r==null||r.splice(i.idx,1));let o=i==null?void 0:i.column;if(o){const l=this.addColumnDefaultAndTypes(t,o.getColId());o.setColDef(l,t,s),this.applyColumnState(o,l,s)}else{const l=n.getUniqueKey(t.colId,t.field),u=this.addColumnDefaultAndTypes(t,l);o=new Rb(u,t,l,e),this.createBean(o)}return(a=this.dataTypeService)==null||a.addColumnListeners(o),o}applyColumnState(e,t,r){const n=Cc(t.flex);if(n!==void 0&&e.setFlex(n),e.getFlex()<=0){const a=Cc(t.width);if(a!=null)e.setActualWidth(a,r);else{const l=e.getActualWidth();e.setActualWidth(l,r)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,r):e.setSort(void 0,r));const i=Cc(t.sortIndex);i!==void 0&&e.setSortIndex(i);const o=ix(t.hide);o!==void 0&&e.setVisible(!o,r),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let r=0;r<t.length;r++){const n=t[r].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[r].getId()===e.colId)return{idx:r,column:t[r]};continue}if(e.field!=null){if(n.field===e.field)return{idx:r,column:t[r]};continue}if(n===e)return{idx:r,column:t[r]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const s=t[n];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:n,group:s}}}addColumnDefaultAndTypes(e,t){var a;const r={},n=this.gos.get("defaultColDef");is(r,n,!1,!0);const s=this.updateColDefAndGetColumnType(r,e,t);s&&this.assignColumnTypes(s,r),is(r,e,!1,!0);const i=this.gos.get("autoGroupColumnDef"),o=lo(this.gos);return e.rowGroup&&i&&o&&is(r,{sort:i.sort,initialSort:i.initialSort},!1,!0),(a=this.dataTypeService)==null||a.validateColDef(r),r}updateColDefAndGetColumnType(e,t,r){var i;const n=(i=this.dataTypeService)==null?void 0:i.updateColDefAndGetColumnType(e,t,r),s=t.type??n??e.type;return e.type=s,s?zm(s):void 0}assignColumnTypes(e,t){if(!e.length)return;const r=Object.assign({},Qee),n=this.gos.get("columnTypes")||{};Bi(n,(s,i)=>{s in r?Te(`the column type '${s}' is a default column type and cannot be overridden.`):(i.type&&Te("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),r[s]=i)}),e.forEach(s=>{const i=r[s.trim()];i?is(t,i,!1,!0):Te("colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function ua(e,t,r){if(t)for(let n=0;n<t.length;n++){const s=t[n];Xn(s)&&ua(s,s.getChildren(),r),r(s,e)}}var Jee=class extends Ee{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(ec(t.source))),this.addManagedPropertyListener("rowSelection",t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,ec(t.source))}),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(ec(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(ec(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),ec(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){var u,f,p;const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const r=(u=this.colDefCols)==null?void 0:u.list,n=(f=this.colDefCols)==null?void 0:f.tree,s=this.columnFactory.createColumnTree(this.colDefs,!0,n,e);za(this.context,(p=this.colDefCols)==null?void 0:p.tree,s.columnTree);const i=s.columnTree,o=s.treeDept,a=bb(i),l={};a.forEach(g=>l[g.getId()]=g),this.colDefCols={tree:i,treeDepth:o,list:a,map:l},this.funcColsService.extractCols(e,r),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){var s,i,o;if(!this.colDefCols)return;const t=(s=this.cols)==null?void 0:s.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const r=Aee(this.gos,this.showingPivotResult);(!e||r)&&this.restoreColOrder(),this.positionLockedCols(),(i=this.showRowGroupColsService)==null||i.refresh(),(o=this.quickFilterService)==null||o.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Rl(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){const{map:t,list:r,tree:n,treeDepth:s}=e;this.cols={list:r.slice(),map:{...t},tree:n.slice(),treeDepth:s},e.list.some(o=>{var a;return((a=this.cols)==null?void 0:a.map[o.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:t,list:r,tree:n,treeDepth:s}=this.colDefCols;this.cols={list:r.slice(),map:{...t},tree:n.slice(),treeDepth:s}}}getColsToShow(){var s;const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns(),r=(s=this.controlsColService)==null?void 0:s.isControlsColEnabled();return this.cols.list.filter(i=>{const o=ux(i);if(e){const a=t&&Sc(t,i);return o||a||r&&Rd(i)}else return o||i.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),_D(this.cols))}createAutoCols(){var S;const e=N0(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),r=this.funcColsService.getRowGroupColumns(),s=!(r.length>0||this.gos.get("treeData"))||t||e,i=()=>{this.autoCols&&(za(this.context,this.autoCols.tree),this.autoCols=null)};if(s||!this.autoColService){i();return}const o=this.autoColService.createAutoCols(r)??[],a=BD(o,((S=this.autoCols)==null?void 0:S.list)||null),l=this.cols.treeDepth,f=(this.autoCols?this.autoCols.treeDepth:-1)==l;if(a&&f)return;i();const[p,g]=this.columnFactory.balanceTreeForAutoCols(o,this.cols.tree);this.autoCols={list:o,tree:p,treeDepth:g,map:{}};const C=y=>{if(!y)return null;const w=y.filter(b=>!ux(b));return[...o,...w]};this.lastOrder=C(this.lastOrder),this.lastPivotOrder=C(this.lastPivotOrder)}createControlsCols(){var u,f,p;const e=()=>{var g;za(this.context,(g=this.controlsCols)==null?void 0:g.tree),this.controlsCols=null};this.controlsColService||e();const t=this.cols.treeDepth,n=(((u=this.controlsCols)==null?void 0:u.treeDepth)??-1)==t,s=((f=this.controlsColService)==null?void 0:f.createControlsCols())??[];if(BD(s,((p=this.controlsCols)==null?void 0:p.list)??[])&&n)return;e();const[o,a]=this.columnFactory.balanceTreeForAutoCols(s,this.cols.tree);this.controlsCols={list:s,tree:o,treeDepth:a,map:{}};const l=g=>{if(!g)return null;const C=g.filter(S=>!Rd(S));return[...s,...C]};this.lastOrder=l(this.lastOrder),this.lastPivotOrder=l(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),_D(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,r){this.columnApplyStateService.applyColumnState({state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},r)}setColsPinned(e,t,r){if(!this.cols||zs(e))return;if(Rn(this.gos,"print")){Te("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let n;t===!0||t==="left"?n="left":t==="right"?n="right":n=null;const s=[];e.forEach(i=>{if(!i)return;const o=this.getCol(i);o&&o.getPinned()!==n&&(o.setPinned(n),s.push(o))}),s.length&&(this.visibleColsService.refresh(r),this.eventDispatcher.columnPinned(s,r)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,r){let n;Xn(e)?n=e.getId():n=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:n,open:t}],r)}getProvidedColGroup(e){var r;let t=null;return ua(null,(r=this.cols)==null?void 0:r.tree,n=>{Xn(n)&&n.getId()===e&&(t=n)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const n=this.funcColsService.getRowGroupColumns().findIndex(s=>s.getColId()===e.getColId());return t>n}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,yr(this.gos)||bo(this.gos)||Te("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((l,u)=>[l,u]));if(!this.cols.list.some(l=>t.has(l)))return;const n=new Map(this.cols.list.map(l=>[l,!0])),s=e.filter(l=>n.has(l)),i=new Map(s.map(l=>[l,!0])),o=this.cols.list.filter(l=>!i.has(l)),a=s.slice();o.forEach(l=>{let u=l.getOriginalParent();if(!u){a.push(l);return}const f=[];for(;!f.length&&u;)u.getLeafColumns().forEach(S=>{const y=a.indexOf(S)>=0,w=f.indexOf(S)<0;y&&w&&f.push(S)}),u=u.getOriginalParent();if(!f.length){a.push(l);return}const p=f.map(C=>a.indexOf(C)),g=Math.max(...p);Rv(a,l,g+1)}),this.cols.list=a}sortColsLikeKeys(e){if(this.cols==null)return;let t=[];const r={};e.forEach(s=>{if(r[s])return;const i=this.cols.map[s];i&&(t.push(i),r[s]=!0)});let n=0;if(this.cols.list.forEach(s=>{const i=s.getColId();if(r[i]!=null)return;i.startsWith(I0)?Rv(t,s,n++):t.push(s)}),t=this.columnMoveService.placeLockedColumns(t),!this.columnMoveService.doesMovePassMarryChildren(t)){Te("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=t}sortColsLikeCols(e){!e||e.length<=1||e.filter(r=>this.cols.list.indexOf(r)<0).length>0||e.sort((r,n)=>{const s=this.cols.list.indexOf(r),i=this.cols.list.indexOf(n);return s-i})}resetColDefIntoCol(e,t){const r=e.getUserProvidedColDef();if(!r)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(r,e.getColId());return e.setColDef(n,r,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,r){var n;C_((n=this.cols)==null?void 0:n.list,e,t),this.visibleColsService.refresh(r)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=(e=this.cols)==null?void 0:e.list:this.lastOrder=(t=this.cols)==null?void 0:t.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((n,s)=>this.lastOrder.indexOf(n)-this.lastOrder.indexOf(s)):this.lastOrder&&e.sort((n,s)=>this.cols.list.indexOf(n)-this.cols.list.indexOf(s));const t=this.funcColsService.getRowGroupColumns(),r=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,r)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var e;return((e=this.colDefCols)==null?void 0:e.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(Te("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!zs(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e,t,r;za(this.context,(e=this.colDefCols)==null?void 0:e.tree),za(this.context,(t=this.autoCols)==null?void 0:t.tree),za(this.context,(r=this.controlsCols)==null?void 0:r.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var e;return(e=this.colDefCols)!=null&&e.list?this.colDefCols.list:null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var r,n,s;const e=this.pivotResultColsService.getPivotResultCols(),t=e==null?void 0:e.list;return[((r=this.colDefCols)==null?void 0:r.list)??[],((n=this.autoCols)==null?void 0:n.list)??[],((s=this.controlsCols)==null?void 0:s.list)??[],t??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;const{map:r,list:n}=t;if(typeof e=="string"&&r[e])return r[e];for(let s=0;s<n.length;s++)if(jD(n[s],e))return n[s];return this.getAutoCol(e)}getAutoCol(e){var t;return((t=this.autoCols)==null?void 0:t.list.find(r=>jD(r,e)))??null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const r of t){if(!r)continue;const n=r.getGroupRowCount()||0;for(let s=0;s<n;s++){const i=r.getGroupRowCtrlAtIndex(s),o=e[s];if(i){const a=this.getColumnGroupHeaderRowHeight(i);(o==null||a>o)&&(e[s]=a)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let r=0;const n=e.getHeaderCtrls();for(const s of n){const i=s.getColumn();if(i.isAutoHeaderHeight()){const o=i.getAutoHeaderHeight();o!=null&&o>r&&(r=o)}}return Math.max(t,r)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),r=this.visibleColsService.getAllCols().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(e,...r)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:r}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:r,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",r)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,r){const n=t&&typeof t!="string"?bd(t):void 0,s=e&&typeof e!="string"?bd(e):void 0,i=n!==s,o=t&&typeof t!="string"?bv(t):void 0,a=e&&typeof e!="string"?bv(e):void 0;(i||o!==a)&&this.refreshAll(r)}};function ec(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function _D(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function jD(e,t){const r=e===t,n=e.getColDef()===t,s=e.getColId()==t;return r||n||s}function BD(e,t){return Rl(e,t,(r,n)=>r.getColId()===n.getColId())}var ete=class extends Ee{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:r,skipHeaderGroups:n,stopAtGroup:s,source:i="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;const o=[];let a=-1;const l=r??this.gos.get("skipHeaderOnAutoSize"),u=n??l;for(;a!==0;){a=0;const f=[];t.forEach(p=>{if(!p)return;const g=this.columnModel.getCol(p);if(!g||o.indexOf(g)>=0)return;const C=this.autoWidthCalculator.getPreferredWidthForColumn(g,l);if(C>0){const S=this.normaliseColumnWidth(g,C);g.setActualWidth(S,i),o.push(g),a++}f.push(g)}),f.length&&this.visibleColsService.refresh(i)}u||this.autoSizeColumnGroupsByColumns(t,i,s),this.eventDispatcher.columnResized(o,!0,"autosizeColumns")}autoSizeColumn(e,t,r){e&&this.autoSizeCols({colKeys:[e],skipHeader:r,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,r){const n=new Set;this.columnModel.getColsForKeys(e).forEach(a=>{let l=a.getParent();for(;l&&l!=r;)l.isPadding()||n.add(l),l=l.getParent()});let i;const o=[];for(const a of n){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(i=l.getHeaderCtrlForColumn(a),i)break;i&&i.resizeLeafColumnsToFit(t)}return o}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const r=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:r,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const r=e.getMinWidth();t<r&&(t=r);const n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}},tte=class extends Ee{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>as(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>as(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>as(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupCols.slice(0);const r=this.columnModel.getColDefCol(t);return r?[r]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return zs(this.rowGroupCols)}setColumnAggFunc(e,t,r){if(!e)return;const n=this.columnModel.getColDefCol(e);n&&(n.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[n],r))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(r,n)=>this.setRowGroupActive(r,n,t),t)}setRowGroupActive(e,t,r){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,r),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,r),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,r))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,r=>this.setRowGroupActive(!0,r,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,r=>this.setRowGroupActive(!1,r,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,r=>r.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(r,n)=>{n.setPivotActive(r,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,r=>r.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(r,n)=>this.setValueActive(r,n,t),t)}setValueActive(e,t,r){if(e!==t.isValueActive()&&(t.setValueActive(e,r),e&&!t.getAggFunc()&&this.aggFuncService)){const n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,r=>this.setValueActive(!0,r,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,r=>this.setValueActive(!1,r,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,r){if(this.isRowGroupEmpty())return;const n=this.rowGroupCols[e],s=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,n),this.eventDispatcher.rowGroupChanged(s,r)}setColList(e,t,r,n,s,i,o){if(!this.columnModel.getCols())return;const a=new Map;t.forEach((u,f)=>a.set(u,f)),t.length=0,Le(e)&&e.forEach(u=>{const f=this.columnModel.getColDefCol(u);f&&t.push(f)}),t.forEach((u,f)=>{const p=a.get(u);if(p===void 0){a.set(u,0);return}n&&p!==f||a.delete(u)}),(this.columnModel.getColDefCols()||[]).forEach(u=>{const f=t.indexOf(u)>=0;i(f,u)}),s&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.columnChanged(r,[...a.keys()],o)}updateColList(e,t,r,n,s,i,o){if(!e||zs(e))return;let a=!1;const l=new Set;e.forEach(u=>{if(!u)return;const f=this.columnModel.getColDefCol(u);if(f){if(l.add(f),r){if(t.indexOf(f)>=0)return;t.push(f)}else{const p=t.indexOf(f);if(p<0)return;for(let g=p+1;g<t.length;g++)l.add(t[g]);as(t,f)}s(f),a=!0}}),a&&(n&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.genericColumnEvent(i,Array.from(l),o))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(r,n)=>r.setValueActive(n,e),()=>{},()=>{},r=>{const n=r.aggFunc;if(n===null||n==="")return null;if(n!==void 0)return!!n},r=>r.initialAggFunc!=null&&r.initialAggFunc!=""),this.valueCols.forEach(r=>{const n=r.getColDef();n.aggFunc!=null&&n.aggFunc!=""?r.setAggFunc(n.aggFunc):r.getAggFunc()||r.setAggFunc(n.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(r,n)=>r.setRowGroupActive(n,e),r=>r.rowGroupIndex,r=>r.initialRowGroupIndex,r=>r.rowGroup,r=>r.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(r,n)=>r.setPivotActive(n,e),r=>r.pivotIndex,r=>r.initialPivotIndex,r=>r.pivot,r=>r.initialPivot)}extractColsCommon(e=[],t=[],r,n,s,i,o){const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(g=>{const C=e.indexOf(g)<0,S=g.getColDef(),y=ix(i(S)),w=ix(o(S)),b=Cc(n(S)),F=Cc(s(S));let R;y!==void 0?R=y:b!==void 0?b===null?R=!1:R=b>=0:C?w!==void 0?R=w:F!==void 0?R=F!=null&&F>=0:R=!1:R=t.indexOf(g)>=0,R&&((C?b!=null||F!=null:b!=null)?a.push(g):l.push(g))});const f=g=>{const C=n(g.getColDef()),S=s(g.getColDef());return C??S};a.sort((g,C)=>{const S=f(g),y=f(C);return S===y?0:S<y?-1:1});const p=[].concat(a);return t.forEach(g=>{l.indexOf(g)>=0&&p.push(g)}),l.forEach(g=>{p.indexOf(g)<0&&p.push(g)}),t.forEach(g=>{p.indexOf(g)<0&&r(g,!1)}),p.forEach(g=>{t.indexOf(g)<0&&r(g,!0)}),p}generateColumnStateForRowGroupAndPivotIndexes(e,t){const r={},n=(s,i,o,a,l,u)=>{const f=this.columnModel.getColDefCols();if(!i.length||!f)return[];const p=Object.keys(s),g=new Set(p),C=new Set(p),S=new Set(i.map(D=>{const M=D.getColId();return C.delete(M),M}).concat(p)),y=[],w={};let b=0;for(let D=0;D<f.length;D++){const M=f[D].getColId();S.has(M)&&(y.push(M),w[M]=b++)}let F=1e3,R=!1,E=0;const A=D=>{const M=w[D];for(let I=E;I<M;I++){const _=y[I];C.has(_)&&(s[_][l]=F++,C.delete(_))}E=M};i.forEach(D=>{const M=D.getColId();if(g.has(M))A(M),s[M][l]=F++;else{const I=D.getColDef();(I[l]===null||I[l]===void 0&&I[u]==null)&&(R||(I[o]||I[o]===void 0&&I[a]?A(M):(C.forEach(H=>{s[H][l]=F+w[H]}),F+=y.length,R=!0)),r[M]||(r[M]={colId:M}),r[M][l]=F++)}})};return n(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(r)}},rte=class extends Ee{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const r=this.columnModel.getColDefCols()||[];if(zs(r))return!1;if(e&&e.state&&!e.state.forEach)return Te("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=this.funcColsService.getModifyColumnsNoEventsCallbacks(),s=(a,l,u)=>{const f=this.compareColumnStatesAndDispatchEvents(t),p=l.slice(),g={},C={},S=[],y=[];let w=0;const b=this.funcColsService.getRowGroupColumns().slice(),F=this.funcColsService.getPivotColumns().slice();a.forEach(D=>{const M=D.colId||"";if(M.startsWith(I0)){S.push(D),y.push(D);return}const _=u(M);_?(this.syncColumnWithStateItem(_,D,e.defaultState,g,C,!1,t,n),as(p,_)):(y.push(D),w+=1)});const R=D=>this.syncColumnWithStateItem(D,null,e.defaultState,g,C,!1,t,n);p.forEach(R),this.funcColsService.sortRowGroupColumns(GD.bind(this,g,b)),this.funcColsService.sortPivotColumns(GD.bind(this,C,F)),this.columnModel.refreshCols(!1);const A=(this.columnModel.getAutoCols()||[]).slice();return S.forEach(D=>{const M=this.columnModel.getAutoCol(D.colId);as(A,M),this.syncColumnWithStateItem(M,D,e.defaultState,null,null,!0,t,n)}),A.forEach(R),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),f(),{unmatchedAndAutoStates:y,unmatchedCount:w}};this.columnAnimationService.start();let{unmatchedAndAutoStates:i,unmatchedCount:o}=s(e.state||[],r,a=>this.columnModel.getColDefCol(a));if(i.length>0||Le(e.defaultState)){const a=this.pivotResultColsService.getPivotResultCols(),l=a==null?void 0:a.list;o=s(i,l||[],u=>this.pivotResultColsService.getPivotResultCol(u)).unmatchedCount}return this.columnAnimationService.finish(),o===0}resetColumnState(e){const t=this.columnModel.getColDefCols();if(zs(t))return;const r=this.columnModel.getColDefColTree(),n=bb(r),s=[];let i=1e3,o=1e3,a=[];const l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),n&&(a=a.concat(n)),a.forEach(u=>{const f=this.getColumnStateFromColDef(u);Bt(f.rowGroupIndex)&&f.rowGroup&&(f.rowGroupIndex=i++),Bt(f.pivotIndex)&&f.pivot&&(f.pivotIndex=o++),s.push(f)}),this.applyColumnState({state:s,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(S,y)=>S??y??null,r=e.getColDef(),n=t(r.sort,r.initialSort),s=t(r.sortIndex,r.initialSortIndex),i=t(r.hide,r.initialHide),o=t(r.pinned,r.initialPinned),a=t(r.width,r.initialWidth),l=t(r.flex,r.initialFlex);let u=t(r.rowGroupIndex,r.initialRowGroupIndex),f=t(r.rowGroup,r.initialRowGroup);u==null&&(f==null||f==!1)&&(u=null,f=null);let p=t(r.pivotIndex,r.initialPivotIndex),g=t(r.pivot,r.initialPivot);p==null&&(g==null||g==!1)&&(p=null,g=null);const C=t(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:s,hide:i,pinned:o,width:a,flex:l,rowGroup:f,rowGroupIndex:u,pivot:g,pivotIndex:p,aggFunc:C}}syncColumnWithStateItem(e,t,r,n,s,i,o,a){if(!e)return;const l=(E,A)=>{const D={value1:void 0,value2:void 0};let M=!1;return t&&(t[E]!==void 0&&(D.value1=t[E],M=!0),Le(A)&&t[A]!==void 0&&(D.value2=t[A],M=!0)),!M&&r&&(r[E]!==void 0&&(D.value1=r[E]),Le(A)&&r[A]!==void 0&&(D.value2=r[A])),D},u=l("hide").value1;u!==void 0&&e.setVisible(!u,o);const f=l("pinned").value1;f!==void 0&&e.setPinned(f);const p=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),g=l("flex").value1;if(g!==void 0&&e.setFlex(g),g==null){const E=l("width").value1;E!=null&&p!=null&&E>=p&&e.setActualWidth(E,o)}const C=l("sort").value1;C!==void 0&&(C==="desc"||C==="asc"?e.setSort(C,o):e.setSort(void 0,o));const S=l("sortIndex").value1;if(S!==void 0&&e.setSortIndex(S),i||!e.isPrimary())return;const y=l("aggFunc").value1;y!==void 0&&(typeof y=="string"?(e.setAggFunc(y),e.isValueActive()||(e.setValueActive(!0,o),a.addValueCol(e))):(Le(y)&&Te("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,o),a.removeValueCol(e))));const{value1:w,value2:b}=l("rowGroup","rowGroupIndex");(w!==void 0||b!==void 0)&&(typeof b=="number"||w?(e.isRowGroupActive()||(e.setRowGroupActive(!0,o),a.addGroupCol(e)),n&&typeof b=="number"&&(n[e.getId()]=b)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,o),a.removeGroupCol(e)));const{value1:F,value2:R}=l("pivot","pivotIndex");(F!==void 0||R!==void 0)&&(typeof R=="number"||F?(e.isPivotActive()||(e.setPivotActive(!0,o),a.addPivotCol(e)),s&&typeof R=="number"&&(s[e.getId()]=R)):e.isPivotActive()&&(e.setPivotActive(!1,o),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(r=>{r.colId!=null&&t.push(r.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},r=this.columnGetStateService.getColumnState(),n={};return r.forEach(s=>{n[s.colId]=s}),()=>{const s=this.columnModel.getAllCols(),i=(y,w,b,F)=>{const R=w.map(F),E=b.map(F);if(Rl(R,E))return;const D=new Set(w);b.forEach(I=>{D.delete(I)||D.add(I)});const M=[...D];this.eventService.dispatchEvent({type:y,columns:M,column:M.length===1?M[0]:null,source:e})},o=y=>{const w=[];return s.forEach(b=>{const F=n[b.getColId()];F&&y(F,b)&&w.push(b)}),w},a=y=>y.getColId();i("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),i("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const u=o((y,w)=>{const b=y.aggFunc!=null,F=b!=w.isValueActive(),R=b&&y.aggFunc!=w.getAggFunc();return F||R});u.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",u,e);const f=(y,w)=>y.width!=w.getActualWidth();this.eventDispatcher.columnResized(o(f),!0,e);const p=(y,w)=>y.pinned!=w.getPinned();this.eventDispatcher.columnPinned(o(p),e);const g=(y,w)=>y.hide==w.isVisible();this.eventDispatcher.columnVisible(o(g),e);const S=o((y,w)=>y.sort!=w.getSort()||y.sortIndex!=w.getSortIndex());S.length>0&&this.sortController.dispatchSortChangedEvents(e,S),this.normaliseColumnMovedEventForColumnState(r,e)}}normaliseColumnMovedEventForColumnState(e,t){const r=this.columnGetStateService.getColumnState(),n={};r.forEach(l=>n[l.colId]=l);const s={};e.forEach(l=>{n[l.colId]&&(s[l.colId]=!0)});const i=e.filter(l=>s[l.colId]),o=r.filter(l=>s[l.colId]),a=[];o.forEach((l,u)=>{const f=i&&i[u];if(f&&f.colId!==l.colId){const p=this.columnModel.getCol(f.colId);p&&a.push(p)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},GD=(e,t,r,n)=>{const s=e[r.getId()],i=e[n.getId()],o=s!=null,a=i!=null;if(o&&a)return s-i;if(o)return-1;if(a)return 1;const l=t.indexOf(r),u=t.indexOf(n),f=l>=0,p=u>=0;return f&&p?l-u:f?-1:1},nte=class extends Ee{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,r){const n=this.columnModel.getCols();if(!n)return;const s=n[e];this.moveColumns([s],t,r)}moveColumns(e,t,r,n=!0){const s=this.columnModel.getCols();if(!s)return;if(t>s.length-e.length){Te("tried to insert columns in invalid location, toIndex = ",t),Te("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const i=this.columnModel.getColsForKeys(e);this.doesMovePassRules(i,t)&&(this.columnModel.moveInCols(i,t,r),this.eventDispatcher.columnMoved({movedColumns:i,source:r,toIndex:t,finished:n})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const r=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(r)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const n=this.columnModel.getCols().slice();return C_(n,e,t),n}doesMovePassLockedPositions(e){const t=i=>i?i==="left"||i===!0?-1:1:0,r=this.gos.get("enableRtl");let n=r?1:-1,s=!0;return e.forEach(i=>{const o=t(i.getColDef().lockPosition);r?o>n&&(s=!1):o<n&&(s=!1),n=o}),s}doesMovePassMarryChildren(e){let t=!0;const r=this.columnModel.getColTree();return ua(null,r,n=>{if(!Xn(n))return;const s=n,i=s.getColGroupDef();if(!(i&&i.marryChildren))return;const a=[];s.getLeafColumns().forEach(g=>{const C=e.indexOf(g);a.push(C)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),f=l-u,p=s.getLeafColumns().length-1;f>p&&(t=!1)}),t}placeLockedColumns(e){const t=[],r=[],n=[];return e.forEach(i=>{const o=i.getColDef().lockPosition;o==="right"?n.push(i):o==="left"||o===!0?t.push(i):r.push(i)}),this.gos.get("enableRtl")?[...n,...r,...t]:[...t,...r,...n]}},ste=/[&<>"']/g,ite={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function mo(e,t){if(e==null)return null;const r=e.toString().toString();return t?r:r.replace(ste,n=>ite[n])}function ote(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,r=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(r,"$1 $2$3").replace(/\./g," ").split(" ").map(s=>s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")).join(" ")}var ate=class extends Ee{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,r=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return r?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,r){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,r):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,r,n,s){const i=e.headerValueGetter;if(i){const o=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:r,providedColumnGroup:n,location:s});return typeof i=="function"?i(o):typeof i=="string"?this.expressionService.evaluate(i,o):(Te("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return ote(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const r=e.getColDef().pivotValueColumn,n=Le(r);let s=null,i;if(n){const o=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&o.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return t;s=r?r.getAggFunc():null,i=!0}else{const o=e.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();o&&a?(s=e.getAggFunc(),i=!0):i=!1}if(i){const o=typeof s=="string"?s:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${t})`}return t}},lte=class extends Ee{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){var e;za(this.context,(e=this.pivotResultCols)==null?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;const r=this.columnModel.getColDefCol(t);let n=null;return this.pivotResultCols.list.forEach(s=>{const i=s.getColDef().pivotKeys,o=s.getColDef().pivotValueColumn;Rl(i,e)&&o===r&&(n=s)}),n}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){var r,n;if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const s=this.columnFactory.createColumnTree(e,!1,((r=this.pivotResultCols)==null?void 0:r.tree)||this.previousPivotResultCols||void 0,t);za(this.context,(n=this.pivotResultCols)==null?void 0:n.tree,s.columnTree);const i=s.columnTree,o=s.treeDept,a=bb(i),l={};this.pivotResultCols={tree:i,treeDepth:o,list:a,map:l},this.pivotResultCols.list.forEach(f=>this.pivotResultCols.map[f.getId()]=f);const u=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!u)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),r=this.gos.get("processPivotResultColGroupDef");if(!t&&!r)return;const n=s=>{s.forEach(i=>{if(Le(i.children)){const a=i;r&&r(a),n(a.children)}else t&&t(i)})};e&&n(e)}},cte=class extends Ee{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,r,n){const s=[];e.forEach(i=>{const o=this.columnModel.getColDefCol(i.key)||this.columnModel.getCol(i.key);if(!o)return;if(s.push({width:i.newWidth,ratios:[1],columns:[o]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){const l=this.visibleColsService.getColAfter(o);if(!l)return;const u=o.getActualWidth()-i.newWidth,f=l.getActualWidth()+u;s.push({width:f,ratios:[1],columns:[l]})}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:r,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:r,source:n}=e;if(!(!t||t.every(f=>this.checkMinAndMaxWidthsForSet(f)))){if(r){const f=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(f,r,n)}return}const i=[],o=[];t.forEach(f=>{const{width:p,columns:g,ratios:C}=f,S={},y={};g.forEach(F=>o.push(F));let w=!0,b=0;for(;w;){if(b++,b>1e3){Yt("infinite loop in resizeColumnSets");break}w=!1;const F=[];let R=0,E=p;g.forEach((D,M)=>{if(y[D.getId()])E-=S[D.getId()];else{F.push(D);const _=C[M];R+=_}});const A=1/R;F.forEach((D,M)=>{const I=M===F.length-1;let _;I?_=E:(_=Math.round(C[M]*p*A),E-=_);const j=D.getMinWidth(),H=D.getMaxWidth();_<j?(_=j,y[D.getId()]=!0,w=!0):H>0&&_>H&&(_=H,y[D.getId()]=!0,w=!0),S[D.getId()]=_})}g.forEach(F=>{const R=S[F.getId()];F.getActualWidth()!==R&&(F.setActualWidth(R,n),i.push(F))})});const a=i.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(n),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const u=o.concat(l);(a||r)&&this.eventDispatcher.columnResized(u,r,n,l)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:r}=e;let n=0,s=0,i=!0;t.forEach(l=>{const u=l.getMinWidth();n+=u||0;const f=l.getMaxWidth();f>0?s+=f:i=!1});const o=r>=n,a=!i||r<=s;return o&&a}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const r=this.visibleColsService.getCenterCols();let n=-1;if(e.resizingCols){const g=new Set(e.resizingCols);for(let C=r.length-1;C>=0;C--)if(g.has(r[C])){n=C;break}}let s=0,i=[],o=0,a=0;for(let g=0;g<r.length;g++)r[g].getFlex()&&g>n?(i.push(r[g]),a+=r[g].getFlex(),o+=r[g].getMinWidth()):s+=r[g].getActualWidth();if(!i.length)return[];let l=[];s+o>this.flexViewportWidth&&(i.forEach(g=>g.setActualWidth(g.getMinWidth(),t)),l=i,i=[]);const u=[];let f;e:for(;;){f=this.flexViewportWidth-s;const g=f/a;for(let C=0;C<i.length;C++){const S=i[C],y=g*S.getFlex();let w=0;const b=S.getMinWidth(),F=S.getMaxWidth();if(y<b?w=b:y>F&&(w=F),w){S.setActualWidth(w,t),v_(i,S),a-=S.getFlex(),l.push(S),s+=S.getActualWidth();continue e}u[C]=Math.floor(y)}break}let p=f;return i.forEach((g,C)=>{const S=C<i.length-1?Math.min(u[C],p):Math.max(u[C],p);g.setActualWidth(S,t),l.push(g),p-=u[C]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,i),i}sizeColumnsToFit(e,t="sizeColumnsToFit",r,n){var g;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,r,n));return}const s={};n&&((g=n==null?void 0:n.columnLimits)==null||g.forEach(({key:C,...S})=>{s[typeof C=="string"?C:C.getColId()]=S}));const i=this.visibleColsService.getAllCols(),o=e===Ho(i);if(e<=0||!i.length||o)return;const a=[],l=[];i.forEach(C=>{C.getColDef().suppressSizeToFit===!0?l.push(C):a.push(C)});const u=a.slice(0);let f=!1;const p=C=>{as(a,C),l.push(C)};for(a.forEach(C=>{C.resetActualWidth(t);const S=s==null?void 0:s[C.getId()],y=(S==null?void 0:S.minWidth)??(n==null?void 0:n.defaultMinWidth),w=(S==null?void 0:S.maxWidth)??(n==null?void 0:n.defaultMaxWidth),b=C.getActualWidth();typeof y=="number"&&b<y?C.setActualWidth(y,t,!0):typeof w=="number"&&b>w&&C.setActualWidth(w,t,!0)});!f;){f=!0;const C=e-Ho(l);if(C<=0)a.forEach(S=>{var w;const y=((w=s==null?void 0:s[S.getId()])==null?void 0:w.minWidth)??(n==null?void 0:n.defaultMinWidth);if(typeof y=="number"){S.setActualWidth(y,t,!0);return}S.setMinimum(t)});else{const S=C/Ho(a);let y=C;for(let w=a.length-1;w>=0;w--){const b=a[w],F=s==null?void 0:s[b.getId()],R=(F==null?void 0:F.minWidth)??(n==null?void 0:n.defaultMinWidth),E=(F==null?void 0:F.maxWidth)??(n==null?void 0:n.defaultMaxWidth),A=b.getMinWidth(),D=b.getMaxWidth(),M=typeof R=="number"&&R>A?R:A,I=typeof E=="number"&&E<D?E:D;let _=Math.round(b.getActualWidth()*S);_<M?(_=M,p(b),f=!1):_>I?(_=I,p(b),f=!1):w===0&&(_=y),b.setActualWidth(_,t,!0),y-=_}}}u.forEach(C=>{C.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!r&&this.eventDispatcher.columnResized(u,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:r,defaultMinWidth:n,defaultMaxWidth:s}=e,i=r==null?void 0:r.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:s,columnLimits:i})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function E_(e,t){return e+"_"+t}function Ur(e){return e instanceof R_}var R_=class extends Ee{constructor(e,t,r,n){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=r,this.providedColumnGroup=e,this.pinned=n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return E_(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Ur(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=jt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{pl(t)?e.push(t):Ur(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{pl(t)?e.push(t):Ur(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(r=>{if(Ur(r)&&(!r.displayedChildren||!r.displayedChildren.length))return;switch(r.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(r);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(r);break;default:this.displayedChildren.push(r);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},F_=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let r;return typeof t!="number"?r=0:r=t+1,this.existingIds[e]=r,r}},ute=class extends Ee{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=IS(this.treeLeft),this.columnsCenter=IS(this.treeCenter),this.columnsRight=IS(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(r=>r.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=Ho(this.columnsCenter),t=Ho(this.columnsLeft),r=Ho(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==r)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=r,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,r;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,r=this.columnsRight?jt(this.columnsRight):null):(t=this.columnsLeft?jt(this.columnsLeft):null,r=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===r,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(i=>i.getPinned()=="left"),r=e.filter(i=>i.getPinned()=="right"),n=e.filter(i=>i.getPinned()!="left"&&i.getPinned()!="right"),s=new F_;this.treeLeft=this.createGroups({columns:t,idCreator:s,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:r,idCreator:s,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:n,idCreator:s,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],r=[],n=[];for(const s of e){const i=s.getPinned();i?i===!0||i==="left"?t.push(s):n.push(s):r.push(s)}this.ariaOrderColumns=t.concat(r).concat(n)}getAriaColIndex(e){let t;return Ur(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Ur(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const r=this.columnModel.getCols().slice(0),n=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(s=>{if(n){let i=Ho(s);s.forEach(o=>{i-=o.getActualWidth(),o.setLeft(i,e)})}else{let i=0;s.forEach(o=>{o.setLeft(i,e),i+=o.getActualWidth()})}Bee(r,s)}),r.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,r,n){const s=[];let i=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,u=Math.min(a.getColSpan(e),l),f=[a];if(u>1){const g=u-1;for(let C=1;C<=g;C++)f.push(t[o+C]);o+=g}let p;r?(p=!1,f.forEach(g=>{r(g)&&(p=!0)})):p=!0,p&&(s.length===0&&i&&(n&&n(a))&&s.push(i),s.push(a)),i=a}return s}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),r=t.indexOf(e);return r>0?t[r-1]:null}getGroupAtDirection(e,t){const r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),s=t==="After"?jt(n):n[0],i=`getCol${t}`;for(;;){const o=this[i](s);if(!o)return null;const a=this.getColGroupAtLevel(o,r);if(a!==e)return a}}getColGroupAtLevel(e,t){let r=e.getParent(),n,s;for(;n=r.getProvidedColumnGroup().getLevel(),s=r.getPaddingLevel(),!(n+s<=t);)r=r.getParent();return r}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};tc(this.treeCenter,!1,e),tc(this.treeLeft,!1,e),tc(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllTrees();tc(e,!1,t=>{Ur(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let r=0;r<t.length;r++){const n=this[t[r]]();if(n.length)return e?jt(n):n[0]}return null}getColumnGroup(e,t){if(!e)return null;if(Ur(e))return e;const r=this.getAllTrees(),n=typeof t=="number";let s=null;return tc(r,!1,i=>{if(Ur(i)){const o=i;let a;n?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(s=o)}}),s}getColAfter(e){const t=this.getAllCols(),r=t.indexOf(e);return r<t.length-1?t[r+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return Ho(this.columnsLeft)}getDisplayedColumnsRightWidth(){return Ho(this.columnsRight)}isColAtEdge(e,t){const r=this.getAllCols();if(!r.length)return!1;const n=t==="first";let s;if(Ur(e)){const i=e.getDisplayedLeafColumns();if(!i.length)return!1;s=n?i[0]:jt(i)}else s=e;return(n?r[0]:jt(r))===s}createGroups(e){const{columns:t,idCreator:r,pinned:n,oldDisplayedGroups:s,isStandaloneStructure:i}=e,o=this.mapOldGroupsById(s),a=[];let l=t;for(;l.length;){const u=l;l=[];let f=0;const p=g=>{const C=f;f=g;const S=u[C],w=(Ur(S)?S.getProvidedColumnGroup():S).getOriginalParent();if(w==null){for(let F=C;F<g;F++)a.push(u[F]);return}const b=this.createColGroup(w,r,o,n,i);for(let F=C;F<g;F++)b.addChild(u[F]);l.push(b)};for(let g=1;g<u.length;g++){const C=u[g],y=(Ur(C)?C.getProvidedColumnGroup():C).getOriginalParent(),w=u[f],F=(Ur(w)?w.getProvidedColumnGroup():w).getOriginalParent();y!==F&&p(g)}f<u.length&&p(u.length)}return i||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,r,n,s){const i=e.getGroupId(),o=t.getInstanceIdForKey(i),a=E_(i,o);let l=r[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),Le(l)?l.reset():(l=new R_(e,i,o,n),s||this.createBean(l)),l}mapOldGroupsById(e){const t={},r=n=>{n.forEach(s=>{if(Ur(s)){const i=s;t[s.getUniqueId()]=i,r(i.getChildren())}})};return e&&r(e),t}setupParentsIntoCols(e,t){e.forEach(r=>{if(r.setParent(t),Ur(r)){const n=r;this.setupParentsIntoCols(n.getChildren(),n)}})}};function tc(e,t,r){if(e)for(let n=0;n<e.length;n++){const s=e[n];if(Ur(s)){const i=t?s.getDisplayedChildren():s.getChildren();tc(i,t,r)}r(s)}}function IS(e){const t=[];return tc(e,!0,r=>{pl(r)&&t.push(r)}),t}var T_=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],dte=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],hte=[...T_,...dte],fte={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},On=class{};On.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];On.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];On.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];On.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];On.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];On.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];On.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];On.ALL_PROPERTIES=[...On.ARRAY_PROPERTIES,...On.OBJECT_PROPERTIES,...On.STRING_PROPERTIES,...On.NUMBER_PROPERTIES,...On.FUNCTION_PROPERTIES,...On.BOOLEAN_PROPERTIES,...On.OTHER_PROPERTIES];var Vf=On,mi=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};mi.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";mi.PUBLIC_EVENTS=T_;mi.EVENT_CALLBACKS=hte.map(e=>mi.getCallbackForEvent(e));mi.BOOLEAN_PROPERTIES=Vf.BOOLEAN_PROPERTIES;mi.ALL_PROPERTIES=Vf.ALL_PROPERTIES;mi.ALL_PROPERTIES_AND_CALLBACKS=[...mi.ALL_PROPERTIES,...mi.EVENT_CALLBACKS];mi.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(mi.ALL_PROPERTIES_AND_CALLBACKS);var Hf=mi;function pte(e,t){typeof e!="object"&&(e={});const r={...e};return Hf.ALL_PROPERTIES_AND_CALLBACKS.forEach(s=>{const i=t[s];typeof i<"u"&&i!==Hf.VUE_OMITTED_PROPERTY&&(r[s]=i)}),r}function gte(e,t){if(!e)return;const r={};let n=!1;if(Object.keys(e).filter(o=>Hf.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{r[o]=e[o],n=!0}),!n)return;const s={type:"gridOptionsChanged",options:r};t.dispatchEvent(s);const i={type:"componentStateChanged"};Bi(r,(o,a)=>{i[o]=a}),t.dispatchEvent(i)}var $d=class extends Ee{};function Rp(e,t,r){return r&&e.addDestroyFunc(()=>t.destroyBean(r)),r??e}var Fp=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.addCssClass(n));return}if(this.cssClassStates[e]!==!0&&e.length){const n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.removeCssClass(n));return}if(this.cssClassStates[e]!==!1&&e.length){const n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(s=>this.addOrRemoveCssClass(s,t));return}}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}};function pa(e,t,r){r==null||typeof r=="string"&&r==""?P_(e,t):Eo(e,t,r)}function Eo(e,t,r){e.setAttribute(A_(t),r.toString())}function P_(e,t){e.removeAttribute(A_(t))}function A_(e){return`aria-${e}`}function Ki(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function mte(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function vte(e){return e.getAttribute("aria-label")}function Fd(e,t){pa(e,"label",t)}function Wf(e,t){pa(e,"labelledby",t)}function D_(e,t){pa(e,"live",t)}function Cte(e,t){pa(e,"atomic",t)}function yte(e,t){pa(e,"relevant",t)}function Ste(e,t){pa(e,"disabled",t)}function M_(e,t){pa(e,"hidden",t)}function Fv(e,t){Eo(e,"expanded",t)}function wte(e,t){Eo(e,"setsize",t)}function xte(e,t){Eo(e,"posinset",t)}function bte(e,t){Eo(e,"rowcount",t)}function Ete(e,t){Eo(e,"rowindex",t)}function Rte(e,t){Eo(e,"colcount",t)}function N_(e,t){Eo(e,"colindex",t)}function Fte(e,t){Eo(e,"colspan",t)}function Tte(e,t){Eo(e,"sort",t)}function Pte(e){P_(e,"sort")}function Tv(e,t){pa(e,"selected",t)}function Ate(e,t){pa(e,"controls",t.id),Wf(t,e.id)}function Fb(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Dte="[tabindex], input, select, button, textarea, [href]",I_="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Tb(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),s=t.call(e,I_),i=Co(e);return n&&!s&&i}function Pr(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-hidden",!t),n||M_(e,!t)}function Mte(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-invisible",!t),n||M_(e,!t)}function Uf(e,t){const r="disabled",n=t?s=>s.setAttribute(r,""):s=>s.removeAttribute(r);n(e),__(e.querySelectorAll("input"),s=>n(s))}function ed(e,t,r){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof r=="number"){if(++n>r)break}else if(e===r)break}return!1}function $c(e){const{height:t,width:r,borderTopWidth:n,borderRightWidth:s,borderBottomWidth:i,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:f,marginTop:p,marginRight:g,marginBottom:C,marginLeft:S,boxSizing:y}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(r||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(s||"0"),borderBottomWidth:parseFloat(i||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(f||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(g||"0"),marginBottom:parseFloat(C||"0"),marginLeft:parseFloat(S||"0"),boxSizing:y}}function Pb(e){const t=$c(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Tp(e){const t=$c(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function O_(e){const{height:t,marginBottom:r,marginTop:n}=$c(e);return Math.floor(t+r+n)}function Pv(e){const{width:t,marginLeft:r,marginRight:n}=$c(e);return Math.floor(t+r+n)}function k_(e){const t=e.getBoundingClientRect(),{borderTopWidth:r,borderLeftWidth:n,borderRightWidth:s,borderBottomWidth:i}=$c(e);return{top:t.top+(r||0),left:t.left+(n||0),right:t.right+(s||0),bottom:t.bottom+(i||0)}}function Av(e,t){let r=e.scrollLeft;return t&&(r=Math.abs(r)),r}function Dv(e,t,r){r&&(t*=-1),e.scrollLeft=t}function qs(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Ic(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function L_(e){return!!e.offsetParent}function Co(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!L_(e)||window.getComputedStyle(e).visibility!=="visible")}function $f(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Nte(e){return e.clientWidth<e.scrollWidth}function Ite(e){return e.clientHeight<e.scrollHeight}function Mv(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Wi(e,t)}function Wi(e,t){t=Ab(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function ff(e,t){t=Ab(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function Ab(e){return typeof e=="number"?`${e}px`:e}function Db(e){return e instanceof Node||e instanceof HTMLElement}function Ote(e){if(e==null)return[];const t=[];return __(e,r=>t.push(r)),t}function kte(e,t){if(e)for(let r=0;r<e.length;r++){const n=e[r];t(n.name,n.value)}}function vi(e,t,r){r==null||r===""?e.removeAttribute(t):e.setAttribute(t,r.toString())}function __(e,t){if(e!=null)for(let r=0;r<e.length;r++)t(e[r])}var Td=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},OS,gm,kS,LS,_S,jS,px,gx,BS;function da(){return OS===void 0&&(OS=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),OS}function j_(){if(gm===void 0)if(da()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(gm=e[1]!=null?parseFloat(e[1]):0)}else gm=0;return gm}function Lte(){if(kS===void 0){const e=window;kS=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return kS}function Mb(){return LS===void 0&&(LS=/(firefox)/i.test(navigator.userAgent)),LS}function B_(){return _S===void 0&&(_S=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),_S}function Fl(){return jS===void 0&&(jS=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),jS}function VD(){return!da()||j_()>=15}function mx(e){if(!e)return null;const t=e.tabIndex,r=e.getAttribute("tabIndex");return t===-1&&(r===null||r===""&&!Mb())?null:t.toString()}function _te(){if(BS!==void 0)return BS;if(!document.body)return-1;let e=1e6;const t=Mb()?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){const n=e*2;if(r.style.height=n+"px",n>t||r.clientHeight!==n)break;e=n}return document.body.removeChild(r),BS=e,e}function jte(){var e,t;return((e=document.body)==null?void 0:e.clientWidth)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientWidth)||-1)}function Bte(){var e,t;return((e=document.body)==null?void 0:e.clientHeight)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientHeight)||-1)}function Gte(){return gx==null&&G_(),gx}function G_(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let r=t.offsetWidth-t.clientWidth;r===0&&t.clientWidth===0&&(r=null),t.parentNode&&t.parentNode.removeChild(t),r!=null&&(gx=r,px=r===0)}function V_(){return px==null&&G_(),px}var Vte=1e3,Hte=1e3,HD=100,H_=class Xl extends Ee{constructor(t,r,n,s){super(),this.parentComp=t,this.tooltipShowDelayOverride=r,this.tooltipHideDelayOverride=n,this.shouldDisplayTooltip=s,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const r=this.gos.get(t);return r<0&&Te(`${t} should not be lower than 0`),Math.max(200,r)}getTooltipDelay(t){return t==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Fl()&&(Xl.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},HD):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var i;const r=t.relatedTarget,n=this.parentComp.getGui(),s=(i=this.tooltipComp)==null?void 0:i.getGui();this.isInteractingWithTooltip||n.contains(r)||this.interactionEnabled&&(s!=null&&s.contains(r))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||Xl.isLocked)return;let r=0;t&&(r=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),r=Xl.lastTooltipHideTime;return t-r<Vte}setToDoNothing(t){!t&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!Le(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(r)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),Xl.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,r){if(this.state!==2||this.tooltipInstanceCount!==t){this.destroyBean(r);return}const s=r.getGui();this.tooltipComp=r,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&s.classList.add("ag-tooltip-animate"),this.interactionEnabled&&s.classList.add("ag-tooltip-interactive");const i=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:s,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(s,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(jr(this.gos),{keydown:a=>{s.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(s,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:s,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var n;const t=(n=this.tooltipComp)==null?void 0:n.getGui(),r=Dr(this.gos);return!!t&&t.contains(r)}onTooltipFocusOut(t){const r=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,r.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,r=this.tooltipComp,n=this.tooltipTrigger===0?Hte:0;window.setTimeout(()=>{t(),this.destroyBean(r)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Xl.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},HD)}unlockService(){Xl.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};H_.isLocked=!1;var Wte=H_,zd=class extends Ee{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",r=this.ctrl.getGui();r&&(e!=null&&e!=""?r.setAttribute(t,e):r.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,r,n,s;if(this.tooltipManager!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new Wte(e,(r=(t=this.ctrl).getTooltipShowDelayOverride)==null?void 0:r.call(t),(s=(n=this.ctrl).getTooltipHideDelayOverride)==null?void 0:s.call(n),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var s,i,o,a,l;const e=this.ctrl,t=(s=e.getColumn)==null?void 0:s.call(e),r=(i=e.getColDef)==null?void 0:i.call(e),n=(o=e.getRowNode)==null?void 0:o.call(e);return{location:e.getLocation(),colDef:r,column:t,rowIndex:(a=e.getRowIndex)==null?void 0:a.call(e),node:n,data:n==null?void 0:n.data,value:this.getTooltipText(),valueFormatted:(l=e.getValueFormatted)==null?void 0:l.call(e),hideTooltipCallback:()=>{var u;return(u=this.tooltipManager)==null?void 0:u.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},Ute=new Td,pt=null,dr=class W_ extends Ee{constructor(t,r){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=Ute.next(),this.cssClassManager=new Fp(()=>this.eGui),this.componentSelectors=new Map((r??[]).map(n=>[n.selector,n])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,r){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,r))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:r,showDelayOverride:n,hideDelayOverride:s,location:i,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==r&&(this.tooltipText=r);const a=()=>this.tooltipText;r!=null&&(this.tooltipFeature=this.createBean(new zd({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>i??"UNKNOWN",getColDef:t==null?void 0:t.getColDef,getColumn:t==null?void 0:t.getColumn,getTooltipShowDelayOverride:n!=null?()=>n:void 0,getTooltipHideDelayOverride:s!=null?()=>s:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,r,n,s=null){if(r===void 0&&(r=this.getDataRefAttribute(t)),r){const i=this[r];if(i===pt)this[r]=s??t;else{const o=n&&n[r];!this.suppressDataRefValidation&&!o&&Te(`Issue with data-ref: ${r} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(t,r){Ote(t.childNodes).forEach(s=>{if(!(s instanceof HTMLElement))return;const i=this.createComponentFromElement(s,o=>{o.getGui()&&this.copyAttributesFromNode(s,o.getGui())},r);if(i){if(i.addItems&&s.children.length){this.createChildComponentsFromTags(s,r);const o=Array.prototype.slice.call(s.children);i.addItems(o)}this.swapComponentForNode(i,t,s)}else s.childNodes&&this.createChildComponentsFromTags(s,r)})}createComponentFromElement(t,r,n){const s=t.nodeName,i=this.getDataRefAttribute(t),o=s.indexOf("AG-")===0,a=o?this.componentSelectors.get(s):null;let l=null;if(a){W_.elementGettingCreated=t;const u=n&&i?n[i]:void 0;l=new a.component(u),l.setParentComponent(this),this.createBean(l,null,r)}else o&&Te(`Missing selector: ${s}`);return this.applyElementsToComponent(t,i,n,l),l}copyAttributesFromNode(t,r){kte(t.attributes,(n,s)=>r.setAttribute(n,s))}swapComponentForNode(t,r,n){const s=t.getGui();r.replaceChild(s,n),r.insertBefore(document.createComment(n.nodeName),s),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const r=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(n=>n.setAttribute("tabindex",r.toString()))}setTemplate(t,r,n){const s=$f(t);this.setTemplateFromElement(s,r,n)}setTemplateFromElement(t,r,n,s=!1){if(this.eGui=t,this.suppressDataRefValidation=s,r)for(let i=0;i<r.length;i++){const o=r[i];this.componentSelectors.set(o.selector,o)}this.wireTemplate(t,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,r){let n=r;return t==null?null:(n||(n=this.eGui),Db(t)?{element:t,parent:n}:{element:t.getGui(),parent:n})}prependChild(t,r){const{element:n,parent:s}=this.getContainerAndElement(t,r)||{};!n||!s||s.insertAdjacentElement("afterbegin",n)}appendChild(t,r){const{element:n,parent:s}=this.getContainerAndElement(t,r)||{};!n||!s||s.appendChild(n)}isDisplayed(){return this.displayed}setVisible(t,r={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:n}=r;Mte(this.eGui,t,{skipAriaHidden:n})}}setDisplayed(t,r={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:n}=r;Pr(this.eGui,t,{skipAriaHidden:n});const s={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(s)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,r,n){this.eGui.addEventListener(t,r,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,r))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,r){this.cssClassManager.addOrRemoveCssClass(t,r)}},U_={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},$te=(()=>{const e=new Set(Object.values(U_));return e.add("eye"),e})();function zte(e,t,r){const n=Vs(e,t,r);if(n){const{className:i}=n;if(typeof i=="string"&&i.indexOf("ag-icon")>-1||typeof i=="object"&&i["ag-icon"])return n}const s=document.createElement("span");return s.appendChild(n),s}function Vs(e,t,r,n){let s=null;const i=r&&r.getColDef().icons;if(i&&(s=i[e]),t&&!s){const o=t.get("icons");o&&(s=o[e])}if(s){let o;if(typeof s=="function")o=s();else if(typeof s=="string")o=s;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return $f(o);if(Db(o))return o;Te("iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=U_[e]??($te.has(e)?e:void 0);return a||(Te(`Did not find icon ${e}`),a=""),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),Ki(o,"presentation"),o}}var Kte=class extends dr{constructor(){super(...arguments),this.dragSource=null,this.eIcon=pt,this.eLabel=pt}postConstruct(){const e=t=>zte(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t=!1){var n,s;qs(this.eIcon);let r=null;e||(e=(n=this.dragSource)!=null&&n.getDefaultIconName?(s=this.dragSource)==null?void 0:s.getDefaultIconName():"notAllowed"),r=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),!(r===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&r&&this.eIcon.appendChild(r)}setLabel(e){this.eLabel.textContent=mo(e)}};function $_(e,t,r){if(r===0)return!1;const n=Math.abs(e.clientX-t.clientX),s=Math.abs(e.clientY-t.clientY);return Math.max(n,s)<=r}var ol=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Wd,this.eElement=e,this.preventMouseClick=t;const r=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",r,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const r=this.touchStart===t;if(this.touching&&r&&!this.moved){this.moved=!0;const n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!$_(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const r={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function $h(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var qte=`<span class="ag-sort-indicator-container">
        ${$h("Order","order")}
        ${$h("Asc","ascending-icon")}
        ${$h("Desc","descending-icon")}
        ${$h("Mixed","mixed-icon")}
        ${$h("None","none-icon")}
    </span>`,Nb=class extends dr{constructor(e){super(),this.eSortOrder=pt,this.eSortAsc=pt,this.eSortDesc=pt,this.eSortMixed=pt,this.eSortNone=pt,e||this.setTemplate(qte)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,r,n,s){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=r,this.eSortMixed=n,this.eSortNone=s}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const r=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",r),this.addManagedEventListeners({newColumnsLoaded:r,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,r){if(t==null)return;const n=Vs(e,this.gos,r);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";Pr(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";Pr(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),r=e==null;Pr(this.eSortNone,!t&&r,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;lo(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Pr(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,r=e.some(s=>this.sortController.getDisplaySortIndexForColumn(s)??!1),n=t>=0&&r;Pr(this.eSortOrder,n,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():qs(this.eSortOrder)}},Yte={selector:"AG-SORT-INDICATOR",component:Nb},Qte=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,vx=class extends dr{constructor(){super(...arguments),this.eFilter=pt,this.eFilterButton=pt,this.eSortIndicator=pt,this.eMenu=pt,this.eLabel=pt,this.eText=pt,this.eSortOrder=pt,this.eSortAsc=pt,this.eSortDesc=pt,this.eSortMixed=pt,this.eSortNone=pt,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??Qte;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[Yte]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=mo(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,r){if(t==null)return;const n=Vs(e,this.gos,r);n&&t.appendChild(n)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new ol(this.getGui(),!0),r=this.shouldSuppressMenuHide(),n=r&&Le(this.eMenu),s=n?new ol(this.eMenu,!0):t;if(this.params.enableMenu){const i=n?"tap":"longTap",o=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(s,{[i]:o})}if(this.params.enableSorting){const i=o=>{var l,u;const a=o.touchStart.target;r&&((l=this.eMenu)!=null&&l.contains(a)||(u=this.eFilterButton)!=null&&u.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:i})}if(this.params.enableFilterButton){const i=new ol(this.eFilterButton,!0);this.addManagedListeners(i,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>i.destroy())}this.addDestroyFunc(()=>t.destroy()),n&&this.addDestroyFunc(()=>s.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Ic(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,r=this.menuService.isLegacyMenuEnabled();if(e&&!r){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new Nb(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{const r=this.params.column.isMoving(),s=new Date().getTime()-this.lastMovingChanged<50;if(!(r||s)){const a=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(a)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const r=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),s=!(r==null?void 0:r.every(i=>this.params.column.getSort()==i.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",s)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,r){if(!e)return Ic(t),!1;const n=this.params.column;return this.addInIcon("filter",t,n),this.addManagedListeners(n,{filterChanged:r}),r(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Pr(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},Xte=class extends dr{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=pt,this.agClosed=pt,this.agLabel=pt}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&Te("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=s=>{if(Zo(s))return;const i=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),i,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=s=>{Ed(s)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const r=this.params.columnGroup.getProvidedColumnGroup(),n=this.updateIconVisibility.bind(this);this.addManagedListeners(r,{expandedChanged:n,expandableChanged:n})}addTouchAndClickListeners(e,t){const r=new ol(e,!0);this.addManagedListeners(r,{tap:t}),this.addDestroyFunc(()=>r.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();Pr(this.agOpened,t),Pr(this.agClosed,!t)}else Pr(this.agOpened,!1),Pr(this.agClosed,!1)}addInIcon(e,t){const r=Vs(e,this.gos,null);r&&t.appendChild(r)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Pr(this.agOpened,!1),Pr(this.agClosed,!1);return}}setupLabel(){var r;const{displayName:e,columnGroup:t}=this.params;if(Le(e)){const n=mo(e,!0);this.agLabel.textContent=n}this.addOrRemoveCssClass("ag-sticky-label",!((r=t.getColGroupDef())!=null&&r.suppressStickyLabel))}},Zte="",Jte="",ere=class extends dr{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const r=document.createElement("span");r.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(r),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const r=Math.abs(t),n=e.formatValue(r),s=Le(n)?n:r,i=t>=0;i?this.eDelta.textContent=Zte+s:this.eDelta.textContent=Jte+s,this.eDelta.classList.toggle("ag-value-change-delta-up",i),this.eDelta.classList.toggle("ag-value-change-delta-down",!i)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),qs(this.eDelta)}refresh(e,t=!1){var n;const r=e.value;if(r===this.lastValue||(Le(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:Le(e.value)?this.eValue.textContent=r:qs(this.eValue),(n=this.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof r=="number"&&typeof this.lastValue=="number"){const s=r-this.lastValue;this.showDelta(e,s)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=r,!0}},tre=class extends dr{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var n;let r=e.value;return Bt(r)&&(r=""),r===this.lastValue||(n=this.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=r,Le(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:Le(e.value)?this.eCurrent.textContent=r:qs(this.eCurrent),!0)}},ve=class{};ve.BACKSPACE="Backspace";ve.TAB="Tab";ve.ENTER="Enter";ve.ESCAPE="Escape";ve.SPACE=" ";ve.LEFT="ArrowLeft";ve.UP="ArrowUp";ve.RIGHT="ArrowRight";ve.DOWN="ArrowDown";ve.DELETE="Delete";ve.F2="F2";ve.PAGE_UP="PageUp";ve.PAGE_DOWN="PageDown";ve.PAGE_HOME="Home";ve.PAGE_END="End";ve.A="KeyA";ve.C="KeyC";ve.D="KeyD";ve.V="KeyV";ve.X="KeyX";ve.Y="KeyY";ve.Z="KeyZ";var rre=class extends dr{constructor(e,t,r){super(t,r),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:r,labelAlignment:n,disabled:s}=this.config;s!=null&&this.setDisabled(s),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),r!=null&&this.setLabelWidth(r),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){qs(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Pr(this.eLabel,!1),Ki(this.eLabel,"presentation")):(Pr(this.eLabel,!0),Ki(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const r=this.getGui().classList;return r.toggle("ag-label-align-left",e==="left"),r.toggle("ag-label-align-right",e==="right"),r.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Mv(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Uf(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},z_=class extends rre{constructor(e,t,r,n){super(e,t,r),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:r}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),r!=null&&this.onValueChange(r),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),r=this.getLabel();r==null||r==""||vte(e)!==null?Wf(e,""):Wf(e,t??"")}setAriaLabel(e){return Fd(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Wi(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},oc=class extends z_{constructor(e,t,r="text",n="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,[],t),this.inputType=r,this.displayFieldTag=n,this.eLabel=pt,this.eWrapper=pt,this.eInput=pt}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Mv(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return vi(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Fd(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Uf(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)vi(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";vi(this.eInput,"autocomplete",t)}return this}},Ib=class extends oc{constructor(e,t="ag-checkbox",r="checkbox"){super(e,t,r),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,r){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:r});const n=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},Ob={selector:"AG-CHECKBOX",component:Ib},nre=class extends dr{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Ob]),this.eCheckbox=pt}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),D_(t,"polite"),this.addManagedListeners(t,{click:r=>{if(Ed(r),this.eCheckbox.isDisabled())return;const n=this.eCheckbox.getValue();this.onCheckboxChanged(n)},dblclick:r=>{Ed(r)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:r=>{if(r.key===ve.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Dr(this.gos)&&this.eCheckbox.toggle();const n=this.eCheckbox.getValue();this.onCheckboxChanged(n),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var a;let t,r=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")t=e.value;else{const l=e.column.getColId();l.startsWith(I0)?t=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[l]!==void 0?t=e.value??void 0:r=!1}else t=e.value??void 0;if(!r){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(t);const n=e.disabled!=null?e.disabled:!((a=e.column)!=null&&a.isCellEditable(e.node));this.eCheckbox.setDisabled(n);const s=this.localeService.getLocaleTextFunc(),i=Fb(s,t),o=n?i:`${s("ariaToggleCellValue","Press SPACE to toggle cell value")} (${i})`;this.eCheckbox.setInputAriaLabel(o)}onCheckboxChanged(e){const{column:t,node:r,value:n}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t==null?void 0:t.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:n});const s=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t==null?void 0:t.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:n,oldValue:n,newValue:e,valueChanged:s}),s||this.updateCheckbox(this.params)}},sre=class extends dr{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=pt,this.eLoadingText=pt}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=Vs("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},ire=class extends dr{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>Wf(e.eParentOfValue)),Wf(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");Fd(this.getGui(),t)}setupLoading(e){const r=jr(this.gos).createElement("div");r.classList.add("ag-skeleton-effect");const n=e.node.rowIndex;if(n!=null){const o=75+25*(n%2===0?Math.sin(n):Math.cos(n));r.style.width=`${o}%`}this.getGui().appendChild(r);const i=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Fd(this.getGui(),i)}refresh(e){return!1}destroy(){super.destroy()}},K_=class extends dr{constructor(){super()}destroy(){super.destroy()}},ore=class extends K_{init(){var t;const e=Xo((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("loadingOoo","Loading...")})}}},are=class extends K_{init(){var t;const e=Xo((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("noRowsToShow","No Rows To Show")})}}},Kd=class extends dr{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},lre=class extends Kd{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=mo(t,!0)}};function q_(e){const{inputValue:t,allSuggestions:r,hideIrrelevant:n,filterByPercentageOfBestMatch:s,addSequentialWeight:i}=e;let o=r.map((u,f)=>({value:u,relevance:ure(t.toLowerCase(),u.toLocaleLowerCase(),i),idx:f}));if(o.sort((u,f)=>f.relevance-u.relevance),n&&(o=o.filter(u=>u.relevance!==0)),o.length>0&&s&&s>0){const f=o[0].relevance*s;o=o.filter(p=>f-p.relevance<0)}const a=[],l=[];for(const u of o)a.push(u.value),l.push(u.idx);return{values:a,indices:l}}function cre(e){const t=[],r=e.length;for(let n=1;n<=r;n++)for(let s=0;s<=r-n;s++){const i=s+n-1;t.push(e.slice(s,i+1))}return t}function ure(e,t,r=!1){const n=e.replace(/\s/g,""),s=t.replace(/\s/g,""),i=n.length,o=s.length,a=new Array(i+1).fill(null).map(()=>new Array(o+1).fill(0));for(let p=0;p<=i;p+=1)a[p][0]=p;for(let p=0;p<=o;p+=1)a[0][p]=p;for(let p=1;p<=i;p++)for(let g=1;g<=o;g++)n[p-1]===s[g-1]?a[p][g]=a[p-1][g-1]:a[p][g]=1+Math.min(a[p][g-1],Math.min(a[p-1][g],a[p-1][g-1]));const l=a[i][o];let f=Math.max(i,o)-l;if(r){const p=cre(n);for(let g=0;g<p.length;g++){const C=p[g];s.indexOf(C)!==-1&&(f+=1,f*=C.length)}}return f}var dre=class extends Ee{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:Kte,agColumnHeader:vx,agColumnGroupHeader:Xte,agSortIndicator:Nb,agAnimateShowChangeCellRenderer:ere,agAnimateSlideCellRenderer:tre,agLoadingCellRenderer:sre,agSkeletonCellRenderer:ire,agCheckboxCellRenderer:nre,agLoadingOverlay:ore,agNoRowsOverlay:are,agTooltipComponent:lre},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");e!=null&&Bi(e,(t,r)=>this.registerJsComponent(t,r))}registerDefaultComponent(e,t,r){this.agGridDefaults[e]=t,r&&(this.agGridDefaultParams[e]=r)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const r=(a,l,u)=>({componentFromFramework:l,component:a,params:u}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(n!=null)return r(n,!0);const s=this.jsComps[t];if(s){const a=this.getFrameworkOverrides().isFrameworkComponent(s);return r(s,a)}const i=this.agGridDefaults[t];if(i)return r(i,!1,this.agGridDefaultParams[t]);const o=this.enterpriseAgDefaultCompsModule[t];return o?this.gos.assertModuleRegistered(o,`AG Grid '${e}' component: ${t}`):yb(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const r=[...Object.keys(this.agGridDefaults).filter(s=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)),...Object.keys(this.jsComps)],n=q_({inputValue:t,allSuggestions:r,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;Te(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),n.length>0&&Te(`         Did you mean: [${n.slice(0,3)}]?`),Te(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},_r=class nf{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(r=>this.onDone(r),r=>this.onReject(r))}static all(t){return t.length?new nf(r=>{let n=t.length;const s=new Array(n);t.forEach((i,o)=>{i.then(a=>{s[o]=a,n--,n===0&&r(s)})})}):nf.resolve()}static resolve(t=null){return new nf(r=>r(t))}then(t){return new nf(r=>{this.status===1?r(t(this.resolution)):this.waiters.push(n=>r(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(r=>r(t))}onReject(t){}},hre={propertyName:"dateComponent",cellRenderer:!1},fre={propertyName:"dragAndDropImageComponent",cellRenderer:!1},pre={propertyName:"headerComponent",cellRenderer:!1},gre={propertyName:"headerGroupComponent",cellRenderer:!1},WD={propertyName:"cellRenderer",cellRenderer:!0},mre={propertyName:"cellRenderer",cellRenderer:!1},vre={propertyName:"loadingCellRenderer",cellRenderer:!0},Cre={propertyName:"cellEditor",cellRenderer:!1},UD={propertyName:"innerRenderer",cellRenderer:!0},yre={propertyName:"loadingOverlayComponent",cellRenderer:!1},Sre={propertyName:"noRowsOverlayComponent",cellRenderer:!1},wre={propertyName:"tooltipComponent",cellRenderer:!1},kb={propertyName:"filter",cellRenderer:!1},xre={propertyName:"floatingFilterComponent",cellRenderer:!1},bre={propertyName:"toolPanel",cellRenderer:!1},Ere={propertyName:"statusPanel",cellRenderer:!1},Rre={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Fre={propertyName:"loadingCellRenderer",cellRenderer:!0},Tre={propertyName:"groupRowRenderer",cellRenderer:!0},Pre={propertyName:"detailCellRenderer",cellRenderer:!0},Are={propertyName:"menuItem",cellRenderer:!1},Y_=class Q_ extends Ee{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,fre,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,r){return this.getCompDetails(t,pre,"agColumnHeader",r)}getHeaderGroupCompDetails(t){const r=t.columnGroup.getColGroupDef();return this.getCompDetails(r,gre,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,Rre,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,Fre,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,Tre,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,Pre,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,r){return this.getCompDetails(t,UD,null,r)}getFullWidthGroupRowInnerCellRenderer(t,r){return this.getCompDetails(t,UD,null,r)}getCellRendererDetails(t,r){return this.getCompDetails(t,WD,null,r)}getEditorRendererDetails(t,r){return this.getCompDetails(t,mre,null,r)}getLoadingCellRendererDetails(t,r){return this.getCompDetails(t,vre,"agSkeletonCellRenderer",r,!0)}getCellEditorDetails(t,r){return this.getCompDetails(t,Cre,"agCellEditor",r,!0)}getFilterDetails(t,r,n){return this.getCompDetails(t,kb,n,r,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,hre,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,yre,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,Sre,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,wre,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,r){return this.getCompDetails(t,WD,null,r)}getFloatingFilterCompDetails(t,r,n){return this.getCompDetails(t,xre,n,r)}getToolPanelCompDetails(t,r){return this.getCompDetails(t,bre,null,r,!0)}getStatusPanelCompDetails(t,r){return this.getCompDetails(t,Ere,null,r,!0)}getMenuItemCompDetails(t,r){return this.getCompDetails(t,Are,"agMenuItem",r,!0)}getCompDetails(t,r,n,s,i=!1){const{propertyName:o,cellRenderer:a}=r;let{compName:l,jsComp:u,fwComp:f,paramsFromSelector:p,popupFromSelector:g,popupPositionFromSelector:C}=Q_.getCompKeys(this.frameworkOverrides,t,r,s),S;const y=R=>{const E=this.userComponentRegistry.retrieve(o,R);E&&(u=E.componentFromFramework?void 0:E.component,f=E.componentFromFramework?E.component:void 0,S=E.params)};if(l!=null&&y(l),u==null&&f==null&&n!=null&&y(n),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(o,u)),!u&&!f){i&&Yt(`Could not find component ${l}, did you forget to configure this component?`);return}const w=this.mergeParamsWithApplicationProvidedParams(t,r,s,p,S),b=u==null,F=u||f;return{componentFromFramework:b,componentClass:F,params:w,type:r,popupFromSelector:g,popupPositionFromSelector:C,newAgStackInstance:()=>this.newAgStackInstance(F,b,w,r)}}static getCompKeys(t,r,n,s){const{propertyName:i}=n;let o,a,l,u,f,p;if(r){const g=r,C=g[i+"Selector"],S=C?C(s):null,y=w=>{typeof w=="string"?o=w:w!=null&&w!==!0&&(t.isFrameworkComponent(w)?l=w:a=w)};S?(y(S.component),u=S.params,f=S.popup,p=S.popupPosition):y(g[i])}return{compName:o,jsComp:a,fwComp:l,paramsFromSelector:u,popupFromSelector:f,popupPositionFromSelector:p}}newAgStackInstance(t,r,n,s){const i=s.propertyName,o=!r;let a;if(o)a=new t;else{const u=this.componentMetadataProvider.retrieve(i);a=this.frameworkComponentWrapper.wrap(t,u.mandatoryMethodList,u.optionalMethodList,s)}const l=this.initComponent(a,n);return l==null?_r.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,r,n,s=null,i){const o=this.gos.getGridCommonParams();is(o,n),i&&is(o,i);const a=t,l=a&&a[r.propertyName+"Params"];if(typeof l=="function"){const u=l(n);is(o,u)}else typeof l=="object"&&is(o,l);return is(o,s),o}initComponent(t,r){if(this.createBean(t),t.init!=null)return t.init(r)}};function pf(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var k0=class Kt{static register(t){Kt.__register(t,!0,void 0)}static registerModules(t){Kt.__registerModules(t,!0,void 0)}static __register(t,r,n){Kt.runVersionChecks(t),n!==void 0?(Kt.areGridScopedModules=!0,Kt.gridModulesMap[n]===void 0&&(Kt.gridModulesMap[n]={}),Kt.gridModulesMap[n][t.moduleName]=t):Kt.globalModulesMap[t.moduleName]=t,Kt.setModuleBased(r)}static __unRegisterGridModules(t){delete Kt.gridModulesMap[t]}static __registerModules(t,r,n){Kt.setModuleBased(r),t&&t.forEach(s=>Kt.__register(s,r,n))}static isValidModuleVersion(t){const[r,n]=t.version.split(".")||[],[s,i]=Kt.currentModuleVersion.split(".")||[];return r===s&&n===i}static runVersionChecks(t){Kt.currentModuleVersion||(Kt.currentModuleVersion=t.version);const r=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(t.version?Kt.isValidModuleVersion(t)||Yt(r(`'${t.moduleName}' is version ${t.version} but the other modules are version ${Kt.currentModuleVersion}.`)):Yt(r(`'${t.moduleName}' is incompatible.`)),t.validate){const n=t.validate();n.isValid||Yt(`${n.message}`)}}static setModuleBased(t){Kt.moduleBased===void 0?Kt.moduleBased=t:Kt.moduleBased!==t&&(Yt("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),Yt("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){Kt.isBundled=!0}static __assertRegistered(t,r,n){var i;if(this.__isRegistered(t,n))return!0;let s;if(Kt.isBundled)s=`AG Grid: unable to use ${r} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(Kt.moduleBased||Kt.moduleBased===void 0){const o=(i=Object.entries(a_).find(([a,l])=>l===t))==null?void 0:i[0];s=`AG Grid: unable to use ${r} as the ${o} is not registered${Kt.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${o} } from '${t}';
    
    ModuleRegistry.registerModules([ ${o} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else s=`AG Grid: unable to use ${r} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return Yt(s),!1}static __isRegistered(t,r){var n;return!!Kt.globalModulesMap[t]||!!((n=Kt.gridModulesMap[r])!=null&&n[t])}static __getRegisteredModules(t){return[...Um(Kt.globalModulesMap),...Um(Kt.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return Um(Kt.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!Kt.moduleBased}};k0.globalModulesMap={};k0.gridModulesMap={};k0.areGridScopedModules=!1;var co=k0,Dre=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;Object.entries(e.providedBeanInstances).forEach(([r,n])=>{this.beans[r]=n}),e.beanClasses.forEach(r=>{const n=new r;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${r.name} is missing beanName`),this.createdBeans.push(n)}),(t=e.derivedBeans)==null||t.forEach(r=>{const{beanName:n,bean:s}=r(this);this.beans[n]=s,this.createdBeans.push(s)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(r=>{var n,s;(n=r.preWireBeans)==null||n.call(r,this.beans),(s=r.wireBeans)==null||s.call(r,this.beans)}),e.forEach(r=>{var n;return(n=r.preConstruct)==null?void 0:n.call(r)}),t&&e.forEach(t),e.forEach(r=>{var n;return(n=r.postConstruct)==null?void 0:n.call(r)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},Mre=class extends Dre{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),co.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},X_=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(X_||{}),Nre=class extends Ee{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,t=!1){const r={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:r,dragSource:e}),this.dragService.addDragSource(r)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const t=this.dragSourceAndParamsList.find(r=>r.dragSource===e);t&&(this.dragService.removeDragSource(t.params),as(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var r,n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),(n=(r=this.dragSource).onDragStarted)==null||n.call(r),this.createDragAndDropImageComponent()}onDragStop(e){var t,r,n;if((r=(t=this.dragSource)==null?void 0:t.onDragStopped)==null||r.call(t),(n=this.lastDropTarget)!=null&&n.onDragStop){const s=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(s)}this.clearDragAndDropProperties()}onDragCancel(){var e,t,r;(t=(e=this.dragSource)==null?void 0:e.onDragCancelled)==null||t.call(e),(r=this.lastDropTarget)!=null&&r.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var o,a,l,u;const r=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const s=this.dropTargets.filter(f=>this.isMouseOnDropTarget(e,f)),i=this.findCurrentDropTarget(e,s);if(i!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,r,n,t),this.lastDropTarget!==null&&i===null&&((a=(o=this.dragSource)==null?void 0:o.onGridExit)==null||a.call(o,this.dragItem)),this.lastDropTarget===null&&i!==null&&((u=(l=this.dragSource)==null?void 0:l.onGridEnter)==null||u.call(l,this.dragItem)),this.enterDragTargetIfExists(i,e,r,n,t),i&&this.dragAndDropImageComp){const{comp:f,promise:p}=this.dragAndDropImageComp;f?f.setIcon(i.getIconName?i.getIconName():null):p.then(g=>{g&&g.setIcon(i.getIconName?i.getIconName():null)})}this.lastDropTarget=i}else if(i&&i.onDragging){const f=this.createDropTargetEvent(i,e,r,n,t);i.onDragging(f)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,r=[[e.getContainer()]];return t?r.concat(t):r}allContainersIntersect(e,t){for(const r of t){const{width:n,height:s,left:i,right:o,top:a,bottom:l}=r.getBoundingClientRect();if(n===0||s===0)return!1;const u=e.clientX>=i&&e.clientX<o,f=e.clientY>=a&&e.clientY<l;if(!u||!f)return!1}return!0}isMouseOnDropTarget(e,t){const r=this.getAllContainersFromDropTarget(t);let n=!1;for(const o of r)if(this.allContainersIntersect(e,o)){n=!0;break}const{eElement:s,type:i}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:n&&t.isInterestedIn(i,s)}findCurrentDropTarget(e,t){const r=t.length;if(r===0)return null;if(r===1)return t[0];const s=Gf(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const i of s)for(const o of t)if(Vee(this.getAllContainersFromDropTarget(o)).indexOf(i)!==-1)return o;return null}enterDragTargetIfExists(e,t,r,n,s){if(e&&e.onDragEnter){const i=this.createDropTargetEvent(e,t,r,n,s);e.onDragEnter(i)}}leaveLastTargetIfExists(e,t,r,n){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const i=this.createDropTargetEvent(this.lastDropTarget,e,t,r,n);this.lastDropTarget.onDragLeave(i)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(r=>r.external).find(r=>r.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const r=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return r.contains(n)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,r=e.clientX;return t===r?null:t>r?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,r=e.clientY;return t===r?null:t>r?0:1}createDropTargetEvent(e,t,r,n,s){const i=e.getContainer(),o=i.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,u=t.clientX-o.left,f=t.clientY-o.top;return this.gos.addGridCommonParams({event:t,x:u,y:f,vDirection:n,hDirection:r,dragSource:l,fromNudge:s,dragItem:a,dropZoneTarget:i})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const r=t.getGui(),s=r.getBoundingClientRect().height,i=jte()-2,o=Bte()-2;if(!r.offsetParent)return;const l=k_(r.offsetParent),{clientY:u,clientX:f}=e;let p=u-l.top-s/2,g=f-l.left-10;const C=jr(this.gos),S=C.defaultView||window,y=S.pageYOffset||C.documentElement.scrollTop,w=S.pageXOffset||C.documentElement.scrollLeft;i>0&&g+r.clientWidth>i+w&&(g=i+w-r.clientWidth),g<0&&(g=0),o>0&&p+r.clientHeight>o+y&&(p=o+y-r.clientHeight),p<0&&(p=0),r.style.left=`${g}px`,r.style.top=`${p}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const r=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(n=>{!n||!this.isAlive()||(this.processDragAndDropImageComponent(n),this.dragAndDropImageComp.comp=n)})}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:r,environment:n}=this;if(!t)return;const s=e.getGui();s.style.setProperty("position","absolute"),s.style.setProperty("z-index","9999"),r.stampTopLevelGridCompWithGridInstance(s),n.applyThemeClasses(s),e.setIcon(null);let{dragItemName:i}=t;Sb(i)&&(i=i()),e.setLabel(i||""),s.style.top="20px",s.style.left="20px";const o=jr(this.gos);let a=null,l=null;try{a=o.fullscreenElement}catch{}finally{a||(a=Gf(this.gos));const u=a.querySelector("body");u?l=u:a instanceof ShadowRoot?l=a:a instanceof Document?l=a==null?void 0:a.documentElement:l=a}this.dragAndDropImageParent=l,l?l.appendChild(s):Te("Could not find document body, it is needed for drag and drop.")}},Ire=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const r=t||this.shouldSkipVerticalScroll();if(r&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=e.clientX<n.left+s,this.tickRight=e.clientX>n.right-s,this.tickUp=e.clientY<n.top+s&&!r,this.tickDown=e.clientY>n.bottom-s&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Ore=class extends Ee{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){yr(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const t=e.gridBodyCtrl;this.autoScrollService=new Ire({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:r=>t.getScrollFeature().setVerticalScrollPosition(r),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var n;return!!(this.funcColsService.getRowGroupColumns().length||((n=this.filterManager)==null?void 0:n.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=[...this.selectionService.getSelectedNodes()].sort((s,i)=>s.rowIndex==null||i.rowIndex==null?0:this.getRowIndexNumber(s)-this.getRowIndexNumber(i));if(n.indexOf(t)!==-1)return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const r=this.isFromThisGrid(e),n=this.gos.get("rowDragManaged"),s=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!r?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(s[0],t):this.moveRows(s,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(jt(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),r=t&&t.highlighted===1,n=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes;let i=r?1:0;if(this.isFromThisGrid(e))s.forEach(o=>{o.rowTop<n&&(i-=1)}),this.moveRows(s,n,i);else{const o=Ud(this.gos);let a=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===0&&a--,this.clientSideRowModel.updateRowData({add:s.filter(l=>!this.clientSideRowModel.getRowNode((o==null?void 0:o({data:l.data,level:0,rowPinned:l.rowPinned}))??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,r=0){var s;this.clientSideRowModel.ensureRowsAtPixel(e,t,r)&&(this.focusService.clearFocusedCell(),(s=this.rangeService)==null||s.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){Te("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){Te("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=n=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",n))}),e.onDragLeave&&(t.onDragLeave=n=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",n))}),e.onDragging&&(t.onDragging=n=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",n))}),e.onDragStop&&(t.onDragStop=n=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",n))}),e.onDragCancel&&(t.onDragCancel=n=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",n))}));const r={isInterestedIn:n=>n===2,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(r),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(r))}getRowDropZone(e){const t=this.getContainer.bind(this),r=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),s=this.onDragging.bind(this),i=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{r(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:r,onDragLeave:e.onDragLeave?l=>{n(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:n,onDragging:e.onDragging?l=>{s(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:s,onDragStop:e.onDragStop?l=>{i(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:i,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:r,onDragLeave:n,onDragging:s,onDragStop:i,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const r=this.mouseEventService.getNormalisedPosition(t).y,n=r>this.pageBoundsService.getCurrentPageHeight();let s=-1,i;n||(s=this.rowModel.getRowIndexAtPixel(r),i=this.rowModel.getRow(s));let o;switch(t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:s,overNode:i,y:r,vDirection:o})}dispatchGridEvent(e,t){const r=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(r)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},kre=class extends Ee{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,r=e.mouseDownListener;if(t.removeEventListener("mousedown",r),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(r=>r.dragSource===e);t&&(this.removeListener(t),as(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:r,includeTouch:n,stopPropagationForTouch:s}=e;r.addEventListener("mousedown",t);let i=null;const o=this.gos.get("suppressTouch");n&&!o&&(i=a=>{Tb(a.target)||(s&&a.stopPropagation(),this.onTouchStart(e,a))},r.addEventListener("touchstart",i,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:i,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const r=t.touches[0];this.touchLastTime=r,this.touchStart=r;const n=l=>this.onTouchMove(l,e.eElement),s=l=>this.onTouchUp(l,e.eElement),i=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Gf(this.gos),type:"touchmove",listener:i,options:{passive:!1}},{target:o,type:"touchmove",listener:n,options:{passive:!0}},{target:o,type:"touchend",listener:s,options:{passive:!0}},{target:o,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(r,this.touchStart,e.eElement)}onMouseDown(e,t){const r=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||r._alreadyProcessedByDragService||(r._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=u=>this.onMouseMove(u,e.eElement),s=u=>this.onMouseUp(u,e.eElement),i=u=>u.preventDefault(),o=u=>{u.key===ve.ESCAPE&&this.cancelDrag(e.eElement)},a=Gf(this.gos),l=[{target:a,type:"mousemove",listener:n},{target:a,type:"mouseup",listener:s},{target:a,type:"contextmenu",listener:i},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:r,type:n,listener:s,options:i}=t;r.addEventListener(n,s,i)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:r,type:n,listener:s,options:i}=t;r.removeEventListener(n,s,i)})})}isEventNearStartEvent(e,t){const{dragStartPixels:r}=this.currentDragParams,n=Le(r)?r:4;return $_(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,r){var n;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:r}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(n=this.currentDragParams)==null||n.onDragging(e)}onTouchMove(e,t){const r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,t)}onMouseMove(e,t){var r;da()&&((r=jr(this.gos).getSelection())==null||r.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),r=e.type==="mousemove";return t&&r&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,r=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(r!=null&&r.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,r;this.eventService.dispatchEvent({type:"dragCancelled",target:e}),(r=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||r.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},Cx=class extends dr{constructor(e,t,r,n,s,i){super(),this.cellValueFn=e,this.rowNode=t,this.column=r,this.customGui=n,this.dragStartPixels=s,this.suppressVisibilityChange=i,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Vs("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new _re(this,this.beans,this.rowNode,this.column):new Lre(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&Te("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n==null||n.preventDefault()}})[0]);const r=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const n=this.getDragItem(),s=((o=n.rowNodes)==null?void 0:o.length)||1,i=this.getRowDragText(this.column);return i?i(n,s):s===1?this.cellValueFn():`${s} ${r("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},Z_=class extends Ee{constructor(e,t,r){super(),this.parent=e,this.rowNode=t,this.column=r}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let r=!0,n=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=Sb(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(r,t)):(this.parent.setDisplayed(r,t),this.parent.setVisible(!0,t))}}},Lre=class extends Z_{constructor(e,t,r,n){super(e,r,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},_re=class extends Z_{constructor(e,t,r,n){super(e,r,n),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),r=t&&t.shouldPreventRowMove(),n=this.gos.get("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),i=r&&!s||n;this.setDisplayedOrVisible(i)}},jre=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),Pp=class $a{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=$a.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,r){var i;const n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(t,n,r);(i=this.localEventService)==null||i.dispatchEvent(s)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,r,n){return{type:"dataChanged",node:this,oldData:r,newData:t,update:n}}getRowIndexString(){return this.rowIndex==null?(Yt("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?$a.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?$a.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new $a(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,r){var o;const n=Le(this.id)?this.createDaemonNode():null,s=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(r),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const i=this.createDataChangedEvent(t,s,!1);(o=this.localEventService)==null||o.dispatchEvent(i)}checkRowSelectable(){const t=wb(this.beans.gos);this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,r){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),r)return;if(Nc(this.beans.gos)){const s=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:s??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){var n;const r=Ud(this.beans.gos);if(r)if(this.data){const s=((n=this.parent)==null?void 0:n.getRoute())??[];this.id=r({data:this.data,parentKeys:s.length>0?s:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith($a.ID_PREFIX_ROW_GROUP)&&Yt(`Row IDs cannot start with ${$a.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(t){this.hovered=t}isHovered(){return this.hovered}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,r=!1){this.rowHeight=t,this.rowHeightEstimated=r,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,r){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[r.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=os(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){var a;let t=!1,r=!0,n=0;const s=this.__autoHeights;if(s==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(l=>{let u=s[l.getId()];if(u==null)if(this.beans.columnModel.isColSpanActive()){let f=[];switch(l.getPinned()){case"left":f=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":f=this.beans.visibleColsService.getRightColsForRow(this);break;case null:f=this.beans.columnViewportService.getColsWithinViewport(this);break}if(f.includes(l)){t=!0;return}u=-1}else{t=!0;return}else r=!1;u>n&&(n=u)}),t)||((r||n<10)&&(n=fl(this.beans.gos,this).height),n==this.rowHeight))return;this.setRowHeight(n);const o=this.beans.rowModel;(a=o.onRowHeightChangedDebounced)==null||a.call(o)}setExpanded(t,r,n){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const s={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:r||null};this.beans.rowNodeEventThrottle.dispatchExpanded(s,n),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,r,n){const i=typeof t!="string"?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t),o=this.beans.valueService.getValueForDisplay(i,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:i,colDef:i.getColDef(),data:this.data,node:this,oldValue:o,newValue:r,value:r,source:n}),!1;const a=this.beans.valueService.setValue(this,i,r,n);return this.dispatchCellChangedEvent(i,r,o),this.checkRowSelectable(),a}setGroupValue(t,r){const n=this.beans.columnModel.getCol(t);Bt(this.groupData)&&(this.groupData={});const s=n.getColId(),i=this.groupData[s];i!==r&&(this.groupData[s]=r,this.dispatchCellChangedEvent(n,r,i))}setAggData(t){const r=this.aggData;if(this.aggData=t,this.localEventService){const n=s=>{const i=this.aggData?this.aggData[s]:void 0,o=r?r[s]:void 0;if(i===o)return;const a=this.beans.columnModel.getCol(s);a&&this.dispatchCellChangedEvent(a,i,o)};for(const s in r)n(s);for(const s in t)(!r||!(s in r))&&n(s)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(bo(this.beans.gos)){const n=this.beans.gos.get("treeData"),s=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!s&&s(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(t,r,n){var i;const s={type:"cellChanged",node:this,column:t,newValue:r,oldValue:n};(i=this.localEventService)==null||i.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(r=>r.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var n;let t=!1,r=!1;if(!((n=this.childrenAfterGroup)!=null&&n.length))return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){const i=this.childrenAfterGroup[s];let o=i.isSelected();if(!i.selectable){const a=i.calculateSelectedFromChildren();if(a===null)continue;o=a}switch(o){case!0:t=!0;break;case!1:r=!0;break;default:return}}if(!(t&&r))return t?!0:r?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){var r;(r=this.localEventService)==null||r.dispatchEvent({type:t,node:this})}selectThisNode(t,r,n="api"){const s=!this.selectable&&t,i=this.selected===t;if(s||i)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:r||null,source:n}),!0}setSelected(t,r=!1,n="api"){if(typeof n=="boolean"){Te("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:r,rangeSelect:!1,source:n})}setSelectedParams(t){return this.rowPinned?(Te("cannot select pinned rows"),0):this.id===void 0?(Te("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(t,r){var s;this.localEventService||(this.localEventService=new Wd),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new Eb(this.beans.frameworkOverrides));const n=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(t,r))??r;this.localEventService.addEventListener(t,n)}removeEventListener(t,r){var s;if(!this.localEventService)return;const n=((s=this.frameworkEventListenerService)==null?void 0:s.unwrap(t,r))??r;this.localEventService.removeEventListener(t,n),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(Te("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const t=[];let r=this;for(;r&&r.key!=null;)t.push(r.key),r=r.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new $a(this.beans);Object.keys(this).forEach(r=>{jre.has(r)||(t[r]=this[r])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.dispatchRowEvent("firstChildChanged"))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.dispatchRowEvent("draggingChanged"))}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.dispatchRowEvent("uiLevelChanged"))}};Pp.ID_PREFIX_ROW_GROUP="row-group-";Pp.ID_PREFIX_TOP_PINNED="t-";Pp.ID_PREFIX_BOTTOM_PINNED="b-";Pp.OBJECT_ID_SEQUENCE=0;var Jo=Pp,Bre=class extends Ee{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvancedFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",r=>this.setAdvancedFilterModel(r.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){var r;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(r=this.columnFilterService)==null||r.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.columnFilterService)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t,r;e?(t=this.columnFilterService)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(r=this.advancedFilterService)!=null&&r.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var e;(e=this.quickFilterService)==null||e.resetQuickFilterCache()}refreshFiltersForAggregations(){lx(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:r,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):_r.resolve()).then(()=>{var i;const s={source:t,type:"filterChanged",columns:n};r&&is(s,r),this.eventService.dispatchEvent(s),(i=this.columnFilterService)==null||i.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.columnFilterService)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilterService)!=null&&e.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!lx(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){var t;return!!((t=this.columnFilterService)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.columnFilterService)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvancedFilterEnabled()?!1:!!((t=this.columnFilterService)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var r;return(r=this.columnFilterService)==null?void 0:r.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var r;(r=this.columnFilterService)==null||r.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var r;return!!((r=this.columnFilterService)!=null&&r.areFilterCompsDifferent(e,t))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){var t;if(this.isAdvancedFilterEnabled()){if((t=this.dataTypeService)!=null&&t.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.hasFloatingFilters())}getFilterInstance(e,t){var r;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(r=this.columnFilterService)==null?void 0:r.getFilterInstance(e,t)}getColumnFilterInstance(e){var t;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((t=this.columnFilterService)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvancedFilters(){Te("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var r;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((r=this.columnFilterService)==null?void 0:r.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,r){var n;(n=this.columnFilterService)==null||n.setColDefPropertiesForDataType(e,t,r)}},Gre=class extends dr{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??_r.resolve()}afterGuiAttached(e){var t,r;(r=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||r.then(n=>{var s;(s=n==null?void 0:n.afterGuiAttached)==null||s.call(n,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(r=>{var n;(n=r==null?void 0:r.afterGuiDetached)==null||n.call(r)})}createFilter(e){var n,s;const{column:t,source:r}=this;this.filterWrapper=((n=this.filterManager)==null?void 0:n.getOrCreateFilterWrapper(t))??null,(s=this.filterWrapper)!=null&&s.filterPromise&&this.filterWrapper.filterPromise.then(i=>{const o=i.getGui();Le(o)||Te(`getGui method from filter returned ${o}; it should be a DOM element.`),this.appendChild(o),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:r,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(qs(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},J_="ag-resizer-wrapper",Ba=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,Vre=`<div class="${J_}">
        ${Ba("eTopLeft","topLeft")}
        ${Ba("eTop","top")}
        ${Ba("eTopRight","topRight")}
        ${Ba("eRight","right")}
        ${Ba("eBottomRight","bottomRight")}
        ${Ba("eBottom","bottom")}
        ${Ba("eBottomLeft","bottomLeft")}
        ${Ba("eLeft","left")}
    </div>`,Hre=class extends Ee{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,r=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(r,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:r,width:n,minHeight:s,height:i,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0;const f=Co(this.element);if(f){const p=this.findBoundaryElement(),g=window.getComputedStyle(p);if(g.minWidth!=null){const C=p.offsetWidth-this.element.offsetWidth;u=parseInt(g.minWidth,10)-C}if(g.minHeight!=null){const C=p.offsetHeight-this.element.offsetHeight;l=parseInt(g.minHeight,10)-C}}if(this.minHeight=s||l,this.minWidth=r||u,n&&this.setWidth(n),i&&this.setHeight(i),(!n||!i)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(f&&t){let p=this.boundaryEl,g=!0;if(p||(p=this.findBoundaryElement(),g=!1),p){const C=parseFloat(p.style.top),S=parseFloat(p.style.left);g?this.offsetElement(isNaN(S)?0:S,isNaN(C)?0:C):this.setPosition(S,C)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const r=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],s=this.getResizerElement(t),i={dragStartPixels:0,eElement:s,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(i),this.resizeListeners.push(i),s.style.pointerEvents="all"):s.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,r=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ff(r,e),e=O_(r),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(n?(r.style.maxHeight="unset",r.style.minHeight="unset"):t?ff(r,e):(r.style.height=`${e}px`,r.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:r}=this.offsetParent;if(!r)return null;const n=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),i=e?this.position.y:n.top,o=e?0:s.top;let a=0;if(t){const u=this.element.parentElement;if(u){const{bottom:f}=u.getBoundingClientRect();a=f-n.bottom}}return r+o-i-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:r}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Wi(t,e),e=Pv(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:s}=this.offsetParent,i=r?this.position.x:this.element.getBoundingClientRect().left;s&&e+i>s&&(e=s-i)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Wi(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:r}=this.config,n=r?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const r=this.getAvailableHeight();this.element.style.setProperty("max-height",`${r}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:r,isTop:n,anywhereWithin:s,topBuffer:i}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!r,!!s,o)?0:o,u=this.shouldSkipY(t,!!n,i,a)?0:a;return{movementX:l,movementY:u}}shouldSkipX(e,t,r,n){const s=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:s.left;let l=a<=0&&i.left>=e.clientX||i.right<=e.clientX&&i.right<=o.right;return l?!0:(t?l=n<0&&e.clientX>a+i.left||n>0&&e.clientX<a+i.left:r?l=n<0&&e.clientX>o.right||n>0&&e.clientX<a+i.left:l=n<0&&e.clientX>o.right||n>0&&e.clientX<o.right,l)}shouldSkipY(e,t,r=0,n){const s=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:s.top;let l=a<=0&&i.top>=e.clientY||i.bottom<=e.clientY&&i.bottom<=o.bottom;return l?!0:(t?l=n<0&&e.clientY>a+i.top+r||n>0&&e.clientY<a+i.top:l=n<0&&e.clientY>o.bottom||n>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const r=new DOMParser().parseFromString(Vre,"text/html").body;e.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${J_}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:r,forcePopupParentAsOffsetParent:n}=this.config;!r&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(r=>!r.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,r=0;for(let n=0;n<e.length;n++){const s=e[n],i=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(i){const l=window.getComputedStyle(s);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=s.offsetHeight,a=s.offsetWidth;t+=o,r+=a}return{height:t,width:r}}applySizeToSiblings(e){let t=null;const r=this.getSiblings();if(r){for(let n=0;n<r.length;n++){const s=r[n];s!==t&&(e?s.style.height=`${s.offsetHeight}px`:s.style.width=`${s.offsetWidth}px`,s.style.flex="0 0 auto",s===this.element&&(t=r[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:r}=this.config,{isTop:n,isRight:s,isBottom:i,isLeft:o}=this.currentResizer,a=s||o,l=i||n,{movementX:u,movementY:f}=this.calculateMouseMovement({e,isLeft:o,isTop:n}),p=this.position.x,g=this.position.y;let C=0,S=0;if(a&&u){const y=o?-1:1,w=this.getWidth(),b=w+u*y;let F=!1;o&&(C=w-b,(p+C<=0||b<=this.minWidth)&&(F=!0,C=0)),F||this.setWidth(b)}if(l&&f){const y=n?-1:1,w=this.getHeight(),b=w+f*y;let F=!1;n?(S=w-b,(g+S<=0||b<=this.minHeight)&&(F=!0,S=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&w<b&&this.getMinSizeOfSiblings().height+b>this.element.parentElement.offsetHeight&&(F=!0),F||this.setHeight(b)}this.updateDragStartPosition(e.clientX,e.clientY),((t||r)&&C||S)&&this.offsetElement(p+C,g+S)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:r}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:s,movementY:i}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+s,r+i),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},e3=class t3 extends Ee{constructor(t,r={}){super(),this.eFocusableElement=t,this.callbacks=r,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const s=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);s&&(s.focus(),n.preventDefault())},...r}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(t3.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:r=>{if(!(r.defaultPrevented||Zo(r))){if(this.callbacks.shouldStopEventPropagation(r)){Ed(r);return}r.key===ve.TAB?this.callbacks.onTabKeyDown(r):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(r)}}})}};e3.FOCUS_MANAGED_CLASS="ag-focus-managed";var zc=e3,r3={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function Lb(e,t){return Nv(e)?(e.debounceMs!=null&&Te("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function Nv(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var Wre=class extends dr{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=pt,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new zc(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Hre(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(r,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=Nv(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=Nv(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:r,readOnly:n}=t??{},{buttons:s,readOnly:i}=e;if(n===i&&jf(r,s))return;const o=s&&s.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(qs(this.eButtonsPanel),this.buttonListeners.forEach(u=>u()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&Ic(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=u=>{let f,p;switch(u){case"apply":f=this.translate("applyFilter"),p=S=>this.onBtApply(!1,!1,S);break;case"clear":f=this.translate("clearFilter"),p=()=>this.onBtClear();break;case"reset":f=this.translate("resetFilter"),p=()=>this.onBtReset();break;case"cancel":f=this.translate("cancelFilter"),p=S=>{this.onBtCancel(S)};break;default:Te("Unknown button type specified");return}const C=$f(`<button
                    type="${u==="apply"?"submit":"button"}"
                    data-ref="${u}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${f}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(C,{click:p})),a.append(C)};s.forEach(u=>l(u)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=Lb(this.providedFilterParams,this.getDefaultDebounceMs()),t=os(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const r=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(r):this.resetUiToDefaults().then(r)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const r=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(r,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,r){r&&r.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(r)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,r=t&&t.key;let n;(r==="Enter"||r==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const r=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&Uf(n,!r)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:r,gos:n}=this;t?(r.restoreLastSize(),r.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,r3[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},Ure=class extends Ib{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},$re=class extends dr{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case ve.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}break;case ve.DOWN:case ve.UP:e.preventDefault(),this.navigate(t);break;case ve.PAGE_DOWN:case ve.PAGE_UP:case ve.PAGE_HOME:case ve.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===ve.DOWN;let r;if(!this.highlightedEl)r=this.itemEls[t?0:this.itemEls.length-1];else{let s=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);s=Math.min(Math.max(s,0),this.itemEls.length-1),r=this.itemEls[s]}this.highlightItem(r)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;const t=this.itemEls.indexOf(this.highlightedEl),r=this.options.length-1,n=this.itemEls[0].clientHeight,s=Math.floor(this.getGui().clientHeight/n);let i=-1;e===ve.PAGE_HOME?i=0:e===ve.PAGE_END?i=r:e===ve.PAGE_DOWN?i=Math.min(t+s,r):e===ve.PAGE_UP&&(i=Math.max(t-s,0)),i!==-1&&this.highlightItem(this.itemEls[i])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:r}=e,n=r||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Ic(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,r)=>{xte(t,r+1),wte(t,e.length)})}renderOption(e,t){const r=jr(this.gos),n=r.createElement("div");Ki(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const s=r.createElement("span");n.appendChild(s),s.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:i=>{i.preventDefault(),i.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new zd({getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const r=this.options.findIndex(n=>n.value===e);if(r!==-1){const n=this.options[r];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[r]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Co(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),Tv(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:r,clientHeight:n}=t,{offsetTop:s,offsetHeight:i}=e;(s+i>r+n||s<r)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!Co(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),Tv(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},zre=class extends z_{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=pt,this.eWrapper=pt,this.eDisplayField=pt,this.eIcon=pt,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:r,variableWidth:n,minPickerWidth:s,maxPickerWidth:i}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,r!=null&&this.setPickerMaxHeight(r),s!=null&&this.setPickerMinWidth(s),i!=null&&this.setPickerMaxWidth(i)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:r,inputWidth:n}=this.config;if(r){const s=Vs(r,this.gos);s&&this.eIcon.appendChild(s)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Fv(e,!1),this.ariaRole&&Ki(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case ve.UP:case ve.DOWN:case ve.ENTER:case ve.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ve.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:r,pickerAriaLabelValue:n,modalPicker:s=!0}=this.config,i={modal:s,eChild:e,closeOnEsc:!0,closedCallback:()=>{const g=d_(this.gos);this.beforeHidePicker(),g&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(r,n),anchorToElement:this.eWrapper};e.style.position="absolute";const o=this.popupService.addPopup(i),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:u,variableWidth:f}=this;f?(l&&(e.style.minWidth=l),e.style.width=Ab(Pv(this.eWrapper)),u&&(e.style.maxWidth=u)):Mv(e,u??Pv(this.eWrapper));const p=a??`${Pb(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",p),this.alignPickerToComponent(),o.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,r=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Fv(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return Mv(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},_b=class extends zre{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:r}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),r&&t==null&&(this.eDisplayField.textContent=r),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new $re("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),Ate(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var r;const{key:t}=e;switch(t===ve.TAB&&this.hidePicker(),t){case ve.ENTER:case ve.UP:case ve.DOWN:case ve.PAGE_UP:case ve.PAGE_DOWN:case ve.PAGE_HOME:case ve.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(r=this.listComponent)==null||r.handleKeyDown(e):super.onKeyDown(e);break;case ve.ESCAPE:super.onKeyDown(e);break;case ve.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,r){if(this.value===e||!this.listComponent)return this;if(r||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let s=this.listComponent.getDisplayValue();return s==null&&this.config.placeholder&&(s=this.config.placeholder),this.eDisplayField.textContent=s,this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},Kre={selector:"AG-SELECT",component:_b},n3=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],r=n=>n.some(s=>e[s]!=null)?!0:(Te(`ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1);if(!t.every(r)){this.filterOptions=this.filterOptions.filter(n=>n===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:Te("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else Te("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},s3=class extends Wre{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,r)=>{r===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const r=!e.operator,n=!t.operator;if(!r&&n||r&&!n)return!1;let i;if(r){const o=e,a=t;i=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;i=o.operator===a.operator&&Rl(o.conditions,a.conditions,(l,u)=>this.areSimpleModelsEqual(l,u))}return i}shouldRefresh(e){var i;const t=this.getModel(),r=t?t.conditions??[t]:null,n=((i=e.filterOptions)==null?void 0:i.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!r||r.every(o=>n.find(a=>a===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&r&&r.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const r=e;let n=r.conditions;n==null&&(n=[],Te("Filter model is missing 'conditions'"));const s=this.validateAndUpdateConditions(n),i=this.getNumConditions();if(s<i)this.removeConditionsAndOperators(s);else if(s>i)for(let a=i;a<s;a++)this.createJoinOperatorPanel(),this.createOption();const o=r.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),n.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),_r.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),Te('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:r}=t,n=[];if(r){const i=t;n.push(...i.conditions??[])}else n.push(t);return n[r&&r==="OR"?"some":"every"](i=>this.individualConditionPasses(e,i))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new n3,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(Te('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(Te('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Te('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new _b);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const r=this.getNumConditions()-1;this.forEachPositionInput(r,n=>this.resetInput(n)),this.addChangedListeners(e,r)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,s),this.resetJoinOperatorOr(r,n,s),this.isReadOnly()||(t.onValueChange(this.listener),r.onValueChange(this.listener))}createJoinOperator(e,t,r){const n=this.createManagedBean(new Ure);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${r}`),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?e=r:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const r=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<r){this.removeConditionsAndOperators(r+1);const n=e+1,s=r-n;s>0&&this.removeConditionsAndOperators(n,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,s)=>{const i=this.isConditionDisabled(s,e);n.setDisabled(i||this.filterListOptions.length<=1),s===1&&(Uf(this.eJoinOperatorPanels[0],i),this.eJoinOperatorsAnd[0].setDisabled(i),this.eJoinOperatorsOr[0].setDisabled(i))}),this.eConditionBodies.forEach((n,s)=>{Pr(n,this.isConditionBodyVisible(s))});const r=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!r,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(r,!0)}),this.forEachInput((n,s,i,o)=>{this.setElementDisplayed(n,s<o),this.setElementDisabled(n,this.isConditionDisabled(i,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const r=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,r,t),this.removeComponents(this.eJoinOperatorsAnd,r,t),this.removeComponents(this.eJoinOperatorsOr,r,t)}removeElements(e,t,r){this.removeItems(e,t,r).forEach(s=>Ic(s))}removeComponents(e,t,r){this.removeItems(e,t,r).forEach(s=>{Ic(s.getGui()),this.destroyBean(s)})}removeItems(e,t,r){return r==null?e.splice(t):e.splice(t,r)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof oc&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,r=-1,n=!1;const s=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,r=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),n=!0,l&&r--)}let i=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),i=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),i=!0),i&&this.updateConditionStatusesAndValues(r,s),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r}getPlaceholderText(e,t){let r=this.translate(e);if(Sb(this.filterPlaceholder)){const n=this.filterPlaceholder,s=this.eTypes[t].getValue(),i=this.translate(s);r=n({filterOptionKey:s,filterOption:i,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,r,n,s)=>{if(!(t instanceof oc))return;const i=r===0&&s>1?"inRangeStart":r===0?"filterOoo":"inRangeEnd",o=r===0&&s>1?e("ariaFilterFromValue","Filter from value"):r===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(i,n)),t.setInputAriaLabel(o)})}setElementValue(e,t,r){e instanceof oc&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof dr&&Pr(e.getGui(),t)}setElementDisabled(e,t){e instanceof dr&&Uf(e.getGui(),t)}attachElementOnChange(e,t){e instanceof oc&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,r)=>{this.forEachPositionTypeInput(r,t,e)})}forEachPositionInput(e,t){const r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,t)}forEachPositionTypeInput(e,t,r){const n=this.getNumberOfInputs(t),s=this.getInputs(e);for(let i=0;i<s.length;i++){const o=s[i];o!=null&&r(o,i,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(r=>r==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,r)=>this.resetJoinOperatorAnd(t,r,this.joinOperatorId+r)),this.eJoinOperatorsOr.forEach((t,r)=>this.resetJoinOperatorOr(t,r,this.joinOperatorId+r)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),_r.resolve()}resetType(e){const r=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,r){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),r)}resetJoinOperatorOr(e,t,r){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),r)}resetJoinOperator(e,t,r,n,s){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const r=this.mapValuesFromModel(e);this.forEachInput((n,s,i)=>{i===t&&this.setElementValue(n,r[s]!=null?r[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,r,n)=>{this.setElementValue(t,r===0&&n===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,r=>{this.attachElementOnChange(r,this.listener)}))}individualConditionPasses(e,t){const r=this.getCellValue(e.node),n=this.mapValuesFromModel(t),s=this.optionsFactory.getCustomOption(t.type),i=this.evaluateCustomFilter(s,n,r);return i??(r==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,r,t,e))}evaluateCustomFilter(e,t,r){if(e==null)return;const{predicate:n}=e;if(n!=null&&!t.some(s=>s==null))return n(t,r)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},i3=class extends s3{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,r){const n=this.comparator(),s=e[0]!=null?n(e[0],t):0;switch(r.type){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const i=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?s>=0&&i<=0:s>0&&i<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return Te('Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},qre=65,Yre=67,Qre=86,Xre=68,Zre=90,Jre=89;function o3(e){var r;return e.altKey||e.ctrlKey||e.metaKey?!1:((r=e.key)==null?void 0:r.length)===1}function yx(e,t,r,n,s){const i=n?n.getColDef().suppressKeyboardEvent:void 0;if(!i)return!1;const o=e.addGridCommonParams({event:t,editing:s,column:n,node:r,data:r.data,colDef:n.getColDef()});return!!(i&&i(o))}function ene(e,t,r,n){const s=n.getDefinition(),i=s&&s.suppressHeaderKeyboardEvent;if(!Le(i))return!1;const o=e.addGridCommonParams({colDef:s,column:n,headerRowIndex:r,event:t});return!!i(o)}function tne(e){const{keyCode:t}=e;let r;switch(t){case qre:r=ve.A;break;case Yre:r=ve.C;break;case Qre:r=ve.V;break;case Xre:r=ve.D;break;case Zre:r=ve.Z;break;case Jre:r=ve.Y;break;default:r=e.code}return r}function rne(e,t=!1){return e===ve.DELETE?!0:!t&&e===ve.BACKSPACE?B_():!1}var Kc=class extends oc{constructor(e,t="ag-text-field",r="text"){super(e,t,r)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=Le(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=r=>{o3(r)&&r.key&&!e.test(r.key)&&r.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:r=>{var s;const n=(s=r.clipboardData)==null?void 0:s.getData("text");n&&n.split("").some(i=>!e.test(i))&&r.preventDefault()}})}},L0={selector:"AG-INPUT-TEXT-FIELD",component:Kc},jb=class extends Kc{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const s=parseFloat(this.eInput.value),i=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==i&&this.setValue(i)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:r,step:n}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof r=="number"&&this.setMax(r),typeof n=="number"&&this.setStep(n)}onWheel(e){Dr(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=this.precision)return e;if(this.precision>0)return`${r[0]}.${r[1].slice(0,this.precision)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,vi(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,vi(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,vi(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(r=>super.setValue(r,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,r){if(Le(r)){let n=this.isScientificNotation(r);if(n&&this.eInput.validity.valid)return e(r);if(!n){r=this.adjustPrecision(r);const s=this.normalizeValue(r);n=r!=s}if(n)return t(r)}return e(r)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},nne={selector:"AG-INPUT-NUMBER-FIELD",component:jb},a3=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Bb=class{constructor(e,t,r){this.localeService=e,this.optionsFactory=t,this.valueFormatter=r}getModelAsString(e){if(!e)return null;const t=e.operator!=null,r=this.localeService.getLocaleTextFunc();if(t){const n=e,i=(n.conditions??[]).map(a=>this.getModelAsString(a)),o=n.operator==="AND"?"andCondition":"orCondition";return i.join(` ${r(o,r3[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return r(e.type,e.type);{const n=e,s=this.optionsFactory.getCustomOption(n.type),{displayKey:i,displayName:o,numberOfInputs:a}=s||{};return i&&o&&a===0?(r(i,o),o):this.conditionToString(n,s)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},l3=class extends Bb{conditionToString(e,t){const{numberOfInputs:r}=t||{};return e.type=="inRange"||r===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function Sx(e){const{allowedCharPattern:t}=e??{};return t??null}var sne=class extends i3{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:r,type:n}=e||{};return[this.processValue(t),this.processValue(r)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new l3(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return a3}setElementValue(e,t,r){const n=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,n)}createValueElement(){const e=Sx(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Ki(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,r,n){const s=this.createManagedBean(n?new Kc({allowedCharPattern:n}):new jb);s.addCssClass(`ag-filter-${r}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,s,i)=>{n<i&&t.push(this.processValue(this.stringToFloat(r.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Xo(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),r={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},c3=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],u3=class extends Bb{conditionToString(e,t){const{numberOfInputs:r}=t||{};return e.type=="inRange"||r===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function d3(e){const t=e&&e.trim();return t===""?e:t}var ine=class extends s3{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:r})=>{if(r==null)return!1;switch(e){case"contains":return t.indexOf(r)>=0;case"notContains":return t.indexOf(r)<0;case"equals":return t===r;case"notEqual":return t!=r;case"startsWith":return t.indexOf(r)===0;case"endsWith":{const n=t.lastIndexOf(r);return n>=0&&n===t.length-r.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new u3(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(Te("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:r,filterText:n})=>e(t,r,n)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),r={filterType:this.getFilterType(),type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const r=[];return this.forEachPositionInput(e,(n,s,i,o)=>{if(s<o){let a=Xo(n.getValue());t&&this.textFilterParams.trimInput&&(a=d3(a)??null,n.setValue(a,!0)),r.push(a)}}),r}getDefaultFilterOptions(){return c3}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Ki(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,r){const n=this.createManagedBean(new Kc);n.addCssClass(`ag-filter-${r}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:r,type:n}=e||{};return[t||null,r||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,r,n){const s=e.map(g=>this.formatter(g))||[],i=this.formatter(t),{api:o,colDef:a,column:l,context:u,textFormatter:f}=this.textFilterParams;if(r.type==="blank")return this.isBlank(t);if(r.type==="notBlank")return!this.isBlank(t);const p={api:o,colDef:a,column:l,context:u,node:n.node,data:n.data,filterOption:r.type,value:i,textFormatter:f};return s.some(g=>this.matcher({...p,filterText:g}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function h3(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}function eo(e,t=Number.MAX_VALUE){return r=>{const n=h3(r);if(!(n==null||n<e||n>t))return n}}function gf(e,t){return e.toString().padStart(t,"0")}function one(e,t){const r=[];for(let n=e;n<=t;n++)r.push(n);return r}function ane(e,t,r){return typeof e!="number"?"":e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function Ci(e,t=!0,r="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(s=>gf(s,2)).join(r);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(s=>gf(s,2)).join(":")),n}var GS=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function mf(e,t="YYYY-MM-DD"){const r=gf(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i={YYYY:()=>r.slice(r.length-4,r.length),YY:()=>r.slice(r.length-2,r.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>gf(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${GS(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${GS(e.getDate())}`,DD:()=>gf(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>s[e.getDay()],ddd:()=>s[e.getDay()].slice(0,3),dd:()=>s[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${GS(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(i).join("|"),"g");return t.replace(o,a=>a in i?i[a]():a)}function Es(e){if(!e)return null;const[t,r]=e.split(" ");if(!t)return null;const n=t.split("-").map(p=>parseInt(p,10));if(n.filter(p=>!isNaN(p)).length!==3)return null;const[s,i,o]=n,a=new Date(s,i-1,o);if(a.getFullYear()!==s||a.getMonth()!==i-1||a.getDate()!==o)return null;if(!r||r==="00:00:00")return a;const[l,u,f]=r.split(":").map(p=>parseInt(p,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),f>=0&&f<60&&a.setSeconds(f),a}var f3=class{constructor(e,t,r,n,s){this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(r).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(n.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),s==null||s(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Pr(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var r,n;let t=!1;(r=this.dateComp)!=null&&r.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&((n=this.dateComp)!=null&&n.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&Te("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},p3=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],g3=class extends Bb{constructor(e,t,r){super(t,r),this.dateFilterParams=e}conditionToString(e,t){const{type:r}=e,{numberOfInputs:n}=t||{},s=r=="inRange"||n===2,i=Es(e.dateFrom),o=Es(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){const l=i!==null?mf(i,a):"null",u=o!==null?mf(o,a):"null";return`${l}-${u}`}return i!=null?mf(i,a):`${r}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},$D=1e3,zD=1/0,lne=class extends i3{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=$D,this.maxValidYear=zD,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:r,type:n}=e||{};return[t&&Es(t)||null,r&&Es(r)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const r=t;return t==null||r<e?-1:r>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(r,n)=>{if(e[r]!=null)if(isNaN(e[r]))Te(`DateFilter ${r} is not a number`);else return e[r]==null?n:Number(e[r]);return n};this.minValidYear=t("minValidYear",$D),this.maxValidYear=t("maxValidYear",zD),this.minValidYear>this.maxValidYear&&Te("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Es(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Es(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&Te("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new g3(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new f3(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return p3}createValueElement(){const t=jr(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,r,n){const i=jr(this.gos).createElement("div");i.classList.add(`ag-filter-${n}`),i.classList.add(`ag-filter-date-${n}`),t.push(i),e.appendChild(i),r.push(this.createDateCompWrapper(i))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,r){this.removeItems(e,t,r).forEach(s=>s.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((r,n,s,i)=>{s!==e||!t||n>=i||(t=t&&this.isValidDateValue(r.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),r={},n=this.getValues(e);return n.length>0&&(r.dateFrom=Ci(n[0])),n.length>1&&(r.dateTo=Ci(n[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...r}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(r)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,s,i)=>{n<i&&t.push(r.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},Gb=class extends Ee{constructor(e,t,r,n){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=r}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?jt(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=Le(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),r=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,r),s=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===s&&this.setLeft(s)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!Rn(this.beans.gos,"print")||e.getPinned()==="left")return t;const n=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){const s=this.beans.visibleColsService.getBodyContainerWidth();return n+s+t}return n+t}setLeft(e){if(Le(e)&&(this.eCell.style.left=`${e}px`),Ur(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&Fte(this.ariaEl,t.length)}}},cne="ag-column-first",une="ag-column-last";function m3(e,t,r,n){return Bt(e)?[]:hne(e.headerClass,e,t,r,n)}function v3(e,t,r){e.addOrRemoveCssClass(cne,r.isColAtEdge(t,"first")),e.addOrRemoveCssClass(une,r.isColAtEdge(t,"last"))}function dne(e,t,r,n){return t.addGridCommonParams({colDef:e,column:r,columnGroup:n})}function hne(e,t,r,n,s){if(Bt(e))return[];let i;if(typeof e=="function"){const o=dne(t,r,n,s);i=e(o)}else i=e;return typeof i=="string"?[i]:Array.isArray(i)?[...i]:[]}var fne=0,C3=class y3 extends Ee{constructor(t,r,n){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=n,this.beans=r,this.instanceId=t.getUniqueId()+"-"+fne++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:r,column:n}=this.focusService.getFocusedHeader();return ene(this.gos,t,r,n)}getWrapperHasFocus(){return Dr(this.gos)===this.eGui}setGui(t,r){this.eGui=t,this.addDomData(r),r.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),r.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:r,checkMeasuringCallback:n,compBean:s}=t,{animationFrameService:i,resizeObserverService:o,columnModel:a,gos:l}=this.beans,u=y=>{if(!this.isAlive()||!s.isAlive())return;const{paddingTop:w,paddingBottom:b,borderBottomWidth:F,borderTopWidth:R}=$c(this.getGui()),E=w+b+F+R,D=r.offsetHeight+E;if(y<5){const M=jr(l),I=!M||!M.contains(r),_=D==0;if(I||_){i.requestAnimationFrame(()=>u(y+1));return}}a.setColHeaderHeight(this.column,D)};let f=!1,p;const g=()=>{const y=this.column.isAutoHeaderHeight();y&&!f&&C(),!y&&f&&S()},C=()=>{f=!0,u(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),p=o.observeResize(r,()=>u(0))},S=()=>{f=!1,p&&p(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),p=void 0};g(),s.addDestroyFunc(()=>S()),s.addManagedListeners(this.column,{widthChanged:()=>f&&u(0)}),s.addManagedEventListeners({sortChanged:()=>{f&&window.setTimeout(()=>u(0))}}),n&&n(g)}onDisplayedColumnsChanged(){const{comp:t,column:r,beans:n,eGui:s}=this;!t||!r||!s||(v3(t,r,n.visibleColsService),N_(s,n.visibleColsService.getAriaColIndex(r)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&t.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&vi(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){var o;const r=Dr(this.gos),n=t.key===ve.LEFT||t.key===ve.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),r!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||n)&&(t.preventDefault(),t.stopImmediatePropagation()),!n))return;const s=t.key===ve.LEFT!==this.gos.get("enableRtl"),i=X_[s?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(a,t.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(i)}getViewportAdjustedResizeDiff(t){let r=this.getResizeDiff(t);if(this.column.getPinned()){const s=this.pinnedWidthService.getPinnedLeftWidth(),i=this.pinnedWidthService.getPinnedRightWidth(),o=Tp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(s+i+r>o)if(o>s+i)r=o-s-i;else return 0}return r}getResizeDiff(t){let r=t.key===ve.LEFT!==this.gos.get("enableRtl");const n=this.column.getPinned(),s=this.gos.get("enableRtl");return n&&s!==(n==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var t;(t=this.resizeFeature)==null||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const r=this.getWrapperHasFocus();switch(t.key){case ve.PAGE_DOWN:case ve.PAGE_UP:case ve.PAGE_HOME:case ve.PAGE_END:r&&t.preventDefault()}}addDomData(t){const r=y3.DOM_DATA_KEY_HEADER_CTRL;Mc(this.gos,this.eGui,r,this),t.addDestroyFunc(()=>Mc(this.gos,this.eGui,r,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,r,n){const s=t??r;this.gos.get("preventDefaultOnContextMenu")&&s.preventDefault(),this.menuService.isHeaderContextMenuEnabled(n)&&this.menuService.showHeaderContextMenu(n,t,r),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(t,r){this.eventService.dispatchEvent({type:t,column:r})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};C3.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var _0=C3,Vb=class extends Ee{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},pne=class extends _0{constructor(e,t,r){super(e,t,r),this.iconCreated=!1,this.column=e}setComp(e,t,r,n,s){this.comp=e,s=Rp(this,this.beans.context,s),this.eButtonShowMainFilter=r,this.eFloatingFilterBody=n,this.setGui(t,s),this.setupActive(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s),s.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(s)}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,r=!!e.floatingFilter;this.active=t&&r}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Vs("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new zc(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Fd(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Dr(this.gos)===this.eGui)return;const n=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(n){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),n.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let r=this.column;do if(r=e?t.getColBefore(r):t.getColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case ve.UP:case ve.DOWN:t||e.preventDefault();case ve.LEFT:case ve.RIGHT:if(t)return;e.stopPropagation();case ve.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case ve.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&ed(e.relatedTarget,"ag-floating-filter");if(r&&n&&e.target===this.eGui){const i=this.lastFocusEvent,o=!!(i&&i.key===ve.TAB);if(i&&o){const a=i.shiftKey;this.focusService.focusInto(this.eGui,a)}}const s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}setupHover(e){e.createManagedBean(new Vb([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const r=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new Gb(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,r=n=>{if((n==null?void 0:n.source)==="filterDestroyed"&&!this.isAlive())return;const s=this.comp.getFloatingFilterComp();s&&s.then(i=>{if(i){const o=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=n?{...n,columns:n.columns??[],source:n.source==="api"?"api":"columnFilter"}:null;i.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:r}),t!=null&&t.isFilterActive(this.column)&&r(null)}setupWidth(e){const t=()=>{const r=`${this.column.getActualWidth()}px`;this.comp.setWidth(r)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var i;const t=this.active;this.setupActive();const r=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.active?(i=this.beans.filterManager)==null?void 0:i.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!n?this.updateCompDetails(e,n,r):s.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,r):this.updateFloatingFilterParams(n)})}updateCompDetails(e,t,r){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),r&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var r;if(!e)return;const t=e.params;(r=this.comp.getFloatingFilterComp())==null||r.then(n=>{let s=!1;n!=null&&n.refresh&&typeof n.refresh=="function"&&n.refresh(t)!==null&&(s=!0),!s&&(n!=null&&n.onParamsUpdated)&&typeof n.onParamsUpdated=="function"&&n.onParamsUpdated(t)!==null&&Te("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}},Ft="32.3.9";function gne(e){var t,r;return!!((t=e.filterManager)!=null&&t.isColumnFilterPresent())||!!((r=e.filterManager)!=null&&r.isAggregateFilterPresent())}function mne(e,t,r){var n;return(n=e.filterManager)==null?void 0:n.getFilterInstance(t,r)}function vne(e,t){var r;return((r=e.filterManager)==null?void 0:r.getColumnFilterInstance(t))??Promise.resolve(void 0)}function Cne(e,t){var n;const r=e.columnModel.getColDefCol(t);if(r)return(n=e.filterManager)==null?void 0:n.destroyFilter(r,"api")}function yne(e,t){e.frameworkOverrides.wrapIncoming(()=>{var r;return(r=e.filterManager)==null?void 0:r.setFilterModel(t)})}function Sne(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function wne(e,t){var r;return((r=e.filterManager)==null?void 0:r.getColumnFilterModel(t))??null}function xne(e,t,r){var n;return((n=e.filterManager)==null?void 0:n.setColumnFilterModel(t,r))??Promise.resolve()}function bne(e,t){const r=e.columnModel.getCol(t);if(!r){Yt(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:r,containerType:"columnFilter",positionBy:"auto"})}function Ene(e,t,r){if(t==null)return null;let n=null;const{compName:s,jsComp:i,fwComp:o}=Y_.getCompKeys(e,t,kb);return s?n={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[s]:i==null&&o==null&&t.filter===!0&&(n=r()),n}var KD={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},qD=["january","february","march","april","may","june","july","august","september","october","november","december"],Rne=class extends Ee{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){var s;if((s=this.dataTypeService)!=null&&s.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const r=[],n=this.getFilterModel(!0);if(e){const i=new Set(Object.keys(e));this.allColumnFilters.forEach((o,a)=>{const l=e[a];r.push(this.setModelOnFilterWrapper(o.filterPromise,l)),i.delete(a)}),i.forEach(o=>{const a=this.columnModel.getColDefCol(o)||this.columnModel.getCol(o);if(!a){Te("setFilterModel() - no column found for colId: "+o);return}if(!a.isFilterAllowed()){Te("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const l=this.getOrCreateFilterWrapper(a);if(!l){Te("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}r.push(this.setModelOnFilterWrapper(l.filterPromise,e[o]))})}else this.allColumnFilters.forEach(i=>{r.push(this.setModelOnFilterWrapper(i.filterPromise,null))});_r.all(r).then(()=>{var a;const i=this.getFilterModel(!0),o=[];this.allColumnFilters.forEach((l,u)=>{const f=n?n[u]:null,p=i?i[u]:null;jf(f,p)||o.push(l.column)}),o.length>0&&((a=this.filterManager)==null||a.onFilterChanged({columns:o,source:t}))})}setModelOnFilterWrapper(e,t){return new _r(r=>{e.then(n=>{typeof n.setModel!="function"&&(Te("filter missing setModel method, which is needed for setFilterModel"),r()),(n.setModel(t)||_r.resolve()).then(()=>r())})})}getFilterModel(e){const t={},{allColumnFilters:r,initialFilterModel:n}=this;return r.forEach((s,i)=>{const o=this.getModelFromFilterWrapper(s);Le(o)&&(t[i]=o)}),e||Object.entries(n).forEach(([s,i])=>{var o;Le(i)&&!r.has(s)&&((o=this.columnModel.getCol(s))!=null&&o.isFilterAllowed())&&(t[s]=i)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(Te("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=i=>i?i.isFilterActive?i.isFilterActive():(Te("Filter is missing isFilterActive() method"),!1):!1,t=!!lx(this.gos),r=i=>{if(!i.isPrimary())return!0;const a=!this.columnModel.isPivotActive();return!i.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:t},n=[],s=[];return this.forEachColumnFilter((i,o)=>{e(i)&&(r(o.column)?n.push(i):s.push(i))}).then(()=>{this.activeAggregateFilters=n,this.activeColumnFilters=s})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((r,n)=>n.column.setFilterActive(r.isFilterActive(),e,t))}forEachColumnFilter(e){return _r.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(r=>e(r,t))))}doColumnFiltersPass(e,t,r){const{data:n,aggData:s}=e,i=r?this.activeAggregateFilters:this.activeColumnFilters,o=r?s:n;for(let a=0;a<i.length;a++){const l=i[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>{var r;return(r=this.filterManager)==null?void 0:r.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:r}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",r).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(s=>{s&&s!==t&&s.onAnyFilterChanged&&s.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,r)=>{const n=r?this.columnModel.getCol(r):e;return n?this.valueService.getValue(n,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){var r;let t;if(MS(this.gos))t="agSetColumnFilter";else{const n=(r=this.dataTypeService)==null?void 0:r.getBaseDataType(e);n==="number"?t="agNumberColumnFilter":n==="date"||n==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){var r;let t;if(MS(this.gos))t="agSetColumnFloatingFilter";else{const n=(r=this.dataTypeService)==null?void 0:r.getBaseDataType(e);n==="number"?t="agNumberColumnFloatingFilter":n==="date"||n==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const r=this.getDefaultFilter(e),n=e.getColDef();let s;const i={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(s,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(s,e)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(s,a):!0},o=this.userComponentFactory.getFilterDetails(n,i,r);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a!=null&&a.then(l=>{s=l,t&&(t.filter=l)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:x_(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:r,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=(r==null?void 0:r())??null,t.compDetails=n,t}onColumnsChanged(){var r;const e=[];this.allColumnFilters.forEach((n,s)=>{let i;n.column.isPrimary()?i=this.columnModel.getColDefCol(s):i=this.columnModel.getCol(s),!(i&&i===n.column)&&(e.push(n.column),this.disposeFilterWrapper(n,"columnChanged"),this.disposeColumnListener(s))});const t=e.every(n=>n.getColDef().filter==="agGroupColumnFilter");e.length>0&&!t?(r=this.filterManager)==null||r.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:r}=this.allColumnFilters.get(e.getColId())??{};return r&&typeof(r==null?void 0:r.isFilterAllowed)=="function"?r.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const r=l=>{var f;const u=(f=this.getOrCreateFilterWrapper(e))==null?void 0:f.filterPromise;u!=null&&u.then(p=>{l(pf(p))})},n=e.getColDef(),s={...this.createFilterParams(e,n),filterChangedCallback:()=>r(l=>this.filterChangedCallbackFactory(l,e)())},i=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,kb,s);let o=Ene(this.frameworkOverrides,n,()=>this.getDefaultFloatingFilter(e));o==null&&(o="agReadOnlyFloatingFilter");const a={column:e,filterParams:i,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:r,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,a,o)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){var s;const r=e.getColId(),n=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialFilterModel[r],n&&(this.disposeFilterWrapper(n,t),(s=this.filterManager)==null||s.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(r=>{this.destroyBean(r),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return r=>{const n=(r==null?void 0:r.source)??"columnFilter",s={filter:e,additionalEventAttributes:r,columns:[t],source:n};this.callOnFilterChangedOutsideRenderCycle(s)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const r=t.column,{compDetails:n}=r.isFilterAllowed()?this.createFilterInstance(r):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(r,"paramsUpdated");return}const s=r.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(r,"paramsUpdated");return}t.filterPromise.then(i=>{(i!=null&&i.refresh?i.refresh({...this.createFilterParams(r,r.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(i,r),filterChangedCallback:this.filterChangedCallbackFactory(i,r),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(i,a):!0,...s}):!0)===!1&&this.destroyFilter(r,"paramsUpdated")})}setColumnFilterWrapper(e,t){const r=e.getColId();this.allColumnFilters.set(r,t),this.allColumnListeners.set(r,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(r)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:r}=e,{componentClass:n}=t;return!(r===n||(r==null?void 0:r.render)&&(n==null?void 0:n.render)&&r.render===n.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(r=>{const n=pf(r);t(n)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(r=>{t(pf(r))})})}getFilterInstanceImpl(e){var n;const t=this.columnModel.getColDefCol(e);return t?((n=this.getOrCreateFilterWrapper(t))==null?void 0:n.filterPromise)??_r.resolve(null):_r.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:r})=>{this.setColumnFilterModel(e,t).then(()=>r())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){var i;if((i=this.dataTypeService)!=null&&i.isPendingInference()){let o=()=>{};const a=new Promise(l=>{o=l});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:o}),a}const r=this.columnModel.getColDefCol(e),n=r?this.getOrCreateFilterWrapper(r):null;return n?(o=>new Promise(a=>{o.then(l=>a(l))}))(this.setModelOnFilterWrapper(n.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,r){const n=MS(this.gos),s=this.localeService.getLocaleTextFunc(),i=o=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...o}:o};switch(t.baseDataType){case"number":{n&&i({comparator:(o,a)=>{const l=o==null?0:parseInt(o),u=a==null?0:parseInt(a);return l===u?0:l>u?1:-1}});break}case"boolean":{i(n?{valueFormatter:o=>Le(o.value)?s(String(o.value),o.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{n&&i({valueFormatter:o=>{const a=r(o);return Le(a)?a:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(a===1&&o!=null){const l=qD[Number(o)-1];return s(l,KD[l])}return o??s("blanks","(Blanks)")}});break}case"dateString":{const o=t.dateParser;i(n?{valueFormatter:a=>{const l=r(a);return Le(l)?l:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const u=qD[Number(a)-1];return s(u,KD[u])}return a??s("blanks","(Blanks)")}}:{comparator:(a,l)=>{const u=o(l);return l==null||u<a?-1:u>a?1:0}});break}case"object":{n?i({valueFormatter:o=>{const a=r(o);return Le(a)?a:s("blanks","(Blanks)")}}):e.filterValueGetter=o=>r({column:o.column,node:o.node,value:this.valueService.getValue(o.column,o.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function Fne(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function Tne(e,t="api"){var r;(r=e.filterManager)==null||r.onFilterChanged({source:t})}var Pne=class extends dr{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[L0]),this.eFloatingFilterText=pt}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${r("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const r=t.getModelAsString(e);this.eFloatingFilterText.setValue(r)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},S3=class extends dr{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let r;t?r=e.conditions[0]:r=e,this.lastType=r.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const r=e;return this.isTypeEditable(r.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new n3,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(r)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:r}=t||{};return r==null||r==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();return`${t} ${r("ariaFilterInput","Filter Input")}`}},Ane=class extends S3{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[L0]),this.eReadOnlyText=pt,this.eDateWrapper=pt}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return p3}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new g3(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const r=e;this.dateComp.setDate(Es(r.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Pr(this.eDateWrapper,e),Pr(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=Ci(e);this.params.parentFilterInstance(r=>{if(r){const n=Es(t);r.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){const e=Lb(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:os(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new f3(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},Dne=class extends dr{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[L0]),this.eDateInput=pt}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:r=>{r.target===Dr(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&da(),t.type=r?"date":"text";const{minValidYear:n,maxValidYear:s,minValidDate:i,maxValidDate:o}=e.filterParams||{};if(i&&n&&Te("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&s&&Te("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),i&&o){const[a,l]=[i,o].map(u=>u instanceof Date?u:Es(u));a&&l&&a.getTime()>l.getTime()&&Te("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}i?i instanceof Date?t.min=mf(i):t.min=i:n&&(t.min=`${n}-01-01`),o?o instanceof Date?t.max=mf(o):t.max=o:s&&(t.max=`${s}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Es(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Ci(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:Lte()||Mb()||da()&&j_()>=14.1}},w3=class extends Ee{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=pt,this.valueChangedListener=()=>{}}setupGui(e){var n;this.eFloatingFilterTextInput=this.createManagedBean(new Kc((n=this.params)==null?void 0:n.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const r=s=>this.valueChangedListener(s);this.addManagedListeners(t,{input:r,keydown:r})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},x3=class extends S3{constructor(){super(...arguments),this.eFloatingFilterInputContainer=pt}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Nv(this.params.filterParams),!this.isReadOnly()){const r=Lb(this.params.filterParams,this.getDefaultDebounceMs()),n=os(this.syncUpWithParentFilter.bind(this),r);this.floatingFilterInputService.setValueChangedListener(n)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();qs(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===ve.ENTER;if(this.applyActive&&!t)return;let r=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(r=d3(r),this.floatingFilterInputService.setValue(r,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,r||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},Mne=class extends Ee{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new jb),this.eFloatingFilterTextInput=this.createManagedBean(new Kc),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),r=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(r),this.setupListeners(t,n=>this.valueChangedListener(n)),this.setupListeners(r,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},Nne=class extends x3{init(e){var t;super.init(e),this.filterModelFormatter=new l3(this.localeService,this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){Sx(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return a3}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=Sx(e.filterParams),this.allowedCharPattern?this.createManagedBean(new w3({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Mne)}},Ine=class extends x3{init(e){super.init(e),this.filterModelFormatter=new u3(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return c3}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new w3)}};function One(e){var t;return!!((t=e.filterManager)!=null&&t.isQuickFilterPresent())}function kne(e){return e.gos.get("quickFilterText")}function Lne(e){var t;(t=e.filterManager)==null||t.resetQuickFilterCache()}var _ne=class extends Ee{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var s;const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),r=this.columnModel.getColDefCols();let n=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(s=this.pivotResultColsService.getPivotResultCols())==null?void 0:s.list:r)??[];t&&(n=n.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?n:n.filter(i=>i.isVisible()||i.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(r=>t?this.doesRowPassQuickFilterCache(e,r):this.doesRowPassQuickFilterNoCache(e,r))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return Le(e)?yr(this.gos)?e.toUpperCase():(Te("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){Te(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),r=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,r&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(r=>{const n=this.getQuickFilterTextForColumn(r,e);return Le(n)&&n.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let r;e?(this.checkGenerateQuickFilterAggregateText(t),r=t.quickFilterAggregateText):r=this.getQuickFilterAggregateText(t);const{quickFilterParts:n,matcher:s}=this;return s(n,r)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let r=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const s=this.gos.addGridCommonParams({value:r,node:t,data:t.data,column:e,colDef:n});r=n.getQuickFilterText(s)}return Le(r)?r.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(r=>{const n=this.getQuickFilterTextForColumn(r,e);Le(n)&&t.push(n)}),t.join(`
`)}},Hb={version:Ft,moduleName:"@ag-grid-community/filter-core",beans:[Bre]},jne={version:Ft,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:Fne,onFilterChanged:Tne},dependantModules:[Hb]},Wb={version:Ft,moduleName:"@ag-grid-community/column-filter",beans:[Rne],dependantModules:[Hb]},Bne={version:Ft,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:gne,getFilterInstance:mne,getColumnFilterInstance:vne,destroyFilter:Cne,setFilterModel:yne,getFilterModel:Sne,getColumnFilterModel:wne,setColumnFilterModel:xne,showColumnFilter:bne},dependantModules:[Wb,jne]},b3={version:Ft,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:pne}],dependantModules:[Wb]},Gne={version:Ft,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:Pne}],dependantModules:[b3]},Vne={version:Ft,moduleName:"@ag-grid-community/simple-filter",dependantModules:[Wb],userComponents:[{name:"agTextColumnFilter",classImp:ine},{name:"agNumberColumnFilter",classImp:sne},{name:"agDateColumnFilter",classImp:lne},{name:"agDateInput",classImp:Dne}]},Hne={version:Ft,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[Vne,b3],userComponents:[{name:"agTextColumnFloatingFilter",classImp:Ine},{name:"agNumberColumnFloatingFilter",classImp:Nne},{name:"agDateColumnFloatingFilter",classImp:Ane}]},E3={version:Ft,moduleName:"@ag-grid-community/quick-filter-core",beans:[_ne],dependantModules:[Hb]},Wne={version:Ft,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:One,getQuickFilter:kne,resetQuickFilter:Lne},dependantModules:[E3]},Une={version:Ft,moduleName:"@ag-grid-community/quick-filter",dependantModules:[E3,Wne]},$ne={version:Ft,moduleName:"@ag-grid-community/filter",dependantModules:[Hne,Gne,Une,Bne]},wx=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(wx||{}),zne=class extends Ee{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl});const e=jr(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){var e;return((e=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:e.getRowCount())??0}getHeaderPositionForColumn(e,t){let r;if(typeof e=="string"?(r=this.columnModel.getCol(e),r||(r=this.visibleColService.getColumnGroup(e))):r=e,!r)return null;const n=this.ctrlsService.getHeaderRowContainerCtrl(),s=n==null?void 0:n.getAllCtrls(),i=jt(s||[]).getType()==="filter",o=this.getHeaderRowCount()-1;let a=-1,l=r;for(;l;)a++,l=l.getParent();let u=a;return t&&i&&u===o-1&&u++,u===-1?null:{headerRowIndex:u,column:r}}navigateVertically(e,t,r){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n}=t,s=t.column,i=this.getHeaderRowCount(),o=e===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:u}=o?this.headerPositionUtils.getColumnVisibleParent(s,n):this.headerPositionUtils.getColumnVisibleChild(s,n),f=!1;return a<0&&(a=0,l=s,f=!0),a>=i?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):u!==void 0&&(this.currentHeaderRowWithoutSpan=u),!f&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:r})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,r){const n=this.focusService.getFocusedHeader(),s=e===2,i=this.gos.get("enableRtl");let o,a;if(this.currentHeaderRowWithoutSpan!==-1?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,s!==i?(a="Before",o=this.headerPositionUtils.findHeader(n,a)):(a="After",o=this.headerPositionUtils.findHeader(n,a)),o||!t)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:r});if(t){const l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(n,a,r)}focusNextHeaderRow(e,t,r){const n=e.headerRowIndex;let s=null,i;if(t==="Before"?n>0&&(i=n-1,this.currentHeaderRowWithoutSpan-=1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(i,"end")):(i=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),s=this.headerPositionUtils.findColAtEdgeForHeaderRow(i,"start")),!s)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(s.column,s==null?void 0:s.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:r})}scrollToColumn(e,t="After"){if(e.getPinned())return;let r;if(Ur(e)){const n=e.getDisplayedLeafColumns();r=t==="Before"?jt(n):n[0]}else r=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}},Kne=class extends Ee{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,r){this.comp=e,this.eGui=t,this.createManagedBean(new zc(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:n}),this.mockContextMenuForIPad(n),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var i;const{columnModel:e}=this;let t=0;const r=this.columnModel.getGroupRowsHeight().reduce((o,a)=>o+a,0),n=this.columnModel.getColumnHeaderRowHeight();if((i=this.filterManager)!=null&&i.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=r,t+=n,this.headerHeight===t)return;this.headerHeight=t;const s=`${t+1}px`;this.comp.setHeightAndMinHeight(s),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(r=>r.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),r=e.shiftKey,n=r!==t?2:3;(this.headerNavigationService.navigateHorizontally(n,!0,e)||!r&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(r,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case ve.LEFT:t=2;case ve.RIGHT:{Le(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case ve.UP:t=0;case ve.DOWN:{Le(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(Dr(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,r){var s;if(!e&&!r||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=e??t;(n===this.eGui||n===((s=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:s.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,e,r)}mockContextMenuForIPad(e){if(!Fl())return;const t=new ol(this.eGui),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:r}),this.addDestroyFunc(()=>t.destroy())}},Ub=class extends Ee{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Rn(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),r=this.visibleColsService.getColsLeftWidth(),n=this.visibleColsService.getDisplayedColumnsRightWidth();let s;e?s=t+r+n:(s=t,this.addSpacer&&(this.gos.get("enableRtl")?r:n)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.scrollVisibleService.getScrollbarWidth())),this.callback(s)}},qne=class extends Ee{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(r=>{r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?this.columnsToAggregate.push(r):r.isAllowRowGroup()?this.columnsToGroup.push(r):r.isAllowPivot()&&this.columnsToPivot.push(r)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function R3(e){const{isFromHeader:t,fromLeft:r,xPosition:n,fromEnter:s,fakeEvent:i,pinned:o,gos:a,columnModel:l,columnMoveService:u,visibleColsService:f}=e;let{allMovingColumns:p}=e;if(t){const A=[];p.forEach(D=>{var _;let M=null,I=D.getParent();for(;I!=null&&I.getDisplayedLeafColumns().length===1;)M=I,I=I.getParent();M!=null?(!!((_=M.getColGroupDef())!=null&&_.marryChildren)?M.getProvidedColumnGroup().getLeafColumns():M.getLeafColumns()).forEach(B=>{A.includes(B)||A.push(B)}):A.includes(D)||A.push(D)}),p=A}const g=p.slice();l.sortColsLikeCols(g);const C=Zne({movingCols:g,draggingRight:r,xPosition:n,pinned:o,gos:a,columnModel:l,visibleColsService:f}),S=Yne(g,l);if(C.length===0)return;const y=C[0];let w=S!==null&&!s;if(t&&(w=S!==null),w&&!i&&(!r&&y>=S||r&&y<=S))return;const b=f.getAllCols(),F=[];let R=null;for(let A=0;A<C.length;A++){const D=C[A],M=u.getProposedColumnOrder(g,D);if(!u.doesOrderPassRules(M))continue;const I=M.filter(j=>b.includes(j));if(R===null)R=I;else if(!Rl(I,R))break;const _=Qne(M);F.push({move:D,fragCount:_})}if(F.length===0)return;F.sort((A,D)=>A.fragCount-D.fragCount);const E=F[0].move;if(!(E>l.getCols().length-p.length))return{columns:p,toIndex:E}}function $b(e){const{columns:t,toIndex:r}=R3(e)||{},{finished:n,columnMoveService:s}=e;return!t||r==null?null:(s.moveColumns(t,r,"uiColumnMoved",n),n?null:{columns:t,toIndex:r})}function Yne(e,t){const r=t.getCols(),n=jee(e.map(l=>r.indexOf(l))),s=n[0];return jt(n)-s!==n.length-1?null:s}function Qne(e){function t(n){const s=[];let i=n.getOriginalParent();for(;i!=null;)s.push(i),i=i.getOriginalParent();return s}let r=0;for(let n=0;n<e.length-1;n++){let s=t(e[n]),i=t(e[n+1]);[s,i]=s.length>i.length?[s,i]:[i,s],s.forEach(o=>{i.indexOf(o)===-1&&r++})}return r}function Xne(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function Zne(e){const{movingCols:t,draggingRight:r,xPosition:n,pinned:s,gos:i,columnModel:o,visibleColsService:a}=e;if(i.get("suppressMovableColumns")||t.some(R=>R.getColDef().suppressMovable))return[];const u=Xne(a,s),f=o.getCols(),p=u.filter(R=>Sc(t,R)),g=u.filter(R=>!Sc(t,R)),C=f.filter(R=>!Sc(t,R));let S=0,y=n;if(r){let R=0;p.forEach(E=>R+=E.getActualWidth()),y-=R}if(y>0){for(let R=0;R<g.length;R++){const E=g[R];if(y-=E.getActualWidth(),y<0)break;S++}r&&S++}let w;if(S>0){const R=g[S-1];w=C.indexOf(R)+1}else w=C.indexOf(g[0]),w===-1&&(w=0);const b=[w],F=(R,E)=>R-E;if(r){let R=w+1;const E=f.length-1;for(;R<=E;)b.push(R),R++;b.sort(F)}else{let R=w;const E=f.length-1;let A=f[R];for(;R<=E&&u.indexOf(A)<0;)R++,b.push(R),A=f[R];R=w-1;const D=0;for(;R>=D;)b.push(R),R--;b.sort(F).reverse()}return b}function Iv(e){var u;const{pinned:t,fromKeyboard:r,gos:n,ctrlsService:s,useHeaderRow:i,skipScrollPadding:o}=e;let a=(u=s.getHeaderRowContainerCtrl(t))==null?void 0:u.getViewportElement(),{x:l}=e;return a?(r&&(l-=a.getBoundingClientRect().left),n.get("enableRtl")&&(i&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=s.get("center").getCenterViewportScrollLeft()),l):0}function td(e,t){for(const r of e)r.setMoving(t,"uiColumnMoved")}var YD=7,xx=100,mm=xx/2,Jne=5,ese=100,tse=class extends Ee{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!Le(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){var t;const e=((t=this.lastDraggingEvent)==null?void 0:t.dragItem.columns)??[];for(const r of e){const n=r.getPinned();if(r.getColDef().lockPinned){if(n==this.pinned)return"move";continue}if(n===this.pinned||!this.pinned)return"move";if(!n&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,s=(t||[]).filter(i=>n[i.getId()]);this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,r=!1,n=!1){const s=this.gos.get("suppressMoveWhenColumnDragging");if(n&&!s){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&Bt(e.hDirection))return;const{pinned:i,gos:o,ctrlsService:a}=this,l=Iv({x:e.x,pinned:i,gos:o,ctrlsService:a});t||this.checkCenterForScrolling(l),s?this.handleColumnDragWhileSuppressingMovement(e,t,r,l,n):this.handleColumnDragWhileAllowingMovement(e,t,r,l,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,r){if(!e)return;const n=e.filter(s=>!s.getColDef().lockVisible);this.columnModel.setColsVisible(n,t,r)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,r,n,s){const i=this.getAllMovingColumns(e,!0);if(s){const o=this.isAttemptingToPin(i);o&&this.attemptToPinColumns(i,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(i,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:i,xPosition:l,fromEnter:t,fakeEvent:r,fromLeft:a})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(i,n)}}handleColumnDragWhileAllowingMovement(e,t,r,n,s){const i=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)===1,a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:i,isFromHeader:a,xPosition:n,fromLeft:o,fromEnter:t,fakeEvent:r}),u=$b({...l,finished:s});u&&(this.lastMovedInfo=u)}getAllMovingColumns(e,t=!1){const r=e.dragSource.getDragItem();let n=null;t?(n=r.columnsInSplit,n||(n=r.columns)):n=r.columns;const s=i=>i.getColDef().lockPinned?i.getPinned()==this.pinned:!0;return n?n.filter(s):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:r,xPosition:n,fromLeft:s,fromEnter:i,fakeEvent:o}=e,{pinned:a,gos:l,columnModel:u,columnMoveService:f,visibleColsService:p}=this;return{allMovingColumns:t,isFromHeader:r,fromLeft:s,xPosition:n,pinned:a,fromEnter:i,fakeEvent:o,gos:l,columnModel:u,columnMoveService:f,visibleColsService:p}}findFirstAndLastMovingColumns(e){const t=e.length;let r,n;for(let s=0;s<=t;s++){if(!r){const i=e[s];i.getLeft()!=null&&(r=i)}if(!n){const i=e[t-1-s];i.getLeft()!=null&&(n=i)}if(r&&n)break}return{firstMovingCol:r,lastMovingCol:n}}highlightHoveredColumn(e,t){var f;const{gos:r,columnModel:n}=this,s=r.get("enableRtl"),i=n.getCols().filter(p=>p.isVisible()&&p.getPinned()===this.pinned);let o=null,a=null,l=null;for(const p of i){if(a=p.getActualWidth(),o=this.getNormalisedColumnLeft(p,0,s),o!=null){const g=o+a;if(o<=t&&g>=t){l=p;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let p=i.length-1;p>=0;p--){const g=i[p],C=i[p].getParent();if(!C){l=g;break}const S=C==null?void 0:C.getDisplayedLeafColumns();if(S.length){l=jt(S);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,s),a=l.getActualWidth()}if(((f=this.lastHighlightedColumn)==null?void 0:f.column)!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let u;t-o<a/2!==s?u=0:u=1,l.setHighlighted(u),this.lastHighlightedColumn={column:l,position:u}}getNormalisedXPositionInfo(e,t){const{gos:r,visibleColsService:n}=this,s=r.get("enableRtl"),{firstMovingCol:i,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,s);if(!i||!o||a==null)return;const l=n.getAllCols(),u=l.indexOf(i),f=l.indexOf(o),p=a===0!==s,g=u<f||u===f&&!p;let C=0;if(p?g&&(C-=1):g||(C+=1),f+C===u)return;const S=l[f+C];if(!S)return;const y=this.getNormalisedColumnLeft(S,20,s);return{fromLeft:g,xPosition:y}}getColumnMoveAndTargetInfo(e,t,r){const n=this.lastHighlightedColumn||{},{firstMovingCol:s,lastMovingCol:i}=this.findFirstAndLastMovingColumns(e);if(!s||!i||n.column||!t)return{firstMovingCol:s,...n};const a=this.getPinDirection()==="left";return{firstMovingCol:s,position:a?1:0,column:a!==r?s:i}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,r){const{gos:n,ctrlsService:s}=this,i=e.getLeft();if(i==null)return null;const o=e.getActualWidth();return Iv({x:r?i+o-t:i+t,pinned:e.getPinned(),useHeaderRow:r,skipScrollPadding:!0,gos:n,ctrlsService:s})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,r=this.failedMoveAttempts>YD;return t&&r||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:r,fromEnter:n,fakeEvent:s,fromLeft:i}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:r,fromLeft:i,fromEnter:n,fakeEvent:s}),{columns:a,toIndex:l}=R3(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),r=t.getCenterViewportScrollLeft(),n=r+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<r+mm,this.needToMoveLeft=e>n-mm):(this.needToMoveLeft=e<r+mm,this.needToMoveRight=e>n-mm),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),ese),(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName()))}moveInterval(){var n,s;let e;this.intervalCount++,e=10+this.intervalCount*Jne,e>xx&&(e=xx);let t=null;const r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=r.scrollHorizontally(-e):this.needToMoveRight&&(t=r.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=YD+1)return;if((n=this.dragAndDropService.getDragAndDropImageComponent())==null||n.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const i=(s=this.lastDraggingEvent)==null?void 0:s.dragItem.columns;this.attemptToPinColumns(i,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,r=!1){const n=(e||[]).filter(s=>!s.getColDef().lockPinned);return n.length?(r&&(t=this.getPinDirection()),this.columnModel.setColsPinned(n,t,"uiColumnDragged"),r&&this.dragAndDropService.nudge(),n.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},rse=class extends Ee{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new tse(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new qne(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},nse=class extends Ee{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,r,n,s){super(),this.pinned=e,this.column=t,this.eResize=r,this.comp=n,this.ctrl=s}postConstruct(){const e=[];let t,r;const n=()=>{if(Pr(this.eResize,t),!t)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(o),r){const a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const u=new ol(this.eResize);u.addEventListener("doubleTap",l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),u.removeEventListener("doubleTap",l),u.destroy()})}},s=()=>{e.forEach(o=>o()),e.length=0},i=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==r)&&(t=o,r=a,s(),n())};i(),this.addDestroyFunc(s),this.ctrl.setRefreshFunction("resize",i)}onResizing(e,t){const{column:r,lastResizeAmount:n,resizeStartWidth:s}=this,i=this.normaliseResizeAmount(t),o=s+i,a=[{key:r,newWidth:o}];if(this.column.getPinned()){const l=this.pinnedWidthService.getPinnedLeftWidth(),u=this.pinnedWidthService.getPinnedRightWidth(),f=Tp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+u+(i-n)>f)return}this.lastResizeAmount=i,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const r=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?r&&(t*=-1):n&&(t*=-1),t}},sse=class extends Ee{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Dr(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Ib),this.cbSelectAll.addCssClass("ag-header-select-all"),Ki(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${n} (${r})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return m_(this.gos)?!0:(Te(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return yr(this.gos)||bo(this.gos)?!0:(Te(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),r=this.isCurrentPageOnly();let n="uiSelectAll";r?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");const s={source:n,justFiltered:t,justCurrentPage:r};e?this.selectionService.selectAllRowNodes(s):this.selectionService.deselectAllRowNodes(s)}isCheckboxSelection(){const e=this.gos.get("rowSelection"),t=typeof e=="object"&&bv(e)&&Rd(this.column),r=this.column.getColDef().headerCheckboxSelection;let n=!1;return t?n=!0:typeof r=="function"?n=r(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):n=!!r,n&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},ise=class extends _0{constructor(e,t,r){super(e,t,r),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,r,n,s){this.comp=e,s=Rp(this,this.beans.context,s),this.setGui(t,s),this.updateState(),this.setupWidth(s),this.setupMovingCss(s),this.setupMenuClass(s),this.setupSortableClass(s),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:o=>this.setRefreshFunction("measuring",o),compBean:s}),this.addColumnHoverListener(s),this.setupFilterClass(s),this.setupClassesFromColDef(),this.setupTooltip(s),this.addActiveHeaderMouseListeners(s),this.setupSelectAll(s),this.setupUserComp(s),this.refreshAria(),this.resizeFeature=s.createManagedBean(new nse(this.getPinned(),this.column,r,e,this)),s.createManagedBean(new Vb([this.column],t)),s.createManagedBean(new Gb(this.column,t,this.beans)),s.createManagedBean(new zc(t,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(s),s.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(s)),s.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(s)}),s.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const i=()=>this.checkDisplayName(s);s.addManagedEventListeners({columnValueChanged:i,columnRowGroupChanged:i,columnPivotChanged:i,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),s.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){if(!this.column.isResizable())return;const r=this.column.getActualWidth(),n=this.column.getMinWidth(),s=this.column.getMaxWidth(),i=Math.min(Math.max(r+e,n),s);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:i}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:r,column:n,ctrlsService:s}=this,{gos:i,columnModel:o,columnMoveService:a,visibleColsService:l}=r,u=this.getPinned(),f=t.getBoundingClientRect().left,p=n.getActualWidth(),g=i.get("enableRtl"),S=Iv({x:e===0!==g?f-20:f+p+20,pinned:u,fromKeyboard:!0,gos:i,ctrlsService:s}),y=this.focusService.getFocusedHeader();$b({allMovingColumns:[n],isFromHeader:!0,fromLeft:e===1,xPosition:S,pinned:u,fromEnter:!1,fakeEvent:!1,gos:i,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&y&&this.restoreFocus(y)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),r=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(r,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:r=>{this.menuService.showColumnMenu({column:this.column,buttonElement:r,positionBy:"button"})},showColumnMenuAfterMouseClick:r=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:r,positionBy:"mouse"})},showFilter:r=>{this.menuService.showFilterMenu({column:this.column,buttonElement:r,containerType:"columnFilter",positionBy:"button"})},progressSort:r=>{this.beans.sortController.progressSort(this.column,!!r,"uiColumnSorted")},setSort:(r,n)=>{this.beans.sortController.setSortForColumn(this.column,r,!!n,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(r,n)=>{this.setupTooltip(e,r,n)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new sse(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===ve.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===ve.ENTER&&this.onEnterKeyDown(e),e.key===ve.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const r=this.comp.getUserCompInstance();!r||!(r instanceof vx)||r.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,r){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.gos.get("tooltipShowMode")==="whenTruncated",s=this.eGui,i=this.column.getColDef();!r&&n&&!i.headerComponent&&(r=()=>{const l=s.querySelector(".ag-header-cell-text");return l?l.scrollWidth>l.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>s,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:r},a=e.createManagedBean(new zd(o));this.setRefreshFunction("tooltip",()=>a.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),r=m3(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(r),r.forEach(s=>{n.has(s)?n.delete(s):this.comp.addOrRemoveCssClass(s,!0)}),n.forEach(s=>this.comp.addOrRemoveCssClass(s,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:r,displayName:n,dragAndDropService:s,gos:i}=this,{columnModel:o}=r;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),td([t],!0)},onDragStopped:()=>td([t],!1),onDragCancelled:()=>td([t],!1),onGridEnter:u=>{var f;if(a){const p=((f=u==null?void 0:u.columns)==null?void 0:f.filter(g=>!g.getColDef().lockVisible))||[];o.setColsVisible(p,!0,"uiColumnMoved")}},onGridExit:u=>{var f;if(a){const p=((f=u==null?void 0:u.columns)==null?void 0:f.filter(g=>!g.getColDef().lockVisible))||[];o.setColsVisible(p,!1,"uiColumnMoved")}}};s.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(t=>t())}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const r=this.column.getActualWidth();this.comp.setWidth(`${r}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const r=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",r),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,r=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",r)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:r,beans:n}=this,s=this.beans.columnModel.getGroupRowsHeight(),i=s.reduce((p,g)=>p+=g,0)===0;if(r.addOrRemoveCssClass("ag-header-parent-hidden",i),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),r.addOrRemoveCssClass("ag-header-span-height",!1),r.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();r.addOrRemoveCssClass("ag-header-span-height",o>0);const{columnModel:l}=n,u=l.getColumnHeaderRowHeight();if(o===0){r.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${u}px`);return}r.addOrRemoveCssClass("ag-header-span-total",a);let f=0;for(let p=0;p<o;p++)f+=s[s.length-1-p];e.style.setProperty("top",`${-f}px`),e.style.setProperty("height",`${u+f}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(mte(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Dr(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,r)=>t==="filter"?-1:r.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const r=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),r=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof vx?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},ose=class extends Ee{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,r,n){super(),this.eResize=t,this.comp=e,this.pinned=r,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const r=[];this.columnGroup.getDisplayedLeafColumns().forEach(s=>{s.getColDef().suppressAutoSize||r.push(s.getColId())}),r.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:r,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,r="uiColumnResized"){const n=this.normaliseDragChange(t),s=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(s,r,e)}getInitialValues(e){const t=this.getColumnsToResize(),r=this.getInitialSizeOfColumns(t),n=this.getSizeRatiosOfColumns(t,r),s={columnsToResize:t,resizeStartWidth:r,resizeRatios:n};let i=null;if(e&&(i=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),i){const o=i.getDisplayedLeafColumns(),a=s.groupAfterColumns=o.filter(u=>u.isResizable()),l=s.groupAfterStartWidth=this.getInitialSizeOfColumns(a);s.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:r,resizeRatios:n,groupAfterColumns:s,groupAfterStartWidth:i,groupAfterRatios:o}=e;this.resizeCols=t,this.resizeStartWidth=r,this.resizeRatios=n,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=i,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();t>r.resizeStartWidth&&this.resizeColumns(r,t,e,!0)}resizeColumnsFromLocalValues(e,t,r=!0){if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(n,e,t,r)}resizeColumns(e,t,r,n=!0){const{columnsToResize:s,resizeStartWidth:i,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,f=[];if(f.push({columns:s,ratios:o,width:t}),a){const p=t-i;f.push({columns:a,ratios:u,width:l-p})}this.columnSizeService.resizeColumnSets({resizeSets:f,finished:n,source:r}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(r=>r.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},ase=class extends Ee{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},lse=class extends _0{constructor(e,t,r){super(e,t,r),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const n=this.getGui();this.setDragSource(n)}},this.column=e}setComp(e,t,r,n,s){this.comp=e,s=Rp(this,this.beans.context,s),this.setGui(t,s),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(s),this.setupExpandable(s),this.setupTooltip(s),this.setupAutoHeight({wrapperElement:n,compBean:s}),this.setupUserComp(s),this.addHeaderMouseListeners(s),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const i=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();s.createManagedBean(new Vb(o,t)),s.createManagedBean(new Gb(this.column,t,this.beans)),s.createManagedBean(new ase(e,this.column)),this.resizeFeature=s.createManagedBean(new ose(e,r,i,this.column)),s.createManagedBean(new zc(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(s,o),s.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(s),s.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,r=e.get("groupHeaderHeight");r!=null?r===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(r):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const r of t)e.addManagedListeners(r,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,r)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),r=t[0]===e,n=jt(t)===e;if(!r&&!n)return;const s=e.getHighlighted(),i=!!this.getParentRowCtrl().findHeaderCellCtrl(l=>l.getColumnGroupChild().isMoving());let o=!1,a=!1;if(i){const l=this.beans.gos.get("enableRtl"),u=s===1,f=s===0;r&&(l?a=u:o=f),n&&(l?o=f:a=u)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const r=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:r,column:n,ctrlsService:s}=this,{gos:i,columnModel:o,columnMoveService:a,visibleColsService:l}=t,u=i.get("enableRtl"),f=e===0,p=this.getPinned(),g=r.getBoundingClientRect(),C=g.left,S=g.width,y=Iv({x:f!==u?C-20:C+S+20,pinned:p,fromKeyboard:!0,gos:i,ctrlsService:s}),w=n.getGroupId(),b=this.focusService.getFocusedHeader();$b({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:y,pinned:p,fromEnter:!1,fakeEvent:!1,gos:i,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0});const F=n.getDisplayedLeafColumns(),R=f?F[0]:jt(F);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(R,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&b&&this.restoreFocus(w,n,b)}restoreFocus(e,t,r){const n=t.getLeafColumns();if(!n.length)return;const s=n[0].getParent();if(!s)return;const i=this.findGroupWidthId(s,e);i&&this.focusService.focusHeaderPosition({headerPosition:{...r,column:i}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:n=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),n,"gridInitializing")},setTooltip:(n,s)=>{this.setupTooltip(e,n,s)}}),r=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(r)}addHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),r=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,r){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.column.getColGroupDef(),s=this.gos.get("tooltipShowMode")==="whenTruncated",i=this.eGui;!r&&s&&!(n!=null&&n.headerGroupComponent)&&(r=()=>{const a=i.querySelector(".ag-header-group-text");return a?a.scrollWidth>a.clientWidth:!0});const o={getColumn:()=>this.column,getGui:()=>i,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(n&&n.headerTooltip),shouldDisplayTooltip:r};n&&(o.getColDef=()=>n),e.createManagedBean(new zd(o))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const r=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:r,expandableChanged:r})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=m3(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e!=null&&e.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(r=>this.comp.addOrRemoveCssClass(r,!0))}setupMovingCss(e){const r=this.column.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());r.forEach(s=>{e.addManagedListeners(s,{movingChanged:n})}),n()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===ve.ENTER){const r=this.column,n=!r.isExpanded();this.beans.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:r,displayName:n,gos:s,dragAndDropService:i}=this,{columnModel:o}=t,a=r.getProvidedColumnGroup().getLeafColumns();let l=!s.get("suppressDragLeaveHidesColumns");const u=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:n,getDragItem:()=>this.getDragItemForGroup(r),onDragStarted:()=>{l=!s.get("suppressDragLeaveHidesColumns"),td(a,!0)},onDragStopped:()=>td(a,!1),onDragCancelled:()=>td(a,!1),onGridEnter:f=>{if(l){const{columns:p=[],visibleState:g}=f??{},C=p.filter(S=>!S.getColDef().lockVisible&&(!g||g[S.getColId()]));o.setColsVisible(C,!0,"uiColumnMoved")}},onGridExit:f=>{var p;if(l){const g=((p=f==null?void 0:f.columns)==null?void 0:p.filter(C=>!C.getColDef().lockVisible))||[];o.setColsVisible(g,!1,"uiColumnMoved")}}};i.addDragSource(u,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),r={};t.forEach(o=>r[o.getId()]=o.isVisible());const n=[];this.beans.visibleColsService.getAllCols().forEach(o=>{t.indexOf(o)>=0&&(n.push(o),as(t,o))}),t.forEach(o=>n.push(o));const s=[],i=e.getLeafColumns();for(const o of n)i.indexOf(o)!==-1&&s.push(o);return{columns:n,columnsInSplit:s,visibleState:r}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(r=>{(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},cse=0,VS=class extends Ee{constructor(e,t,r){super(),this.instanceId=cse++,this.rowIndex=e,this.pinned=t,this.type=r;const n=r=="group"?"ag-header-row-column-group":r=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=Rn(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,t,r=!0){this.comp=e,t=Rp(this,this.beans.context,t),r&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Um(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=Rn(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,r=[],n=e.getGroupRowsHeight(),s=e.getColumnHeaderRowHeight();r.push(...n),r.push(s),t!=null&&t.hasFloatingFilters()&&r.push(e.getFloatingFiltersHeight());let i=0;for(let a=0;a<this.rowIndex;a++)i+=r[a];const o=r[this.rowIndex];return{topOffset:i,rowHeight:o}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,r,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,e);const r=n=>{const{focusService:s,visibleColsService:i}=this.beans;return s.isHeaderWrapperFocused(n)?i.isVisible(n.getColumnGroupChild()):!1};if(e)for(const[n,s]of e)r(s)?this.headerCellCtrls.set(n,s):this.destroyBean(s);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const r=e.getUniqueId();let n;if(t&&(n=t.get(r),t.delete(r)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":n=this.createBean(new lse(e,this.beans,this));break;default:n=this.createBean(new ise(e,this.beans,this));break}this.headerCellCtrls.set(r,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:r}=this.beans;return["left",null,"right"].forEach(n=>{const s=r.getHeadersToRender(n,t);e=e.concat(s)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let r;return typeof e=="function"?r=t.find(e):r=t.find(n=>n.getColumnGroupChild()==e),r}focusHeader(e,t){const r=this.findHeaderCellCtrl(e);return r?r.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},use=class extends Ee{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const r=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:r,advancedFilterEnabledChanged:r});const n=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(n,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new Td,r=this.focusService.getFocusHeaderToUseAfterRefresh(),n=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const u=this.createBean(new VS(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(u)}},s=()=>{const a=t.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new VS(a,this.pinned,"column")))},i=()=>{var u;this.includeFloatingFilter=!!((u=this.filterManager)!=null&&u.hasFloatingFilters())&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const l=t.next();if(this.filtersRowCtrl){const f=this.filtersRowCtrl.getRowIndex()!==l;(!e||f)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new VS(l,this.pinned,"filter")))};n(),s(),i();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(r)}getHeaderCtrlForColumn(e){var t;if(pl(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let r=0;r<this.groupsRowCtrls.length;r++){const n=this.groupsRowCtrls[r].getHeaderCellCtrl(e);if(n)return n}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const r=this.getAllCtrls()[e];return r?r.getType():void 0}focusHeader(e,t,r){const s=this.getAllCtrls()[e];return s?s.focusHeader(t,r):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new rse(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var t;const e=((t=this.filterManager)==null?void 0:t.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Ub(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const r=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(n==null)return;const s=n==0,i=this.hidden!==s,o=this.gos.get("enableRtl"),a=this.scrollVisibleService.getScrollbarWidth(),u=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?n+a:n;this.comp.setPinnedContainerWidth(`${u}px`),this.comp.setDisplayed(!s),i&&(this.hidden=s,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}},zb=class extends Ee{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},r=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(r,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(Te(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},dse=class extends dr{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=pt,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==ve.TAB||e.defaultPrevented||Zo(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=this.focusService.focusGridView(jt(this.visibleColsService.getAllCols()),!0,!1):r=this.focusService.focusNextGridCoreContainer(!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const r=this.eOverlayWrapper.classList;r.toggle("ag-layout-auto-height",t.autoHeight),r.toggle("ag-layout-normal",t.normal),r.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new zb(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,r,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),r&&this.focusService.isGridFocused()){const s=Dr(this.gos);s&&!d_(this.gos)&&(this.elToFocusAfter=s)}e.then(s=>{if(this.activePromise!==e){this.activeOverlay!==s&&(this.destroyBean(s),s=null);return}if(this.activePromise=null,!s)return;if(this.activeOverlay!==s&&(this.eOverlayWrapper.appendChild(s.getGui()),this.activeOverlay=s,n)){const o=s;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:a})=>{var l;(l=o.refresh)==null||l.call(o,this.gos.addGridCommonParams({...a??{}}))})}const i=this.focusService;r&&i.isGridFocused()&&i.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var n;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const r=this.updateListenerDestroyFunc;r&&(r(),this.updateListenerDestroyFunc=null),this.destroyBean(e),qs(this.eOverlayWrapper),(n=t==null?void 0:t.focus)==null||n.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},F3=class extends dr{constructor(e,t){super(),this.direction=t,this.eViewport=pt,this.eContainer=pt,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",B_()||Fl())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=V_(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),r=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:r,touchend:r})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();Fee(()=>Co(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},hse=class extends F3{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=pt,this.eRightSpacer=pt}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new Ub(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const r=!this.enableRtl&&e,n=this.scrollVisibleService.getScrollbarWidth();r&&(t+=n),Wi(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let s=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(s+=n),Wi(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,r=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleService.getScrollbarWidth()||0,i=r?0:n===0&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),ff(this.getGui(),i),ff(this.eViewport,i),ff(this.eContainer,i),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return Av(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){Co(this.getViewportElement())||this.attemptSettingScrollPosition(e),Dv(this.getViewportElement(),e,this.enableRtl)}},T3=class extends Ee{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},fse=class extends F3{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new T3(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,r=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=r===0&&t?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Wi(this.getGui(),n),Wi(this.eViewport,n),Wi(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,r=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),s=r.scrollTop;n!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!Co(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},bx=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(bx||{}),pse=class extends Ee{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=os(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=os(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(bx)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),r=t?os(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),n=t?os(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:r}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(bx),"Viewport"]){if(this.lastScrollSource[1]===t)continue;const r=this.getViewportForSource(t);Dv(r,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:r}=t;if(this.shouldBlockScrollUpdate(1,r,!0))return;const n=Av(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;e==="Viewport"?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,r=!1){return r&&!Fl()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Pb(this.eBodyViewport),{scrollHeight:r}=this.eBodyViewport;return e<0||e+t>r}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:r}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>r}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),Dv(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const r=this.rowModel.getRowCount();let n=-1;for(let s=0;s<r;s++){const i=this.rowModel.getRow(s);if(typeof e=="function"){if(i&&e(i)){n=s;break}}else if(e===i||e===i.data){n=s;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(Rn(this.gos,"print"))return;const r=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=r){Te("Invalid row index for ensureIndexVisible: "+e);return}const s=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var f;s||(f=this.paginationService)==null||f.goToPageWithIndex(e);const i=this.ctrlsService.getGridBodyCtrl(),o=i.getStickyTopHeight(),a=i.getStickyBottomHeight(),l=this.rowModel.getRow(e);let u;do{const p=l.rowTop,g=l.rowHeight,C=this.pageBoundsService.getPixelOffset(),S=l.rowTop-C,y=S+l.rowHeight,w=this.getVScrollPosition(),b=this.heightScaler.getDivStretchOffset(),F=w.top+b,R=w.bottom+b,E=R-F,A=this.heightScaler.getScrollPositionForPixel(S),D=this.heightScaler.getScrollPositionForPixel(y-E),M=Math.min((A+D)/2,S),I=F+o>S,_=R-a<y;let j=null;t==="top"?j=A:t==="bottom"?j=D:t==="middle"?j=M:I?j=A-o:_&&(j=D+a),j!==null&&(this.setVerticalScrollPosition(j),this.rowRenderer.redraw({afterScroll:!0})),u=p!==l.rowTop||g!==l.rowHeight}while(u);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const r=this.columnModel.getCol(e);if(!r||r.isPinned()||!this.visibleColsService.isColDisplayed(r))return;const n=this.getPositionedHorizontalScroll(r,t);this.getFrameworkOverrides().wrapIncoming(()=>{n!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(n),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:r,columnAfterEnd:n}=this.isColumnOutsideViewport(e),s=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),i=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?r:n)||s,l=o?n:r;t!=="auto"&&(a=t==="start",l=t==="end");const u=t==="middle";if(a||l||u){const{colLeft:f,colMiddle:p,colRight:g}=this.getColumnBounds(e);return u?p-i/2:a?o?g:f:o?f-i:g-i}return null}isColumnOutsideViewport(e){const{start:t,end:r}=this.getViewportBounds(),{colLeft:n,colRight:s}=this.getColumnBounds(e),i=this.enableRtl,o=i?t>s:r<s,a=i?r<n:t>n;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,r=this.visibleColsService.getBodyContainerWidth(),n=e.getActualWidth(),s=e.getLeft(),i=t?-1:1,o=t?r-s:s,a=o+n*i,l=o+n/2*i;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),r=t,n=e+t;return{start:r,end:n,width:e}}},gse=class extends Ee{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=Tp(e);if(t<=50)return;let r=this.getPinnedColumnsOverflowingViewport(t-50);const n=this.gos.getCallback("processUnpinnedColumns");r.length&&(n&&(r=n({columns:r,viewportWidth:t})),this.columnModel.setColsPinned(r,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),r=this.pinnedWidthService.getPinnedLeftWidth(),n=t+r;if(n<e)return[];const s=[...this.visibleColsService.getLeftCols()],i=[...this.visibleColsService.getRightCols()];let o=0,a=0;const l=0,u=[];let f=n-l-e;for(;(a<s.length||o<i.length)&&f>0;){if(o<i.length){const p=i[o++];f-=p.getActualWidth(),u.push(p)}if(a<s.length&&f>0){const p=s[a++];f-=p.getActualWidth(),u.push(p)}}return u}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=Pb(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},mse=class extends Ee{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{ca(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),ca(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},vse=class extends dr{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Ob]),this.eCheckbox=pt}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),r=Fb(e,t),[n,s]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],i=e(n,s);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${i} (${r})`)}onClicked(e,t,r){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:r.shiftKey,groupSelectsFiltered:t,event:r,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:n=>Ed(n),click:n=>{Ed(n);const s=xb(this.gos)==="filteredDescendants",i=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(i,s)?this.onClicked(!0,s,n||{})===0&&this.onClicked(!1,s,n):i?this.onClicked(!1,s,n):this.onClicked(!0,s,n||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),wb(this.gos)||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&yr(this.gos)}showOrHideSelect(){var s,i,o;let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if(typeof t=="function"){const a=(s=this.overrides)==null?void 0:s.callbackParams;if(!this.column)e=t({...a,node:this.rowNode,data:this.rowNode.data});else{const l=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...a,...l})}}else e=t??!1;const r=this.gos.get("rowSelection");if(r&&typeof r!="string"?!Mee(r):(i=this.column)==null?void 0:i.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if((o=this.overrides)!=null&&o.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){var t,r;if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&typeof e!="string"?bd(e):(r=(t=this.column)==null?void 0:t.getColDef())==null?void 0:r.checkboxSelection}},Cse=class extends dr{constructor(e,t,r){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=r}postConstruct(){this.getGui().appendChild(Vs("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const r=()=>{try{const n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}};if(t){const n=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(n)}else r()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},yse=class extends Ee{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,r=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,r,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const r=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),n=e.cellStyle;t=n(r)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!0))}destroy(){super.destroy()}},Sse=class extends Ee{constructor(e,t,r,n,s){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=s}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case ve.ENTER:this.onEnterKeyDown(e);break;case ve.F2:this.onF2KeyDown(e);break;case ve.ESCAPE:this.onEscapeKeyDown(e);break;case ve.TAB:this.onTabKeyDown(e);break;case ve.BACKSPACE:case ve.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case ve.DOWN:case ve.UP:case ve.RIGHT:case ve.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:r,beans:n,rowNode:s}=this,{gos:i,rangeService:o,eventService:a}=n;if(!r.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),rne(e,i.get("enableCellEditingOnBackspace"))){if(o&&ca(i))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(r.isCellEditable()){const l=r.getColumn(),u=this.beans.valueService.getDeleteValue(l,s);s.setDataValue(l,u,"cellClear")}}else r.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?ve.UP:ve.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(ve.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ve.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const n=e.key;n===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(n,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&wv(t)){const r=this.rowNode.isSelected(),n=!r,s=xb(t)==="filteredDescendants",i=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"});r===void 0&&i===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},wse=class extends Ee{constructor(e,t,r){super(),this.cellCtrl=e,this.beans=t,this.column=r}onMouseEvent(e,t){if(!Zo(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:r,gos:n}=this.beans,s=e.ctrlKey||e.metaKey;r&&s&&r.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&r.intersectLastRange(!0);const i=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(i);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(i)})},0),(n.get("singleClickEdit")||o.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&(r==null?void 0:r.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Fl()||S_("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:r,cellCtrl:n}=this,{eventService:s,frameworkOverrides:i,gos:o}=r,a=t.getColDef(),l=n.createEvent(e,"cellDoubleClicked");s.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{i.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&n.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:r,shiftKey:n}=e,s=e.target,{cellCtrl:i,beans:o}=this,{eventService:a,rangeService:l,focusService:u,gos:f}=o;if(this.isRightClickInExistingRange(e))return;const p=l&&l.getCellRanges().length!=0;if(!n||!p){const C=f.get("enableCellTextSelection")&&e.defaultPrevented,S=(da()||C)&&!i.isEditing()&&!Tb(s);i.focusCell(S)}if(n&&p&&!u.isCellFocused(i.getCellPosition())){e.preventDefault();const g=u.getFocusedCell();if(g){const{column:C,rowIndex:S,rowPinned:y}=g,w=o.rowRenderer.getRowByPosition({rowIndex:S,rowPinned:y}),b=w==null?void 0:w.getCellCtrl(C);b!=null&&b.isEditing()&&b.stopEditing(),u.setFocusedCell({column:C,rowIndex:S,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(l){const g=this.cellCtrl.getCellPosition();if(n)l.extendLatestRangeToCell(g);else{const C=t||r;l.setRangeToCell(g,C)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const r=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(r&&n)return!0}return!1}containsWidget(e){return ed(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),r=t.contains(e.target),n=t.contains(e.relatedTarget);return r&&n}destroy(){super.destroy()}},xse=class extends Ee{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Rl(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let r=this.column;const n=this.column.getPinned();for(let s=0;r&&s<e&&(t.push(r),r=this.beans.visibleColsService.getColAfter(r),!(!r||Bt(r)||n!==r.getPinned()));s++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=jt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=this.beans.visibleColsService.getBodyContainerWidth();return t+r+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const r=yc(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${r}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},zh="ag-cell-range-selected",bse="ag-cell-range-chart",Ese="ag-cell-range-single-cell",Rse="ag-cell-range-chart-category",Fse="ag-cell-range-handle",Tse="ag-cell-range-top",Pse="ag-cell-range-right",Ase="ag-cell-range-bottom",Dse="ag-cell-range-left",Mse=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(zh,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${zh}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${zh}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${zh}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${zh}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(bse,this.hasChartRange),Tv(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(Ese,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),r=!t&&e.top,n=!t&&e.right,s=!t&&e.bottom,i=!t&&e.left;this.cellComp.addOrRemoveCssClass(Tse,r),this.cellComp.addOrRemoveCssClass(Pse,n),this.cellComp.addOrRemoveCssClass(Ase,s),this.cellComp.addOrRemoveCssClass(Dse,i)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(r=>Sc([1,0],r.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,r=!1,n=!1,s=!1;const i=this.cellCtrl.getCellPosition().column,o=this.beans.visibleColsService;let a,l;e?(a=o.getColAfter(i),l=o.getColBefore(i)):(a=o.getColBefore(i),l=o.getColAfter(i));const u=this.rangeService.getCellRanges().filter(f=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),f));a||(s=!0),l||(r=!0);for(let f=0;f<u.length&&!(t&&r&&n&&s);f++){const p=u[f],g=this.rangeService.getRangeStartRow(p),C=this.rangeService.getRangeEndRow(p);!t&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(C,this.cellCtrl.getCellPosition())&&(n=!0),!s&&a&&p.columns.indexOf(a)<0&&(s=!0),!r&&l&&p.columns.indexOf(l)<0&&(r=!0)}return{top:t,right:r,bottom:n,left:s}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(Fse,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),r=t.length;if(this.rangeCount<1||r<1)return!1;const n=jt(t),s=this.cellCtrl.getCellPosition(),i=OD(e)&&!this.cellCtrl.isSuppressFillHandle(),o=kee(e);let a=r===1&&!this.cellCtrl.isEditing()&&(i||o);if(this.hasChartRange){const u=t[0].type===1&&this.rangeService.isCellInSpecificRange(s,t[0]);this.cellComp.addOrRemoveCssClass(Rse,u),a=n.type===0}return a&&n.endRow!=null&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,s)}addSelectionHandle(){const e=jt(this.rangeService.getCellRanges()).type,r=OD(this.beans.gos)&&Bt(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(r)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},Nse="ag-cell",Ise="ag-cell-auto-height",Ose="ag-cell-normal-height",kse="ag-cell-focus",Lse="ag-cell-first-right-pinned",_se="ag-cell-last-left-pinned",jse="ag-cell-not-inline-editing",Bse="ag-column-hover",Gse="ag-cell-wrap-text",Vse=0,P3=class Ex extends Ee{constructor(t,r,n,s){super(),this.column=t,this.rowNode=r,this.beans=n,this.rowCtrl=s,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=t.getId()+"-"+Vse++,this.colIdSanitised=mo(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new xse(this,this.beans),this.cellCustomStyleFeature=new yse(this,this.beans),this.cellMouseListenerFeature=new wse(this,this.beans,this.column),this.cellKeyboardListenerFeature=new Sse(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&ca(this.beans.gos)&&(this.cellRangeFeature=new Mse(this.beans,this))}removeFeatures(){const t=this.beans.context;this.cellPositionFeature=t.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=t.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=t.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=t.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=t.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(t,r){const n=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&Le(a))return hf(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},s=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!r&&s&&!this.isCellRenderer()&&(r=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const i={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:n,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:r};this.tooltipFeature=new zd(i,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(t,r,n,s,i,o){var a,l,u,f;this.cellComp=t,this.eGui=r,this.printLayout=s,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.cellPositionFeature)==null||a.setComp(r),(l=this.cellCustomStyleFeature)==null||l.setComp(t),(u=this.tooltipFeature)==null||u.refreshToolTip(),(f=this.cellKeyboardListenerFeature)==null||f.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,r),i&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(p=>p()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t,r){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const n=t.parentElement,s=fl(this.beans.gos,this.rowNode).height,i=l=>{if(this.editing||!this.isAlive()||!r.isAlive())return;const{paddingTop:u,paddingBottom:f,borderBottomWidth:p,borderTopWidth:g}=$c(n),C=u+f+p+g,y=t.offsetHeight+C;if(l<5){const b=jr(this.beans.gos),F=!b||!b.contains(t),R=y==0;if(F||R){window.setTimeout(()=>i(l+1),0);return}}const w=Math.max(y,s);this.rowNode.setRowAutoHeight(w,this.column)},o=()=>i(0);o();const a=this.beans.resizeObserverService.observeResize(t,o);r.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){var g;const{beans:r,column:n,rowNode:s,cellRangeFeature:i,cellComp:o}=this,{userComponentFactory:a,animationFrameService:l}=r,u=this.getValueToDisplay();let f;if(s.stub&&((g=s.groupData)==null?void 0:g[this.column.getId()])==null){const C=this.createCellRendererParams();f=a.getLoadingCellRendererDetails(n.getColDef(),C)}else if(this.isCellRenderer()){const C=this.createCellRendererParams();f=a.getCellRendererDetails(n.getColDef(),C)}o.setRenderDetails(f,u,t),l.requestAnimationFrame(()=>i==null?void 0:i.refreshHandle())}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(t)),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}isCheckboxSelection(t){const{rowSelection:r}=this.beans.gridOptions;return t.checkboxSelection||Rd(this.column)&&r&&typeof r!="string"&&bd(r)}refreshShouldDestroy(){const t=this.column.getColDef(),r=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(t)),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),s=this.includeDndSource!=this.isIncludeControl(t.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return r||n||s||i}startEditing(t=null,r=!1,n=null){const{editService:s}=this.beans;return!this.isCellEditable()||this.editing||!s?!0:this.cellComp?s.startEditing(this,t,r,n):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,r,n)}),!0)}setEditing(t,r){this.editCompDetails=r,this.editing!==t&&(this.editing=t)}stopRowOrCellEdit(t=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){this.onCellEditorAttachedFuncs=[];const{editService:r}=this.beans;return!this.editing||!r?!1:r.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:r=>this.beans.valueService.setValue(this.rowNode,this.column,r),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(r,n,s,i)=>this.registerRowDragger(r,n,i),setTooltip:(r,n)=>{var s;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(r,n),(s=this.tooltipFeature)==null||s.refreshToolTip()}})}setFocusOutOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusOutOnEditor(this))}setFocusInOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusInOnEditor(this))}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var r;this.refreshShouldDestroy()?(r=this.rowCtrl)==null||r.recreateCell(this):this.refreshCell(t)}refreshCell(t){var f,p,g,C,S;if(this.suppressRefreshCell||this.editing)return;const r=this.column.getColDef(),n=t!=null&&!!t.newData,s=t!=null&&!!t.suppressFlash||!!r.suppressCellFlash,i=r.field==null&&r.valueGetter==null&&r.showRowGroup==null,o=t&&t.forceRefresh||i||n,a=!!this.cellComp,l=this.updateAndFormatValue(a),u=o||l;if(a){if(u){this.showValue(n);const y=(f=this.beans.filterManager)==null?void 0:f.isSuppressFlashingCellsBecauseFiltering();!s&&!y&&(this.beans.gos.get("enableCellChangeFlash")||r.enableCellChangeFlash)&&this.flashCell(),(p=this.cellCustomStyleFeature)==null||p.applyUserStyles(),(g=this.cellCustomStyleFeature)==null||g.applyClassesFromColDef()}(C=this.tooltipFeature)==null||C.refreshToolTip(),(S=this.cellCustomStyleFeature)==null||S.applyCellClassRules()}}stopEditingAndFocus(t=!1,r=!1){var n;(n=this.beans.editService)==null||n.stopEditingAndFocus(this,t,r)}flashCell(t){const r=(t==null?void 0:t.flashDuration)??(t==null?void 0:t.flashDelay),n=(t==null?void 0:t.fadeDuration)??(t==null?void 0:t.fadeDelay);this.animateCell("data-changed",r,n)}animateCell(t,r,n){if(!this.cellComp)return;const{gos:s}=this.beans;if(r||(r=s.get("cellFlashDuration")),r===0)return;Le(n)||(n=s.get("cellFadeDuration"));const i=`ag-cell-${t}`,o=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(i,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(i,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")},n))},r)})}onFlashCells(t){if(!this.cellComp)return;const r=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[r]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const r=this.value,n=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(r,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(t,r){const n=this.column.getColDef();return n.equals?n.equals(t,r):t===r}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const r=this.getGui();Mc(this.beans.gos,r,Ex.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc(()=>Mc(this.beans.gos,r,Ex.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,r){return this.beans.gos.addGridCommonParams({type:r,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var r;(r=this.cellKeyboardListenerFeature)==null||r.processCharacter(t)}onKeyDown(t){var r;(r=this.cellKeyboardListenerFeature)==null||r.onKeyDown(t)}onMouseEvent(t,r){var n;(n=this.cellMouseListenerFeature)==null||n.onMouseEvent(t,r)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&((t=this.cellPositionFeature)==null||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:r,beans:n}=this;v3(t,r,n.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);N_(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return(t=this.cellPositionFeature)==null?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,r=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,r):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,r)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&vi(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(Lse,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(_se,t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const r=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){r&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(kse,r),r&&t&&t.forceBrowserFocus){let s=this.cellComp.getFocusableElement();if(this.editing){const i=this.beans.focusService.findFocusableElements(s,null,!0);i.length&&(s=i[0])}s.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const n=this.beans.gos.get("editType")==="fullRow";!r&&!n&&this.editing&&this.stopRowOrCellEdit(),r&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Xo(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(Nse,!0),this.cellComp.addOrRemoveCssClass(jse,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(Ise,t),this.cellComp.addOrRemoveCssClass(Ose,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(Bse,t)}onColDefChanged(){var r;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(r=this.beans.editService)==null||r.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(Gse,t)}dispatchCellContextMenuEvent(t){const r=this.column.getColDef(),n=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(n),r.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{r.onCellContextMenu(n)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new vse;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new Cse(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,r,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,r);return}const s=this.createRowDragComp(t,r,n);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}))}createRowDragComp(t,r,n){const s=this.beans.gos.get("pagination"),i=this.beans.gos.get("rowDragManaged"),o=yr(this.beans.gos);if(i){if(!o){Te("managed row dragging is only allowed in the Client Side Row Model");return}if(s){Te("managed row dragging is not possible when doing pagination");return}}const a=new Cx(()=>this.value,this.rowNode,this.column,t,r,n);return this.beans.context.createBean(a),a}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(t){this.onCellEditorAttachedFuncs.push(t)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(t=>t()),this.onCellEditorAttachedFuncs=[]}};P3.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var wc=P3,Hse=0,A3=class Rx extends Ee{constructor(t,r,n,s,i){var o;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=r,this.gos=r.gos,this.rowNode=t,this.paginationPage=((o=r.paginationService)==null?void 0:o.getCurrentPage())??0,this.useAnimationFrameForCreate=s,this.printLayout=i,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+Hse++,this.rowId=mo(t.id),this.initRowBusinessKey(),this.rowFocused=r.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=r.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=mo(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(t,r){t==="left"?this.leftGui=r:t==="right"?this.rightGui=r:t==="fullWidth"?this.fullWidthGui=r:this.centerGui=r}setComp(t,r,n,s){s=Rp(this,this.beans.context,s);const i={rowComp:t,element:r,containerType:n,compBean:s};this.allRowGuis.push(i),this.updateGui(n,i),this.initialiseRowComp(i),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(r=>r.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const r=t?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=r)}initialiseRowComp(t){const r=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),wv(r)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(i=>n.addOrRemoveCssClass(i,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Fv(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Mc(r,t.element,Rx.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc(()=>Mc(r,t.element,Rx.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),r.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=mo(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:r}=t;this.slideInAnimation[r]&&(ND(()=>{this.onTopChanged()}),this.slideInAnimation[r]=!1),this.fadeInAnimation[r]&&(ND(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[r]=!1)}addRowDraggerToRow(t){if(ca(this.gos)){Te("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const r=this.beans.localeService.getLocaleTextFunc(),n=new Cx(()=>`1 ${r("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),s=this.createBean(n,this.beans.context);this.rowDragComps.push(s),t.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==s),this.destroyBean(s,this.beans.context)})}setupFullWidth(t){const r=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const n=this.createFullWidthCompDetails(t.element,r);t.rowComp.showFullWidth(n)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,r;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var s;return(s=n==null?void 0:n.rowComp)==null?void 0:s.getFullWidthCellRenderer()}):[(r=(t=this.fullWidthGui)==null?void 0:t.rowComp)==null?void 0:r.getFullWidthCellRenderer()]}getCellElement(t){const r=this.getCellCtrl(t);return r?r.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const r={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(r)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),r=!!this.centerGui,n=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&r&&n}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this.rowNode}):!1}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),r=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,s=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&N0(this.gos,s);t?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":r?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,r=!1){if(this.isFullWidth())return;if(t||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(r);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,r,n=null){const s={list:[],map:{}},i=(a,l,u)=>{u!=null?s.list.splice(u,0,l):s.list.push(l),s.map[a]=l},o=[];for(const a of r){const l=a.getInstanceId();let u=t.map[l];u||(u=new wc(a,this.rowNode,this.beans,this)),i(l,u)}for(const a of t.list){const l=a.getColumn().getInstanceId();if(s.map[l]!=null)continue;!this.isCellEligibleToBeRemoved(a,n)?o.push([l,a]):a.destroy()}if(o.length)for(const[a,l]of o){const u=s.list.findIndex(p=>p.getColumn().getLeft()>l.getColumn().getLeft()),f=u===-1?void 0:Math.max(u-1,0);i(a,l,f)}return s}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(r=>{const n=this.getCellCtrlsForContainer(r.containerType);r.rowComp.setCellCtrls(n,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,r=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const s=r.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");const i=r.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(t,r){if(t.getColumn().getPinned()!=r)return!0;const o=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||a){const u=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(u)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Rn(this.gos,"print")}listenOnDomOrder(t){const r=()=>{t.rowComp.setDomOrder(this.getDomOrder())};t.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],r)}setAnimateFlags(t){if(this.isSticky()||!t)return;const r=Le(this.rowNode.oldRowTop),n=this.beans.visibleColsService.isPinningLeft(),s=this.beans.visibleColsService.isPinningRight();if(r){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=s}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=s}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,r=t(this.fullWidthGui,null),n=t(this.centerGui,null),s=t(this.leftGui,"left"),i=t(this.rightGui,"right");return r&&n&&s&&i}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(r=>{this.addRowDraggerToRow(r)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(r=>r.onCellChanged(t))}})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(r=>{const n=t===0,s=t===1;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),r=this.rowNode.expanded==!0;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&r),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!r),Fv(n.element,t&&r)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Xo(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(t){return this.allRowGuis.find(r=>r.element.contains(t))}onKeyboardNavigate(t){const r=this.findFullWidthRowGui(t.target);if(!((r?r.element:null)===t.target))return;const i=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:(o==null?void 0:o.column)??this.getColumnForFullWidth(r)};this.beans.navigationService.navigateToNextCell(t,t.key,a,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||Zo(t))return;const r=this.allRowGuis.find(l=>l.element.contains(t.target)),n=r?r.element:null,s=n===t.target,i=Dr(this.gos);let o=!1;n&&i&&(o=n.contains(i)&&i.classList.contains("ag-cell"));let a=null;!s&&!o&&(a=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&s||!a)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var r;const t=(r=this.allRowGuis.find(n=>Co(n.element)))==null?void 0:r.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const r=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(n=>{vi(n.element,"tabindex",r)})}onFullWidthRowFocused(t){var i;const r=this.rowNode,n=t?this.isFullWidth()&&t.rowIndex===r.rowIndex&&t.rowPinned==r.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)==null?void 0:i.element;s&&(s.classList.toggle("ag-full-width-focus",n),n&&(t!=null&&t.forceBrowserFocus)&&s.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,r){const n={list:[],map:{}};return t.list.forEach(s=>{s!==r&&(n.list.push(s),n.map[s.getColumn().getInstanceId()]=s)}),n}onMouseEvent(t,r){switch(t){case"dblclick":this.onRowDblClick(r);break;case"click":this.onRowClick(r);break;case"touchstart":case"mousedown":this.onRowMouseDown(r);break}}createRowEvent(t,r){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:r})}createRowEventWithSource(t,r){const n=this.createRowEvent(t,r);return n.source=this,n}onRowDblClick(t){Zo(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}getColumnForFullWidth(t){const{visibleColsService:r}=this.beans;switch(t==null?void 0:t.containerType){case"center":return r.getCenterCols()[0];case"left":return r.getLeftCols()[0];case"right":return r.getRightCols()[0];default:return r.getAllCols()[0]}}onRowMouseDown(t){if(this.lastMouseDownOnDragger=ed(t.target,"ag-row-drag",3),!this.isFullWidth())return;const r=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const n=this.findFullWidthRowGui(t.target),s=n==null?void 0:n.element,i=t.target;let o=!0;s&&s.contains(i)&&Tb(i)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:r.rowIndex,column:this.getColumnForFullWidth(n),rowPinned:r.rowPinned,forceBrowserFocus:o})}onRowClick(t){if(Zo(t)||this.lastMouseDownOnDragger)return;const{gos:n}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const s=t.ctrlKey||t.metaKey,i=t.shiftKey,o=this.rowNode.isSelected(),a=Nc(n),l=kD(n),u=Lee(n);if(a&&this.rowNode.group||this.isRowSelectionBlocked()||!u&&!o||!l&&o)return;const f=_ee(n),p="rowClicked";if(o)f?this.rowNode.setSelectedParams({newValue:!1,event:t,source:p}):s?l&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:p}):u&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!i,rangeSelect:i,event:t,source:p});else{const g=f?!1:!s;this.rowNode.setSelectedParams({newValue:!0,clearSelection:g,rangeSelect:i,event:t,source:p})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!wv(this.gos)}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const r=()=>{const s=t.clientHeight;if(s!=null&&s>0){const i=()=>{this.rowNode.setRowHeight(s),(yr(this.gos)||bo(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(i,0)}},n=this.beans.resizeObserverService.observeResize(t,r);this.addDestroyFunc(n),r()}createFullWidthCompDetails(t,r){const{gos:n,rowNode:s}=this,i=n.addGridCommonParams({fullWidth:!0,data:s.data,node:s,value:s.key,valueFormatted:s.key,eGridCell:t,eParentOfValue:t,pinned:r,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,l,u,f)=>this.addFullWidthRowDragging(a,l,u,f),setTooltip:(a,l)=>this.refreshRowTooltip(a,l)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(i);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(i);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(i);default:return o.getFullWidthCellRendererDetails(i)}}refreshRowTooltip(t,r){if(!this.fullWidthGui)return;const n={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new zd(n,this.beans))}addFullWidthRowDragging(t,r,n="",s){if(!this.isFullWidth())return;const i=new Cx(()=>n,this.rowNode,void 0,t,r,s);this.createBean(i,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(i,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const r="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass(r,!0),s.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),r=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==r&&(this.lastRowOnPage=r,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",r)))}stopEditing(t=!1){var r;this.stoppingRowEdit||(r=this.beans.rowEditService)==null||r.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(r=>r.isEditing());this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,r=null,n=null){var s;return this.editingRow?!0:((s=this.beans.rowEditService)==null?void 0:s.startEditing(this,t,r,n))??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(r=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(r,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,r){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(r,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"||t==="right"?t:null}getInitialRowClasses(t){const r=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t=="function"){Te("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const r=this.gos.getCallback("getRowStyle");let n;if(r){const s={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};n=r(s)}return n||t?Object.assign({},t,n):this.emptyStyle}onRowSelected(t){const r=!!this.rowNode.isSelected();this.forEachGui(t,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",r),Tv(n.element,r),n.element.contains(Dr(this.gos))&&(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&!kD(this.gos))return;const n=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(n,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{element:r,compBean:n}=t,{rowNode:s,beans:i,gos:o}=this;n.addManagedListeners(r,{mouseenter:()=>s.onMouseEnter(),mouseleave:()=>s.onMouseLeave()}),n.addManagedListeners(s,{mouseEnter:()=>{!i.dragService.isDragging()&&!o.get("suppressRowHoverHighlight")&&(r.classList.add("ag-row-hover"),s.setHovered(!0))},mouseLeave:()=>{r.classList.remove("ag-row-hover"),s.setHovered(!1)}})}roundRowTopToBounds(t){const r=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(r.top,!0)-100,s=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(n,t),s)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,r){t?r(t):this.allRowGuis.forEach(r)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const r=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=c_(this.gos)?fl(this.gos,this.rowNode).height:void 0,o=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(t,a=>{a.element.style.height=`${r}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(t,r){super.addEventListener(t,r)}removeEventListener(t,r){super.removeEventListener(t,r)}destroyFirstPass(t=!1){if(this.active=!1,!t&&Ju(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const r=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(r),this.beans.eventService.dispatchEvent(r),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=r=>(r.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,r=>{r.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var r;const t=((r=this.beans.paginationService)==null?void 0:r.getCurrentPage())??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,r=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const n=this.beans.pageBoundsService.getPixelOffset();return t+n*(r?1:-1)}setRowTop(t){if(!this.printLayout&&Le(t)){const r=this.applyPaginationOffset(t),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}px`;this.setRowTopStyle(i)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const r=this.rowNode;let n;if(this.isSticky())n=r.stickyRowTop;else{const s=this.slideInAnimation[t]?this.roundRowTopToBounds(r.oldRowTop):r.rowTop,i=this.applyPaginationOffset(s);n=r.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(t){this.allRowGuis.forEach(r=>this.suppressRowTransform?r.rowComp.setTop(t):r.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let r=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==t&&(r=n)}),r!=null||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(t)>=0&&(r=n)}),r}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){var o;const r=this.rowNode.getRowIndexString();if(r===null)return;const n=this.beans.headerNavigationService.getHeaderRowCount()+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),s=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(t,a=>{a.rowComp.setRowIndex(r),a.rowComp.addOrRemoveCssClass("ag-row-even",s),a.rowComp.addOrRemoveCssClass("ag-row-odd",!s),Ete(a.element,i)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};A3.DOM_DATA_KEY_ROW_CTRL="renderedRow";var xc=A3,Wse=class extends Ee{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",S_("touchstart")?"touchstart":"mousedown"].forEach(r=>{const n=this.processMouseEvent.bind(this,r);this.addManagedElementListeners(this.element,{[r]:n})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Zo(t))return;const r=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,r,n):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Fl())return;const e=new ol(this.element),t=r=>{const n=this.getRowForEvent(r.touchEvent),s=this.mouseEventService.getRenderedCellForEvent(r.touchEvent);this.handleContextMenuMouseEvent(void 0,r.touchEvent,n,s)};this.addManagedListeners(e,{longTap:t}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const r=Bf(this.gos,t,xc.DOM_DATA_KEY_ROW_CTRL);if(r)return r;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,r,n){const s=r?r.getRowNode():null,i=n?n.getColumn():null;let o=null;if(i){const u=e||t;n.dispatchCellContextMenuEvent(u??null),o=this.valueService.getValue(i,s)}const a=this.ctrlsService.getGridBodyCtrl(),l=n?n.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:s,column:i,value:o,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:cx(this.gos,e,wc.DOM_DATA_KEY_CELL_CTRL),rowCtrl:cx(this.gos,e,xc.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(r?this.processCellKeyboardEvent(r,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,r){const n=e.getRowNode(),s=e.getColumn(),i=e.isEditing();!yx(this.gos,r,n,s,i)&&t==="keydown"&&(!i&&this.navigationService.handlePageScrollingKey(r)||e.onKeyDown(r),this.doGridOperations(r,e.isEditing()),o3(r)&&e.processCharacter(r)),t==="keydown"&&this.eventService.dispatchEvent(e.createEvent(r,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,r){const n=e.getRowNode(),s=this.focusService.getFocusedCell(),i=s&&s.column;if(!yx(this.gos,r,n,i,!1)){const a=r.key;if(t==="keydown")switch(a){case ve.PAGE_HOME:case ve.PAGE_END:case ve.PAGE_UP:case ve.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case ve.UP:case ve.DOWN:e.onKeyboardNavigate(r);break;case ve.TAB:e.onTabKeyDown(r);break}}t==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",r))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const r=tne(e);if(r===ve.A)return this.onCtrlAndA(e);if(r===ve.C)return this.onCtrlAndC(e);if(r===ve.D)return this.onCtrlAndD(e);if(r===ve.V)return this.onCtrlAndV(e);if(r===ve.X)return this.onCtrlAndX(e);if(r===ve.Y)return this.onCtrlAndY();if(r===ve.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:r,rangeService:n}=this;if(n&&r.isRowsToRender()){const[s,i]=[t.isEmpty("top"),t.isEmpty("bottom")],o=s?null:"top";let a,l;i?(a=null,l=r.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowCount()-1);const u=this.visibleColsService.getAllCols();if(zs(u))return;n.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:u[0],columnEnd:jt(u)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var e;(e=this.undoRedoService)==null||e.redo("ui")}},Use=class extends Ee{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Pr(this.element,t),Wi(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},$se=class extends Ee{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Pr(this.element,t),Wi(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},vm=e=>e.getTopRowCtrls(),Cm=e=>e.getStickyTopRowCtrls(),ym=e=>e.getStickyBottomRowCtrls(),Sm=e=>e.getBottomRowCtrls(),wm=e=>e.getCentreRowCtrls(),zse={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:wm},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:wm},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:wm},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:wm},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:vm},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:vm},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:vm},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:vm},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:Cm},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Cm},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Cm},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:Cm},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:ym},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:ym},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:ym},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:ym},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Sm},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Sm},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Sm},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Sm}};function zu(e){return zse[e]}var Kse=["topCenter","topLeft","topRight"],qse=["bottomCenter","bottomLeft","bottomRight"],Yse=["center","left","right"],Qse=["center","left","right","fullWidth"],Xse=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Zse=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],Jse=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],D3=["stickyTopCenter","stickyTopLeft","stickyTopRight"],M3=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],eie=[...D3,"stickyTopFullWidth",...M3,"stickyBottomFullWidth"],tie=[...Kse,...qse,...Yse,...D3,...M3],rie=class extends Ee{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=zu(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new gse(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,r){this.comp=e,this.eContainer=t,this.eViewport=r,this.createManagedBean(new Wse(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const n=()=>this.onPinnedWidthChanged();this.forContainers(Zse,()=>{this.pinnedWidthFeature=this.createManagedBean(new Use(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:n})}),this.forContainers(Jse,()=>{this.pinnedWidthFeature=this.createManagedBean(new $se(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:n})}),this.forContainers(Qse,()=>this.createManagedBean(new T3(this.eContainer,this.name==="center"?r:void 0))),this.forContainers(tie,()=>this.createManagedBean(new mse(this.eContainer))),this.forContainers(Xse,()=>this.createManagedBean(new Ub(s=>this.comp.setContainerWidth(`${s}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(eie.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const r=this.gos.get("ensureDomOrder"),n=Rn(this.gos,"print");this.comp.setDomOrder(r||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,r,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Tp(this.eViewport)}getCenterViewportScrollLeft(){return Av(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return L_(this.eViewport)}getViewportScrollLeft(){return Av(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||Nte(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Dv(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const r=Rn(this.gos,"print"),s=this.gos.get("embedFullWidthRows")||r,i=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!s&&a:s||!a});this.comp.setRowCtrls({rowCtrls:i,useFlushSync:e})}},nie="ag-force-vertical-scroll",sie="ag-selectable",iie="ag-column-moving",oie=class extends Ee{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,r,n,s,i,o){var a;this.comp=e,this.eGridBody=t,this.eBodyViewport=r,this.eTop=n,this.eBottom=s,this.eStickyTop=i,this.eStickyBottom=o,this.eCenterColsViewport=r.querySelector(`.${zu("center").viewport}`),this.eFullWidthContainer=r.querySelector(`.${zu("fullWidth").container}`),this.eStickyTopFullWidthContainer=i.querySelector(`.${zu("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${zu("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new zb(this.comp)),this.bodyScrollFeature=this.createManagedBean(new pse(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,r,s,i,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(a=this.filterManager)==null||a.setupAdvancedFilterHeaderComp(n),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:r=>{const{target:n}=r,s=ed(n,"ag-root",t);t.classList.toggle("ag-has-focus",!s)},focusout:r=>{const{target:n,relatedTarget:s}=r,i=t.contains(s),o=ed(s,"ag-root",t);ed(n,"ag-root",t)||(!i||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(iie,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(sie,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.scrollVisibleService.getScrollbarWidth()||0,r=V_()?16:0,n=`calc(100% + ${t+r}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=r=>{const n=r.relatedTarget;if(mx(n)===null){this.rowRenderer.stopEditing();return}let s=t.some(i=>i.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!s){const i=this.popupService;s=i.getActivePopups().some(o=>o.contains(n))||i.isElementWithinCustomPopup(n)}s||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(r=>this.addManagedElementListeners(r,{focusout:e}))}updateRowCount(){var n;const e=this.headerNavigationService.getHeaderRowCount()+(((n=this.filterManager)==null?void 0:n.getHeaderRowCount())??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=t===-1?-1:e+t;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?nie:null,r=Rn(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||r&&Ite(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const r=e&&Ju(this.gos)&&!this.rowContainerHeightService.isStretching(),n=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(n,r)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(r))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e,s=n||Math.abs(t)>Math.abs(r),i=e.target;s?(this.eStickyTopFullWidthContainer.contains(i)||this.eStickyBottomFullWidthContainer.contains(i))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(r))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:r}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||r})}onBodyViewportContextMenu(e,t,r){if(!e&&!r)return;this.gos.get("preventDefaultOnContextMenu")&&(e||r).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:r,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Fl())return;const t=new ol(this.eBodyViewport),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:r}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Ore(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),r=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(r),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var s;const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((s=this.filterManager)==null?void 0:s.getHeaderHeight())??0),r=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;t>0&&(n+=t),r>0&&(n+=r),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),r=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,n=e+r;this.comp.setStickyBottomBottom(`${n}px`)}sizeColumnsToFit(e,t){const n=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,i=Tp(this.eGridBody)-n;if(i>0){this.columnSizeService.sizeColumnsToFit(i,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):Te("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};function Kh(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}`${Kh(["topLeft","topCenter","topRight","topFullWidth"])}${Kh(["left","center","right","fullWidth"])}${Kh(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}${Kh(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}${Kh(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}`;var aie=class extends Ee{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),r=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==r)&&(this.horizontalScrollGap=t,this.verticalScrollGap=r,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),r=typeof e=="number"&&e>=0?e:Gte();r!=null&&(this.scrollbarWidth=r,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},QD="__ag_grid_instance",N3=class I3 extends Ee{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=I3.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[QD]=this.gridInstanceId}getRenderedCellForEvent(t){return cx(this.gos,t.target,wc.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let r=t;for(;r;){const n=r[QD];if(Le(n))return n===this.gridInstanceId;r=r.parentElement}return!1}getCellPositionForEvent(t){const r=this.getRenderedCellForEvent(t);return r?r.getCellPosition():null}getNormalisedPosition(t){const r=Rn(this.gos,"normal"),n=t;let s,i;if(n.clientX!=null||n.clientY!=null?(s=n.clientX,i=n.clientY):(s=n.x,i=n.y),r){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition(),l=o.getScrollFeature().getHScrollPosition();s+=l.left,i+=a.top}return{x:s,y:i}}};N3.gridInstanceSequence=new Td;var lie=N3,cie=class extends Ee{constructor(){super(),this.beanName="navigationService",this.onPageDown=ID(this.onPageDown,100),this.onPageUp=ID(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const r=e.key,n=e.altKey,s=e.ctrlKey||e.metaKey,i=!!this.rangeService&&e.shiftKey,o=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(r){case ve.PAGE_HOME:case ve.PAGE_END:!s&&!n&&(this.onHomeOrEndKey(r),a=!0);break;case ve.LEFT:case ve.RIGHT:case ve.UP:case ve.DOWN:if(!o)return!1;s&&!n&&!i&&(this.onCtrlUpDownLeftRight(r,o),a=!0);break;case ve.PAGE_DOWN:case ve.PAGE_UP:!s&&!n&&(a=this.handlePageUpDown(r,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,r){return r&&(t=this.focusService.getFocusedCell()),t?(e===ve.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){var o;const{scrollIndex:t,scrollType:r,scrollColumn:n,focusIndex:s,focusColumn:i}=e;Le(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),Le(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,r),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:i,rowPinned:null,forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:s,rowPinned:null,column:i})}onPageDown(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),s=this.pageBoundsService.getPixelOffset(),i=r.top+n,o=this.rowModel.getRowIndexAtPixel(i+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.pageBoundsService.getPixelOffset(),s=r.top,i=this.rowModel.getRowIndexAtPixel(s+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,i,!0):this.navigateToNextPage(e,i,!0)}navigateToNextPage(e,t,r=!1){const n=this.getViewportHeight(),s=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow(),o=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=r?(a==null?void 0:a.rowHeight)-n-o:n-o,u=(a==null?void 0:a.rowTop)+l;let f=this.rowModel.getRowIndexAtPixel(u+o);if(f===e.rowIndex){const g=r?-1:1;t=f=e.rowIndex+g}let p;r?(p="bottom",f<s&&(f=s),t<s&&(t=s)):(p="top",f>i&&(f=i),t>i&&(t=i)),this.isRowTallerThanView(f)&&(t=f,p="top"),this.navigateTo({scrollIndex:t,scrollType:p,scrollColumn:null,focusIndex:f,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,r=!1){this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,r);this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const r=t?-1:1,n=this.getViewportHeight(),s=this.pageBoundsService.getLastRow();let i=0,o=e.rowIndex;for(;o>=0&&o<=s;){const a=this.rowModel.getRow(o);if(a){const l=a.rowHeight??0;if(i+l>n)break;i+=l}o+=r}return Math.max(0,Math.min(o,s))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let r=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(r-=t),r}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const r=t.rowHeight;return typeof r!="number"?!1:r>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const r=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n}=r,s=r.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s})}onHomeOrEndKey(e){const t=e===ve.PAGE_HOME,r=this.visibleColsService.getAllCols(),n=t?r[0]:jt(r),s=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:n,focusIndex:s,focusColumn:n})}onTabKeyDown(e,t){const r=t.shiftKey,n=this.tabToNextCellCommon(e,r,t);if(n!==!1){n?t.preventDefault():n===null&&this.focusService.allowFocusForNextGridCoreContainer(r);return}if(r){const{rowIndex:s,rowPinned:i}=e.getRowPosition();(i?s===0:s===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof wc&&e.focusCell(!0),(!r&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(r))&&t.preventDefault()}tabToNextCell(e,t){const r=this.focusService.getFocusedCell();if(!r)return!1;let n=this.getCellByPosition(r);return!n&&(n=this.rowRenderer.getRowByPosition(r),!n||!n.isFullWidth())?!1:!!this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,r){let n=e.isEditing();if(!n&&e instanceof wc){const o=e.getRowCtrl();o&&(n=o.isEditing())}let s;return n?this.gos.get("editType")==="fullRow"?s=this.moveToNextEditingRow(e,t,r):s=this.moveToNextEditingCell(e,t,r):s=this.moveToNextCellNotEditing(e,t),s===null?s:s||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,r=null){const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const s=this.findNextCellToFocusOn(n,t,!0);return s===!1?null:s==null?!1:(s.startEditing(null,!0,r),s.focusCell(!1),!0)}moveToNextEditingRow(e,t,r=null){const n=e.getCellPosition(),s=this.findNextCellToFocusOn(n,t,!0);if(s===!1)return null;if(s==null)return!1;const i=s.getCellPosition(),o=this.isCellEditable(n),a=this.isCellEditable(i),l=i&&n.rowIndex===i.rowIndex&&n.rowPinned===i.rowPinned;return o&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),s.getRowCtrl().startRowEditing(void 0,void 0,r)),a?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const r=this.visibleColsService.getAllCols();let n;e instanceof xc?n={...e.getRowPosition(),column:t?r[0]:jt(r)}:n=e.getCellPosition();const s=this.findNextCellToFocusOn(n,t,!1);if(s===!1)return null;if(s instanceof wc)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),t);return Le(s)}findNextCellToFocusOn(e,t,r){var s;let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);const i=this.gos.getCallback("tabToNextCell");if(Le(i)){const u=i({backwards:t,editing:r,previousCellPosition:e,nextCellPosition:n||null});if(u===!0||u===null)u===null&&Te("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),n=e;else{if(u===!1)return!1;n={rowIndex:u.rowIndex,column:u.column,rowPinned:u.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+n.rowIndex,column:n.column},fromCell:!0}),null}const o=this.gos.get("editType")==="fullRow";if(r&&!o&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const a=this.getCellByPosition(n);if(!a){const l=this.rowRenderer.getRowByPosition(n);if(!l||!l.isFullWidth()||r)continue;return l}if(!a.isSuppressNavigable())return(s=this.rangeService)==null||s.setRangeToCell(n),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,r,n){let s=r,i=!1;for(;s&&(s===r||!this.isValidNavigateCell(s));)this.gos.get("enableRtl")?t===ve.LEFT&&(s=this.getLastCellOfColSpan(s)):t===ve.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(t,s),i=Bt(s);if(i&&e&&e.key===ve.UP&&(s={rowIndex:-1,rowPinned:null,column:r.column}),n){const a=this.gos.getCallback("navigateToNextCell");if(Le(a)){const u=a({key:t,previousCellPosition:r,nextCellPosition:s||null,event:e});Le(u)?s={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}:s=null}}if(!s)return;if(s.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+s.rowIndex,column:r.column},event:e||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(s);o?this.focusPosition(o):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const r=this.visibleColsService.getAllCols(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const s=this.focusService.getFocusedCell(),i={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?jt(r):r[0])};this.focusPosition(i);const o=t??(s!=null&&this.rowPositionUtils.before(i,s));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:i.column,isFullWidthCell:!0,fromBelow:o}),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const r=t.getColSpanningList();return r.length===1?e:{rowIndex:e.rowIndex,column:jt(r),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=M0(this.gos),r=this.rowModel.getRow(e.rowIndex);!(t&&(r==null?void 0:r.sticky))&&Bt(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},uie=class extends Ee{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const r=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(r)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},die=class extends Ee{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,r){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:r,mouseEvent:t,ePopup:n})},r,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,r){let n=-1,s="left";const i=this.menuService.isLegacyMenuEnabled();!i&&this.gos.get("enableRtl")&&(n=1,s="right");const o=i?void 0:4*n,a=i?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:r,eventSource:t,ePopup:l,nudgeX:o,nudgeY:a,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},r,t,i)}showPopup(e,t,r,n,s){const i=e?this.createBean(new Gre(e,"COLUMN_MENU")):void 0;if(this.activeMenu=i,!(i!=null&&i.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");Ki(o,"presentation"),o.classList.add("ag-menu"),s||o.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(o,{keydown:S=>this.trapFocusWithin(S,o)}),o.appendChild(i==null?void 0:i.getGui());let a;const l=()=>i==null?void 0:i.afterGuiDetached(),u=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,f=S=>{e.setMenuVisible(!1,"contextMenu");const y=S instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),y&&n&&Co(n)){const w=this.focusService.findTabbableParent(n);w&&w.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,r,e)},p=this.localeService.getLocaleTextFunc(),g=s&&r!=="columnFilter"?p("ariaLabelColumnMenu","Column Menu"):p("ariaLabelColumnFilter","Column Filter"),C=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:f,positionCallback:()=>t(o),anchorToElement:u,ariaLabel:g});C&&(this.hidePopup=a=C.hideFunc),i.afterInit().then(()=>{t(o),i.afterGuiAttached({container:r,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,r,e)}trapFocusWithin(e,t){e.key!==ve.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,r){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:r??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},hie=class extends Ee{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const n=u_(this.gos).ResizeObserver,s=n?new n(t):null;return s==null||s.observe(e),()=>s==null?void 0:s.disconnect()}},fie=class extends Ee{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){var r;const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const n=((r=this.paginationService)==null?void 0:r.getCurrentPage())??0;n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&Te(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,r){this.verifyAnimationFrameOn(r);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[r],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((r,n)=>r.index!==n.index?t*(n.index-r.index):n.createOrder-r.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,r=t.list,n=this.createTasksP2,s=n.list,i=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=e<=0,u=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!u.getScrollFeature().scrollGridIfNeeded()){let p;if(r.length)this.sortTaskList(t),p=r.pop().task;else if(s.length)this.sortTaskList(n),p=s.pop().task;else if(i.length)p=i.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}a=new Date().getTime()-o}r.length||s.length||i.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=u_(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}},pie=class extends Ee{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=yr(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(r=>{r.id&&t.has(r.id)&&(r.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:r})=>{t&&r&&e.push(r)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,r,n){e&&(r&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,r,n),e.setExpanded(t,void 0,n))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},gie=class extends Ee{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,r){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,r)}getContextMenuPosition(e,t){const r=this.getRowCtrl(e),n=this.getCellGui(r,t);if(!n)return r?{x:0,y:r.getRowYPosition()}:{x:0,y:0};const s=n.getBoundingClientRect();return{x:s.x+s.width/2,y:s.y+s.height/2}}showContextMenu(e){var i;const t=e.rowNode,r=e.column;let{anchorToElement:n,value:s}=e;t&&r&&s==null&&(s=this.valueService.getValueForDisplay(r,t)),n==null&&(n=this.getContextMenuAnchorElement(t,r)),(i=this.contextMenuFactory)==null||i.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,r??null,s,n)}showColumnChooser(e){var t;(t=this.columnChooserFactory)==null||t.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:r}=e.getColDef();return!(r??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&pl(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Fl()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var n;const t=e.getColDef(),r=(n=t.floatingFilterComponentParams)==null?void 0:n.suppressFilterButton;return r!=null&&Te("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),t.suppressFloatingFilterButton==null?!r:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,t,r,n){const{positionBy:s}=t,i=t.column;if(s==="button"){const{buttonElement:o}=t;e.showMenuAfterButtonClick(i,o,r,n)}else if(s==="mouse"){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(i,o,r,n)}else i&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var a;const o=(a=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()))==null?void 0:a.getHeaderCtrlForColumn(i);o&&e.showMenuAfterButtonClick(i,o.getAnchorElementForMenu(n),r,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:r}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:r})||void 0}getCellGui(e,t){if(!e||!t)return;const r=e.getCellCtrl(t);return(r==null?void 0:r.getGui())||void 0}getContextMenuAnchorElement(e,t){const r=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),n=this.getRowCtrl(e);if(!n)return r;const s=this.getCellGui(n,t);return s||(n.isFullWidth()?n.getFullWidthElement():r)}},mie=class extends oc{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const r=super.setValue(e,t);return this.eInput.value=e,r}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},vie={selector:"AG-INPUT-TEXT-AREA",component:mie},Cie=class extends Kd{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[vie]),this.eTextArea=pt}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),Le(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===ve.LEFT||t===ve.UP||t===ve.RIGHT||t===ve.DOWN||e.shiftKey&&t===ve.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!Le(e)&&!Le(this.params.value)?this.params.value:this.params.parseValue(e)}},yie=class extends Kd{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Mc(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,r=n=>{yx(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:r})}},Sie=class extends Kd{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[Kre]),this.eSelect=pt,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:r,gos:n}=this,{values:s,value:i,eventKey:o}=e;if(Bt(s)){Te("no values found for select cellEditor");return}this.startedByEnter=o!=null?o===ve.ENTER:!1;let a=!1;s.forEach(p=>{const g={value:p},C=r.formatValue(e.column,null,p),S=C!=null;g.text=S?C:p,t.addOption(g),a=a||i===p}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:f}=e;l!=null&&t.setPickerGap(l),f!=null&&t.setPickerMaxHeight(f),u!=null&&t.setPickerMaxWidth(u),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},j0=class extends Kd{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=pt}init(e){this.params=e;const{cellStartedEdit:t,eventKey:r,suppressPreventDefault:n}=e,s=this.eInput;this.cellEditorInput.init(s,e);let i,o=!0;t?(this.focusAfterAttached=!0,r===ve.BACKSPACE||r===ve.DELETE?i="":r&&r.length===1?n?o=!1:i=r:(i=this.cellEditorInput.getStartValue(),r!==ve.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue()),o&&i!=null&&s.setStartValue(i),this.addManagedElementListeners(s.getGui(),{keydown:a=>{const{key:l}=a;(l===ve.PAGE_UP||l===ve.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var n,s;const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;da()||t.getFocusableElement().focus();const r=t.getInputElement();this.highlightAllOnFocus?r.select():(s=(n=this.cellEditorInput).setCaret)==null||s.call(n)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),r=e.getInputElement();t.focus(),r.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},wie=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[L0]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!Le(e)&&!Le(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=Le(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},O3=class extends j0{constructor(){super(new wie)}},xie=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[nne]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const r=e.getInputElement();t.preventStepping?e.addManagedElementListeners(r,{keydown:this.preventStepping}):t.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===ve.UP||e.key===ve.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!Le(e)&&!Le(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){da()&&this.eInput.getInputElement().focus({preventScroll:!0})}},bie=class extends j0{constructor(){super(new xie)}},Eie=class extends Kc{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=da();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Dr(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Ci(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,vi(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Ci(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,vi(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,vi(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return Es(this.getValue())??void 0}setDate(e,t){this.setValue(Ci(e??null,!1),t)}},k3={selector:"AG-INPUT-DATE-FIELD",component:Eie},Rie=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[k3]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!Le(e)&&!Le(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Ci(e,!1)}},Fie=class extends j0{constructor(){super(new Rie)}},Tie=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[k3]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!Le(e)&&!Le(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return Ci(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Es(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Ci(e??null,!1)??void 0}},Pie=class extends j0{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new Tie(()=>this.dataTypeService))}},Aie=class extends Kd{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Ob]),this.eCheckbox=pt}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),r=Fb(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${r})`)}},sf=class{constructor(e){this.cellValueChanges=e}},HS=class extends sf{constructor(e,t,r,n){super(e),this.initialRange=t,this.finalRange=r,this.ranges=n}},Die=10,XD=class{constructor(e){this.actionStack=[],this.maxStackSize=e||Die,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},Mie=class extends Ee{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},r=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(r||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:i,rowIndex:o,column:a,oldValue:l,value:u}=e,f={rowPinned:i,rowIndex:o,columnId:a.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(f)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new XD(e),this.redoStack=new XD(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,r,n,s){if(!e)return!1;const i=e.pop();return!i||!i.cellValueChanges?!1:(this.processAction(i,o=>o[n],s),i instanceof HS?this.processRange(this.rangeService,i.ranges||[i[r]]):this.processCell(i.cellValueChanges),t.push(i),!0)}processAction(e,t,r){e.cellValueChanges.forEach(n=>{const{rowIndex:s,rowPinned:i,columnId:o}=n,a={rowIndex:s,rowPinned:i},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(o,t(n),r)})}processRange(e,t){let r;e.removeAllCellRanges(!0),t.forEach((n,s)=>{if(!n)return;const i=n.startRow,o=n.endRow;s===t.length-1&&(r={rowPinned:i.rowPinned,rowIndex:i.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(r));const a={rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:n.startColumn,columns:n.columns};e.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:r,rowPinned:n}=t,s={rowIndex:r,rowPinned:n},i=this.rowPositionUtils.getRowNode(s),o={rowPinned:t.rowPinned,rowIndex:i.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:r,columnId:n,rowPinned:s}=e,i=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getCol(n);if(!o)return;i.ensureIndexVisible(r),i.ensureColumnVisible(o);const a={rowIndex:r,column:o,rowPinned:s};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t==null||t.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new sf(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const r=new sf(this.cellValueChanges);this.pushActionsToUndoStack(r)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new sf(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new HS(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&ca(this.gos)?e=new HS(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new sf(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function Nie(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function Iie(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function L3(e,t,r="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,r),"ensureVisible")}function _3(e,t,r){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,r),"ensureVisible")}function Oie(e,t,r=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,r),"ensureVisible")}function kie(e){var t;(t=e.undoRedoService)==null||t.undo("api")}function Lie(e){var t;(t=e.undoRedoService)==null||t.redo("api")}function _ie(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(pf)}function jie(e){return e.rowRenderer.getEditingCells()}function Bie(e,t=!1){e.rowRenderer.stopEditing(t)}function Gie(e,t){const r=e.columnModel.getCol(t.colKey);if(!r){Te(`no column found for ${t.colKey}`);return}const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:r};t.rowPinned==null&&_3(e,t.rowIndex),L3(e,t.colKey);const i=e.navigationService.getCellByPosition(n);if(!i)return;const{focusService:o,gos:a}=e,l=()=>{const f=Dr(a),p=i.getGui();return f!==p&&!!(p!=null&&p.contains(f))},u=a.get("stopEditingWhenCellsLoseFocus")&&l();(u||!o.isCellFocused(n))&&o.setFocusedCell({...n,forceBrowserFocus:u,preventScrollOnBrowserFocus:!0}),i.startRowOrCellEdit(t.key)}function Vie(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentUndoStackSize())??0}function Hie(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentRedoStackSize())??0}var Wie=class extends Ee{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,r=!1,n=null){var u;const s=this.createCellEditorParams(e,t,r),i=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(i,s),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!i.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:i.cellEditorPopupPosition;return e.setEditing(!0,o),e.getComp().setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!((u=o==null?void 0:o.params)!=null&&u.suppressPreventDefault)}stopEditing(e,t){const r=e.getComp(),{newValue:n,newValueExists:s}=this.takeValueFromCellEditor(t,r),i=e.getRowNode(),o=e.getColumn(),a=this.valueService.getValueForDisplay(o,i);let l=!1;return s&&(l=this.saveNewValue(e,a,n,i,o)),e.setEditing(!1,void 0),r.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:n,valueChanged:l}),l}handleColDefChanged(e){const t=e.getCellEditor();if(t!=null&&t.refresh){const{eventKey:r,cellStartedEdit:n}=e.getEditCompDetails().params,s=this.createCellEditorParams(e,r,n),i=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(i,s);t.refresh(o.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),r=t.getCellEditor();r!=null&&r.focusIn?r.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>{var n,s;return(s=(n=t.getCellEditor())==null?void 0:n.focusIn)==null?void 0:s.call(n)}))}stopEditingAndFocus(e,t=!1,r=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(r,e.getCellPosition())}createPopupEditorWrapper(e){return new yie(e)}takeValueFromCellEditor(e,t){const r={newValueExists:!1};if(e)return r;const n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?r:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t,r,n,s){if(r===t)return!1;e.setSuppressRefreshCell(!0);const i=n.setDataValue(s,r,"edit");return e.setSuppressRefreshCell(!1),i}createCellEditorParams(e,t,r){const n=e.getColumn(),s=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(n,s),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:s,data:s.data,cellStartedEdit:r,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:i=>this.valueService.parseValue(n,s,i,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const n=e?ve.UP:ve.DOWN;this.navigationService.navigateToNextCell(null,n,t,!1)}}},Uie=class extends Ee{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,r=null,n=null){let s=!0;return e.getAllCellCtrls().reduce((o,a)=>{const l=a===r;return l?s=a.startEditing(t,l,n):a.startEditing(null,l,n),o?!0:a.isEditing()},!1)&&this.setEditing(e,!0),s}stopEditing(e,t=!1){const r=e.getAllCellCtrls(),n=e.isEditing();e.setStoppingRowEdit(!0);let s=!1;for(const i of r){const o=i.stopEditing(t);n&&!t&&!s&&o&&(s=!0)}s&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));const r=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(r)}},qc={version:Ft,moduleName:"@ag-grid-community/edit-core",beans:[Wie]},$ie={version:Ft,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:kie,redoCellEditing:Lie,getCellEditorInstances:_ie,getEditingCells:jie,stopEditing:Bie,startEditingCell:Gie,getCurrentUndoSize:Vie,getCurrentRedoSize:Hie},dependantModules:[qc]},zie={version:Ft,moduleName:"@ag-grid-community/undo-redo-edit",beans:[Mie],dependantModules:[qc]},Kie={version:Ft,moduleName:"@ag-grid-community/full-row-edit",beans:[Uie],dependantModules:[qc]},j3={version:Ft,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:O3}],dependantModules:[qc]},qie={version:Ft,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:O3},{name:"agNumberCellEditor",classImp:bie,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:Fie},{name:"agDateStringCellEditor",classImp:Pie},{name:"agCheckboxCellEditor",classImp:Aie}],dependantModules:[j3]},Yie={version:Ft,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:Sie}],dependantModules:[qc]},Qie={version:Ft,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:Cie}],dependantModules:[qc]},Xie={version:Ft,moduleName:"@ag-grid-community/all-editors",dependantModules:[j3,qie,Yie,Qie]},Zie={version:Ft,moduleName:"@ag-grid-community/editing",dependantModules:[qc,zie,Kie,Xie,$ie]},Jie=class extends Ee{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const r=this.getHeaderCellForColumn(e);if(!r)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(r),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const r=this.centerRowContainerCtrl.getContainerElement();e.forEach(i=>this.cloneItemIntoDummy(i,t)),r.appendChild(t);const n=t.offsetWidth;r.removeChild(t);const s=this.getAutoSizePadding();return n+s}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(r=>{const n=r.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";const n=document.createElement("div"),s=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>r.classList.contains(a))?(s.add("ag-header","ag-header-row"),n.style.position="static"):s.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const u=o.classList[l];u!="ag-row-position-absolute"&&s.add(u)}break}o=o.parentElement}n.appendChild(r),t.appendChild(n)}},eoe=class extends Ee{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=yr(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,r;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let s=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(s=(r=e.sibling.childStore)==null?void 0:r.getStoreBounds()),((s==null?void 0:s.heightPx)??0)+((s==null?void 0:s.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=e.footer?e.sibling:e;for(;n.isExpandable()&&n.expanded;)if(n.master)n=n.detailNode;else if(n.childrenAfterSort){if(n.childrenAfterSort.length===0)break;n=jt(n.childrenAfterSort)}return n.rowTop+n.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t=e==="top";let r=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,r);const n=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,s=new Set,i=u=>{if(s.add(u),t){const f=this.getLastPixelOfGroup(u),p=n+r+u.rowHeight;f<p?u.stickyRowTop=r+(f-p):u.stickyRowTop=r}else{const f=this.getFirstPixelOfGroup(u),p=n-(r+u.rowHeight);f>p?u.stickyRowTop=r-(f-p):u.stickyRowTop=r}r=0,s.forEach(f=>{const p=f.stickyRowTop+f.rowHeight;r<p&&(r=p)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=u=>{if(!u.displayed)return!1;if(u.footer){if(o===!0||o==="grand"&&u.level===-1||o==="group"&&u.level>-1)return!1;const f=u.sibling.rowIndex?u.sibling.rowIndex+1===u.rowIndex:!1;return e==="bottom"&&f?!1:!s.has(u)}return u.isExpandable()?a===!0||e==="bottom"?!1:!s.has(u)&&u.expanded:!1};for(let u=0;u<100;u++){let f=n+r;t||(f=n-r);const p=this.rowModel.getRowIndexAtPixel(f),g=this.rowModel.getRow(p);if(g==null)break;const S=this.getStickyAncestors(g).find(w=>(t?w.rowIndex<p:w.rowIndex>p)&&l(w));if(S){i(S);continue}if((t?g.rowTop<f:g.rowTop+g.rowHeight>f)&&l(g)){i(g);continue}break}return t||s.forEach(u=>{u.stickyRowTop=r-(u.stickyRowTop+u.rowHeight)}),this.refreshNodesAndContainerHeight(e,s,r)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=!!this.gos.get("groupIncludeFooter")||e==="group",r=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&r?!0:r?"grand":t?"group":!1}canRowsBeSticky(){const e=M0(this.gos),t=this.areFooterRowsStickySuppressed(),r=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!r)}getStickyAncestors(e){const t=[];let r=e.footer?e.sibling:e.parent;for(;r;)r.sibling&&t.push(r.sibling),t.push(r),r=r.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(r=>r.getRowNode()===e)){for(let r=0;r<this.stickyTopRowCtrls.length;r++){const n=this.stickyTopRowCtrls[r].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let r=0;r<this.stickyBottomRowCtrls.length;r++){const n=this.stickyBottomRowCtrls[r].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,r){const n=e==="top",s=n?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,i={},o=[];for(let g=0;g<s.length;g++){const C=s[g].getRowNode();if(!t.has(C)){i[C.id]=s[g],C.sticky=!1;continue}o.push(s[g])}const a=new Set;for(let g=0;g<o.length;g++)a.add(o[g].getRowNode());const l=[];t.forEach(g=>{a.has(g)||(g.sticky=!0,l.push(this.createRowCon(g,!1,!1)))});let u=!!l.length||o.length!==s.length;n?this.topContainerHeight!==r&&(this.topContainerHeight=r,this.gridBodyCtrl.setStickyTopHeight(r),u=!0):this.bottomContainerHeight!==r&&(this.bottomContainerHeight=r,this.gridBodyCtrl.setStickyBottomHeight(r),u=!0),this.destroyRowCtrls(i,!1);const f=[...o,...l];f.sort((g,C)=>C.getRowNode().rowIndex-g.getRowNode().rowIndex),n||f.reverse(),f.forEach(g=>g.setRowTop(g.getRowNode().stickyRowTop));let p=0;return n?(t.forEach(g=>{g.rowIndex<this.pageBoundsService.getFirstRow()&&(p+=g.rowHeight)}),p>this.topContainerHeight&&(p=this.topContainerHeight),this.setOffsetTop(p)):(t.forEach(g=>{g.rowIndex>this.pageBoundsService.getLastRow()&&(p+=g.rowHeight)}),p>this.bottomContainerHeight&&(p=this.bottomContainerHeight),this.setOffsetBottom(p)),u?(n?this.stickyTopRowCtrls=f:this.stickyBottomRowCtrls=f,!0):!1}ensureRowHeightsValid(){let e=!1;const t=r=>{const n=r.getRowNode();if(n.rowHeightEstimated){const s=fl(this.gos,n);n.setRowHeight(s.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},toe=class extends Ee{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(i=>i.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(i=>i.updateRangeBordersIfRangeCount())},r=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},n=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{ca(this.gos)?r():n()}),ca(this.gos)&&r()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),M0(this.gos)&&(yr(this.gos)||bo(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new eoe(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Rn(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new roe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=hx(this.rowCtrlsByRowIndex),t=hx(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||r.length>0?this.allRowCtrls=[...e,...t,...r]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const r=l=>{this.getAllCellCtrls().forEach(u=>{u.getColumn()===t&&l(u)})},n=()=>{r(l=>l.onLeftChanged())},s=()=>{r(l=>l.onWidthChanged())},i=()=>{r(l=>l.onFirstRightPinnedChanged())},o=()=>{r(l=>l.onLastLeftPinnedChanged())},a=()=>{r(l=>l.onColDefChanged())};t.addEventListener("leftChanged",n),t.addEventListener("widthChanged",s),t.addEventListener("firstRightPinnedChanged",i),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",n),t.removeEventListener("widthChanged",s),t.removeEventListener("firstRightPinnedChanged",i),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Rn(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),r=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(r=>{const n=r.getCellElement(e);n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:r,beans:n,printLayout:s}=this,i=Object.fromEntries(e.map(a=>[a.getRowNode().id,a]));r.forEachPinnedRow(t,(a,l)=>{const u=e[l];u&&r.getPinnedRowById(u.getRowNode().id,t)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),a.id in i?(e[l]=i[a.id],delete i[a.id]):e[l]=new xc(a,n,!1,!1,s)});const o=t==="top"?r.getPinnedTopRowCount():r.getPinnedBottomRowCount();e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var r;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((r=this.cachedRowCtrls)!=null&&r.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=s=>{const i=s[e.rowIndex];i&&i.getRowNode()===e&&(i.destroyFirstPass(),i.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const r=Dr(this.gos),n=Bf(this.gos,r,wc.DOM_DATA_KEY_CELL_CTRL),s=Bf(this.gos,r,xc.DOM_DATA_KEY_ROW_CTRL);return n||s?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const r=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&Ju(this.gos),s=r?this.getRowsToRecycle():null;if(r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const i=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();i&&this.updateContainerHeights(i)}this.recycleRows(s,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var n;const t=e.newData||e.newPage,r=this.gos.get("suppressScrollOnNewData");t&&!r&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(n=this.stickyRowFeature)==null||n.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.pageBoundsService.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,(t=(e=this.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),r=t.length;for(let n=0;n<r;n++){const s=t[n].getAllCellCtrls(),i=s.length;for(let o=0;o<i;o++)e.push(s[o])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],r=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const n in this.rowCtrlsByRowIndex)r.push(this.rowCtrlsByRowIndex[n]);return r}addRenderedRowListener(e,t,r){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,r)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const r of this.getCellCtrls(e.rowNodes,e.columns))r.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&VD()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const r of this.getRowCtrls(e)){if(!r.isFullWidth())continue;r.refreshFullWidth()||this.redrawRow(r.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){var s;const t=this.getCellCtrls(e.rowNodes,e.columns).map(i=>i.getCellRenderer()).filter(i=>i!=null);if((s=e.columns)!=null&&s.length)return t;const r=[],n=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(i=>{if(n&&!this.isRowInMap(i.getRowNode(),n)||!i.isFullWidth())return;const o=i.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&r.push(l)}}),[...r,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(r=>{const n=r.getCellEditor();n&&t.push(n)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const r=t.getCellPosition();e.push(r)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(r=>{const n=r.id;switch(r.rowPinned){case"top":t.top[n]=r;break;case"bottom":t.bottom[n]=r;break;default:t.normal[n]=r;break}}),t}isRowInMap(e,t){const r=e.id;switch(e.rowPinned){case"top":return t.top[r]!=null;case"bottom":return t.bottom[r]!=null;default:return t.normal[r]!=null}}getRowCtrls(e){const t=this.mapRowNodes(e),r=this.getAllRowCtrls();return!e||!t?r:r.filter(n=>{const s=n.getRowNode();return this.isRowInMap(s,t)})}getCellCtrls(e,t){let r;Le(t)&&(r={},t.forEach(s=>{const i=this.columnModel.getCol(s);Le(i)&&(r[i.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(s=>{s.getAllCellCtrls().forEach(i=>{const o=i.getColumn().getId();r&&!r[o]||n.push(i)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];Bi(this.rowCtrlsByRowIndex,(r,n)=>{n.getRowNode().id==null&&e.push(r)}),this.removeRowCtrls(e);const t={};return Bi(this.rowCtrlsByRowIndex,(r,n)=>{const s=n.getRowNode();t[s.id]=n}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(r=>{const n=this.rowCtrlsByRowIndex[r];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[r]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let r;this.stickyRowFeature&&VD()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let i=!1;if(this.stickyRowFeature){i=this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}const o=this.firstRenderedRow!==n||this.lastRenderedRow!==s;if(!(t&&!i&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!i),r!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();r!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){const r={};e.forEach(i=>r[i]=!0);const s=Object.keys(this.rowCtrlsByRowIndex).filter(i=>!r[i]);this.removeRowCtrls(s,t)}calculateIndexesToDraw(e){const t=one(this.firstRenderedRow,this.lastRenderedRow),r=(s,i)=>{const o=i.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(i)&&t.push(o)};Bi(this.rowCtrlsByRowIndex,r),Bi(e,r),t.sort((s,i)=>s-i);const n=[];for(let s=0;s<t.length;s++){const i=t[s],o=this.rowModel.getRow(i);o&&!o.sticky&&n.push(i)}return n}recycleRows(e,t=!1,r=!1){const n=this.calculateIndexesToDraw(e);(this.printLayout||r)&&(t=!1),this.removeRowCompsNotToDraw(n,!t),n.forEach(s=>{this.createOrUpdateRowCtrl(s,e,t,r)}),e&&(r&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const r=t.getRowNode().rowIndex;e.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(r=>{if(!r.isFullWidth())return!1;const n=r.getRowNode();return!(t!=null&&!this.isRowInMap(n,t))})}createOrUpdateRowCtrl(e,t,r,n){let s,i=this.rowCtrlsByRowIndex[e];if(i||(s=this.rowModel.getRow(e),Le(s)&&Le(t)&&t[s.id]&&s.alreadyRendered&&(i=t[s.id],t[s.id]=null)),!i)if(s||(s=this.rowModel.getRow(e)),Le(s))i=this.createRowCon(s,r,n);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=i,i}destroyRowCtrls(e,t){const r=[];Bi(e,(n,s)=>{if(s){if(this.cachedRowCtrls&&s.isCacheable()){this.cachedRowCtrls.addRow(s);return}if(s.destroyFirstPass(!t),t){const i=s.instanceId;this.zombieRowCtrls[i]=s,r.push(()=>{s.destroySecondPass(),delete this.zombieRowCtrls[i]})}else s.destroySecondPass()}}),t&&(r.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),Eee(r))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=yc(this.gos);return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.rowModel.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),u=this.gos.get("suppressRowVirtualisation");let f=!1,p,g;do{const b=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:F,pageLastPixel:R}=this.pageBoundsService.getCurrentPagePixelRange(),E=this.rowContainerHeightService.getDivStretchOffset(),A=l.getScrollFeature().getVScrollPosition(),D=A.top,M=A.bottom;u?(p=F+E,g=R+E):(p=Math.max(D+b-a,F)+E,g=Math.min(M+b+a,R)+E),this.firstVisibleVPixel=Math.max(D+b,F)+E,this.lastVisibleVPixel=Math.min(M+b,R)+E,f=this.ensureAllRowsInRangeHaveHeightsCalculated(p,g)}while(f);let C=this.rowModel.getRowIndexAtPixel(p),S=this.rowModel.getRowIndexAtPixel(g);const y=this.pageBoundsService.getFirstRow(),w=this.pageBoundsService.getLastRow();C<y&&(C=y),S>w&&(S=w),e=C,t=S}const r=Rn(this.gos,"normal"),n=this.gos.get("suppressMaxRenderedRowRestriction"),s=Math.max(this.getRowBuffer(),500);r&&!n&&t-e>s&&(t=e+s);const i=e!==this.firstRenderedRow,o=t!==this.lastRenderedRow;(i||o)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var i,o;const r=(i=this.pinnedRowModel)==null?void 0:i.ensureRowHeightsValid(),n=(o=this.stickyRowFeature)==null?void 0:o.ensureRowHeightsValid(),s=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(s||n)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),n||s||r?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const n=e.getRowNode(),s=this.focusService.isRowNodeFocused(n),i=e.isEditing(),o=n.detail;return s||i||o?!!this.isRowPresent(n):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,t,r){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const s=this.gos.get("suppressAnimationFrame"),i=r&&!s&&!this.printLayout;return new xc(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:r}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[r];break;case"bottom":t=this.bottomRowCtrls[r];break;default:t=this.rowCtrlsByRowIndex[r],t||(t=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===r)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.getRowNode().rowIndex===r)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},roe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,r=this.entriesMap[t];delete this.entriesMap[t],as(this.entriesList,r)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],as(this.entriesList,e)}getEntries(){return this.entriesList}},noe=class extends Ee{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new ZD,this.pinnedBottomRows=new ZD}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=r=>{r.setRowHeight(r.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){var n,s;let e=!1,t=0;const r=i=>{if(i.rowHeightEstimated){const o=fl(this.gos,i);i.setRowTop(t),i.setRowHeight(o.height),t+=o.height,e=!0}};return(n=this.pinnedBottomRows)==null||n.forEach(r),t=0,(s=this.pinnedTopRows)==null||s.forEach(r),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const r=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){r.clear();return}const n=Ud(this.gos),s=t==="top"?Jo.ID_PREFIX_TOP_PINNED:Jo.ID_PREFIX_BOTTOM_PINNED,i=r.getIds(),o=[],a=new Set;let l=0,u=-1;for(const f of e){const p=(n==null?void 0:n({data:f,level:0,rowPinned:t}))??s+this.nextId++;if(a.has(p)){Te("Duplicate ID",p,"found for pinned row with data",f,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}u++,a.add(p),o.push(p);const g=r.getById(p);if(g!==void 0)g.data!==f&&g.setData(f),l+=this.setRowTopAndRowIndex(g,l,u),i.delete(p);else{const C=new Jo(this.beans);C.id=p,C.data=f,C.rowPinned=t,l+=this.setRowTopAndRowIndex(C,l,u),r.push(C)}}i.forEach(f=>{var p;(p=r.getById(f))==null||p.clearRowTopAndRowIndex()}),r.removeAllById(i),r.setOrder(o)}setRowTopAndRowIndex(e,t,r){return e.setRowTop(t),e.setRowHeight(fl(this.gos,e).height),e.setRowIndex(r),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return t==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return e==="top"?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(t===0)return 0;const r=e.getByIndex(t-1);return r===void 0?0:r.rowTop+r.rowHeight}},ZD=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,r)=>{const n=this.cache[t];n&&e(n,r)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},soe=class extends Ee{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,r){this.successCommon(e,{rowData:t,rowCount:r})}isRequestMostRecentAndLive(e){const t=e===this.version,r=this.isAlive();return t&&r}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){const t={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(t)}},ioe=class extends Ee{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=os(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){as(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&Vi("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(r=>r.getState()==="needsLoading").slice(0,e);this.registerLoads(t.length),t.forEach(r=>r.load()),this.printCacheStatus()}getBlockState(){if(bo(this.gos))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:r,state:n}=t.getBlockStateJson();e[r]=n}),e}printCacheStatus(){this.gos.get("debug")&&Vi(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},ooe={version:Ft,moduleName:"@ag-grid-community/row-node-block",beans:[ioe]},aoe=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){var e;return this.root&&((e=this.root)==null?void 0:e.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var e;return this.end&&((e=this.end)==null?void 0:e.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const r=t[0].id===this.root.id,n=t.findIndex(s=>s.id===e.id);if(n>-1){const s=t.slice(0,n),i=t.slice(n+1);return this.setEndRange(e),r?{keep:s,discard:i}:{keep:i,discard:s}}else return{keep:t,discard:[]}}extend(e,t=!1){const r=this.getRoot();if(r==null){const s=this.getRange().slice();return t&&e.depthFirstSearch(i=>!i.group&&s.push(i)),s.push(e),this.setRoot(e),{keep:s,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(r,e).find(s=>{var i;return s.id===((i=this.end)==null?void 0:i.id)}))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const s=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:s}}}},loe=class extends Ee{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,r,n){this.processClassRules(void 0,e.cellClassRules,t,r,n),this.processStaticCellClasses(e,t,r)}processClassRules(e,t,r,n,s){if(t==null&&e==null)return;const i={},o={},a=(l,u)=>{l.split(" ").forEach(f=>{f.trim()!=""&&u(f)})};if(t){const l=Object.keys(t);for(let u=0;u<l.length;u++){const f=l[u],p=t[f];let g;typeof p=="string"?g=this.expressionService.evaluate(p,r):typeof p=="function"&&(g=p(r)),a(f,C=>{g?i[C]=!0:o[C]=!0})}}e&&s&&Object.keys(e).forEach(l=>a(l,u=>{i[u]||(o[u]=!0)})),s&&Object.keys(o).forEach(s),Object.keys(i).forEach(n)}getStaticCellClasses(e,t){const{cellClass:r}=e;if(!r)return[];let n;return typeof r=="function"?n=r(t):n=r,typeof n=="string"&&(n=[n]),n||[]}processStaticCellClasses(e,t,r){this.getStaticCellClasses(e,t).forEach(s=>{r(s)})}},Km=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(Km||{}),B3=class extends Ee{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:r,eBottomGuard:n,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:i,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:f,onTabKeyDown:p,handleKeyDown:g,eFocusableElement:C}=e;this.comp=t,this.eTopGuard=r,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=C,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!i,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=f,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=g}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new zc(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){var l;const t=jr(this.gos),r=this.focusService.findFocusableElements(t.body,null,!0),n=r.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let s,i;e?(s=0,i=n):(s=n+1,i=r.length);const o=r.slice(s,i),a=this.gos.get("tabIndex");o.sort((u,f)=>{const p=parseInt(u.getAttribute("tabindex")||"0"),g=parseInt(f.getAttribute("tabindex")||"0");return g===a?1:p===a?-1:p===0?1:g===0?-1:p-g}),(l=o[e?o.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const r=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),r&&(r.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},coe=class extends Ee{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:r,eFocusableElement:n}=this,s=[t,r],i={setTabIndex:y=>{s.forEach(w=>y!=null?w.setAttribute("tabindex",y):w.removeAttribute("tabindex"))}};this.addTabGuards(t,r);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:f,onTabKeyDown:p,shouldStopEventPropagation:g,forceFocusOutWhenTabGuardsAreEmpty:C,isFocusableContainer:S}=e;this.tabGuardCtrl=this.createManagedBean(new B3({comp:i,focusTrapActive:o,eTopGuard:t,eBottomGuard:r,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:f,onTabKeyDown:p,shouldStopEventPropagation:g,forceFocusOutWhenTabGuardsAreEmpty:C,isFocusableContainer:S}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=jr(this.gos).createElement("div"),r=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",r),Ki(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];qs(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,r){Db(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,r)}},uoe=class extends dr{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new coe(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,r){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,r)}},doe=0,hoe=200,foe=class extends Ee{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:r}=e,n=this.getPopupIndex(r);if(n!==-1){const C=this.popupList[n];C.alignedToElement=t}const s=t.getBoundingClientRect(),i=this.getParentRect(),o=this.keepXYWithinBounds(r,s.top-i.top,0),a=r.clientWidth>0?r.clientWidth:200;r.style.minWidth=`${a}px`;const u=i.right-i.left-a;let f;this.gos.get("enableRtl")?(f=g(),f<0&&(f=p(),this.setAlignedStyles(r,"left")),f>u&&(f=0,this.setAlignedStyles(r,"right"))):(f=p(),f>u&&(f=g(),this.setAlignedStyles(r,"right")),f<0&&(f=0,this.setAlignedStyles(r,"left"))),r.style.left=`${f}px`,r.style.top=`${o}px`;function p(){return s.right-i.left-2}function g(){return s.left-i.left-a}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:r,nudgeY:n,skipObserver:s}=e;this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:!0,skipObserver:s,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:s,eventSource:i,alignSide:o="left",position:a="over",column:l,rowNode:u,type:f}=e,p=i.getBoundingClientRect(),g=this.getParentRect(),C=this.getPopupIndex(t);if(C!==-1){const y=this.popupList[C];y.alignedToElement=i}const S=()=>{let y=p.left-g.left;o==="right"&&(y-=t.offsetWidth-p.width);let w;return a==="over"?(w=p.top-g.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,p,g,e.nudgeY||0)==="under"?w=p.top-g.top+p.height:w=p.top-t.offsetHeight-(n||0)*2-g.top),{x:y,y:w}};this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:s,updatePosition:S,postProcessCallback:()=>this.callPostProcessPopup(f,t,i,null,l,u)})}shouldRenderUnderOrAbove(e,t,r,n){const s=r.bottom-t.bottom,i=t.top-r.top,o=e.offsetHeight+n;return s>o?"under":i>o||i>s?"above":"under"}setAlignedStyles(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r],{alignedToElement:s}=n;!s||(["right","left","over","above","under"].forEach(o=>{s.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(s.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,r,n,s,i){const o=this.gos.getCallback("postProcessPopup");o&&o({column:s,rowNode:i,ePopup:t,type:e,eventSource:r,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:r,nudgeX:n,nudgeY:s,skipObserver:i,updatePosition:o}=e,a={width:0,height:0},l=(u=!1)=>{let{x:f,y:p}=o();u&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(f+=n),s&&(p+=s),r&&(f=this.keepXYWithinBounds(t,f,1),p=this.keepXYWithinBounds(t,p,0)),t.style.left=`${f}px`,t.style.top=`${p}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!i){const u=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>u(),hoe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=jr(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),k_(t)}keepXYWithinBounds(e,t,r){const n=r===0,s=n?"clientHeight":"clientWidth",i=n?"top":"left",o=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=jr(this.gos),u=l.documentElement,f=this.getPopupParent(),p=e.getBoundingClientRect(),g=f.getBoundingClientRect(),C=l.documentElement.getBoundingClientRect(),S=f===l.body,y=Math.ceil(p[o]);let b=S?(n?O_:Pv)(u)+u[a]:f[s];S&&(b-=Math.abs(C[i]-g[i]));const F=b-y;return Math.min(Math.max(t,0),Math.abs(F))}addPopup(e){const t=jr(this.gos),{eChild:r,ariaLabel:n,alwaysOnTop:s,positionCallback:i,anchorToElement:o}=e;if(!t)return Te("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(r);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(r);const l=this.createPopupWrapper(r,n,!!s),u=this.addEventListenersToPopup({...e,wrapperEl:l});return i&&i(),this.addPopupToPopupList(r,l,u,o),{hideFunc:u}}initialisePopupPosition(e){const r=this.getPopupParent().getBoundingClientRect();Le(e.style.top)||(e.style.top=`${r.top*-1}px`),Le(e.style.left)||(e.style.left=`${r.left*-1}px`)}createPopupWrapper(e,t,r){const n=this.getPopupParent(),s=document.createElement("div");return this.environment.applyThemeClasses(s),s.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Ki(e,"dialog"),Fd(e,t),s.appendChild(e),n.appendChild(s),r?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=jr(this.gos),r=this.getPopupParent(),{wrapperEl:n,eChild:s,closedCallback:i,afterGuiAttached:o,closeOnEsc:a,modal:l}=e;let u=!1;const f=S=>{if(!n.contains(Dr(this.gos)))return;S.key===ve.ESCAPE&&!Zo(S)&&C({keyboardEvent:S})},p=S=>C({mouseEvent:S}),g=S=>C({touchEvent:S}),C=(S={})=>{const{mouseEvent:y,touchEvent:w,keyboardEvent:b,forceHide:F}=S;!F&&(this.isEventFromCurrentPopup({mouseEvent:y,touchEvent:w},s)||u)||(u=!0,r.removeChild(n),t.removeEventListener("keydown",f),t.removeEventListener("mousedown",p),t.removeEventListener("touchstart",g),t.removeEventListener("contextmenu",p),this.eventService.removeEventListener("dragStarted",p),i&&i(y||w||b),this.removePopupFromPopupList(s))};return o&&o({hidePopup:C}),window.setTimeout(()=>{a&&t.addEventListener("keydown",f),l&&(t.addEventListener("mousedown",p),this.eventService.addEventListener("dragStarted",p),t.addEventListener("touchstart",g),t.addEventListener("contextmenu",p))},0),C}addPopupToPopupList(e,t,r,n){this.popupList.push({element:e,wrapper:t,hideFunc:r,instanceId:doe++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(i=>i&&i()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const s=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=s,n.isAnchored=!0,s}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),r=t.getBoundingClientRect(),{element:n,ePopup:s}=e,i=n.getBoundingClientRect(),o=p=>parseInt(p.substring(0,p.length-1),10),a=(p,g)=>{const C=r[p]-i[p],S=o(s.style[p]);return{initialDiff:C,lastDiff:C,initial:S,last:S,direction:g}},l=a("top",0),u=a("left",1),f=this.getFrameworkOverrides();return new _r(p=>{f.wrapIncoming(()=>{f.setInterval(()=>{const g=t.getBoundingClientRect(),C=n.getBoundingClientRect();if(C.top==0&&C.left==0&&C.height==0&&C.width==0){e.hidePopup();return}const y=(w,b)=>{const F=o(s.style[b]);w.last!==F&&(w.initial=F,w.last=F);const R=g[b]-C[b];if(R!=w.lastDiff){const E=this.keepXYWithinBounds(s,w.initial+w.initialDiff-R,w.direction);s.style[b]=`${E}px`,w.last=E}w.lastDiff=R};y(l,"top"),y(u,"left")},200).then(g=>{p(()=>{g!=null&&window.clearInterval(g)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:r,touchEvent:n}=e,s=r||n;if(!s)return!1;const i=this.getPopupIndex(t);if(i===-1)return!1;for(let o=i;o<this.popupList.length;o++){const a=this.popupList[o];if(Wee(a.element,s))return!0}return this.isElementWithinCustomPopup(s.target)}isElementWithinCustomPopup(e){const t=jr(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const r=this.getWrapper(e);r&&(r.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(r))}bringPopupToFront(e){const t=this.getPopupParent(),r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=r.length,s=this.getWrapper(e);if(!s||n<=1||!t.contains(e))return;const i=[],o=[];for(const g of r)g!==s&&(g.classList.contains("ag-always-on-top")?o.push(g):i.push(g));const a=[],l=o.length,p=s.classList.contains("ag-always-on-top")||!l?[...i,...o,s]:[...i,s,...o];for(let g=0;g<=n;g++){const C=p[g];if(r[g]===p[g]||C===s)continue;C.querySelectorAll("div").forEach(y=>{y.scrollTop!==0&&a.push([y,y.scrollTop])}),g===0?t.insertAdjacentElement("afterbegin",C):p[g-1].insertAdjacentElement("afterend",C)}for(;a.length;){const g=a.pop();g[0].scrollTop=g[1]}}},poe=["touchstart","touchend","touchmove","touchcancel"],G3=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new _r(r=>{r(window.setInterval(e,t))})}addEventListener(e,t,r,n){const s=Sc(poe,t);e.addEventListener(t,r,{capture:!!n,passive:s})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},goe=class extends Ee{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,r=!1){return r?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const r=e===ve.UP,n=e===ve.DOWN,s=e===ve.LEFT;let i,o;if(r||n)o=r?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),i=t.column;else{const a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");o=t.rowIndex,i=s!==l?a[0]:jt(a)}return{rowIndex:o,rowPinned:null,column:i}}getNextCellToFocusWithoutCtrlPressed(e,t){let r=t,n=!1;for(;!n;){switch(e){case ve.UP:r=this.getCellAbove(r);break;case ve.DOWN:r=this.getCellBelow(r);break;case ve.RIGHT:this.gos.get("enableRtl")?r=this.getCellToLeft(r):r=this.getCellToRight(r);break;case ve.LEFT:this.gos.get("enableRtl")?r=this.getCellToRight(r):r=this.getCellToLeft(r);break;default:r=null,Te("unknown key for navigation ",e);break}r?n=this.isCellGoodToFocusOn(r):n=!0}return r}isCellGoodToFocusOn(e){const t=e.column;let r;switch(e.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:r=this.rowModel.getRow(e.rowIndex);break}return r?!t.isSuppressNavigable(r):!1}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,r=e.rowPinned;let n=!1;if(this.isLastRowInContainer(e))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else r&&(n=!0);const s=this.rowModel.getRow(e.rowIndex),i=n?void 0:this.getNextStickyPosition(s);return i||{rowIndex:t+1,rowPinned:r}}getNextStickyPosition(e,t){if(!M0(this.gos)||!e||!e.sticky)return;const r=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex);let n=[];r?n=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):n=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);const s=t?-1:1,i=n.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=n[i+s];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,r=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=r:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=r:this.pageBoundsService.getLastRow()<=r}getRowAbove(e){const t=e.rowIndex,r=e.rowPinned,n=r?t===0:t===this.pageBoundsService.getFirstRow();let s=!1;if(n)return r==="top"?null:r?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;r&&(s=!0);const i=this.rowModel.getRow(e.rowIndex),o=s?void 0:this.getNextStickyPosition(i,!0);return o||{rowIndex:t-1,rowPinned:r}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){var i;const t=this.visibleColsService.getAllCols();let r=e.rowIndex,n=e.rowPinned,s=this.visibleColsService.getColAfter(e.column);if(!s){s=t[0];const o=this.getRowBelow(e);if(Bt(o)||!o.rowPinned&&!(((i=this.paginationService)==null?void 0:i.isRowInPage(o))??!0))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:s,rowPinned:n}}getNextTabbedCellBackwards(e){var i;const t=this.visibleColsService.getAllCols();let r=e.rowIndex,n=e.rowPinned,s=this.visibleColsService.getColBefore(e.column);if(!s){s=jt(t);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Bt(o)||!o.rowPinned&&!(((i=this.paginationService)==null?void 0:i.isRowInPage(o))??!0))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:s,rowPinned:n}}},Wn=(e,t)=>{for(const r in t)t[r]=e;return t},JD={...Wn("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Wn("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Wn("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...Wn("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Wn("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Wn("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Wn("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Wn("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Wn("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Wn("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...Wn("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Wn("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Wn("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Wn("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Wn("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},WS={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},moe=(e,t)=>e.eventService.dispatchEvent(t),V3=class{};Reflect.defineProperty(V3,"name",{value:"GridApi"});var voe=class extends Ee{constructor(){super(),this.beanName="apiFunctionService",this.api=new V3,this.fns={...WS,dispatchEvent:moe},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in JD)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var s;const{fns:r,beans:n}=this;r!==WS&&(r[e]=((s=n==null?void 0:n.validationService)==null?void 0:s.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:r,fns:{[e]:n}}=this;return n?n(r,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:r,preDestroyLink:n}=this;if(!t)Te(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${n}`);else{const s=JD[e];r.assertModuleRegistered(s,`api.${e}`)&&Te(`API function '${e}' not registered to module '${s}'`)}}destroy(){super.destroy(),this.fns=WS,this.beans=null}};function Coe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var yoe=class extends Ee{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,r){const n=[],s={};return e.forEach(i=>{const o=this.createDefFromColumn(i,t,r);let a=!0,l=o,u=i.getOriginalParent(),f=null;for(;u;){let p=null;if(u.isPadding()){u=u.getOriginalParent();continue}const g=s[u.getGroupId()];if(g){g.children.push(l),a=!1;break}if(p=this.createDefFromGroup(u),p&&(p.children=[l],s[p.groupId]=p,l=p,u=u.getOriginalParent()),u!=null&&f===u){a=!1;break}f=u}a&&n.push(l)}),n}createDefFromGroup(e){const t=dx(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,r){const n=dx(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?r.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},Soe=class extends Ee{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:t})}genericColumnEvent(e,t,r){this.eventService.dispatchEvent({type:e,columns:t,column:t.length===1?t[0]:null,source:r})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:r,toIndex:n,finished:s}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&t.length===1?t[0]:null,toIndex:n,finished:s,source:r})}columnPinned(e,t){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,s=>s.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:n??null,columns:e,column:r,source:t})}columnVisible(e,t){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,s=>s.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:n,columns:e,column:r,source:t})}getCommonValue(e,t){if(!e||e.length==0)return;const r=t(e[0]);for(let n=1;n<e.length;n++)if(r!==t(e[n]))return;return r}columnChanged(e,t,r){this.eventService.dispatchEvent({type:e,columns:t,column:t&&t.length==1?t[0]:null,source:r})}columnResized(e,t,r,n=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:n,finished:t,source:r})}},woe=class extends Ee{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){const e=this.columnModel.getColDefCols();if(Bt(e)||!this.columnModel.isAlive())return[];const r=this.columnModel.getAllCols().map(n=>this.createStateItemFromColumn(n));return this.orderColumnStateList(r),r}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),r=this.funcColsService.getPivotColumns(),n=e.isRowGroupActive()?t.indexOf(e):null,s=e.isPivotActive()?r.indexOf(e):null,i=e.isValueActive()?e.getAggFunc():null,o=e.getSort()!=null?e.getSort():null,a=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:a,aggFunc:i,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:s,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),r=new Map(t.map((n,s)=>[n.getColId(),s]));e.sort((n,s)=>{const i=r.has(n.colId)?r.get(n.colId):-1,o=r.has(s.colId)?r.get(s.colId):-1;return i-o})}},xoe=class extends Ee{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[],t=this.columnModel.getColTree();return ua(null,t,r=>{Xn(r)&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const r=[];ua(null,t,n=>{if(Xn(n)){const s=n.getColGroupDef(),i={groupId:n.getGroupId(),open:s?s.openByDefault:void 0};r.push(i)}}),this.setColumnGroupState(r,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const n=[];e.forEach(s=>{const i=s.groupId,o=s.open,a=this.columnModel.getProvidedColGroup(i);a&&a.isExpanded()!==o&&(a.setExpanded(o),n.push(a))}),this.visibleColsService.refresh(t,!0),n.length&&this.eventDispatcher.groupOpened(n),this.columnAnimationService.finish()}},boe=class extends Ee{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,r=!1){const n=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const i=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=i-this.scrollPosition-this.scrollWidth,this.viewportRight=i-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(r)}}getHeadersToRender(e,t){let r;switch(e){case"left":r=this.rowsOfHeadersToRenderLeft[t];break;case"right":r=this.rowsOfHeadersToRenderRight[t];break;default:r=this.rowsOfHeadersToRenderCenter[t];break}return r||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,r=t+e.getActualWidth(),n=this.viewportLeft-200,s=this.viewportRight+200,i=t<n&&r<n,o=t>s&&r>s;return!i&&!o}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=s=>{const i=s.getLeft();return Le(i)&&i>this.viewportLeft},r=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),n=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,n,r,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),r=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(r).forEach(i=>e[i.getId()]=!0);const s=(i,o,a)=>{let l=!1;for(let u=0;u<i.length;u++){const f=i[u];let p=!1;if(pl(f))p=e[f.getId()]===!0;else{const C=f.getDisplayedChildren();C&&(p=s(C,o,a+1))}p&&(l=!0,o[a]||(o[a]=[]),o[a].push(f))}return l};s(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),s(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),s(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),r=this.colsWithinViewportHash!==t;return r&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),r}},Eoe=class extends Ee{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const r=this.componentMetadataProvider.retrieve(e);return r&&r.functionAdapter?r.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(){return!1}getGui(){return this.eGui}init(n){const s=e(n),i=typeof s;if(i==="string"||i==="number"||i==="boolean"){this.eGui=$f("<span>"+s+"</span>");return}if(s==null){this.eGui=$f("<span></span>");return}this.eGui=s}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},Roe=class extends Ee{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},Foe=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],e2=Object.fromEntries(Foe.map((e,t)=>[e,t]));function Toe(e,t){const r=(e.beanName?e2[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?e2[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return r-n}function Poe(e,t){return(e==null?void 0:e.beanName)==="gridDestroyService"?-1:0}var Aoe=class extends Ee{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const r=this.registry[e];if(r!=null)return new r(...t)}},Doe=class extends Ee{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){var t,r;this.runReadyCallbacksAsync=((r=(t=e.frameworkOverrides).runWhenReadyAsync)==null?void 0:r.call(t))??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>(e==null?void 0:e.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const r=this.readyCallbacks.indexOf(t);r>=0&&this.readyCallbacks.splice(r,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:r}=this.params;return[e,r,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},Moe=class extends Ee{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:r,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:r})}createIdFromValues(e){const{rowIndex:t,rowPinned:r,column:n}=e;return`${t}.${r??"null"}.${n.getId()}`}equals(e,t){const r=e.column===t.column,n=e.rowPinned===t.rowPinned,s=e.rowIndex===t.rowIndex;return r&&n&&s}},Noe=class extends Ee{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){yr(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const r=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]};t?r():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(r)),this.dispatchExpandedDebounced())}},Ioe=class extends Ee{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const r=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return r?(t="bottom",e=r-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):n&&(t="top",e=n-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Le(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}},t2={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},r2={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},n2={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Ooe=class extends Ee{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(t2),this.getSizeEl(r2),this.getSizeEl(n2)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(t2)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(r2)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(n2)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){var e;return((e=this.gridTheme)==null?void 0:e.getCssClass())||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const r of Array.from(e.classList))r.startsWith("ag-theme-")&&!t.includes(r)&&e.classList.remove(r);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const r=`${t}px`;return e!=r?(this.eGridDiv.style.setProperty("--ag-line-height",r),t):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const r=this.measureSizeEl(e);return r==="detached"||r==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,r),r)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const r=t.offsetWidth;return r===s2?"no-styles":(this.sizesMeasured=!0,r)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let r=this.eMeasurementContainer;r||(r=this.eMeasurementContainer=document.createElement("div"),r.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(r),this.eGridDiv.appendChild(r)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${s2}px)`,r.appendChild(t),this.sizeEls.set(e,t);let n=this.measureSizeEl(e);n==="no-styles"&&Te(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const s=this.resizeObserverService.observeResize(t,()=>{const i=this.measureSizeEl(e);i==="detached"||i==="no-styles"||(this.lastKnownValues.set(e,i),i!==n&&(n=i,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>s()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const r=this.readAncestorThemeClasses();koe(r,this.ancestorThemeClasses)||(this.ancestorThemeClasses=r,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const r=Array.from(e.classList).filter(n=>n.startsWith("ag-theme-"));for(const n of r)t.includes(n)||t.unshift(n);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:r}=this,n=e.get("theme")||null;n!==r&&(r==null||r.stopUse(),this.gridTheme=n,n==null||n.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){var e;(e=this.gridTheme)==null||e.stopUse(),this.gridTheme=null}},koe=(e,t)=>e.length===t.length&&e.findIndex((r,n)=>e[n]!==t[n])===-1,s2=15538,Loe=class extends Ee{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new Wd}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=xv(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,r){this.globalEventService.addEventListener(e,t,r)}removeEventListener(e,t,r){this.globalEventService.removeEventListener(e,t,r)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},Kb=class ai extends Ee{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",ai.toggleKeyboardMode),t.addEventListener("mousedown",ai.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",ai.toggleKeyboardMode),t.removeEventListener("mousedown",ai.toggleKeyboardMode))}static toggleKeyboardMode(t){const r=ai.keyboardModeActive,n=t.type==="keydown";n&&(t.ctrlKey||t.metaKey||t.altKey)||r!==n&&(ai.keyboardModeActive=n)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,r=>{this.gridCtrl=r.gridCtrl})}registerKeyboardFocusEvents(){const t=jr(this.gos);ai.addKeyboardModeEvents(t),ai.instanceCount++,this.addDestroyFunc(()=>{ai.instanceCount--,ai.removeKeyboardModeEvents(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,r=this.columnModel.getCol(t.getId());t!==r&&this.clearFocusedCell()}isKeyboardMode(){return ai.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Dr(this.gos),xc.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Dr(this.gos),_0.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,r){let n=t;for(;n;){if(Bf(this.gos,n,r))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return this.isCellRestoreFocused(t)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,r){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),r())})}isCellRestoreFocused(t){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:r,rowPinned:n,column:s}=t,i={rowIndex:r,rowPinned:n,column:s,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:n});return o&&(i.isFullWidthCell=o.isFullWidth()),i}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:r,rowIndex:n,rowPinned:s,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:o=!1}=t,a=this.columnModel.getCol(r);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:n,rowPinned:Xo(s),column:a},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:i,preventScrollOnBrowserFocus:o})}isCellFocused(t){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null)return!1;const r=t.getColumnGroupChild(),n=t.getRowIndex(),s=t.getPinned(),{column:i,headerRowIndex:o}=this.focusedHeaderPosition;return r===i&&n===o&&s==i.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,r){this.focusedHeaderPosition={headerRowIndex:t,column:r}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){var u;if(this.isHeaderFocusSuppressed())return!1;const{direction:r,fromTab:n,allowUserOverride:s,event:i,fromCell:o,rowWithoutSpanValue:a}=t;let{headerPosition:l}=t;if(o&&((u=this.filterManager)!=null&&u.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter(l);if(s){const f=this.getFocusedHeader(),p=this.headerNavigationService.getHeaderRowCount();if(n){const g=this.gos.getCallback("tabToNextHeader");g&&(l=this.getHeaderPositionFromUserFunc({userFunc:g,direction:r,currentPosition:f,headerPosition:l,headerRowCount:p}))}else{const g=this.gos.getCallback("navigateToNextHeader");if(g&&i){const C={key:i.key,previousHeaderPosition:f,nextHeaderPosition:l,headerRowCount:p,event:i};l=g(C)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:r,event:i,fromCell:o,rowWithoutSpanValue:a}):!1}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:r,headerPosition:n,direction:s,event:i}=t,o=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),l=this.getHeaderPositionFromUserFunc({userFunc:r,direction:s,currentPosition:o,headerPosition:n,headerRowCount:a});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:s,event:i})}getHeaderPositionFromUserFunc(t){const{userFunc:r,direction:n,currentPosition:s,headerPosition:i,headerRowCount:o}=t,l=r({backwards:n==="Before",previousHeaderPosition:s,nextHeaderPosition:i,headerRowCount:o});return l===!0||l===null?(l===null&&Te("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),s):l===!1?null:l}focusProvidedHeaderPosition(t){var p;const{headerPosition:r,direction:n,fromCell:s,rowWithoutSpanValue:i,event:o}=t,{column:a,headerRowIndex:l}=r;if(l===-1)return(p=this.filterManager)!=null&&p.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(r):this.focusGridView(a);this.headerNavigationService.scrollToColumn(a,n);const u=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned()),f=(u==null?void 0:u.focusHeader(r.headerRowIndex,a,o))||!1;return f&&(i!=null||s)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(i??-1),f}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const r=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:r,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const r=this.headerNavigationService.getHeaderRowCount()-1,n=jt(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:r,column:n},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){var r;return(r=this.filterManager)!=null&&r.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,r){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===Xo(r)}findFocusableElements(t,r,n=!1){const s=Dte;let i=I_;r&&(i+=", "+r),n&&(i+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(t.querySelectorAll(s)).filter(u=>Co(u)),a=Array.prototype.slice.apply(t.querySelectorAll(i));return a.length?((u,f)=>u.filter(p=>f.indexOf(p)===-1))(o,a):o}focusInto(t,r=!1,n=!1){const s=this.findFocusableElements(t,null,n),i=r?jt(s):s[0];return i?(i.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(t,r){if(!r)return null;const n=this.findFocusableElements(t),s=n.indexOf(r);if(s===-1)return null;let i=-1;for(let o=s-1;o>=0;o--)if(n[o].classList.contains("ag-tab-guard-top")){i=o;break}return i<=0?null:n[i-1]}findNextFocusableElement(t=this.eGridDiv,r,n){const s=this.findFocusableElements(t,r?':not([tabindex="-1"])':null),i=Dr(this.gos);let o;r?o=s.findIndex(l=>l.contains(i)):o=s.indexOf(i);const a=o+(n?-1:1);return a<0||a>=s.length?null:s[a]}isTargetUnderManagedComponent(t,r){if(!r)return!1;const n=t.querySelectorAll(`.${zc.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let s=0;s<n.length;s++)if(n[s].contains(r))return!0;return!1}findTabbableParent(t,r=5){let n=0;for(;t&&mx(t)===null&&++n<=r;)t=t.parentElement;return mx(t)===null?null:t}focusOverlay(t){var n;const r=this.overlayService.isVisible()&&((n=this.overlayService.getOverlayWrapper())==null?void 0:n.getGui());return!!r&&this.focusInto(r,t)}focusGridViewFailed(t,r){return r&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,r=!1,n=!0){var i,o;if(this.overlayService.isExclusive())return n&&this.focusOverlay(r);if(this.isCellFocusSuppressed())return r&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():n&&this.focusOverlay(r)?!0:this.focusNextGridCoreContainer(!1);const s=r?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(s){const{rowIndex:a,rowPinned:l}=s;if(t??(t=(i=this.getFocusedHeader())==null?void 0:i.column),t&&a!==void 0&&a!==null){if(this.navigationService.ensureCellVisible({rowIndex:a,column:t,rowPinned:l}),r){const u=this.rowRenderer.getRowByPosition(s);if(u!=null&&u.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(s,r))return!0}return this.setFocusedCell({rowIndex:a,column:t,rowPinned:Xo(l),forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:a,rowPinned:l,column:t}),!0}}return!!(n&&this.focusOverlay(r)||r&&this.focusLastHeader())}isGridFocused(){const t=Dr(this.gos);return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,r=!1){return!r&&this.gridCtrl.focusNextInnerContainer(t)?!0:((r||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){var r;return this.advancedFilterFocusColumn=t==null?void 0:t.column,((r=this.advancedFilterService)==null?void 0:r.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(t,r){var s;const n=(r?void 0:this.advancedFilterFocusColumn)??((s=this.visibleColsService.getAllCols())==null?void 0:s[0]);return t?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};Kb.keyboardModeActive=!1;Kb.instanceCount=0;var _oe=Kb,joe=class extends Ee{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=Rn(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),r=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},Boe=class extends Ee{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,r){this.view=e,this.eGridHostDiv=t,this.eGui=r,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:n,mouseEventService:s,ctrlsService:i,resizeObserverService:o}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:u=>u===1||u===0,getIconName:()=>"notAllowed"};n.addDropTarget(a),this.addDestroyFunc(()=>n.removeDropTarget(a)),s.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new zb(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const l=o.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>l()),i.register("gridCtrl",this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,r,n,s,i;const e=this.beans;return{paginationSelector:(t=e.paginationService)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:(r=e.columnDropZonesService)==null?void 0:r.getDropZoneSelector(),sideBarSelector:(n=e.sideBarService)==null?void 0:n.getSideBarSelector(),statusBarSelector:(s=e.statusBarService)==null?void 0:s.getStatusPanelSelector(),watermarkSelector:(i=e.licenseManager)==null?void 0:i.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:r,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(r>0){const s=this.visibleColsService.getAllCols(),i=jt(s);if(this.focusService.focusGridView(i,!0))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const r=this.getFocusableContainers(),n=this.visibleColsService.getAllCols();if(e){if(r.length>1)return this.focusContainer(jt(r),!0);const s=jt(n);if(this.focusService.focusGridView(s,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(n[0]))return!0;for(let s=1;s<r.length;s++)if(this.focusService.focusInto(r[s].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var i;const t=this.view.getFocusableContainers(),{nextIndex:r,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||r<0||r>=t.length)return;const s=t[r];(i=s.setAllowFocus)==null||i.call(s,!0),setTimeout(()=>{var o;(o=s.setAllowFocus)==null||o.call(s,!1)})}getNextFocusableIndex(e,t){const r=Dr(this.gos),n=e.findIndex(i=>i.getGui().contains(r)),s=n+(t?-1:1);return{indexWithFocus:n,nextIndex:s}}focusContainer(e,t){var n,s;(n=e.setAllowFocus)==null||n.call(e,!0);const r=this.focusService.focusInto(e.getGui(),t);return(s=e.setAllowFocus)==null||s.call(e,!1),r}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Goe=class extends Ee{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";typeof e=="function"&&(e=e());const r=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(s=>{var o;if(!s){Yt("alignedGrids contains an undefined option."),t||Yt(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Yt(r());return}if(this.isGridApi(s))return s;const i=s;return"current"in i?(o=i.current)==null?void 0:o.api:(i.api||Yt(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${r()}`),i.api)}).filter(s=>!!s&&!s.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const r=[];return e.columns?e.columns.forEach(n=>{r.push(t(n))}):e.column&&r.push(t(e.column)),r}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Te("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(r=>{let n=null;r&&(n=t.getProvidedColGroup(r.getGroupId())),!(r&&!n)&&t.setColumnGroupOpened(n,r.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var u;const t=e.column;let r=null;if(t&&(r=this.columnModel.getColDefCol(t.getColId())),t&&!r)return;const n=this.getMasterColumns(e),{columnApplyStateService:s,columnSizeService:i,ctrlsService:o}=this;switch(e.type){case"columnMoved":{const p=e.api.getColumnState().map(g=>({colId:g.colId}));s.applyColumnState({state:p,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const p=e.api.getColumnState().map(g=>({colId:g.colId,hide:g.hide}));s.applyColumnState({state:p},"alignedGridChanged")}break;case"columnPinned":{const p=e.api.getColumnState().map(g=>({colId:g.colId,pinned:g.pinned}));s.applyColumnState({state:p},"alignedGridChanged")}break;case"columnResized":{const f=e,p={};n.forEach(g=>{p[g.getId()]={key:g.getColId(),newWidth:g.getActualWidth()}}),(u=f.flexColumns)==null||u.forEach(g=>{p[g.getId()]&&delete p[g.getId()]}),i.setColumnWidths(Object.values(p),!1,f.finished,"alignedGridChanged");break}}const l=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(f=>{f.setGridOption("alwaysShowVerticalScroll",l)})}},Voe={version:Ft,moduleName:"@ag-grid-community/aligned-grid",beans:[Goe]};function Hoe(e,t){const r=e.columnModel.getColDefCol(t);return r?r.getColDef():null}function Woe(e){return e.columnModel.getColumnDefs()}function Uoe(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function $oe(e,t,r){e.columnModel.setColumnGroupOpened(t,r,"api")}function zoe(e,t,r){return e.visibleColsService.getColumnGroup(t,r)}function Koe(e,t){return e.columnModel.getProvidedColGroup(t)}function qoe(e,t,r){return e.columnNameService.getDisplayNameForColumn(t,r)||""}function Yoe(e,t,r){return e.columnNameService.getDisplayNameForColumnGroup(t,r)||""}function Qoe(e,t){return e.columnModel.getColDefCol(t)}function Xoe(e){return e.columnModel.getColDefCols()}function Zoe(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function Joe(e){return e.columnGetStateService.getColumnState()}function eae(e){e.columnApplyStateService.resetColumnState("api")}function tae(e){return e.columnGroupStateService.getColumnGroupState()}function rae(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function nae(e){e.columnGroupStateService.resetColumnGroupState("api")}function sae(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function iae(e){return e.visibleColsService.isPinningLeft()}function oae(e){return e.visibleColsService.isPinningRight()}function aae(e,t){return e.visibleColsService.getColAfter(t)}function lae(e,t){return e.visibleColsService.getColBefore(t)}function cae(e,t,r){e.columnModel.setColsVisible([t],r,"api")}function uae(e,t,r){e.columnModel.setColsVisible(t,r,"api")}function dae(e,t,r){e.columnModel.setColsPinned([t],r,"api")}function hae(e,t,r){e.columnModel.setColsPinned(t,r,"api")}function fae(e){return e.columnModel.getCols()}function pae(e){return e.visibleColsService.getLeftCols()}function gae(e){return e.visibleColsService.getCenterCols()}function mae(e){return e.visibleColsService.getRightCols()}function vae(e){return e.visibleColsService.getAllCols()}function Cae(e){return e.columnViewportService.getViewportColumns()}function yae(e,t,r){e.columnMoveService.moveColumns([t],r,"api")}function Sae(e,t,r){e.columnMoveService.moveColumnByIndex(t,r,"api")}function wae(e,t,r){e.columnMoveService.moveColumns(t,r,"api")}function xae(e,t,r,n=!0,s="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:r}],!1,n,s)}function bae(e,t,r=!0,n="api"){e.columnSizeService.setColumnWidths(t,!1,r,n)}function Eae(e){return e.visibleColsService.getTreeLeft()}function Rae(e){return e.visibleColsService.getTreeCenter()}function Fae(e){return e.visibleColsService.getTreeRight()}function Tae(e){return e.visibleColsService.getAllTrees()}function Pae(e,t,r){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:r,source:"api"})}function Aae(e,t,r){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:r,source:"api"})}function Dae(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var Mae=class extends Ee{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(ec(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=n=>s=>{const{column:i,node:o,value:a}=s;let l=i.getColDef().valueFormatter;return l===n.groupSafeValueFormatter&&(l=n.valueFormatter),this.valueService.formatValue(i,o,a,l)};Object.entries(e).forEach(([n,s])=>{const i={...s,groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)};this.dataTypeDefinitions[n]=i,this.formatValueFuncs[n]=t(i)});const r=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(r).forEach(([n,s])=>{const i=this.processDataTypeDefinition(s,r,[n],e);i&&(this.dataTypeDefinitions[n]=i,s.dataTypeMatcher&&(this.dataTypeMatchers[n]=s.dataTypeMatcher),this.formatValueFuncs[n]=t(i))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(n=>{const s=this.dataTypeMatchers[n];s&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=s??e[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const r={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(r.columnTypes=[...zm(e.columnTypes),...zm(t.columnTypes)]),r}processDataTypeDefinition(e,t,r,n){let s;const i=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=n[i];const a=t[i];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,i))return;s=this.mergeDataTypeDefinitions(o,e)}else{if(r.includes(i)){Te('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=t[i];if(!this.validateDataTypeDefinition(e,o,i))return;const a=this.processDataTypeDefinition(o,t,[...r,i],n);if(!a)return;s=this.mergeDataTypeDefinitions(a,e)}return{...s,groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)}}validateDataTypeDefinition(e,t,r){return t?t.baseDataType!==e.baseDataType?(Te('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(Te(`The data type definition ${r} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var r,n;if((r=t.node)!=null&&r.group){const s=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&s!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&typeof t.value=="string"&&!((n=e.dataTypeMatcher)!=null&&n.call(e,t.value)))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,r){let{cellDataType:n}=t;const{field:s}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(s,r):!1),!n){e.cellDataType=!1;return}const i=this.dataTypeDefinitions[n];if(!i){Te(`Missing data type definition - "${n}"`);return}return e.cellDataType=n,i.groupSafeValueFormatter&&(e.valueFormatter=i.groupSafeValueFormatter),i.valueParser&&(e.valueParser=i.valueParser),i.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,i,r),i.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const r=n=>{t.add(n.key)};e.addEventListener("columnStateUpdated",r),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",r))}canInferCellDataType(e,t){if(!yr(this.gos))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,r))return!1;const n=t.type===null?e.type:t.type;if(n){const s=this.gos.get("columnTypes")??{};if(zm(n).some(o=>{const a=s[o.trim()];return a&&this.doColDefPropsPreventInference(a,r)}))return!1}return!this.doColDefPropsPreventInference(e,r)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([r,n])=>this.doesColDefPropPreventInference(e,t,r,n))}doesColDefPropPreventInference(e,t,r,n){if(!t[r])return!1;const s=e[r];return s===null?(t[r]=!1,!1):n===void 0?!!s:s===n}inferCellDataType(e,t){if(!e)return;let r;const n=this.getInitialData();if(n){const i=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");r=hf(n,e,i)}else this.initWaitForRowData(t);if(r==null)return;const[s]=Object.entries(this.dataTypeMatchers).find(([i,o])=>o(r))??["object"];return s}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[r]=this.addManagedEventListeners({rowDataUpdateStarted:n=>{const{firstRowData:s}=n;s&&(r==null||r(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const r=[];this.destroyColumnStateUpdateListeners();const n={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([i,o])=>{const a=this.columnModel.getCol(i);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(t&&u.type&&u.type!==l.type){const f=this.getUpdatedColumnState(a,o);f.rowGroup&&f.rowGroupIndex==null&&(n[i]=f),f.pivot&&f.pivotIndex==null&&(s[i]=f),r.push(f)}}),t&&r.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(n,s)),r.length&&this.columnApplyStateService.applyColumnState({state:r},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const r=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(n=>{delete r[n],n==="rowGroup"?delete r.rowGroupIndex:n==="pivot"&&delete r.pivotIndex}),r}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,r=e.object;this.hasObjectValueParser=t.valueParser!==r.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==r.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var n;if(t==null)return!0;const r=(n=this.getDataTypeDefinition(e))==null?void 0:n.dataTypeMatcher;return r?r(t):!0}validateColDef(e){const t=r=>Te(`Cell data type is "object" but no Value ${r} has been provided. Please either provide an object data type definition with a Value ${r}, or set "colDef.value${r}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,r,n){var i;const s=this.formatValueFuncs[t];switch(r.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===ve.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=s;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=s;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,a)=>{const l=this.columnModel.getColDefCol(n),u=l==null?void 0:l.getColDef();if(!l||!u)return 0;const f=o==null?"":s({column:l,node:null,value:o}),p=a==null?"":s({column:l,node:null,value:a});return f===p?0:f>p?1:-1},e.keyCreator=s;break}}(i=this.filterManager)==null||i.setColDefPropertiesForDataType(e,r,s)}getDefaultDataTypes(){const e=r=>!!r.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:r=>{var n,s;return((s=(n=r.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:Number(r.newValue)},valueFormatter:r=>r.value==null?"":typeof r.value!="number"||isNaN(r.value)?t("invalidNumber","Invalid Number"):String(r.value),dataTypeMatcher:r=>typeof r=="number"},text:{baseDataType:"text",valueParser:r=>r.newValue===""?null:sx(r.newValue),dataTypeMatcher:r=>typeof r=="string"},boolean:{baseDataType:"boolean",valueParser:r=>{var n,s;return r.newValue==null?r.newValue:((s=(n=r.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:String(r.newValue).toLowerCase()==="true"},valueFormatter:r=>r.value==null?"":String(r.value),dataTypeMatcher:r=>typeof r=="boolean"},date:{baseDataType:"date",valueParser:r=>Es(r.newValue==null?null:String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):Ci(r.value,!1)??"",dataTypeMatcher:r=>r instanceof Date},dateString:{baseDataType:"dateString",dateParser:r=>Es(r)??void 0,dateFormatter:r=>Ci(r??null,!1)??void 0,valueParser:r=>e(String(r.newValue))?r.newValue:null,valueFormatter:r=>e(String(r.value))?r.value:"",dataTypeMatcher:r=>typeof r=="string"&&e(r)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:r=>sx(r.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},Nae={version:Ft,moduleName:"@ag-grid-community/data-type",beans:[Mae]},Iae={version:Ft,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:Hoe,getColumnDefs:Woe,sizeColumnsToFit:Uoe,setColumnGroupOpened:$oe,getColumnGroup:zoe,getProvidedColumnGroup:Koe,getDisplayNameForColumn:qoe,getDisplayNameForColumnGroup:Yoe,getColumn:Qoe,getColumns:Xoe,applyColumnState:Zoe,getColumnState:Joe,resetColumnState:eae,getColumnGroupState:tae,setColumnGroupState:rae,resetColumnGroupState:nae,isPinning:sae,isPinningLeft:iae,isPinningRight:oae,getDisplayedColAfter:aae,getDisplayedColBefore:lae,setColumnVisible:cae,setColumnsVisible:uae,setColumnPinned:dae,setColumnsPinned:hae,getAllGridColumns:fae,getDisplayedLeftColumns:pae,getDisplayedCenterColumns:gae,getDisplayedRightColumns:mae,getAllDisplayedColumns:vae,getAllDisplayedVirtualColumns:Cae,moveColumn:yae,moveColumnByIndex:Sae,moveColumns:wae,setColumnWidth:xae,setColumnWidths:bae,getLeftDisplayedColumnGroups:Eae,getCenterDisplayedColumnGroups:Rae,getRightDisplayedColumnGroups:Fae,getAllDisplayedColumnGroups:Tae,autoSizeColumn:Pae,autoSizeColumns:Aae,autoSizeAllColumns:Dae}};function Oae(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function kae(e,t){const r=e.dragAndDropService.findExternalZone(t);r&&e.dragAndDropService.removeDropTarget(r)}function Lae(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var _ae={version:Ft,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:Oae,removeRowDropZone:kae,getRowDropZoneParams:Lae}};function jae(e){return e.pinnedRowModel.getPinnedTopRowCount()}function Bae(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function Gae(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function Vae(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var Hae={version:Ft,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:jae,getPinnedBottomRowCount:Bae,getPinnedTopRow:Gae,getPinnedBottomRow:Vae}};function Wae(e){e.overlayService.showLoadingOverlay()}function Uae(e){e.overlayService.showNoRowsOverlay()}function $ae(e){e.overlayService.hideOverlay()}var zae={version:Ft,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:Wae,showNoRowsOverlay:Uae,hideOverlay:$ae}};function Kae(e,t,r){if(!t)return;const n=e.ctrlsService.getGridBodyCtrl().getGui(),s=`aria-${t}`;r===null?n.removeAttribute(s):n.setAttribute(s,r)}function qae(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function Yae(e,t={}){const r=n=>Te(`Since v31.1 api.flashCells parameter '${n}Delay' is deprecated. Please use '${n}Duration' instead.`);Le(t.fadeDelay)&&r("fade"),Le(t.flashDelay)&&r("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function Qae(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function Xae(e){return e.animationFrameService.isQueueEmpty()}function Zae(e){e.animationFrameService.flushAllFrames()}function Jae(e){return{rowHeight:yc(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function ele(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(pf)}var tle={version:Ft,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:Kae,refreshCells:qae,flashCells:Yae,refreshHeader:Qae,isAnimationFrameQueueEmpty:Xae,flushAllAnimationFrames:Zae,getSizesForCurrentTheme:Jae,getCellRendererInstances:ele}};function rle(e){e.valueCache.expire()}function nle(e,t,r){return H3(e,{colKey:t,rowNode:r})}function H3(e,t){const{colKey:r,rowNode:n,useFormatter:s}=t,i=e.columnModel.getColDefCol(r)??e.columnModel.getCol(r);if(Bt(i))return null;const o=e.valueService.getValueForDisplay(i,n);return s?e.valueService.formatValue(i,n,o)??mo(o,!0):o}function sle(e){return e.context.getGridId()}function ile(e){e.gridDestroyService.destroy()}function ole(e){return e.gridDestroyService.isDestroyCalled()}function ale(e,t){return e.gos.get(t)}function lle(e,t,r){W3(e,{[t]:r})}function W3(e,t){e.gos.updateGridOptions({options:t})}function cle(e,t,r){e.apiEventService.addEventListener(t,r)}function ule(e,t,r){e.apiEventService.removeEventListener(t,r)}function dle(e,t){e.apiEventService.addGlobalListener(t)}function hle(e,t){e.apiEventService.removeGlobalListener(t)}function fle(e){return e.focusService.getFocusedCell()}function ple(e){return e.focusService.clearFocusedCell()}function gle(e,t,r,n){e.focusService.setFocusedCell({rowIndex:t,column:r,rowPinned:n,forceBrowserFocus:!0})}function mle(e,t){return e.navigationService.tabToNextCell(!1,t)}function vle(e,t){return e.navigationService.tabToNextCell(!0,t)}function Cle(e,t,r=!1){const n=e.headerNavigationService.getHeaderPositionForColumn(t,r);n&&e.focusService.focusHeaderPosition({headerPosition:n})}function yle(e,t,r){const n=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:n,buttonElement:r,positionBy:"button"})}function Sle(e,t,r){let n=e.columnModel.getCol(t);if(n||(n=e.columnModel.getColDefCol(t)),!n){Yt(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:n,mouseEvent:r,positionBy:"mouse"})}function wle(e,t){const r=e.columnModel.getCol(t);if(!r){Yt(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:r,positionBy:"auto"})}function xle(e){e.menuService.hidePopupMenu()}function ble(e,t={}){const r=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(r))}function Ele(e,t,r,n,s){e.expansionService.setRowNodeExpanded(t,r,n,s)}function Rle(e,t){return e.rowModel.getRowNode(t)}function Fle(e,t,r,n){e.rowRenderer.addRenderedRowListener(t,r,n)}function Tle(e){return e.rowRenderer.getRenderedNodes()}function Ple(e,t,r){e.rowModel.forEachNode(t,r)}function Ale(e){return U3(e)}function U3(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function Dle(e){return $3(e)}function $3(e){return e.rowRenderer.getLastVirtualRenderedRow()}function Mle(e,t){return e.rowModel.getRow(t)}function Nle(e){return e.rowModel.getRowCount()}function Ile(e){return e.rowModel}function Ole(e,t){if(!t.nodes.every(a=>a.rowPinned?(Te("cannot select pinned rows"),!1):a.id===void 0?(Te("cannot select node until id for node is known"),!1):!0))return;const{nodes:n,source:s,newValue:i}=t,o=n;e.selectionService.setNodesSelected({nodes:o,source:s??"api",newValue:i})}function kle(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function Lle(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function _le(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function jle(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function Ble(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function Gle(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function Vle(e){return e.selectionService.getSelectedNodes()}function Hle(e){return e.selectionService.getSelectedRows()}function Wle(e){e.sortController.onSortChanged("api")}var Ule={version:Ft,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:sle,destroy:ile,isDestroyed:ole,getGridOption:ale,setGridOption:lle,updateGridOptions:W3}},$le={version:Ft,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:Ole,selectAll:kle,deselectAll:Lle,selectAllFiltered:_le,deselectAllFiltered:jle,selectAllOnCurrentPage:Ble,deselectAllOnCurrentPage:Gle,getSelectedNodes:Vle,getSelectedRows:Hle}},zle={version:Ft,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:ble,setRowNodeExpanded:Ele,getRowNode:Rle,addRenderedRowListener:Fle,getRenderedNodes:Tle,forEachNode:Ple,getFirstDisplayedRow:Ale,getFirstDisplayedRowIndex:U3,getLastDisplayedRow:Dle,getLastDisplayedRowIndex:$3,getDisplayedRowAtIndex:Mle,getDisplayedRowCount:Nle,getModel:Ile}},Kle={version:Ft,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:Nie,getHorizontalPixelRange:Iie,ensureColumnVisible:L3,ensureIndexVisible:_3,ensureNodeVisible:Oie}},qle={version:Ft,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:fle,clearFocusedCell:ple,setFocusedCell:gle,setFocusedHeader:Cle,tabToNextCell:mle,tabToPreviousCell:vle}},Yle={version:Ft,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:cle,addGlobalListener:dle,removeEventListener:ule,removeGlobalListener:hle}},Qle={version:Ft,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:rle,getValue:nle,getCellValue:H3}},Xle={version:Ft,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:yle,showColumnMenuAfterMouseClick:Sle,showColumnMenu:wle,hidePopupMenu:xle}},Zle={version:Ft,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:Wle}},Jle={version:Ft,moduleName:"@ag-grid-community/api",dependantModules:[Ule,Hae,$le,Iae,zle,_ae,Kle,zae,qle,Yle,tle,Qle,Xle,Zle]};function ece(e){var t;return((t=e.stateService)==null?void 0:t.getState())??{}}function tce(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=rce(e)}return e}function rce(e){return e.cellSelection=nce(e,"rangeSelection"),e}function nce(e,t){if(e&&typeof e=="object")return e[t]}var sce=class extends Ee{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=os(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=os(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=os(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=yr(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Ft),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,r]=this.addManagedEventListeners({newColumnsLoaded:({source:n})=>{n==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t==null||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{r==null||r(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return tce(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:r,pagination:n}=this.getInitialState(),s=this.gos.get("advancedFilterModel");(e||s)&&this.setFilterState(e,s),t&&this.setRowGroupExpansionState(t),r&&this.setRowSelectionState(r),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const i=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:i,columnRowGroupChanged:i,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{i()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:r,columnOrder:n}=this.getInitialState();r&&this.setFocusedCellState(r),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(n!=null&&n.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const s=this.getRangeSelectionState();this.updateCachedState("rangeSelection",s),this.updateCachedState("cellSelection",s),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:i=>{if(i.finished){const o=this.getRangeSelectionState();this.updateCachedState("rangeSelection",o),this.updateCachedState("cellSelection",o)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],r=[],n=[],s=[],i=[],o=[],a=[],l=[],u=[];let f=0;const p=this.columnGetStateService.getColumnState();for(let g=0;g<p.length;g++){const{colId:C,sort:S,sortIndex:y,rowGroup:w,rowGroupIndex:b,aggFunc:F,pivot:R,pivotIndex:E,pinned:A,hide:D,width:M,flex:I}=p[g];u.push(C),S&&(t[y??f++]={colId:C,sort:S}),w&&(r[b??0]=C),typeof F=="string"&&n.push({colId:C,aggFunc:F}),R&&(s[E??0]=C),A&&(A==="right"?o:i).push(C),D&&a.push(C),(I||M)&&l.push({colId:C,flex:I??void 0,width:M})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:s.length||e?{pivotMode:e,pivotColIds:s}:void 0,columnPinning:i.length||o.length?{leftColIds:i,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}setColumnState(e){const{sort:t,rowGroup:r,aggregation:n,pivot:s,columnPinning:i,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:u}=e,f={},p=w=>{let b=f[w];return b||(b={colId:w},f[w]=b,b)},g=u?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:w,sort:b},F)=>{const R=p(w);R.sort=b,R.sortIndex=F}),g.sort=null,g.sortIndex=null),r&&(r.groupColIds.forEach((w,b)=>{const F=p(w);F.rowGroup=!0,F.rowGroupIndex=b}),g.rowGroup=null,g.rowGroupIndex=null),n&&(n.aggregationModel.forEach(({colId:w,aggFunc:b})=>{p(w).aggFunc=b}),g.aggFunc=null),s&&(s.pivotColIds.forEach((w,b)=>{const F=p(w);F.pivot=!0,F.pivotIndex=b}),this.gos.updateGridOptions({options:{pivotMode:s.pivotMode},source:"gridInitializing"}),g.pivot=null,g.pivotIndex=null),i&&(i.leftColIds.forEach(w=>{p(w).pinned="left"}),i.rightColIds.forEach(w=>{p(w).pinned="right"}),g.pinned=null),o&&(o.hiddenColIds.forEach(w=>{p(w).hide=!0}),g.hide=null),a&&(a.columnSizingModel.forEach(({colId:w,flex:b,width:F})=>{const R=p(w);R.flex=b??null,R.width=F}),g.flex=null);const C=l==null?void 0:l.orderedColIds,S=!!(C!=null&&C.length),y=S?C.map(w=>p(w)):Object.values(f);y.length&&(this.columnStates=y,this.columnApplyStateService.applyColumnState({state:y,applyOrder:S,defaultState:g},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){const n=[];for(const s of t)this.pivotResultColsService.getPivotResultCol(s.colId)&&n.push(s);this.columnApplyStateService.applyColumnState({state:n,applyOrder:e},"gridInitializing")}r&&this.columnGroupStateService.setColumnGroupState(r,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:r,open:n})=>{n&&t.push(r)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var s;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set((s=e.columnGroup)==null?void 0:s.openColumnGroupIds),n=this.columnGroupStateService.getColumnGroupState().map(({groupId:i})=>{const o=t.has(i);return o&&t.delete(i),{groupId:i,open:o}});t.forEach(i=>{n.push({groupId:i,open:!0})}),n.length&&(this.columnGroupStates=n),this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}getFilterState(){var r,n;let e=(r=this.filterManager)==null?void 0:r.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const t=((n=this.filterManager)==null?void 0:n.getAdvancedFilterModel())??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){var s,i;const{filterModel:r,advancedFilterModel:n}=e??{advancedFilterModel:t};r&&((s=this.filterManager)==null||s.setFilterModel(r,"columnFilter")),n&&((i=this.filterManager)==null||i.setAdvancedFilterModel(n))}getRangeSelectionState(){var t;const e=(t=this.rangeService)==null?void 0:t.getCellRanges().map(r=>{const{id:n,type:s,startRow:i,endRow:o,columns:a,startColumn:l}=r;return{id:n,type:s,startRow:i,endRow:o,colIds:a.map(u=>u.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:r,columnModel:n,visibleColsService:s}=this;if(!ca(t)||!r)return;const i=[];if(e.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(u=>{const f=n.getCol(u);f&&a.push(f)}),!a.length)return;let l=n.getCol(o.startColId);if(!l){const u=s.getAllCols(),f=new Set(a);l=u.find(p=>f.has(p))}i.push({...o,columns:a,startColumn:l})}),Iee(t)&&Oee(t)&&i.length>1)return Te("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");r.setCellRanges(i)}getScrollState(){var n;if(!this.isClientSideRowModel)return;const e=(n=this.ctrlsService.getGridBodyCtrl())==null?void 0:n.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:r}=(e==null?void 0:e.getVScrollPosition())??{top:0};return r||t?{top:r,left:t}:void 0}setScrollState(e){var n;if(!this.isClientSideRowModel)return;const{top:t,left:r}=e;(n=this.ctrlsService.getGridBodyCtrl())==null||n.getScrollFeature().setScrollPosition(t,r)}getSideBarState(){var e,t;return(t=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:r,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:r,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:r,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:r,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){var r;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((r=e==null?void 0:e.toggledNodes)!=null&&r.length)?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let r=!1;Object.entries(t).forEach(([n,s])=>{jf(s,this.cachedState[n])||(r=!0)}),this.cachedState={...this.cachedState,...t},r&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const r=this.cachedState[e];this.setCachedStateValue(e,t),jf(t,r)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},z3={version:Ft,moduleName:"@ag-grid-community/state-core",beans:[sce]},ice={version:Ft,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:ece},dependantModules:[z3]},oce={version:Ft,moduleName:"@ag-grid-community/state",dependantModules:[z3,ice]};function ace(e){return e.rowModel.isLastRowIndexKnown()}function lce(e){var t;return((t=e.paginationService)==null?void 0:t.getPageSize())??100}function cce(e){var t;return((t=e.paginationService)==null?void 0:t.getCurrentPage())??0}function uce(e){var t;return((t=e.paginationService)==null?void 0:t.getTotalPages())??1}function dce(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function hce(e){var t;(t=e.paginationService)==null||t.goToNextPage()}function fce(e){var t;(t=e.paginationService)==null||t.goToPreviousPage()}function pce(e){var t;(t=e.paginationService)==null||t.goToFirstPage()}function gce(e){var t;(t=e.paginationService)==null||t.goToLastPage()}function mce(e,t){var r;(r=e.paginationService)==null||r.goToPage(t)}var vce=class extends Ee{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const r=Math.max(yc(this.gos),1),n=Math.floor(e/r);this.paginationService.setPageSize(n,"autoCalculated")};this.isBodyRendered?os(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function Cce(e,t,r){e.addManagedElementListeners(t,{keydown:n=>{if(!n.defaultPrevented&&n.key===ve.TAB){const s=n.shiftKey;r.findNextFocusableElement(t,!1,s)||r.focusNextGridCoreContainer(s)&&n.preventDefault()}}})}var qh="paginationPageSizeSelector",yce=class extends dr{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(qh,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){qs(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(qh)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),r=!t||!e.includes(t);if(r){const s=this.gos.exists("paginationPageSize"),i=this.gos.get(qh)!==!0;Te(`'paginationPageSize=${t}'${s?"":" (default value)"}, but ${t} is not included in${i?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),i||Te(`Either set '${qh}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const n=String(r?"":t);this.selectPageSizeComp?(Rl(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=r}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const r=this.localeService.getLocaleTextFunc(),n=r("pageSizeSelectorLabel","Page Size:"),s=r("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new _b).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(s).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(qh);return!Array.isArray(t)||zs(t)?e:[...t].sort((r,n)=>r-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},Sce={selector:"AG-PAGE-SIZE-SELECTOR",component:yce},wce=class extends uoe{constructor(){super(),this.btFirst=pt,this.btPrevious=pt,this.btNext=pt,this.btLast=pt,this.lbRecordCount=pt,this.lbFirstRowOnPage=pt,this.lbLastRowOnPage=pt,this.lbCurrent=pt,this.lbTotal=pt,this.pageSizeComp=pt,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Sce]);const{btFirst:t,btPrevious:r,btNext:n,btLast:s}=this;this.activateTabIndex([t,r,n,s]),t.insertAdjacentElement("afterbegin",Vs(e?"last":"first",this.gos)),r.insertAdjacentElement("afterbegin",Vs(e?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",Vs(e?"previous":"next",this.gos)),s.insertAdjacentElement("afterbegin",Vs(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:i=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(i):this.focusService.focusGridInnerElement(i)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:r}=e;this.addManagedListeners(t,{click:r,keydown:n=>{(n.key===ve.ENTER||n.key===ve.SPACE)&&(n.preventDefault(),r())}})}),Cce(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const r=this.localeService.getLocaleTextFunc(),n=r("thousandSeparator",","),s=r("decimalSeparator",".");return ane(e,n,s)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),r=e("to","to"),n=e("of","of"),s=e("firstPage","First Page"),i=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${r}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${n}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${i}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${n}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),r=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),s=e===r-1;this.nextButtonDisabled=s||n,this.lastButtonDisabled=!t||n||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Ste(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),r=this.paginationService.getMasterRowCount(),n=e?r:null;if(n===1){const F=this.rowModel.getRow(0);if(F&&F.group&&!(F.groupData||F.aggData)){this.setTotalLabelsToZero();return}}const s=this.paginationService.getCurrentPage(),i=this.paginationService.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=i*s+1,a=o+i-1,e&&a>n&&(a=n));const l=o+i-1,u=!e&&r<l,f=this.formatNumber(o);this.lbFirstRowOnPage.textContent=f;let p;const g=this.localeService.getLocaleTextFunc();u?p=g("pageLastRowUnknown","?"):p=this.formatNumber(a),this.lbLastRowOnPage.textContent=p;const S=t>0?s+1:0,y=this.formatNumber(S);this.lbCurrent.textContent=y;let w,b;if(e)w=this.formatNumber(t),b=this.formatNumber(n);else{const F=g("more","more");w=F,b=F}this.lbTotal.textContent=w,this.lbRecordCount.textContent=b,this.announceAriaStatus(f,p,b,y,w)}announceAriaStatus(e,t,r,n,s){const i=this.localeService.getLocaleTextFunc(),o=i("page","Page"),a=i("to","to"),l=i("of","of"),u=`${e} ${a} ${t} ${l} ${r}`,f=`${o} ${n} ${l} ${s}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,this.ariaAnnouncementService.announceValue(u,"paginationRow")),f!==this.ariaPageStatus&&(this.ariaPageStatus=f,this.ariaAnnouncementService.announceValue(f,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},xce={selector:"AG-PAGINATION",component:wce},bce=class extends Ee{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return xce}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Le(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Le(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Le(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Le(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const r=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}r!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let r=this.pageSize*(this.currentPage+1)-1;if(r>e&&(r=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),r===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:r=!1,newPageSize:n=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:r,newPageSize:n,keepRenderedRows:t})}},K3={version:Ft,moduleName:"@ag-grid-community/pagination-core",beans:[bce,vce]},Ece={version:Ft,moduleName:"@ag-grid-community/pagination-api",dependantModules:[K3],apiFunctions:{paginationIsLastPageFound:ace,paginationGetPageSize:lce,paginationGetCurrentPage:cce,paginationGetTotalPages:uce,paginationGetRowCount:dce,paginationGoToNextPage:hce,paginationGoToPreviousPage:fce,paginationGoToFirstPage:pce,paginationGoToLastPage:gce,paginationGoToPage:mce}},Rce={version:Ft,moduleName:"@ag-grid-community/pagination",dependantModules:[K3,Ece]},ms="clientSide",Un="serverSide",Mu="infinite",Fce={onGroupExpandedOrCollapsed:[ms],refreshClientSideRowModel:[ms],isRowDataEmpty:[ms],forEachLeafNode:[ms],forEachNodeAfterFilter:[ms],forEachNodeAfterFilterAndSort:[ms],resetRowHeights:[ms],applyTransaction:[ms],applyTransactionAsync:[ms],flushAsyncTransactions:[ms],getBestCostNodeSelection:[ms],getServerSideSelectionState:[Un],setServerSideSelectionState:[Un],applyServerSideTransaction:[Un],applyServerSideTransactionAsync:[Un],applyServerSideRowData:[Un],retryServerSideLoads:[Un],flushServerSideAsyncTransactions:[Un],refreshServerSide:[Un],getServerSideGroupLevelState:[Un],refreshInfiniteCache:[Mu],purgeInfiniteCache:[Mu],getInfiniteRowCount:[Mu],isLastRowIndexKnown:[Mu,Un],expandAll:[ms,Un],collapseAll:[ms,Un],onRowHeightChanged:[ms,Un],setRowCount:[Mu,Un],getCacheBlockState:[Mu,Un]},Tce={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function Pce(e,t,r){const n=Tce[e];if(n){const{version:i,new:o,old:a,message:l}=n,u=a??e;return(...f)=>{const p=o?`Please use ${o} instead. `:"";return Te(`Since ${i} api.${u} is deprecated. ${p}${l??""}`),t.apply(t,f)}}const s=Fce[e];return s?(...i)=>{const o=r.rowModel.getType();if(!s.includes(o)){Yt(`api.${e} can only be called when gridOptions.rowModelType is ${s.join(" or ")}`);return}return t.apply(t,i)}:t}var Ace={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},Ga=(e,t)=>{const r=t.rowModelType??"clientSide";return r==="clientSide"||r==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},Dce={enableRowGroup:Ga,rowGroup:Ga,rowGroupIndex:Ga,enablePivot:Ga,enableValue:Ga,pivot:Ga,pivotIndex:Ga,aggFunc:Ga,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var r;const t=["columnsMenuTab","generalMenuTab"];return(r=e.menuTabs)!=null&&r.some(n=>t.includes(n))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>Lu},Mce={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},Nce=Object.keys(Mce),Lu={objectName:"colDef",allProperties:Nce,docsUrl:"column-properties/",deprecations:Ace,validations:Dce},Ice=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),Oce={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},kce=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const r=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:r}case"serverSide":{const r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:r}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return typeof t=="boolean"||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>Lu,defaultColDef:()=>Lu,defaultColGroupDef:()=>Lu,autoGroupColumnDef:()=>Lu,selectionColumnDef:()=>Lu}),Lce=()=>({objectName:"gridOptions",allProperties:[...Vf.ALL_PROPERTIES,...Hf.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:Ice(),validations:kce()}),_ce=class extends Ee{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,Lce())}validateApiFunction(e,t){return Pce(e,t,this.beans)}processOptions(e,t){const{validations:r,deprecations:n,allProperties:s,propertyExceptions:i,objectName:o,docsUrl:a}=t;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...i??[],...Object.keys(n)],s,o,a);const l=new Set;Object.keys(e).forEach(f=>{const p=n[f];if(p)if("renamed"in p){const{renamed:R,version:E}=p;l.add(`As of v${E}, ${String(f)} is deprecated. Please use ${String(R)} instead.`),e[R]=e[f]}else{const{message:R,version:E}=p;l.add(`As of v${E}, ${String(f)} is deprecated. ${R??""}`)}const g=e[f];if(g==null||g===!1)return;const C=r[f];let S;if(C)if(typeof C=="function"){const R=C(e,this.gridOptions);if(!R)return;if("objectName"in R){const E=e[f];if(Array.isArray(E)){E.forEach(A=>{this.processOptions(A,R)});return}this.processOptions(e[f],R);return}S=R}else S=C;else return;const{module:y,dependencies:w,validate:b,supportedRowModels:F}=S;if(F){const R=this.gridOptions.rowModelType??"clientSide";if(!F.includes(R)){l.add(`${String(f)} is not supported with the '${R}' row model.`);return}}if(y){const R=Array.isArray(y)?y:[y];let E=!0;if(R.forEach(A=>{this.gos.assertModuleRegistered(A,String(f))||(E=!1,l.add(`${String(f)} is only available when ${A} is loaded.`))}),!E)return}if(w){const R=this.checkForRequiredDependencies(f,w,e);if(R){l.add(R);return}}if(b){const R=b(e,this.gridOptions);if(R){l.add(R);return}}}),l.size>0&&l.forEach(f=>{Te(f)})}checkForRequiredDependencies(e,t,r){const s=Object.entries(t).find(([a,l])=>{const u=r[a];return!l.includes(u)});if(!s)return null;const[i,o]=s;return o.length>1?`'${String(e)}' requires '${i}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${i}' to be ${o[0]}.`}checkProperties(e,t,r,n,s){const i=["__ob__","__v_skip","__metadata__"],o=jce(Object.getOwnPropertyNames(e),[...i,...t,...r],r);if(Bi(o,(a,l)=>{let u=`invalid ${n} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;r.includes("context")&&(u+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),Te(u)}),Object.keys(o).length>0&&s){const a=this.getFrameworkOverrides().getDocLink(s);Te(`to see all the valid ${n} properties please check: ${a}`)}}};function jce(e,t,r){const n={},s=e.filter(i=>!t.some(o=>o===i));return s.length>0&&s.forEach(i=>n[i]=q_({inputValue:i,allSuggestions:r}).values),n}var Bce={version:Ft,moduleName:"@ag-grid-community/core"},Gce={version:Ft,moduleName:"@ag-grid-community/core-validations",beans:[_ce]},q3={version:Ft,moduleName:"@ag-grid-community/core-community-features",dependantModules:[Bce,Gce,Zie,$ne,oce,Nae,Voe,Rce,Jle]},Vce=class extends Ee{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){var e,t;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((e=this.beans.stateService)==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(t=this.beans.ctrlsService.get("gridCtrl"))==null||t.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},qm=new Set(["gridPreDestroyed","fillStart","pasteStart"]),Hce=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",Wce=new Map([...Vf.BOOLEAN_PROPERTIES.map(e=>[e,ox]),...Vf.NUMBER_PROPERTIES.map(e=>[e,h3]),["groupAggFiltering",e=>typeof e=="function"?e:ox(e)],["pageSize",eo(1)],["autoSizePadding",eo(0)],["keepDetailRowsCount",eo(1)],["rowBuffer",eo(0)],["infiniteInitialRowCount",eo(1)],["cacheOverflowSize",eo(1)],["cacheBlockSize",eo(1)],["serverSideInitialRowCount",eo(1)],["viewportRowModelPageSize",eo(1)],["viewportRowModelBufferSize",eo(0)]]);function Y3(e,t){const r=Wce.get(e);return r?r(t):t}function Uce(e){const t={};return Object.entries(e).forEach(([r,n])=>{const s=Y3(r,n);t[r]=s}),t}var Q3=class X3 extends Ee{constructor(){super(...arguments),this.beanName="gos",this.gridReadyFired=!1,this.queueEvents=[],this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Wd,this.globalEventHandlerFactory=t=>(r,n)=>{if(!this.isAlive())return;const s=qm.has(r);if(s&&!t||!s&&t)return;const i=(o,a)=>{const l=this.gridOptions[Hf.getCallbackForEvent(o)];typeof l=="function"&&this.frameworkOverrides.wrapOutgoing(()=>l(a))};if(this.gridReadyFired)i(r,n);else if(r==="gridReady"){i(r,n),this.gridReadyFired=!0;for(const o of this.queueEvents)i(o.eventName,o.event);this.queueEvents=[]}else this.queueEvents.push({eventName:r,event:n})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi,this.gridId=t.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:r})=>{this.updateGridOptions({options:r,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(t){return this.gridOptions[t]??Oce[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return Le(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(n=>{const s=n;return s.api=this.api,s.context=this.gridOptionsContext,t(s)})}updateGridOptions({options:t,force:r,source:n="api"}){var o;const s={id:X3.changeSetId++,properties:[]},i=[];Object.entries(t).forEach(([a,l])=>{n==="api"&&fte[a]&&Te(`${a} is an initial property and cannot be updated.`);const u=Y3(a,l),f=r||typeof u=="object"&&n==="api",p=this.gridOptions[a];if(f||p!==u){this.gridOptions[a]=u;const g={type:a,currentValue:u,previousValue:p,changeSet:s,source:n};i.push(g)}}),(o=this.validationService)==null||o.processGridOptions(this.gridOptions),s.properties=i.map(a=>a.type),i.forEach(a=>{this.gridOptions.debug&&Vi(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(t,r){this.propertyEventService.addEventListener(t,r)}removePropertyEventListener(t,r){this.propertyEventService.removeEventListener(t,r)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const r=t;return r.api=this.api,r.context=this.gridOptionsContext,r}assertModuleRegistered(t,r){return co.__assertRegistered(t,r,this.gridId)}isModuleRegistered(t){return co.__isRegistered(t,this.gridId)}};Q3.changeSetId=0;var $ce=Q3,zce=class extends Ee{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let r,n;if(Ur(e.column)?r=this.visibleColsService.getGroupAtDirection(e.column,t):(n=`getCol${t}`,r=this.visibleColsService[n](e.column)),!r)return;const{headerRowIndex:s}=e;if(this.getHeaderRowType(s)!=="filter"){const a=[r];for(;r.getParent();)r=r.getParent(),a.push(r);r=a[a.length-1-s]}const{column:i,headerRowIndex:o}=this.getHeaderIndexToFocus(r,s);return{column:i,headerRowIndex:o}}getHeaderIndexToFocus(e,t){let r;if(Ur(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;r=n.getLeafColumns()[0];let s=r;for(;s!==n;)t++,s=s.getParent()}return{column:r||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const r=this.getHeaderRowType(t),n=r==="filter",s=r==="column";let i=n?e:e.getParent(),o=t-1,a=o;if(s&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;i&&i.isPadding();)i=i.getParent(),o--;a=o,o<0&&(i=e,o=t,a=void 0)}return{column:i,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,r="After"){const n=this.getHeaderRowType(t);let s=e,i=t+1;const o=i;if(n==="group"){const a=e.getDisplayedLeafColumns(),l=r==="After"?a[0]:jt(a),u=[];let f=l;for(;f.getParent()!==e;)f=f.getParent(),u.push(f);if(s=l,l.isSpanHeaderHeight())for(let p=u.length-1;p>=0;p--){const g=u[p];if(!g.isPadding()){s=g;break}i++}else s=jt(u),s||(s=l)}return{column:s,headerRowIndex:i,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const r=this.visibleColsService.getAllCols(),n=r[t==="start"?0:r.length-1];if(!n)return;const s=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()),i=s==null?void 0:s.getRowType(e);if(i=="group"){const o=this.visibleColsService.getColGroupAtLevel(n,e);return{headerRowIndex:e,column:o}}return{headerRowIndex:i==null?-1:e,column:n}}},Kce=class extends Ee{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(r,n,s)=>e({key:r,defaultValue:n,variableValues:s});const t=this.gos.get("localeText");return(r,n,s)=>{let i=t&&t[r];if(i&&s&&s.length){let o=0;for(;!(o>=s.length||i.indexOf("${variable}")===-1);)i=i.replace("${variable}",s[o++])}return i??n}}},qce=class extends Ee{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new Eb(this.getFrameworkOverrides())}addEventListener(e,t){const r=this.frameworkEventWrappingService.wrap(e,t),n=xv(this.gos)&&!qm.has(e),s=n?this.asyncEventListeners:this.syncEventListeners;s.has(e)||s.set(e,new Set),s.get(e).add(r),this.eventService.addEventListener(e,r,n)}removeEventListener(e,t){var i;const r=this.frameworkEventWrappingService.unwrap(e,t),n=this.asyncEventListeners.get(e),s=!!(n!=null&&n.delete(r));s||(i=this.syncEventListeners.get(e))==null||i.delete(r),this.eventService.removeEventListener(e,r,s)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(xv(this.gos)){const n=(i,o)=>{qm.has(i)&&t(i,o)},s=(i,o)=>{qm.has(i)||t(i,o)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:s}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(s,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:n,asyncListener:s}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(s,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((r,n)=>{r.forEach(s=>this.eventService.removeEventListener(n,s,t)),r.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(r=>this.eventService.removeGlobalListener(r,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},Yce=class extends Ee{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},Qce=class extends Ee{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Bt(this.topRowBounds)||Bt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=Le(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},Xce=class extends Ee{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=os(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=jr(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),D_(t,"polite"),yte(t,"additions text"),Cte(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(qs(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},Zce=class extends Ee{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),t();return}const r=n=>{for(;n.length;){const s=n.pop();s&&s()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),r(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),r(this.executeLaterFuncs)},200)})}},Jce=class extends Ee{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},eue=class extends Ee{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=yr(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Te("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,r){var s;const n=e.newAgStackInstance();(s=this.overlayWrapperComp)==null||s.showOverlay(n,t,this.isExclusive(),r),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;if(this.state===2){const t=this.ctrlsService.get("gridHeaderCtrl");e=(t==null?void 0:t.getHeaderHeight())||0}else this.wrapperPadding!==0&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},tue=class extends Ee{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return Le(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),LD(t,this.processClassesFromGridOptions(e.rowNode)),LD(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],r=i=>{typeof i=="string"?t.push(i):Array.isArray(i)&&i.forEach(o=>t.push(o))},n=this.gos.get("rowClass");if(n){if(typeof n=="function")return Te("rowClass should not be a function, please use getRowClass instead"),[];r(n)}const s=this.gos.getCallback("getRowClass");if(s){const i={data:e.data,node:e,rowIndex:e.rowIndex},o=s(i);r(o)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,r=>{t.push(r)},()=>{}),t}processRowClassRules(e,t,r){const n=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),n,t,r)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},rue=class extends Ee{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=_te(),this.gos.get("debug")&&Vi("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight();(t!==this.scrollY||r!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=r,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&Vi(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),r=e/t;return this.maxScrollY*r}},nue=class extends Ee{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=lo(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=lo(this.gos))}doFullSort(e,t){const r=(s,i)=>({currentPos:i,rowNode:s}),n=e.map(r);return n.sort(this.compareRowNodes.bind(this,t)),n.map(s=>s.rowNode)}compareRowNodes(e,t,r){const n=t.rowNode,s=r.rowNode;for(let i=0,o=e.length;i<o;i++){const a=e[i],l=a.sort==="desc",u=this.getValue(n,a.column),f=this.getValue(s,a.column);let p;const g=this.getComparator(a,n);if(g?p=g(u,f,n,s,l):p=Pee(u,f,this.isAccentedSort),!isNaN(p)&&p!==0)return a.sort==="asc"?p:p*-1}return t.currentPos-r.currentPos}getComparator(e,t){const r=e.column,n=r.getColDef().comparator;if(n!=null)return n;if(!r.getColDef().showRowGroup)return;const s=!t.group&&r.getColDef().field;if(!s)return;const i=this.columnModel.getColDefCol(s);if(i)return i.getColDef().comparator}getValue(e,t){var n,s,i;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(N0(this.gos,this.columnModel.isPivotActive())){const l=(n=e.allLeafChildren)==null?void 0:n[0];return l?this.valueService.getValue(t,l,!1,!1):void 0}const a=(s=this.showRowGroupColsService)==null?void 0:s.getShowRowGroupCol(t.getId());return a?(i=e.groupData)==null?void 0:i[a.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}},B0=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let r=0;r<e.children.length;r++)this.depthFirstSearchChangedPath(e.children[r],t);t(e.rowNode)}depthFirstSearchEverything(e,t,r){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const s=e.childrenAfterGroup[n];s.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,r):r&&t(s)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,r=!1){this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,r=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,r++,t=t.parent}return r}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let r=e;for(;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),t.forEach(n=>this.nodeIdsToColumns[r.id][n.getId()]=!0),r=r.parent}linkPathItems(e,t){let r=e;for(let n=0;n<t;n++){const s=this.mapToItems[r.id],i=this.mapToItems[r.parent.id];i.children||(i.children=[]),i.children.push(s),r=r.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const r=this.nodeIdsToColumns[e.id];return t.filter(s=>r[s.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const r=this.nodeIdsToColumns[e.id];return t.filter(s=>!r[s.getId()])}},Z3=class extends Ee{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new aoe,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:r}=this;this.selectionCtx.init(t),this.rowSelectionMode=Ev(e),this.groupSelectsChildren=Nc(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const n=Nc(e),s=Ev(e);(n!==this.groupSelectsChildren||s!==this.rowSelectionMode)&&(this.groupSelectsChildren=n,this.rowSelectionMode=s,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:r.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,t){if(!Hce(t))return e;const r=this.selectionCtx.getRoot();return r?r.isSelected()??!1:!0}setNodesSelected(e){var p;const{newValue:t,clearSelection:r,suppressFinishActions:n,rangeSelect:s,nodes:i,event:o,source:a}=e;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return Te("cannot multi select unless selection mode is 'multiRow'"),0;const l=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,u=i.map(g=>g.footer?g.sibling:g);if(s){if(u.length>1)return Te("cannot range select while selecting multiple rows"),0;const g=u[0],C=this.overrideSelectionValue(t,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(g)){const S=this.selectionCtx.truncate(g);return C&&this.selectRange(S.discard,!1,a),this.selectRange(S.keep,C,a)}else if(this.selectionCtx.getRoot()!==g){const w=this.selectionCtx.extend(g,this.groupSelectsChildren);return C&&this.selectRange(w.discard,!1,a),this.selectRange(w.keep,C,a)}}}n||this.selectionCtx.setRoot(u[0]);let f=0;for(let g=0;g<u.length;g++){const C=u[g];l&&C.group||C.selectThisNode(t,o,a)&&f++,this.groupSelectsChildren&&((p=C.childrenAfterGroup)!=null&&p.length)&&(f+=this.selectChildren(C,t,l,a))}return n||(t&&(r||!this.isMultiSelect())&&(f+=this.clearOtherNodes(u[0],a)),f>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),f}selectRange(e,t,r){let n=0;return e.forEach(s=>{if(s.group&&this.groupSelectsChildren)return;s.selectThisNode(t,void 0,r)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r)),n}selectChildren(e,t,r,n){const s=r?e.childrenAfterAggFilter:e.childrenAfterGroup;return Bt(s)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:n,nodes:s})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((r,n)=>{r&&e(r)&&t.set(n,r)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||!yr(this.gos))return!1;const n=this.rowModel.getRootNode();t||(t=new B0(!0,n),t.setInactive());let s=!1;return t.forEachChangedNodeDepthFirst(i=>{if(i!==n){const o=i.calculateSelectedFromChildren();s=i.selectThisNode(o===null?!1:o,void 0,e)||s}}),s}clearOtherNodes(e,t){const r=new Map;let n=0;return this.selectedNodes.forEach(s=>{if(s&&s.id!==e.id){const i=this.selectedNodes.get(s.id);n+=i.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&s.parent&&r.set(s.parent.id,s.parent)}}),r.forEach(s=>{const i=s.calculateSelectedFromChildren();s.selectThisNode(i===null?!1:i,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(Le(t)&&e.id!==t.id&&t){const n=t.id;this.selectedNodes.get(n)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(!yr(this.gos))return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const r=[];function n(s){for(let i=0,o=s.length;i<o;i++){const a=s[i];if(a.isSelected())r.push(a);else{const l=a;l.group&&l.children&&n(l.children)}}}return n(t),r}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=o=>o.selectThisNode(!1,void 0,n),r=yr(this.gos),{source:n,justFiltered:s,justCurrentPage:i}=e;if(i||s){if(!r){Yt("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(s,i).forEach(t)}else this.selectedNodes.forEach(o=>{o&&t(o)}),this.reset(n);this.selectionCtx.reset(),r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectedCounts(e,t){let r=0,n=0;const s=i=>{this.groupSelectsChildren&&i.group||(i.isSelected()?r++:i.selectable&&n++)};return this.getNodesToSelect(e,t).forEach(s),{selectedCount:r,notSelectedCount:n}}getSelectAllState(e,t){const{selectedCount:r,notSelectedCount:n}=this.getSelectedCounts(e,t);return r===0&&n===0?!1:r>0&&n>0?null:r>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(r=>r.selectable).length>0}getNodesToSelect(e=!1,t=!1){this.validateSelectAllType();const r=[];if(t)return this.forEachNodeOnPage(s=>{if(!s.group){r.push(s);return}if(!s.expanded){const i=o=>{var a;r.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(i)};i(s);return}this.groupSelectsChildren||r.push(s)}),r;const n=this.rowModel;return e?(n.forEachNodeAfterFilter(s=>{r.push(s)}),r):(n.forEachNode(s=>{r.push(s)}),r)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),r=this.pageBoundsService.getLastRow();for(let n=t;n<=r;n++){const s=this.rowModel.getRow(n);s&&e(s)}}selectAllRowNodes(e){if(Nee(this.gos)&&!m_(this.gos))return Te("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:r,justCurrentPage:n}=e,s=this.getNodesToSelect(r,n);s.forEach(i=>i.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(s[0]??null),this.selectionCtx.setEndRange(jt(s)??null),yr(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return Yt("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const r=new Set(e),n=[];this.rowModel.forEachNode(s=>{r.has(s.id)&&n.push(s)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!yr(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},sue=class extends Ee{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:t}=this,r=wv(t),n=wb(t);if(!r||!n)return;const s=Nc(t),i=yr(t)&&s,o=[],a=l=>{if(e&&!l.group)return;if(i&&l.group){const f=l.childrenAfterGroup.some(p=>p.selectable===!0);l.setRowSelectable(f,!0);return}const u=(n==null?void 0:n(l))??!0;l.setRowSelectable(u,!0),!u&&l.isSelected()&&o.push(l)};if(i){const l=this.rowModel;new B0(!1,l.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),i&&this.selectionService instanceof Z3&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},i2=["asc","desc",null],iue=class extends Ee{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,r){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,r)}setSortForColumn(e,t,r,n){t!=="asc"&&t!=="desc"&&(t=null);const s=lo(this.gos);let i=[e];if(s&&e.getColDef().showRowGroup){const l=this.funcColsService.getSourceColumnsForGroupColumn(e),u=l==null?void 0:l.filter(f=>f.isSortable());u&&(i=[e,...u])}i.forEach(l=>l.setSort(t,n));const o=(r||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!o){const l=this.clearSortBarTheseColumns(i,n);a.push(...l)}this.updateSortIndex(e),a.push(...i),this.dispatchSortChangedEvents(n,a)}updateSortIndex(e){var a;const t=lo(this.gos),r=(a=this.showRowGroupColsService)==null?void 0:a.getShowRowGroupCol(e.getId()),n=t&&r||e,s=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(l=>l.setSortIndex(null));const i=s.filter(l=>t&&l.getColDef().showRowGroup?!1:l!==n);(n.getSort()?[...i,n]:i).forEach((l,u)=>{l.setSortIndex(u)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(r=>!!r.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const r={type:"sortChanged",source:e};t&&(r.columns=t),this.eventService.dispatchEvent(r)}clearSortBarTheseColumns(e,t){const r=[];return this.columnModel.getAllCols().forEach(n=>{e.includes(n)||(n.getSort()&&r.push(n),n.setSort(void 0,t))}),r}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=i2,!Array.isArray(t)||t.length<=0)return Te(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const r=t.indexOf(e.getSort()),n=r<0,s=r==t.length-1;let i;return n||s?i=t[0]:i=t[r+1],i2.indexOf(i)<0?(Te("invalid sort type ",i),null):i}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(i=>!!i.getSort());if(this.columnModel.isPivotMode()){const i=lo(this.gos);e=e.filter(o=>{var f;const a=!!o.getAggFunc(),l=!o.isPrimary(),u=i?(f=this.showRowGroupColsService)==null?void 0:f.getShowRowGroupCol(o.getId()):o.getColDef().showRowGroup;return a||l||u})}const t=this.funcColsService.getRowGroupColumns().filter(i=>!!i.getSort()),r={};e.forEach((i,o)=>r[i.getId()]=o),e.sort((i,o)=>{const a=i.getSortIndex(),l=o.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){const u=r[i.getId()],f=r[o.getId()];return u>f?1:-1}else return l==null?-1:1});const n=lo(this.gos)&&!!t.length;n&&(e=[...new Set(e.map(i=>{var o;return((o=this.showRowGroupColsService)==null?void 0:o.getShowRowGroupCol(i.getId()))??i}))]);const s=new Map;return e.forEach((i,o)=>s.set(i,o)),n&&t.forEach(i=>{const o=this.showRowGroupColsService.getShowRowGroupCol(i.getId());s.set(i,s.get(o))}),s}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[r,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=lo(this.gos),r=!!e.getColDef().showRowGroup;return t&&r}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,s=n[0].getSort();return n.every(o=>o.getSort()==s)?s:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},oue=class extends Ee{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&Vi(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,ec(e.source))}}},aue="paste",lue=class extends Ee{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){yr(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==aue&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const r=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gos.get("aggregateOnlyChangedColumns"),s=new B0(n,this.clientSideRowModel.getRootNode());s.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(i=>{r.push(i)})}this.rowRenderer.refreshCells({rowNodes:r})}},cue=class extends Ee{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Yt("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(r){return Vi("Processing of the expression failed"),Vi("Expression = ",e),Vi("Params = ",t),Vi("Exception = ",r),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},uue=class extends Ee{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,r){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=r)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},due=class extends Ee{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=bo(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=r=>this.callColumnCellValueChangedHandler(r),t=xv(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",r=>this.isTreeData=r.currentValue)}getValueForDisplay(e,t){const r=t.leafGroup&&this.columnModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!r,s=this.gos.get("groupSuppressBlankHeader");if(!n||s)return this.getValue(e,t);let i=!1;const o=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof o!="function"?i=!!o:i=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const a=n&&i;return this.getValue(e,t,!1,a)}getValue(e,t,r=!1,n=!1){if(this.initialised||this.init(),!t)return;const s=e.getColDef(),i=s.field,o=e.getColId(),a=t.data;let l;const u=t.groupData&&t.groupData[o]!==void 0,f=!n&&t.aggData&&t.aggData[o]!==void 0,p=this.isSsrm&&n&&!!e.getColDef().aggFunc,g=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(r&&s.filterValueGetter?l=this.executeFilterValueGetter(s.filterValueGetter,a,e,t):this.isTreeData&&f?l=t.aggData[o]:this.isTreeData&&s.valueGetter?l=this.executeValueGetter(s.valueGetter,a,e,t):this.isTreeData&&i&&a?l=hf(a,i,e.isFieldContainsDots()):u?l=t.groupData[o]:f?l=t.aggData[o]:s.valueGetter?l=this.executeValueGetter(s.valueGetter,a,e,t):g?l=hf(a,t.field,e.isFieldContainsDots()):i&&a&&!p&&(l=hf(a,i,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const C=l.substring(1);l=this.executeValueGetter(C,a,e,t)}if(l==null){const C=this.getOpenedGroup(t,e);if(C!=null)return C}return l}parseValue(e,t,r,n){const s=e.getColDef(),i=s.valueParser;if(Le(i)){const o=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:n,newValue:r,colDef:s,column:e});return typeof i=="function"?i(o):this.expressionService.evaluate(i,o)}return r}getDeleteValue(e,t){return Le(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,r,n,s=!0){let i=null,o;const a=e.getColDef();if(n?o=n:s&&(o=a.valueFormatter),o){const l=this.gos.addGridCommonParams({value:r,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?i=o(l):i=this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[r]||"";return i==null&&Array.isArray(r)&&(i=r.join(", ")),i}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let s=e.parent;for(;s!=null;){if(s.rowGroupColumn&&(n===!0||n===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}setValue(e,t,r,n){const s=this.columnModel.getColDefCol(t);if(!e||!s)return!1;Bt(e.data)&&(e.data={});const{field:i,valueSetter:o}=s.getColDef();if(Bt(i)&&Bt(o))return Te("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(s,r))return Te("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(s,e),newValue:r,colDef:s.getColDef(),column:s});a.newValue=r;let l;if(Le(o)?typeof o=="function"?l=o(a):l=this.expressionService.evaluate(o,a):l=this.setValueUsingField(e.data,i,r,s.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const u=this.getValue(s,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:u,value:u,source:n}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,r,n){if(!t)return!1;let s=!1;if(!n)s=e[t]===r,s||(e[t]=r);else{const i=t.split(".");let o=e;for(;i.length>0&&o;){const a=i.shift();i.length===0?(s=o[a]===r,s||(o[a]=r)):o=o[a]}}return!s}executeFilterValueGetter(e,t,r,n){const s=this.gos.addGridCommonParams({data:t,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});return typeof e=="function"?e(s):this.expressionService.evaluate(e,s)}executeValueGetter(e,t,r,n){const s=r.getColId(),i=this.valueCache.getValue(n,s);if(i!==void 0)return i;const o=this.gos.addGridCommonParams({data:t,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});let a;return typeof e=="function"?a=e(o):a=this.expressionService.evaluate(e,o),this.valueCache.setValue(n,s,a),a}getValueCallback(e,t){const r=this.columnModel.getColDefCol(t);return r?this.getValue(r,e):null}getKeyForNode(e,t){const r=this.getValue(e,t),n=e.getColDef().keyCreator;let s=r;if(n){const i=this.gos.addGridCommonParams({value:r,colDef:e.getColDef(),column:e,node:t,data:t.data});s=n(i)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&Te("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),s}},qb=class Zl{static applyGlobalGridOptions(t){if(!Zl.gridOptions)return t;let r={};return is(r,Zl.gridOptions,!0,!0),Zl.mergeStrategy==="deep"?is(r,t,!0,!0):r={...r,...t},Zl.gridOptions.context&&(r.context=Zl.gridOptions.context),t.context&&(Zl.mergeStrategy==="deep"&&r.context&&is(t.context,r.context,!0,!0),r.context=t.context),r}};qb.gridOptions=void 0;qb.mergeStrategy="shallow";var J3=qb;function hue(e){var t;return(t=J3.gridOptions)==null?void 0:t[e]}var fue=1,pue=class{create(e,t,r,n,s){const i=J3.applyGlobalGridOptions(t),o=Uce(i),a=o.gridId??String(fue++),l=this.getRegisteredModules(s,a),u=this.createBeansList(o.rowModelType,l,a),f=this.createProvidedBeans(e,o,s);if(!u){Yt("Failed to create grid.");return}const p={providedBeanInstances:f,beanClasses:u,gridId:a,beanInitComparator:Toe,beanDestroyComparator:Poe,derivedBeans:[Coe]},g=new Mre(p);return this.registerModuleUserComponents(g,l),this.registerControllers(g,l),this.registerModuleApiFunctions(g,l),r(g),g.getBean("syncService").start(),n&&n(g),g.getBean("gridApi")}registerControllers(e,t){const r=e.getBean("ctrlsFactory");t.forEach(n=>{n.controllers&&n.controllers.forEach(s=>r.register(s))})}getRegisteredModules(e,t){const r=e?e.modules:null,n=co.__getRegisteredModules(t),s=[],i={},o=(a,l,u)=>{(p=>{i[p.moduleName]||(i[p.moduleName]=!0,s.push(p),co.__register(p,a,u))})(l),l.dependantModules&&l.dependantModules.forEach(p=>o(a,p,u))};return o(!!(r!=null&&r.length)||!co.__isPackageBased(),q3,void 0),r&&r.forEach(a=>o(!0,a,t)),n&&n.forEach(a=>o(!co.__isPackageBased(),a,void 0)),s}registerModuleUserComponents(e,t){const r=this.extractModuleEntity(t,s=>s.userComponents?s.userComponents:[]),n=e.getBean("userComponentRegistry");r.forEach(({name:s,classImp:i,params:o})=>{n.registerDefaultComponent(s,i,o)})}registerModuleApiFunctions(e,t){const r=e.getBean("apiFunctionService");t.forEach(n=>{const s=n.apiFunctions;s&&Object.keys(s).forEach(o=>{r==null||r.addFunction(o,s[o])})})}createProvidedBeans(e,t,r){let n=r?r.frameworkOverrides:null;Bt(n)&&(n=new G3);const s={gridOptions:t,eGridDiv:e,globalEventListener:r?r.globalEventListener:null,globalSyncEventListener:r?r.globalSyncEventListener:null,frameworkOverrides:n};return r&&r.providedBeanInstances&&Object.assign(s,r.providedBeanInstances),s}createBeansList(e="clientSide",t,r){const n=t.filter(l=>!l.rowModel||l.rowModel===e),s={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!s[e]){Yt("Could not find row model for rowModelType = ",e);return}if(!co.__assertRegistered(s[e],`rowModelType = '${e}'`,r))return;const i=[Ioe,Moe,zce,Vce,voe,dre,Eoe,Roe,hie,Y_,rue,uie,Kce,noe,kre,ute,Loe,$ce,foe,Z3,Jee,zne,Qce,Yce,toe,cue,Zee,cie,uue,due,Jie,die,Nre,_oe,lie,Ooe,goe,loe,aie,iue,Jce,Zce,sue,lue,fie,yoe,tue,nue,Doe,joe,Noe,Aoe,oue,eue,pie,qce,Xce,gie,rte,Soe,nte,ete,woe,xoe,cte,tte,ate,boe,lte,Kee],o=this.extractModuleEntity(n,l=>l.beans?l.beans:[]);i.push(...o);const a=[];return i.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}},e4=class extends Ee{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function gue(e){e.expansionService.expandAll(!0)}function mue(e){e.expansionService.expandAll(!1)}function vue(e){var n,s;const t=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel(),r=(s=e.rowModelHelperService)==null?void 0:s.getServerSideRowModel();t?t.onRowHeightChanged():r&&r.onRowHeightChanged()}function Cue(e,t,r){var i,o;const n=(i=e.rowModelHelperService)==null?void 0:i.getServerSideRowModel();if(n){if(e.funcColsService.isRowGroupEmpty()){n.setRowCount(t,r);return}Yt("setRowCount cannot be used while using row grouping.");return}const s=(o=e.rowModelHelperService)==null?void 0:o.getInfiniteRowModel();if(s){s.setRowCount(t,r);return}}function yue(e){var t;return((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function Sue(e){return e.rowModel.isLastRowIndexKnown()}var wue={version:Ft,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:gue,collapseAll:mue,onRowHeightChanged:vue}},xue={version:Ft,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:Cue,getCacheBlockState:yue,isLastRowIndexKnown:Sue}},bue=class{wrap(e,t,r=[],n){const s=this.createWrapper(e,n);return t.forEach(i=>{this.createMethod(s,i,!0)}),r.forEach(i=>{this.createMethod(s,i,!1)}),s}createMethod(e,t,r){e.addMethod(t,this.createMethodProxy(e,t,r))}createMethodProxy(e,t,r){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(r&&Te("Framework component is missing the method "+t+"()"),null)}}},qd=typeof global>"u"?{}:global;qd.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;qd.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;qd.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;qd.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;qd.Node=typeof Node>"u"?{}:Node;qd.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Eue="ROOT_NODE_ID",US=0,Rue=class{constructor(e,t,r,n,s,i){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=r,this.funcColsService=n,this.beans=i,this.selectionService=s,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=Eue,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return x_(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){Te("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,r=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((n,s)=>this.createNode(n,this.rootNode,US,s)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=t.childrenAfterFilter,r.childrenAfterGroup=t.childrenAfterGroup,r.childrenAfterAggFilter=t.childrenAfterAggFilter,r.childrenAfterSort=t.childrenAfterSort,r.childrenMapped=t.childrenMapped,r.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},r=[];return this.executeRemove(e,t,r),this.executeUpdate(e,t,r),this.executeAdd(e,t),this.updateSelection(r,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,r=(t==null?void 0:t.length)??0,n=new Map;let s=-1,i=-1;for(let o=0;o<r;++o){const a=t[o],l=a.data;l!==e[o]&&(i<0&&(s=o),i=o,n.set(l,a))}if(s<0)return!1;for(let o=s;o<=i;++o){const a=n.get(e[o]);a!==void 0&&(t[o]=a,a.sourceRowIndex=o)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}updateSelection(e,t){const r=e.length>0;r&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),r&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const r=e.add;if(zs(r))return;const n=this.rootNode.allLeafChildren;let s=n.length;if(typeof e.addIndex=="number"&&(s=this.sanitizeAddIndex(e.addIndex),s>0&&this.gos.get("treeData")))for(let l=0;l<n.length;l++){const u=n[l];if((u==null?void 0:u.rowIndex)==s-1){s=l+1;break}}const i=r.map((a,l)=>this.createNode(a,this.rootNode,US,s+l));if(s<n.length){const a=n.slice(0,s),l=n.slice(s,n.length),u=a.length+i.length;for(let f=0,p=l.length;f<p;++f)l[f].sourceRowIndex=u+f;this.rootNode.allLeafChildren=[...a,...i,...l],t.rowsInserted=!0}else this.rootNode.allLeafChildren=n.concat(i);const o=this.rootNode.sibling;o&&(o.allLeafChildren=n),t.rowNodeTransaction.add=i}sanitizeAddIndex(e){var r;const t=((r=this.rootNode.allLeafChildren)==null?void 0:r.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},r){var o,a;const{remove:n}=e;if(zs(n))return;const s={};n.forEach(l=>{const u=this.lookupRowNode(l);u&&(u.isSelected()&&r.push(u),u.clearRowTopAndRowIndex(),s[u.id]=!0,delete this.allNodesMap[u.id],t.remove.push(u))}),this.rootNode.allLeafChildren=((o=this.rootNode.allLeafChildren)==null?void 0:o.filter(l=>!s[l.id]))??null,(a=this.rootNode.allLeafChildren)==null||a.forEach((l,u)=>{l.sourceRowIndex=u});const i=this.rootNode.sibling;i&&(i.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},r){const{update:n}=e;zs(n)||n.forEach(s=>{const i=this.lookupRowNode(s);i&&(i.updateData(s),!i.selectable&&i.isSelected()&&r.push(i),this.setMasterForRow(i,s,US,!1),t.update.push(i))})}lookupRowNode(e){var n;const t=Ud(this.gos);let r;if(t){const s=t({data:e,level:0});if(r=this.allNodesMap[s],!r)return Yt(`could not find row id=${s}, data item was not found for this id`),null}else if(r=(n=this.rootNode.allLeafChildren)==null?void 0:n.find(s=>s.data===e),!r)return Yt("could not find data item as object was not found",e),Yt("Consider using getRowId to help the Grid find matching row data"),null;return r||null}createNode(e,t,r,n){const s=new Jo(this.beans);return s.sourceRowIndex=n,s.group=!1,this.setMasterForRow(s,e,r,!0),t&&(s.parent=t),s.level=r,s.setDataAndId(e,this.nextId.toString()),this.allNodesMap[s.id]&&Te(`duplicate node id '${s.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[s.id]=s,this.nextId++,s}setMasterForRow(e,t,r,n){if(this.gos.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const o=this.gos.get("isRowMaster");o?e.setMaster(o(t)):e.setMaster(!0)}else e.setMaster(!1);if(n){const o=this.funcColsService.getRowGroupColumns(),a=o?o.length:0,l=r+a;e.expanded=e.master?this.isExpanded(l):!1}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return t===-1?!0:e<t}},Fue=class extends Ee{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=os(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),r=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:r,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Jo(this.beans),this.nodeManager=new Rue(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),r=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),i=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...r,...n,...n,...s,...i,...o,...a];this.addManagedPropertyListeners(l,u=>{var g;const f=(g=u.changeSet)==null?void 0:g.properties;if(!f)return;const p=C=>f.some(S=>C.has(S));if(p(e)){this.setRowData(this.rootNode.allLeafChildren.map(C=>C.data));return}if(p(t)){this.refreshModel({step:"group"});return}if(p(r)){this.refreshModel({step:"filter"});return}if(p(n)){this.refreshModel({step:"pivot"});return}if(p(s)){this.refreshModel({step:"aggregate"});return}if(p(i)){this.refreshModel({step:"sort"});return}if(p(o)){this.refreshModel({step:"filter_aggregates"});return}p(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,r,n){let s,i=!1;do{s=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,r),u=Math.min(a,n);for(let f=l;f<=u;f++){const p=this.getRow(f);if(p.rowHeightEstimated){const g=fl(this.gos,p);p.setRowHeight(g.height),s=!0,i=!0}}s&&this.setRowTopAndRowIndex()}while(s);return i}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const r=new Set,n=Rn(this.gos,"normal");for(let s=0;s<this.rowsToDisplay.length;s++){const i=this.rowsToDisplay[s];if(i.id!=null&&r.add(i.id),i.rowHeight==null){const o=fl(this.gos,i,n,e);i.setRowHeight(o.height,o.estimated)}i.setRowTop(t),i.setRowIndex(s),t+=i.rowHeight}return r}clearRowTopAndRowIndex(e,t){const r=e.isActive(),n=i=>{i&&i.id!=null&&!t.has(i.id)&&i.clearRowTopAndRowIndex()},s=i=>{if(n(i),n(i.detailNode),n(i.sibling),i.hasChildren()&&i.childrenAfterGroup){const o=i.level==-1;r&&!o&&!i.expanded||i.childrenAfterGroup.forEach(s)}};s(this.rootNode)}ensureRowsAtPixel(e,t,r=0){const n=this.getRowIndexAtPixel(t),s=this.getRow(n),i=!this.gos.get("suppressAnimationFrame");if(s===e[0])return!1;const o=this.rootNode.allLeafChildren;return e.forEach(a=>{as(o,a)}),e.forEach((a,l)=>{Rv(o,a,Math.max(n+r,0)+l)}),e.forEach((a,l)=>{a.sourceRowIndex=l}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:i,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const r=t!=null?this.getRowIndexAtPixel(t):null,n=r!=null?this.getRow(r):null;if(!n||!e||t==null){this.clearHighlightedRow();return}const s=this.getHighlightPosition(t,n),i=this.isHighlightingCurrentPosition(e,n,s),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==n;(i||o)&&(this.clearHighlightedRow(),i)||(n.setHighlighted(s),this.lastHighlightedRow=n)}getHighlightPosition(e,t){if(!t){const s=this.getRowIndexAtPixel(e);if(t=this.getRow(s||0),!t)return 1}const{rowTop:r,rowHeight:n}=t;return e-r<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,r){if(e===t)return!0;const n=r===0?-1:1;return this.getRow(t.rowIndex+n)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter,r=this.rootNode.sibling?1:0;return(t?t.length:0)+r}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let r=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;r-=1}const n=this.rowsToDisplay[this.rowsToDisplay.length-1],s=r>=this.rootNode.childrenAfterSort.length;if(n.footer&&s)return n.rowIndex;let i=this.rootNode.childrenAfterSort[r];if(this.gos.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex}getRowBounds(e){if(Bt(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Ju(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Ju(this.gos),n=e.columns.length===0||e.columns.some(s=>s.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Ju(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=zs(e),r=new B0(!1,this.rootNode);return t&&r.setInactive(),r}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(n=>n.add!=null&&n.add.length>0||n.remove!=null&&n.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group";const r={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(Le(e)&&(t=r[e]),Bt(t)){Yt(`invalid step ${e}, available steps are ${Object.keys(r).join(", ")}`);return}const n=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const r=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,r,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(r);case"pivot":this.doPivot(r);case"aggregate":this.doAggregate(r);case"filter_aggregates":this.doFilterAggregates(r);case"sort":this.doSort(t.rowNodeTransactions,r);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,n),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=Bt(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Bt(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return Le(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let r=!1,n=!1;const s=[],i=Nc(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(n)return;if(r&&(o===t||o===e)&&(n=!0,o.group&&i)){s.push(...o.allLeafChildren);return}if(!r){if(o!==t&&o!==e)return;r=!0}if(!o.group||!i){s.push(o);return}}),s}setDatasource(e){Yt("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,r=this.rowsToDisplay.length-1;if(e<=0)return 0;if(jt(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let s=-1,i=-1;for(;;){const o=Math.floor((t+r)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(r=o-1),s===t&&i===r))return o;s=t,i=r}}isRowInPixel(e,t){const r=e.rowTop,n=e.rowTop+e.rowHeight;return r<=t&&n>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,r)=>e(t,r))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:r,recursionType:n,includeFooterNodes:s}=e;let{index:i}=e;const o=a=>{var C;const l=(C=t[0])==null?void 0:C.parent;if(!l)return;const u=s&&h_(this.gos),f=f_(this.gos),p=s&&f({node:l});if(l===this.rootNode){u===a&&(l.createFooter(),r(l.sibling,i++));return}p===a&&(l.createFooter(),r(l.sibling,i++))};o("top");for(let a=0;a<t.length;a++){const l=t[a];if(r(l,i++),l.hasChildren()&&!l.footer){let u=null;switch(n){case 0:u=l.childrenAfterGroup;break;case 1:u=l.childrenAfterAggFilter;break;case 2:u=l.childrenAfterSort;break;case 3:u=l.leafGroup?null:l.childrenAfterSort;break}u&&(i=this.recursivelyWalkNodesAndCallback({nodes:[...u],callback:r,recursionType:n,index:i,includeFooterNodes:s}))}}return o("bottom"),i}doAggregate(e){var t;(t=this.aggregationStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),r=this.columnModel.isPivotActive(),n=s=>{s&&s.forEach(i=>{const o=()=>{i.expanded=e,n(i.childrenAfterGroup)};if(t){Le(i.childrenAfterGroup)&&o();return}if(r){!i.leafGroup&&o();return}i.group&&o()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,r,n){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:r,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:n}),Nc(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const s=this.rootNode,i=s.sibling;s.childrenAfterGroup=s.allLeafChildren,i&&(i.childrenAfterGroup=s.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(Jo.ID_PREFIX_ROW_GROUP)==0){let r;return this.forEachNode(n=>{n.id===e&&(r=n)}),r}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const r=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},r)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var n;this.valueCache.onDataChanged();const e=[],t=[];let r=!1;(n=this.rowDataTransactionBatch)==null||n.forEach(s=>{const{rowNodeTransaction:i,rowsInserted:o}=this.nodeManager.updateRowData(s.rowDataTransaction);o&&(r=!0),t.push(i),s.callback&&e.push(s.callback.bind(null,i))}),this.commonUpdateRowData(t,r),e.length>0&&window.setTimeout(()=>{e.forEach(s=>s())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:r}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],r),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const r=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:r})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const r=t.detailNode;r&&r.setRowHeight(r.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function Tue(e){e.expansionService.onGroupExpandedOrCollapsed()}function Pue(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.refreshModel(t)}function Aue(e){var t,r;return((r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:r.isEmpty())??!0}function Due(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachLeafNode(t)}function Mue(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachNodeAfterFilter(t)}function Nue(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachNodeAfterFilterAndSort(t)}function Iue(e){var t,r;if(e.columnModel.isAutoRowHeightActive()){Te("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null||r.resetRowHeights()}function Oue(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var r,n;return(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null?void 0:n.updateRowData(t)})}function kue(e,t,r){e.frameworkOverrides.wrapIncoming(()=>{var n,s;return(s=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null?void 0:s.batchUpdateRowData(t,r)})}function Lue(e){e.frameworkOverrides.wrapIncoming(()=>{var t,r;return(r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:r.flushAsyncTransactions()})}function _ue(e){return e.selectionService.getBestCostNodeSelection()}var jue=class extends Ee{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var r;const t=!!((r=this.filterManager)!=null&&r.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const r=(n,s)=>{n.hasChildren()&&e&&!s?n.childrenAfterFilter=n.childrenAfterGroup.filter(i=>{const o=i.childrenAfterFilter&&i.childrenAfterFilter.length>0,a=i.data&&this.filterManager.doesRowPassFilter({rowNode:i});return o||a}):n.childrenAfterFilter=n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const n=(i,o)=>{if(i.childrenAfterGroup)for(let a=0;a<i.childrenAfterGroup.length;a++){const l=i.childrenAfterGroup[a],u=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(i.childrenAfterGroup[a],u):r(l,u)}r(i,o)},s=i=>n(i,!1);t.executeFromRootNode(s)}else{const n=s=>r(s,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},Bue=class extends Ee{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,r=[],n=this.columnModel.isPivotMode(),s=n&&t.leafGroup,i=s?[t]:t.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,i,r,n,0);const a=r.length>0;if(!s&&a&&o.grandTotalRow){t.createFooter();const u=o.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(o,t.sibling,r,0,u)}return r}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:p_(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:h_(this.gos),groupTotalRow:f_(this.gos)}}recursivelyAddToRowsToDisplay(e,t,r,n,s){if(!zs(t))for(let i=0;i<t.length;i++){const o=t[i],a=o.hasChildren(),l=n&&!a,u=e.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,f=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,p=n&&o.leafGroup,g=e.hideOpenParents&&o.expanded&&!o.master&&!p;if(!l&&!g&&!u&&!f&&this.addRowNodeToRowsToDisplay(e,o,r,s),!(n&&o.leafGroup)){if(a){const S=u||f;if(o.expanded||S){const y=e.groupTotalRow({node:o});y||o.destroyFooter();const w=S?s:s+1;y==="top"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,r,w)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,r,n,w),y==="bottom"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,r,w))}}else if(o.master&&o.expanded){const S=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,S,r,s)}}}}addRowNodeToRowsToDisplay(e,t,r,n,s){s?r.unshift(t):r.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(Le(e.detailNode))return e.detailNode;const t=new Jo(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,Le(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},Gue=class extends Ee{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){yr(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const r=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:n,rowsInserted:s}=r.updateRowData(t);let i=!1;this.gos.get("suppressMaintainUnsortedOrder")||(i=r.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(n,i||s)}createTransactionForRowData(e){if(!yr(this.gos))return Yt("ImmutableService only works with ClientSideRowModel"),null;const t=Ud(this.gos);if(t==null)return Yt("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const r=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),n=[],s=[],i=[];return Le(e)&&e.forEach(o=>{const a=t({data:o,level:0}),l=r[a];l?(l.data!==o&&s.push(o),r[a]=void 0):i.push(o)}),Bi(r,(o,a)=>{a&&n.push(a.data)}),{remove:n,update:s,add:i}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},Vue=class extends Ee{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,r,n,s,i){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(g=>g.isRowGroupActive());let l={};r&&n&&(l=this.calculateDirtyNodes(n));const u=this.columnModel.isPivotMode(),f=this.gos.getCallback("postSortRows"),p=g=>{var y;this.pullDownGroupDataForHideOpenParents(g.childrenAfterAggFilter,!0);const C=u&&g.leafGroup;if(o&&a&&!g.leafGroup&&!i){const w=(y=this.funcColsService.getRowGroupColumns())==null?void 0:y[g.level+1],b=(w==null?void 0:w.getSort())===null,F=g.childrenAfterAggFilter.slice(0);if(g.childrenAfterSort&&!b){const R={};g.childrenAfterSort.forEach((E,A)=>{R[E.id]=A}),F.sort((E,A)=>(R[E.id]??0)-(R[A.id]??0))}g.childrenAfterSort=F}else!t||C?g.childrenAfterSort=g.childrenAfterAggFilter.slice(0):r?g.childrenAfterSort=this.doDeltaSort(g,l,s,e):g.childrenAfterSort=this.rowNodeSorter.doFullSort(g.childrenAfterAggFilter,e);if(g.sibling&&(g.sibling.childrenAfterSort=g.childrenAfterSort),this.updateChildIndexes(g),f){const w={nodes:g.childrenAfterSort};f(w)}};s&&s.forEachChangedNodeDepthFirst(p),this.updateGroupDataForHideOpenParents(s)}calculateDirtyNodes(e){const t={},r=n=>{n&&n.forEach(s=>t[s.id]=!0)};return e&&e.forEach(n=>{r(n.add),r(n.update),r(n.remove)}),t}doDeltaSort(e,t,r,n){const s=e.childrenAfterAggFilter,i=e.childrenAfterSort;if(!i)return this.rowNodeSorter.doFullSort(s,n);const o={},a=[];s.forEach(p=>{t[p.id]||!r.canSkip(p)?a.push(p):o[p.id]=!0});const l=i.filter(p=>o[p.id]),u=(p,g)=>({currentPos:g,rowNode:p}),f=a.map(u).sort((p,g)=>this.rowNodeSorter.compareRowNodes(n,p,g));return this.mergeSortedArrays(n,f,l.map(u)).map(({rowNode:p})=>p)}mergeSortedArrays(e,t,r){const n=[];let s=0,i=0;for(;s<t.length&&i<r.length;)this.rowNodeSorter.compareRowNodes(e,t[s],r[i])<0?n.push(t[s++]):n.push(r[i++]);for(;s<t.length;)n.push(t[s++]);for(;i<r.length;)n.push(r[i++]);return n}updateChildIndexes(e){if(Bt(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let r=0;r<t.length;r++){const n=t[r],s=r===0,i=r===e.childrenAfterSort.length-1;n.setFirstChild(s),n.setLastChild(i),n.setChildIndex(r)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return Te("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=r=>{this.pullDownGroupDataForHideOpenParents(r.childrenAfterSort,!1),r.childrenAfterSort.forEach(n=>{n.hasChildren()&&t(n)})};e&&e.executeFromRootNode(r=>t(r))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||Bt(e)||e.forEach(r=>{var s;(((s=this.showRowGroupColsService)==null?void 0:s.getShowRowGroupCols())??[]).forEach(i=>{const o=i.getColDef().showRowGroup;if(typeof o!="string"){Yt("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const a=o,l=this.columnModel.getColDefCol(a);if(l!==r.rowGroupColumn)if(t)r.setGroupValue(i.getId(),void 0);else{const f=this.getFirstChildOfFirstChild(r,l);f&&r.setGroupValue(i.getId(),f.key)}})})}getFirstChildOfFirstChild(e,t){let r=e;for(;r;){const n=r.parent;if(n&&r.firstChild){if(n.rowGroupColumn===t)return n}else return null;r=n}return null}},Hue=class extends Ee{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),r=Le(t)&&t.length>0,n=r&&Le(e.rowNodeTransactions)&&this.gos.get("deltaSort"),s=t.some(i=>lo(this.gos)?i.column.isPrimary()&&i.column.isRowGroupActive():!!i.column.getColDef().showRowGroup);this.sortService.sort(t,r,n,e.rowNodeTransactions,e.changedPath,s)}},Yb="32.3.9",t4={version:Yb,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[Fue,jue,Hue,Bue,Vue,Gue]},Wue={version:Yb,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[e4],apiFunctions:{onGroupExpandedOrCollapsed:Tue,refreshClientSideRowModel:Pue,isRowDataEmpty:Aue,forEachLeafNode:Due,forEachNodeAfterFilter:Mue,forEachNodeAfterFilterAndSort:Nue,resetRowHeights:Iue,applyTransaction:Oue,applyTransactionAsync:kue,flushAsyncTransactions:Lue,getBestCostNodeSelection:_ue},dependantModules:[t4,wue]},Uue={version:Yb,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[t4,Wue]},$ue=class extends Ee{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},zue=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:r,columnNameService:n,valueService:s,gos:i,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.columnModel=t,this.funcColsService=r,this.columnNameService=n,this.valueService=s,this.gos=i,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,r,n,s){const o=(!this.gos.get("groupHideOpenParents")||s.footer)&&this.shouldRenderGroupSummaryCell(s,e,t)?this.createValueForGroupNode(e,s):this.valueService.getValue(e,s);return this.processCell({accumulatedRowIndex:r,rowNode:s,column:e,value:o,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,r){var o;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){const a=(o=e.groupData)==null?void 0:o[t.getId()],l=this.gos.get("suppressGroupMaintainValueType");if(l&&a!=null||!l&&a!==void 0||bo(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const u=t.getColDef();return u==null||u.showRowGroup===!0||u.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const i=N0(this.gos,this.columnModel.isPivotMode());return r===0&&i}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const r=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),s=l=>{var f;if(r||n)return l.key;const u=(f=l.groupData)==null?void 0:f[e.getId()];return!u||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?u:this.valueService.formatValue(l.rowGroupColumn,l,u)??u},i=t.footer,o=[s(t)];if(!p_(this.gos))for(;t.parent;)t=t.parent,o.push(s(t));const a=o.reverse().join(" -> ");return i?`Total ${a}`:a}processCell(e){const{accumulatedRowIndex:t,rowNode:r,column:n,value:s,processCellCallback:i,type:o}=e;return i?{value:i(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:n,node:r,value:s,type:o,parseValue:a=>this.valueService.parseValue(n,r,a,this.valueService.getValue(n,r)),formatValue:a=>this.valueService.formatValue(n,r,a)??a}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:s??"",valueFormatted:this.valueService.formatValue(n,r,s)}:{value:s??""}}},Kue=class{static download(e,t){const r=document.defaultView||window;if(!r){Te("There is no `window` associated with the current `document`");return}const n=document.createElement("a"),s=r.URL.createObjectURL(t);n.setAttribute("href",s),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(n),r.setTimeout(()=>{r.URL.revokeObjectURL(s)},0)}},o2=`\r
`,que=class extends zue{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:r}=e;this.suppressQuotes=t,this.columnSeparator=r}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,o2),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((r,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r.data.value||""),r.mergeAcross&&this.appendEmptyCells(r.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,r,n){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,r){t!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",r);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Te("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=o2),this.isFirstLine=!1}},Yue=class extends $ue{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Te("Export cancelled. Export is not allowed as per your configuration.");return}const t=this.getMergedParams(e),r=this.getData(t),n=new Blob(["\uFEFF",r],{type:"text/plain"}),s=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;Kue.download(this.getFileName(s),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const r=t?Object.assign({},e):this.getMergedParams(e);return this.getData(r)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:r,funcColsService:n,valueService:s,gos:i}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:f,columnSeparator:p}=e;return new que({columnModel:t,columnNameService:r,funcColsService:n,valueService:s,gos:i,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:f||!1,columnSeparator:p||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function Que(e,t){var r;return(r=e.csvCreator)==null?void 0:r.getDataAsCsv(t)}function Xue(e,t){var r;(r=e.csvCreator)==null||r.exportDataAsCsv(t)}var Zue=class extends Ee{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){const{allColumns:r,columnKeys:n,skipRowGroups:s}=t,i=this.getColumnsToExport(r,s,n);return Tee(this.prepareSession(i),this.prependContent(t),this.exportColumnGroups(t,i),this.exportHeaders(t,i),this.processPinnedTopRows(t,i),this.processRows(t,i),this.processPinnedBottomRows(t,i),this.appendContent(t))(e).parse()}processRow(e,t,r,n){var b;const s=t.shouldRowBeSkipped||(()=>!1),i=this.gos.get("groupRemoveSingleChildren"),o=this.gos.get("groupRemoveLowestSingleChildren"),l=t.rowPositions!=null||!!t.onlySelected,u=this.gos.get("groupHideOpenParents")&&!l,f=this.columnModel.isPivotMode()?n.leafGroup:!n.group,p=!!n.footer,g=o&&n.leafGroup,C=n.allChildrenCount===1&&((b=n.childrenAfterGroup)==null?void 0:b.length)===1&&(i||g);if(!f&&!p&&(t.skipRowGroups||C||u)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!f&&!p||s(this.gos.addGridCommonParams({node:n})))return;const w=e.onNewBodyRow(n);if(r.forEach((F,R)=>{w.onColumn(F,R,n)}),t.getCustomContentBelowRow){const F=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));F&&e.addCustomContent(F)}}appendContent(e){return t=>{const r=e.appendContent;return r&&t.addCustomContent(r),t}}prependContent(e){return t=>{const r=e.prependContent;return r&&t.addCustomContent(r),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return r=>{if(!e.skipColumnGroupHeaders){const n=new F_,s=this.visibleColsService.createGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(s,r,e.processGroupHeaderCallback)}return r}}exportHeaders(e,t){return r=>{if(!e.skipColumnHeaders){const n=r.onNewHeaderRow();t.forEach((s,i)=>{n.onColumn(s,i,void 0)})}return r}}processPinnedTopRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="top").sort((s,i)=>s.rowIndex-i.rowIndex).map(s=>this.pinnedRowModel.getPinnedTopRow(s.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("top",n),r}}processRows(e,t){return r=>{const n=this.rowModel,s=yr(this.gos),i=bo(this.gos),o=!s&&e.onlySelected,a=this.processRow.bind(this,r,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(u=>u.rowPinned==null).sort((u,f)=>u.rowIndex-f.rowIndex).map(u=>n.getRow(u.rowIndex)).forEach(a);else if(this.columnModel.isPivotMode())s?n.forEachPivotNode(a,!0):i?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);else if(e.onlySelectedAllPages||o){const u=this.selectionService.getSelectedNodes();this.replicateSortedOrder(u),u.forEach(a)}else l==="all"?n.forEachNode(a):s||i?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return r}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),r=(n,s)=>{var i,o;return n.rowIndex!=null&&s.rowIndex!=null?n.rowIndex-s.rowIndex:n.level===s.level?((i=n.parent)==null?void 0:i.id)===((o=s.parent)==null?void 0:o.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:n,currentPos:n.rowIndex??-1},{rowNode:s,currentPos:s.rowIndex??-1}):r(n.parent,s.parent):n.level>s.level?r(n.parent,s):r(n,s.parent)};e.sort(r)}processPinnedBottomRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="bottom").sort((s,i)=>s.rowIndex-i.rowIndex).map(s=>this.pinnedRowModel.getPinnedBottomRow(s.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("bottom",n),r}}getColumnsToExport(e=!1,t=!1,r){const n=this.columnModel.isPivotMode();if(r&&r.length)return this.columnModel.getColsForKeys(r);const s=this.gos.get("treeData");let i=[];return e&&!n?i=this.columnModel.getCols():i=this.visibleColsService.getAllCols(),t&&!s&&(i=i.filter(o=>!ux(o)&&!Rd(o))),i}recursivelyAddHeaderGroups(e,t,r){const n=[];e.forEach(s=>{const i=s;i.getChildren&&i.getChildren().forEach(o=>n.push(o))}),e.length>0&&Ur(e[0])&&this.doAddHeaderHeader(t,e,r),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,r)}doAddHeaderHeader(e,t,r){const n=e.onNewHeaderGroupingRow();let s=0;t.forEach(i=>{const o=i;let a;r?a=r(this.gos.addGridCommonParams({columnGroup:o})):a=this.columnNameService.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((u,f,p,g)=>{let C=jt(u);return f.getColumnGroupShow()==="open"?(!C||C[1]!=null)&&(C=[p],u.push(C)):C&&C[1]==null&&(C[1]=p-1),p===g.length-1&&C&&C[1]==null&&(C[1]=p),u},[]);n.onColumn(o,a||"",s++,o.getLeafColumns().length-1,l)})}},Qb="32.3.9",r4={version:Qb,moduleName:"@ag-grid-community/csv-export-core",beans:[Yue,Zue]},Jue={version:Qb,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:Que,exportDataAsCsv:Xue},dependantModules:[r4]},ede={version:Qb,moduleName:"@ag-grid-community/csv-export",dependantModules:[r4,Jue]},tde=class extends soe{wireBeans(e){this.beans=e}constructor(e,t,r){super(e),this.parentCache=t,this.params=r,this.startRow=e*r.blockSize,this.endRow=this.startRow+r.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,r){Le(t)?e.setDataAndId(t,r.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Bt(this.params.datasource.getRows)){Te("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,r){this.rowNodes.forEach((n,s)=>{this.startRow+s<r&&e(n,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());const r=e-this.startRow;return this.rowNodes[r]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,r=new Jo(this.beans);r.setRowHeight(this.params.rowHeight),r.uiLevel=0,r.setRowIndex(t),r.setRowTop(this.params.rowHeight*t),this.rowNodes.push(r)}}processServerResult(e){this.rowNodes.forEach((r,n)=>{const s=e.rowData?e.rowData[n]:void 0;!r.id&&r.alreadyRendered&&s&&(this.rowNodes[n]=new Jo(this.beans),this.rowNodes[n].setRowIndex(r.rowIndex),this.rowNodes[n].setRowTop(r.rowTop),this.rowNodes[n].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],s,this.startRow+n)});const t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},rde=2,nde=class extends Ee{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){const r=Math.floor(e/this.params.blockSize);let n=this.blocks[r];if(!n){if(t)return;n=this.createBlock(r)}return n.getRow(e)}createBlock(e){const t=this.createBean(new tde(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&Vi(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),r=(o,a)=>a.getLastAccessed()-o.getLastAccessed();t.sort(r);const n=this.params.maxBlocksInCache>0,s=n?this.params.maxBlocksInCache-1:null,i=rde-1;t.forEach((o,a)=>{const l=o.getState()==="needsLoading"&&a>=i,u=n?a>=s:!1;if(l||u){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const r=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=r&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),r=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,r)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}setRowCount(e,t){this.rowCount=e,Le(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new Td;this.getBlocksInOrder().forEach(r=>r.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(r,n)=>r.getId()-n.getId();return hx(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const r=[];let n=-1,s=!1;const i=new Td;let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(s&&n+1!==l.getId()){o=!0;return}n=l.getId(),l.forEachNode(u=>{const f=u===e||u===t;(s||f)&&r.push(u),f&&(s=!s)},i,this.rowCount)}}),o||s?[]:r}},sde=class extends Ee{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=yc(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&Te("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=yc(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!jf(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;Ud(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){var e;this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:((e=this.filterManager)==null?void 0:e.getFilterModel())??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:yc(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new Td},this.infiniteCache=this.createBean(new nde(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(r=>{r.id===e&&(t=r)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),r=this.getRowCount()-1;return t>r?r:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};function ide(e){var t,r;(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||r.refreshCache()}function ode(e){var t,r;(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||r.purgeCache()}function ade(e){var t,r;return(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null?void 0:r.getRowCount()}var Xb="32.3.9",n4={version:Xb,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[sde],dependantModules:[ooe]},lde={version:Xb,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[e4],apiFunctions:{refreshInfiniteCache:ide,purgeInfiniteCache:ode,getInfiniteRowCount:ade},dependantModules:[n4,xue]},cde={version:Xb,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[n4,lde]};co.__registerModules([q3,Uue,cde,ede],!1,void 0);var Gn=De.createContext({}),Ap=(e,t,r,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const i=e.newAgStackInstance();if(i==null)return;let o,a,l=!1;return i.then(u=>{if(l){t.destroyBean(u);return}o=u,a=o.getGui(),r.appendChild(a),a2(n,o)}),()=>{var u;l=!0,o&&((u=a==null?void 0:a.parentElement)==null||u.removeChild(a),t.destroyBean(o),n&&a2(n,void 0))}},a2=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},ji=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),pi=class s4{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const s=new s4;return s.classesMap={...this.classesMap},s.classesMap[t]=r,s}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},Yd=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},JM,Fx=(JM=De.version)==null?void 0:JM.split(".")[0],ude=Fx==="16"||Fx==="17";function dde(){return Fx==="19"}var Ym=!1;function hde(e){return Ym||setTimeout(()=>Ym=!1,0),Ym=!0,e()}var Zb=(e,t)=>{!ude&&e&&!Ym?mN.flushSync(t):t()};function Jb(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],s=[],i=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];i.set(l.instanceId,l),o.has(l.instanceId)&&n.push(l)}for(let a=0;a<t.length;a++){const l=t[a],u=l.instanceId;i.has(u)||s.push(l)}return n.length===e.length&&s.length===0?e:n.length===0&&s.length===t.length?t:n.length===0?s:s.length===0?n:[...n,...s]}var i4=m.forwardRef((e,t)=>{var se;const{ctrlsFactory:r,context:n}=m.useContext(Gn),s=m.useRef(null),i=m.useRef(null),o=m.useRef(null),a=m.useRef(null),l=m.useRef(null),u=m.useRef(),[f,p]=m.useState(),[g,C]=m.useState(),[S,y]=m.useState(),[w,b]=m.useState(()=>new pi),[F,R]=m.useState(()=>new pi("ag-hidden")),[E,A]=m.useState(()=>new pi("ag-hidden")),[D,M]=m.useState(()=>new pi("ag-invisible"));m.useImperativeHandle(t,()=>({refresh(){return!1}})),m.useLayoutEffect(()=>Ap(f,n,i.current),[f]);const I=m.useCallback(ee=>{if(s.current=ee,!ee){u.current=n.destroyBean(u.current);return}const re={setInnerRenderer:(K,N)=>{p(K),y(N)},setChildCount:K=>C(K),addOrRemoveCssClass:(K,N)=>b(O=>O.setClass(K,N)),setContractedDisplayed:K=>A(N=>N.setClass("ag-hidden",!K)),setExpandedDisplayed:K=>R(N=>N.setClass("ag-hidden",!K)),setCheckboxVisible:K=>M(N=>N.setClass("ag-invisible",!K))},de=r.getInstance("groupCellRendererCtrl");de&&(u.current=n.createBean(de),u.current.init(re,ee,o.current,a.current,l.current,i4,e))},[]),_=m.useMemo(()=>`ag-cell-wrapper ${w.toString()}`,[w]),j=m.useMemo(()=>`ag-group-expanded ${F.toString()}`,[F]),H=m.useMemo(()=>`ag-group-contracted ${E.toString()}`,[E]),B=m.useMemo(()=>`ag-group-checkbox ${D.toString()}`,[D]),oe=f&&f.componentFromFramework,ye=oe?f.componentClass:void 0,Re=f==null&&S!=null,we=mo(S,!0);return De.createElement("span",{className:_,ref:I,...e.colDef?{}:{role:(se=u.current)==null?void 0:se.getCellAriaRole()}},De.createElement("span",{className:j,ref:a}),De.createElement("span",{className:H,ref:l}),De.createElement("span",{className:B,ref:o}),De.createElement("span",{className:"ag-group-value",ref:i},Re&&De.createElement(De.Fragment,null,we),oe&&De.createElement(ye,{...f.params})),De.createElement("span",{className:"ag-group-child-count"},g))}),l2=i4,eE=m.createContext({setMethods:()=>{}}),fde=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:n,setMethods:s}=e,[{key:i,...o},a]=m.useState(t);return m.useEffect(()=>{r(l=>a(l))},[]),De.createElement(eE.Provider,{value:{setMethods:s}},De.createElement(n,{key:i,...o}))},pde=m.memo(fde),gde=0;function c2(){return`agPortalKey_${++gde}`}var o4=class{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=c2(),this.portalKey=c2(),this.instanceCreated=this.isStatelessComponent()?_r.resolve(!1):new _r(s=>{this.resolveInstanceCreated=s})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(Te('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(Te('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const n=r[e];if(n)return n.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new _r(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var r;this.componentInstance=t,this.addParentContainerStyleAndClasses(),(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Sl.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return m.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function tE(e,t,r){e.forEach(n=>{const s=t[n];s&&(r[n]=s)})}var Ro=class extends o4{constructor(){super(...arguments),this.awaitUpdateCallback=new _r(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=pde}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new _r(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,tE(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new _r(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},mde=class extends Ro{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},vde=class extends Ro{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Cde=class extends Ro{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:n}=this;return e.label=t,e.icon=r,e.shake=n,e}},yde=class extends Ro{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function a4(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||_r.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Sde=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){tE(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),a4(this.floatingFilterParams,e)}},wde=class extends Ro{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),a4(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},xde=class extends Ro{refresh(e){this.sourceParams=e,this.refreshProps()}},bde=class extends Ro{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Ede=class extends Ro{refresh(e){this.sourceParams=e,this.refreshProps()}},Rde=class extends Ro{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Fde=class extends Ro{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function rE(){Te("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var Tde=1e3,Pde=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||Tde}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},Ade=({ctrl:e})=>{const t=e.isAlive(),{context:r}=m.useContext(Gn),n=t?e.getColId():void 0,[s,i]=m.useState(),o=m.useRef(),a=m.useRef(null),l=m.useRef(null),u=m.useRef(null),f=m.useRef(),p=m.useRef();t&&!p.current&&(p.current=new Fp(()=>a.current));const g=m.useCallback(w=>{var R;if(a.current=w,o.current=w?r.createBean(new $d):r.destroyBean(o.current),!w||!t)return;const b={setWidth:E=>{a.current&&(a.current.style.width=E)},addOrRemoveCssClass:(E,A)=>p.current.addOrRemoveCssClass(E,A),setAriaSort:E=>{a.current&&(E?Tte(a.current,E):Pte(a.current))},setUserCompDetails:E=>i(E),getUserCompInstance:()=>f.current||void 0};e.setComp(b,w,l.current,u.current,o.current);const F=e.getSelectAllGui();(R=l.current)==null||R.insertAdjacentElement("afterend",F),o.current.addDestroyFunc(()=>F.remove())},[]);m.useLayoutEffect(()=>Ap(s,r,u.current,f),[s]),m.useEffect(()=>{e.setDragSource(a.current)},[s]);const C=m.useMemo(()=>!!((s==null?void 0:s.componentFromFramework)&&Yd(s.componentClass)),[s]),S=s&&s.componentFromFramework,y=s&&s.componentClass;return De.createElement("div",{ref:g,className:"ag-header-cell","col-id":n,role:"columnheader"},De.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),De.createElement("div",{ref:u,className:"ag-header-cell-comp-wrapper",role:"presentation"},S&&C&&De.createElement(y,{...s.params}),S&&!C&&De.createElement(y,{...s.params,ref:f})))},Dde=m.memo(Ade),Mde=({ctrl:e})=>{const{context:t,gos:r}=m.useContext(Gn),[n,s]=m.useState(()=>new pi("ag-header-cell","ag-floating-filter")),[i,o]=m.useState(()=>new pi),[a,l]=m.useState(()=>new pi("ag-floating-filter-button","ag-hidden")),[u,f]=m.useState("false"),[p,g]=m.useState(),[,C]=m.useState(1),S=m.useRef(),y=m.useRef(null),w=m.useRef(null),b=m.useRef(null),F=m.useRef(null),R=m.useRef(),E=m.useRef(),A=we=>{we!=null&&R.current&&R.current(we)},D=m.useCallback(we=>{if(y.current=we,S.current=we?t.createBean(new $d):t.destroyBean(S.current),!we)return;E.current=new _r(ee=>{R.current=ee});const se={addOrRemoveCssClass:(ee,re)=>s(de=>de.setClass(ee,re)),addOrRemoveBodyCssClass:(ee,re)=>o(de=>de.setClass(ee,re)),setButtonWrapperDisplayed:ee=>{l(re=>re.setClass("ag-hidden",!ee)),f(ee?"false":"true")},setWidth:ee=>{y.current&&(y.current.style.width=ee)},setCompDetails:ee=>g(ee),getFloatingFilterComp:()=>E.current?E.current:null,setMenuIcon:ee=>{var re;return(re=F.current)==null?void 0:re.appendChild(ee)}};e.setComp(se,we,F.current,w.current,S.current)},[]);m.useLayoutEffect(()=>Ap(p,t,w.current,A),[p]);const M=m.useMemo(()=>n.toString(),[n]),I=m.useMemo(()=>i.toString(),[i]),_=m.useMemo(()=>a.toString(),[a]),j=m.useMemo(()=>!!(p&&p.componentFromFramework&&Yd(p.componentClass)),[p]),H=m.useMemo(()=>r.get("reactiveCustomComponents"),[]),B=m.useMemo(()=>{if(p)if(H){const we=new Sde(p.params,()=>C(se=>se+1));return A(we),we}else p.componentFromFramework&&rE()},[p]),oe=B==null?void 0:B.getProps(),ye=p&&p.componentFromFramework,Re=p&&p.componentClass;return De.createElement("div",{ref:D,className:M,role:"gridcell"},De.createElement("div",{ref:w,className:I,role:"presentation"},ye&&!H&&De.createElement(Re,{...p.params,ref:j?()=>{}:A}),ye&&H&&De.createElement(eE.Provider,{value:{setMethods:we=>B.setMethods(we)}},De.createElement(Re,{...oe}))),De.createElement("div",{ref:b,"aria-hidden":u,className:_,role:"presentation"},De.createElement("button",{ref:F,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Nde=m.memo(Mde),Ide=({ctrl:e})=>{const{context:t}=m.useContext(Gn),[r,n]=m.useState(()=>new pi),[s,i]=m.useState(()=>new pi),[o,a]=m.useState("false"),[l,u]=m.useState(),[f,p]=m.useState(),g=m.useMemo(()=>e.getColId(),[]),C=m.useRef(),S=m.useRef(null),y=m.useRef(null),w=m.useRef(null),b=m.useRef(),F=m.useCallback(I=>{if(S.current=I,C.current=I?t.createBean(new $d):t.destroyBean(C.current),!I)return;const _={setWidth:j=>{S.current&&(S.current.style.width=j)},addOrRemoveCssClass:(j,H)=>n(B=>B.setClass(j,H)),setHeaderWrapperHidden:j=>{const H=w.current;H&&(j?H.style.setProperty("display","none"):H.style.removeProperty("display"))},setHeaderWrapperMaxHeight:j=>{const H=w.current;H&&(j!=null?H.style.setProperty("max-height",`${j}px`):H.style.removeProperty("max-height"),H.classList.toggle("ag-header-cell-comp-wrapper-limited-height",j!=null))},setUserCompDetails:j=>p(j),setResizableDisplayed:j=>{i(H=>H.setClass("ag-hidden",!j)),a(j?"false":"true")},setAriaExpanded:j=>u(j),getUserCompInstance:()=>b.current||void 0};e.setComp(_,I,y.current,w.current,C.current)},[]);m.useLayoutEffect(()=>Ap(f,t,w.current),[f]),m.useEffect(()=>{S.current&&e.setDragSource(S.current)},[f]);const R=m.useMemo(()=>!!((f==null?void 0:f.componentFromFramework)&&Yd(f.componentClass)),[f]),E=m.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),A=m.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),D=f&&f.componentFromFramework,M=f&&f.componentClass;return De.createElement("div",{ref:F,className:E,"col-id":g,role:"columnheader","aria-expanded":l},De.createElement("div",{ref:w,className:"ag-header-cell-comp-wrapper",role:"presentation"},D&&R&&De.createElement(M,{...f.params}),D&&!R&&De.createElement(M,{...f.params,ref:b})),De.createElement("div",{ref:y,"aria-hidden":o,className:A}))},Ode=m.memo(Ide),kde=({ctrl:e})=>{const{context:t}=m.useContext(Gn),{topOffset:r,rowHeight:n}=m.useMemo(()=>e.getTopAndHeight(),[]),s=e.getAriaRowIndex(),i=e.getHeaderRowClass(),[o,a]=m.useState(()=>n+"px"),[l,u]=m.useState(()=>r+"px"),f=m.useRef(null),p=m.useRef(null),[g,C]=m.useState(()=>e.getHeaderCtrls()),S=m.useRef(),y=m.useRef(null),w=m.useCallback(R=>{if(y.current=R,S.current=R?t.createBean(new $d):t.destroyBean(S.current),!R)return;const E={setHeight:A=>a(A),setTop:A=>u(A),setHeaderCtrls:(A,D,M)=>{p.current=f.current,f.current=A;const I=Jb(p.current,A,D);I!==p.current&&Zb(M,()=>C(I))},setWidth:A=>{y.current&&(y.current.style.width=A)}};e.setComp(E,S.current,!1)},[]),b=m.useMemo(()=>({height:o,top:l}),[o,l]),F=m.useCallback(R=>{switch(e.getType()){case wx.COLUMN_GROUP:return De.createElement(Ode,{ctrl:R,key:R.instanceId});case wx.FLOATING_FILTER:return De.createElement(Nde,{ctrl:R,key:R.instanceId});default:return De.createElement(Dde,{ctrl:R,key:R.instanceId})}},[]);return De.createElement("div",{ref:w,className:i,role:"row",style:b,"aria-rowindex":s},g.map(F))},Lde=m.memo(kde),_de=({pinned:e})=>{const[t,r]=m.useState(!0),[n,s]=m.useState([]),{context:i}=m.useContext(Gn),o=m.useRef(null),a=m.useRef(null),l=m.useRef(),u=e==="left",f=e==="right",p=!u&&!f,g=m.useCallback(y=>{if(o.current=y,l.current=y?i.createBean(new use(e)):i.destroyBean(l.current),!y)return;const w={setDisplayed:r,setCtrls:b=>s(b),setCenterWidth:b=>{a.current&&(a.current.style.width=b)},setViewportScrollLeft:b=>{o.current&&(o.current.scrollLeft=b)},setPinnedContainerWidth:b=>{o.current&&(o.current.style.width=b,o.current.style.minWidth=b,o.current.style.maxWidth=b)}};l.current.setComp(w,o.current)},[]),C=t?"":"ag-hidden",S=()=>n.map(y=>De.createElement(Lde,{ctrl:y,key:y.instanceId}));return De.createElement(De.Fragment,null,u&&De.createElement("div",{ref:g,className:"ag-pinned-left-header "+C,"aria-hidden":!t,role:"rowgroup"},S()),f&&De.createElement("div",{ref:g,className:"ag-pinned-right-header "+C,"aria-hidden":!t,role:"rowgroup"},S()),p&&De.createElement("div",{ref:g,className:"ag-header-viewport "+C,role:"presentation"},De.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},S())))},$S=m.memo(_de),jde=()=>{const[e,t]=m.useState(()=>new pi),[r,n]=m.useState(),{context:s}=m.useContext(Gn),i=m.useRef(null),o=m.useRef(),a=m.useCallback(f=>{if(i.current=f,o.current=f?s.createBean(new Kne):s.destroyBean(o.current),!f)return;const p={addOrRemoveCssClass:(g,C)=>t(S=>S.setClass(g,C)),setHeightAndMinHeight:g=>n(g)};o.current.setComp(p,f,f)},[]),l=m.useMemo(()=>"ag-header "+e.toString(),[e]),u=m.useMemo(()=>({height:r,minHeight:r}),[r]);return De.createElement("div",{ref:a,className:l,style:u,role:"presentation"},De.createElement($S,{pinned:"left"}),De.createElement($S,{pinned:null}),De.createElement($S,{pinned:"right"}))},Bde=m.memo(jde),Gde=(e,t)=>{m.useEffect(()=>{const r=t.current;if(r){const n=r.parentElement;if(n){const s=document.createComment(e);return n.insertBefore(s,r),()=>{n.removeChild(s)}}}},[e])},rc=Gde,Vde=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new _r(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){tE(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Hde=e=>{const t=m.useRef(e),r=m.useRef(),n=m.useRef(!1),s=m.useRef(!1),[,i]=m.useState(0);n.current&&(s.current=!0),m.useEffect(()=>(n.current||(r.current=t.current(),n.current=!0),i(o=>o+1),()=>{var o;s.current&&((o=r.current)==null||o.call(r))}),[])},Wde=e=>{const[t,r]=m.useState(),{context:n,popupService:s,localeService:i,gos:o,editService:a}=m.useContext(Gn);return Hde(()=>{var E,A;const{editDetails:l,cellCtrl:u,eParentCell:f}=e,{compDetails:p}=l,g=o.get("stopEditingWhenCellsLoseFocus"),C=n.createBean(a.createPopupEditorWrapper(p.params)),S=C.getGui();if(e.jsChildComp){const D=e.jsChildComp.getGui();D&&S.appendChild(D)}const y={column:u.getColumn(),rowNode:u.getRowNode(),type:"popupCellEditor",eventSource:f,ePopup:S,position:l.popupPosition,keepWithinBounds:!0},w=s.positionPopupByComponent.bind(s,y),b=i.getLocaleTextFunc(),F=s.addPopup({modal:g,eChild:S,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:f,positionCallback:w,ariaLabel:b("ariaLabelCellEditor","Cell Editor")}),R=F?F.hideFunc:void 0;return r(C),(A=(E=e.jsChildComp)==null?void 0:E.afterGuiAttached)==null||A.call(E),()=>{R==null||R(),n.destroyBean(C)}}),De.createElement(De.Fragment,null,t&&e.wrappedContent&&Sl.createPortal(e.wrappedContent,t.getGui()))},u2=m.memo(Wde),Ude=(e,t,r,n,s,i)=>{const{context:o}=m.useContext(Gn),a=m.useCallback(()=>{const l=s.current;if(!l)return;const u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),o.destroyBean(l),s.current=void 0},[]);m.useEffect(()=>{const l=e!=null,u=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,f=t&&r==null;if(!(l&&u&&!f)){a();return}const g=e.compDetails;if(s.current){const S=s.current,w=S.refresh!=null&&e.force==!1?S.refresh(g.params):!1;if(w===!0||w===void 0)return;a()}const C=g.newAgStackInstance();C!=null&&C.then(S=>{if(!S)return;const y=S.getGui();if(!y)return;(t?r:i.current).appendChild(y),s.current=S})},[e,t,n]),m.useEffect(()=>a,[])},$de=Ude,zde=(e,t,r)=>{const{compProxy:n}=e;r(n);const s=n.getProps(),i=Yd(t);return De.createElement(eE.Provider,{value:{setMethods:o=>n.setMethods(o)}},i?De.createElement(t,{...s}):De.createElement(t,{...s,ref:o=>n.setRef(o)}))},d2=(e,t,r)=>{const n=e.compProxy;return De.createElement(De.Fragment,null,n?zde(e,t,r):De.createElement(t,{...e.compDetails.params,ref:r}))},Kde=(e,t,r,n,s)=>{const i=e.compDetails,o=i.componentClass,a=i.componentFromFramework&&!e.popup,l=i.componentFromFramework&&e.popup,u=!i.componentFromFramework&&e.popup;return De.createElement(De.Fragment,null,a&&d2(e,o,t),l&&De.createElement(u2,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:d2(e,o,t)}),u&&s&&De.createElement(u2,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:s}))},qde=(e,t,r,n,s,i,o)=>{const{compDetails:a,value:l}=e,u=!a,f=a&&a.componentFromFramework,p=a&&a.componentClass,g=l!=null&&l.toString?l.toString():l,C=()=>De.createElement(De.Fragment,null,u&&De.createElement(De.Fragment,null,g),f&&!i&&De.createElement(p,{...a.params,key:t,ref:n}),f&&i&&De.createElement(p,{...a.params,key:t}));return De.createElement(De.Fragment,null,s?De.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:o},C()):C())},Yde=({cellCtrl:e,printLayout:t,editingRow:r})=>{const{context:n}=m.useContext(Gn),{colIdSanitised:s,instanceId:i}=e,o=m.useRef(),[a,l]=m.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,f]=m.useState(),[p,g]=m.useState(1),[C,S]=m.useState(),[y,w]=m.useState(!1),[b,F]=m.useState(!1),[R,E]=m.useState(!1),[A,D]=m.useState(),M=m.useMemo(()=>e.isForceWrapper(),[e]),I=m.useMemo(()=>e.getCellAriaRole(),[e]),_=m.useRef(null),j=m.useRef(null),H=m.useRef(),B=m.useRef(),oe=m.useRef(),ye=m.useRef([]),Re=m.useRef(),[we,se]=m.useState(0),ee=m.useCallback(X=>{Re.current=X,se(ne=>ne+1)},[]),re=a!=null&&(y||R||b),de=M||re,K=m.useCallback(X=>{if(B.current=X,X){const ne=X.isCancelBeforeStart&&X.isCancelBeforeStart();setTimeout(()=>{ne?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),N=m.useRef();N.current||(N.current=new Fp(()=>_.current)),$de(a,de,Re.current,we,H,_);const O=m.useRef();m.useLayoutEffect(()=>{var Ze;const X=O.current,ne=a;if(O.current=a,X==null||X.compDetails==null||ne==null||ne.compDetails==null)return;const Ne=X.compDetails,Ae=ne.compDetails;if(Ne.componentClass!=Ae.componentClass||((Ze=j.current)==null?void 0:Ze.refresh)==null)return;j.current.refresh(Ae.params)!=!0&&g(ft=>ft+1)},[a]),m.useLayoutEffect(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const ne=u.compDetails,Ne=u.popup===!0,Ae=ne.newAgStackInstance();return Ae.then(Qe=>{if(!Qe)return;const Ze=Qe.getGui();if(K(Qe),!Ne){const ft=(M?oe:_).current;ft==null||ft.appendChild(Ze),Qe.afterGuiAttached&&Qe.afterGuiAttached()}D(Qe)}),()=>{Ae.then(Qe=>{var ft;const Ze=Qe.getGui();n.destroyBean(Qe),K(void 0),D(void 0),(ft=Ze==null?void 0:Ze.parentElement)==null||ft.removeChild(Ze)})}},[u]);const V=m.useCallback(X=>{if(oe.current=X,!X){ye.current.forEach(Ne=>Ne()),ye.current=[];return}const ne=Ne=>{if(Ne){const Ae=Ne.getGui();X.insertAdjacentElement("afterbegin",Ae),ye.current.push(()=>{n.destroyBean(Ne),Ic(Ae)})}return Ne};if(y){const Ne=e.createSelectionCheckbox();ne(Ne)}R&&ne(e.createDndSource()),b&&ne(e.createRowDragComp())},[e,n,R,b,y]),G=m.useCallback(X=>{if(_.current=X,o.current=X?n.createBean(new $d):n.destroyBean(o.current),!X||!e)return;const ne={addOrRemoveCssClass:(Ae,Qe)=>N.current.addOrRemoveCssClass(Ae,Qe),setUserStyles:Ae=>S(Ae),getFocusableElement:()=>_.current,setIncludeSelection:Ae=>w(Ae),setIncludeRowDrag:Ae=>F(Ae),setIncludeDndSource:Ae=>E(Ae),getCellEditor:()=>B.current||null,getCellRenderer:()=>j.current??H.current,getParentOfValue:()=>Re.current??oe.current??_.current,setRenderDetails:(Ae,Qe,Ze)=>{l(ft=>(ft==null?void 0:ft.compDetails)!==Ae||(ft==null?void 0:ft.value)!==Qe||(ft==null?void 0:ft.force)!==Ze?{value:Qe,compDetails:Ae,force:Ze}:ft)},setEditDetails:(Ae,Qe,Ze,ft)=>{if(Ae){let xt;ft?xt=new Vde(Ae.params,()=>g(We=>We+1)):Ae.componentFromFramework&&rE(),f({compDetails:Ae,popup:Qe,popupPosition:Ze,compProxy:xt}),Qe||l(void 0)}else f(xt=>{xt!=null&&xt.compProxy&&(B.current=void 0)})}},Ne=oe.current||void 0;e.setComp(ne,X,Ne,t,r,o.current)},[]),J=m.useMemo(()=>{var ne;return!!(((ne=a==null?void 0:a.compDetails)==null?void 0:ne.componentFromFramework)&&Yd(a.compDetails.componentClass))},[a]);m.useLayoutEffect(()=>{var X;_.current&&(N.current.addOrRemoveCssClass("ag-cell-value",!de),N.current.addOrRemoveCssClass("ag-cell-inline-editing",!!u&&!u.popup),N.current.addOrRemoveCssClass("ag-cell-popup-editing",!!u&&!!u.popup),N.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!u||!!u.popup),(X=e.getRowCtrl())==null||X.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.isEditing()&&_.current.focus({preventScroll:!0}))});const ae=()=>De.createElement(De.Fragment,null,a!=null&&qde(a,p,i,j,de,J,ee),u!=null&&Kde(u,K,_.current,e,A)),ge=m.useCallback(()=>e.onFocusOut(),[]);return De.createElement("div",{ref:G,style:C,role:I,"col-id":s,onBlur:ge},de?De.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:V},ae()):ae())},Qde=m.memo(Yde),Xde=({rowCtrl:e,containerType:t})=>{const{context:r,gos:n}=m.useContext(Gn),s=m.useRef(),i=m.useRef(e.getDomOrder()),o=e.isFullWidth(),a=e.getRowNode().displayed,[l,u]=m.useState(()=>a?e.getRowIndex():null),[f,p]=m.useState(()=>e.getRowId()),[g,C]=m.useState(()=>e.getBusinessKey()),[S,y]=m.useState(()=>e.getRowStyles()),w=m.useRef(null),b=m.useRef(null),[F,R]=m.useState(()=>null),[E,A]=m.useState(),[D,M]=m.useState(()=>a?e.getInitialRowTop(t):void 0),[I,_]=m.useState(()=>a?e.getInitialTransform(t):void 0),j=m.useRef(null),H=m.useRef(),B=m.useRef(!1),[oe,ye]=m.useState(0);m.useEffect(()=>{var G;if(B.current||!E||oe>10)return;const V=(G=j.current)==null?void 0:G.firstChild;V?(e.setupDetailRowAutoHeight(V),B.current=!0):ye(J=>J+1)},[E,oe]);const Re=m.useRef();Re.current||(Re.current=new Fp(()=>j.current));const we=m.useCallback(V=>{if(j.current=V,s.current=V?r.createBean(new $d):r.destroyBean(s.current),!V){e.unsetComp(t);return}if(!e.isAlive())return;const G={setTop:M,setTransform:_,addOrRemoveCssClass:(J,ae)=>Re.current.addOrRemoveCssClass(J,ae),setDomOrder:J=>i.current=J,setRowIndex:u,setRowId:p,setRowBusinessKey:C,setUserStyles:y,setCellCtrls:(J,ae)=>{b.current=w.current;const ge=Jb(b.current,J,i.current);ge!==b.current&&(w.current=ge,Zb(ae,()=>R(ge)))},showFullWidth:J=>A(J),getFullWidthCellRenderer:()=>H.current,refreshFullWidth:J=>K.current?(A(ae=>({...ae,params:J()})),!0):!H.current||!H.current.refresh?!1:H.current.refresh(J())};e.setComp(G,V,t,s.current)},[]);m.useLayoutEffect(()=>Ap(E,r,j.current,H),[E]);const se=m.useMemo(()=>{const V={top:D,transform:I};return Object.assign(V,S),V},[D,I,S]),ee=o&&(E==null?void 0:E.componentFromFramework),re=!o&&F!=null,de=m.useMemo(()=>!!((E==null?void 0:E.componentFromFramework)&&Yd(E.componentClass)),[E]),K=m.useRef(!1);m.useEffect(()=>{K.current=de&&!!E&&!!n.get("reactiveCustomComponents")},[de,E]);const N=()=>F==null?void 0:F.map(V=>De.createElement(Qde,{cellCtrl:V,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:V.instanceId})),O=()=>{const V=E.componentClass;return De.createElement(De.Fragment,null,de?De.createElement(V,{...E.params}):De.createElement(V,{...E.params,ref:H}))};return De.createElement("div",{ref:we,role:"row",style:se,"row-index":l,"row-id":f,"row-business-key":g},re&&N(),ee&&O())},Zde=m.memo(Xde),Jde=({name:e})=>{const{context:t}=m.useContext(Gn),r=m.useMemo(()=>zu(e),[e]),n=m.useRef(null),s=m.useRef(null),i=m.useRef([]),o=m.useRef([]),[a,l]=m.useState(()=>[]),u=m.useRef(!1),f=m.useRef(),p=m.useMemo(()=>ji(r.viewport),[r]),g=m.useMemo(()=>ji(r.container),[r]),C=r.type==="center",S=C?n:s;rc(" AG Row Container "+e+" ",S);const y=m.useCallback(()=>C?n.current!=null&&s.current!=null:s.current!=null,[]),w=m.useCallback(()=>C?n.current==null&&s.current==null:s.current==null,[]),b=m.useCallback(()=>{if(w()&&(f.current=t.destroyBean(f.current)),y()){const A=M=>{const I=Jb(o.current,i.current,u.current);I!==o.current&&(o.current=I,Zb(M,()=>l(I)))},D={setHorizontalScroll:M=>{n.current&&(n.current.scrollLeft=M)},setViewportHeight:M=>{n.current&&(n.current.style.height=M)},setRowCtrls:({rowCtrls:M,useFlushSync:I})=>{const _=!!I&&i.current.length>0&&M.length>0;i.current=M,A(_)},setDomOrder:M=>{u.current!=M&&(u.current=M,A(!1))},setContainerWidth:M=>{s.current&&(s.current.style.width=M)},setOffsetTop:M=>{s.current&&(s.current.style.transform=`translateY(${M})`)}};f.current=t.createBean(new rie(e)),f.current.setComp(D,s.current,n.current)}},[y,w]),F=m.useCallback(A=>{s.current=A,b()},[b]),R=m.useCallback(A=>{n.current=A,b()},[b]),E=()=>De.createElement("div",{className:g,ref:F,role:"rowgroup"},a.map(A=>De.createElement(Zde,{rowCtrl:A,containerType:r.type,key:A.instanceId})));return De.createElement(De.Fragment,null,C?De.createElement("div",{className:p,ref:R,role:"presentation"},E()):E())},ehe=m.memo(Jde),the=()=>{const{context:e,resizeObserverService:t}=m.useContext(Gn),[r,n]=m.useState(""),[s,i]=m.useState(0),[o,a]=m.useState(0),[l,u]=m.useState("0px"),[f,p]=m.useState("0px"),[g,C]=m.useState("100%"),[S,y]=m.useState("0px"),[w,b]=m.useState("0px"),[F,R]=m.useState("100%"),[E,A]=m.useState(""),[D,M]=m.useState(""),[I,_]=m.useState(null),[j,H]=m.useState(""),[B,oe]=m.useState(null),[ye,Re]=m.useState("ag-layout-normal"),we=m.useRef();we.current||(we.current=new Fp(()=>se.current));const se=m.useRef(null),ee=m.useRef(null),re=m.useRef(null),de=m.useRef(null),K=m.useRef(null),N=m.useRef(null),O=m.useRef(null),V=m.useRef([]),G=m.useRef([]);rc(" AG Grid Body ",se),rc(" AG Pinned Top ",ee),rc(" AG Sticky Top ",re),rc(" AG Middle ",N),rc(" AG Pinned Bottom ",O);const J=m.useCallback(ct=>{if(se.current=ct,!ct){V.current=e.destroyBeans(V.current),G.current.forEach(tt=>tt()),G.current=[];return}if(!e)return;const Mt=(tt,gt)=>{tt.appendChild(gt),G.current.push(()=>tt.removeChild(gt))},ue=tt=>{const gt=e.createBean(new tt);return V.current.push(gt),gt},Ve=(tt,gt,Vt)=>{Mt(tt,document.createComment(Vt)),Mt(tt,ue(gt).getGui())};Ve(ct,hse," AG Fake Horizontal Scroll "),Ve(ct,dse," AG Overlay Wrapper "),K.current&&Ve(K.current,fse," AG Fake Vertical Scroll ");const Ue={setRowAnimationCssOnBodyViewport:n,setColumnCount:tt=>{se.current&&Rte(se.current,tt)},setRowCount:tt=>{se.current&&bte(se.current,tt)},setTopHeight:i,setBottomHeight:a,setStickyTopHeight:u,setStickyTopTop:p,setStickyTopWidth:C,setTopDisplay:A,setBottomDisplay:M,setColumnMovingCss:(tt,gt)=>we.current.addOrRemoveCssClass(tt,gt),updateLayoutClasses:Re,setAlwaysVerticalScrollClass:_,setPinnedTopBottomOverflowY:H,setCellSelectableCss:(tt,gt)=>oe(gt?tt:null),setBodyViewportWidth:tt=>{N.current&&(N.current.style.width=tt)},registerBodyViewportResizeListener:tt=>{if(N.current){const gt=t.observeResize(N.current,tt);G.current.push(()=>gt())}},setStickyBottomHeight:y,setStickyBottomBottom:b,setStickyBottomWidth:R},rt=e.createBean(new oie);V.current.push(rt),rt.setComp(Ue,ct,N.current,ee.current,O.current,re.current,de.current)},[]),ae=m.useMemo(()=>ji("ag-root","ag-unselectable",ye),[ye]),ge=m.useMemo(()=>ji("ag-body-viewport",r,ye,I,B),[r,ye,I,B]),X=m.useMemo(()=>ji("ag-body",ye),[ye]),ne=m.useMemo(()=>ji("ag-floating-top",B),[B]),Ne=m.useMemo(()=>ji("ag-sticky-top",B),[B]),Ae=m.useMemo(()=>ji("ag-sticky-bottom",S==="0px"?"ag-hidden":null,B),[B,S]),Qe=m.useMemo(()=>ji("ag-floating-bottom",B),[B]),Ze=m.useMemo(()=>({height:s,minHeight:s,display:E,overflowY:j}),[s,E,j]),ft=m.useMemo(()=>({height:l,top:f,width:g}),[l,f,g]),xt=m.useMemo(()=>({height:S,bottom:w,width:F}),[S,w,F]),We=m.useMemo(()=>({height:o,minHeight:o,display:D,overflowY:j}),[o,D,j]),le=ct=>De.createElement(ehe,{name:ct,key:`${ct}-container`}),Ke=({section:ct,children:Mt,className:ue,style:Ve})=>De.createElement("div",{ref:ct,className:ue,role:"presentation",style:Ve},Mt.map(le));return De.createElement("div",{ref:J,className:ae,role:"treegrid"},De.createElement(Bde,null),Ke({section:ee,className:ne,style:Ze,children:["topLeft","topCenter","topRight","topFullWidth"]}),De.createElement("div",{className:X,ref:K,role:"presentation"},Ke({section:N,className:ge,children:["left","center","right","fullWidth"]})),Ke({section:re,className:Ne,style:ft,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Ke({section:de,className:Ae,style:xt,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Ke({section:O,className:Qe,style:We,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},rhe=m.memo(the),nhe=(e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:s,gridCtrl:i,forceFocusOutWhenTabGuardsAreEmpty:o}=e,{context:a}=m.useContext(Gn),l=m.useRef(null),u=m.useRef(null),f=m.useRef(),p=w=>{const b=w==null?void 0:parseInt(w,10).toString();[l,u].forEach(F=>{var R,E;b===void 0?(R=F.current)==null||R.removeAttribute("tabindex"):(E=F.current)==null||E.setAttribute("tabindex",b)})};m.useImperativeHandle(t,()=>({forceFocusOutOfContainer(w){var b;(b=f.current)==null||b.forceFocusOutOfContainer(w)}}));const g=m.useCallback(()=>{const w=l.current,b=u.current;if(!w&&!b){f.current=a.destroyBean(f.current);return}if(w&&b){const F={setTabIndex:p};f.current=a.createBean(new B3({comp:F,eTopGuard:w,eBottomGuard:b,eFocusableElement:n,onTabKeyDown:s,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:R=>i.focusInnerElement(R)}))}},[]),C=m.useCallback(w=>{l.current=w,g()},[g]),S=m.useCallback(w=>{u.current=w,g()},[g]),y=w=>{const b=w==="top"?Km.TAB_GUARD_TOP:Km.TAB_GUARD_BOTTOM;return De.createElement("div",{className:`${Km.TAB_GUARD} ${b}`,role:"presentation",ref:w==="top"?C:S})};return De.createElement(De.Fragment,null,y("top"),r,y("bottom"))},she=m.forwardRef(nhe),ihe=m.memo(she),ohe=({context:e})=>{const[t,r]=m.useState(""),[n,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(null),[u,f]=m.useState(null),[p,g]=m.useState(!1),[C,S]=m.useState(),y=m.useRef(),w=m.useRef(null),b=m.useRef(),[F,R]=m.useState(null),E=m.useRef(()=>{}),A=m.useRef(),D=m.useRef([]),M=m.useCallback(()=>{},[]),I=m.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);rc(" AG Grid ",w);const _=m.useCallback(ye=>{if(w.current=ye,y.current=ye?e.createBean(new Boe):e.destroyBean(y.current),!ye||e.isDestroyed())return;const Re=y.current;E.current=Re.focusInnerElement.bind(Re);const we={destroyGridUi:()=>{},setRtlClass:r,setGridThemeClass:s,forceFocusOutOfContainer:se=>{var ee,re;if(!se&&((ee=A.current)!=null&&ee.isDisplayed())){A.current.forceFocusOutOfContainer(se);return}(re=b.current)==null||re.forceFocusOutOfContainer(se)},updateLayoutClasses:o,getFocusableContainers:()=>{var re;const se=[],ee=(re=w.current)==null?void 0:re.querySelector(".ag-root");return ee&&se.push({getGui:()=>ee}),D.current.forEach(de=>{de.isDisplayed()&&se.push(de)}),se},setCursor:l,setUserSelect:f};Re.setComp(we,ye,ye),g(!0)},[]);m.useEffect(()=>{const ye=y.current,Re=w.current;if(!C||!I||!ye||!F||!Re)return;const we=[],{watermarkSelector:se,paginationSelector:ee,sideBarSelector:re,statusBarSelector:de,gridHeaderDropZonesSelector:K}=ye.getOptionalSelectors(),N=[];if(K){const V=e.createBean(new K.component),G=V.getGui();Re.insertAdjacentElement("afterbegin",G),N.push(G),we.push(V)}if(re){const V=e.createBean(new re.component),G=V.getGui(),J=F.querySelector(".ag-tab-guard-bottom");J&&(J.insertAdjacentElement("beforebegin",G),N.push(G)),we.push(V),D.current.push(V)}const O=V=>{const G=e.createBean(new V),J=G.getGui();return Re.insertAdjacentElement("beforeend",J),N.push(J),we.push(G),G};if(de&&O(de.component),ee){const V=O(ee.component);A.current=V,D.current.push(V)}return se&&O(se.component),()=>{e.destroyBeans(we),N.forEach(V=>{var G;(G=V.parentElement)==null||G.removeChild(V)})}},[C,F,I]);const j=m.useMemo(()=>ji("ag-root-wrapper",t,n,i),[t,n,i]),H=m.useMemo(()=>ji("ag-root-wrapper-body","ag-focus-managed",i),[i]),B=m.useMemo(()=>({userSelect:u??"",WebkitUserSelect:u??"",cursor:a??""}),[u,a]),oe=m.useCallback(ye=>{b.current=ye,S(ye!==null)},[]);return De.createElement("div",{ref:_,className:j,style:B,role:"presentation"},De.createElement("div",{className:H,ref:R,role:"presentation"},p&&F&&I&&De.createElement(Gn.Provider,{value:I},De.createElement(ihe,{ref:oe,eFocusableElement:F,onTabKeyDown:M,gridCtrl:y.current,forceFocusOutWhenTabGuardsAreEmpty:!0},De.createElement(rhe,null)))))},ahe=m.memo(ohe),lhe=class extends Ee{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},l4=e=>{var w;const t=m.useRef(),r=m.useRef(null),n=m.useRef(null),s=m.useRef([]),i=m.useRef([]),o=m.useRef(e),a=m.useRef(),l=m.useRef(),u=m.useRef(!1),[f,p]=m.useState(void 0),[,g]=m.useState(0),C=m.useCallback(b=>{if(r.current=b,!b){s.current.forEach(H=>H()),s.current.length=0;return}const F=e.modules||[];n.current||(n.current=new Pde(()=>g(H=>H+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),s.current.push(()=>{var H;(H=n.current)==null||H.destroy(),n.current=null}));const R=pte(e.gridOptions,e),E=()=>{if(u.current){const H=()=>{var oe;return(oe=a.current)!=null&&oe.shouldQueueUpdates()?void 0:i.current.shift()};let B=H();for(;B;)B(),B=H()}},A=new hhe(E);a.current=A;const D=new lhe,M={providedBeanInstances:{frameworkComponentWrapper:new uhe(n.current,R.reactiveCustomComponents??hue("reactiveCustomComponents")??!0),renderStatusService:D},modules:F,frameworkOverrides:A},I=H=>{p(H),H.createBean(D),s.current.push(()=>{H.destroy()}),H.getBean("ctrlsService").whenReady({addDestroyFunc:B=>{s.current.push(B)}},()=>{var oe;if(H.isDestroyed())return;const B=t.current;B&&((oe=e.setGridApi)==null||oe.call(e,B))})},_=H=>{H.getBean("ctrlsService").whenReady({addDestroyFunc:B=>{s.current.push(B)}},()=>{i.current.forEach(B=>B()),i.current.length=0,u.current=!0})},j=new pue;R.gridId??(R.gridId=l.current),t.current=j.create(b,R,I,_,M),s.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),S=m.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),y=m.useCallback(b=>{var F;u.current&&!((F=a.current)!=null&&F.shouldQueueUpdates())?b():i.current.push(b)},[]);return m.useEffect(()=>{const b=che(o.current,e);o.current=e,y(()=>{t.current&&gte(b,t.current)})},[e]),De.createElement("div",{style:S,className:e.className,ref:C},f&&!f.isDestroyed()?De.createElement(ahe,{context:f}):null,((w=n.current)==null?void 0:w.getPortals())??null)};function che(e,t){const r={};return Object.keys(t).forEach(n=>{const s=t[n];e[n]!==s&&(r[n]=s)}),r}var uhe=class extends bue{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const s=(i=>{switch(i){case"filter":return yde;case"floatingFilterComponent":return wde;case"dateComponent":return vde;case"dragAndDropImageComponent":return Cde;case"loadingOverlayComponent":return xde;case"noRowsOverlayComponent":return Ede;case"statusPanel":return Rde;case"toolPanel":return Fde;case"menuItem":return bde;case"cellRenderer":return mde}})(t.propertyName);if(s)return new s(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":rE();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new o4(e,this.parent,t,r)}},dhe=m.forwardRef((e,t)=>{const{ctrlsFactory:r,context:n,gos:s,resizeObserverService:i,rowModel:o}=m.useContext(Gn),[a,l]=m.useState(()=>new pi),[u,f]=m.useState(()=>new pi),[p,g]=m.useState(),[C,S]=m.useState(),y=m.useRef(),w=m.useRef(null),b=m.useRef(),F=m.useMemo(()=>co.__getGridRegisteredModules(e.api.getGridId()),[e]),R=m.useMemo(()=>a.toString()+" ag-details-row",[a]),E=m.useMemo(()=>u.toString()+" ag-details-grid",[u]);t&&m.useImperativeHandle(t,()=>({refresh(){var M;return((M=y.current)==null?void 0:M.refresh())??!1}})),e.template&&Te("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const A=m.useCallback(M=>{var j;if(w.current=M,!M){y.current=n.destroyBean(y.current),(j=b.current)==null||j.call(b);return}const I={addOrRemoveCssClass:(H,B)=>l(oe=>oe.setClass(H,B)),addOrRemoveDetailGridCssClass:(H,B)=>f(oe=>oe.setClass(H,B)),setDetailGrid:H=>g(H),setRowData:H=>S(H),getGui:()=>w.current},_=r.getInstance("detailCellRenderer");if(_&&(n.createBean(_),_.init(I,e),y.current=_,s.get("detailRowAutoHeight"))){const H=()=>{if(w.current==null)return;const B=w.current.clientHeight;B!=null&&B>0&&setTimeout(()=>{e.node.setRowHeight(B),(yr(s)||bo(s))&&o.onRowHeightChanged()},0)};b.current=i.observeResize(M,H),H()}},[]),D=m.useCallback(M=>{var I;(I=y.current)==null||I.registerDetailWithMaster(M)},[]);return De.createElement("div",{className:R,ref:A},p&&De.createElement(l4,{className:E,...p,modules:F,rowData:C,setGridApi:D}))}),hhe=class extends G3{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:l2,agGroupRowRenderer:l2,agDetailCellRenderer:dhe},this.wrapIncoming=(t,r)=>r==="ensureVisible"?hde(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return dde()}},fhe=class extends m.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return De.createElement(l4,{...this.props,setGridApi:this.setGridApi})}};function phe(e){return Xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zM160 224c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32zm128-64l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32s32 14.3 32 32zm64 32c17.7 0 32 14.3 32 32l0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96c0-17.7 14.3-32 32-32zM480 96l0 224c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-224c0-17.7 14.3-32 32-32s32 14.3 32 32z"},child:[]}]})(e)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ov={};Ov.version="0.18.5";var c4=1252,ghe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],u4=function(e){ghe.indexOf(e)!=-1&&(c4=e)};function mhe(){u4(1252)}var zf=function(e){u4(e)};function vhe(){zf(1200),mhe()}var xm=function(t){return String.fromCharCode(t)},h2=function(t){return String.fromCharCode(t)},kv,nl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Kf(e){for(var t="",r=0,n=0,s=0,i=0,o=0,a=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,s=e.charCodeAt(u++),a=(n&15)<<2|s>>6,l=s&63,isNaN(n)?a=l=64:isNaN(s)&&(l=64),t+=nl.charAt(i)+nl.charAt(o)+nl.charAt(a)+nl.charAt(l);return t}function ha(e){var t="",r=0,n=0,s=0,i=0,o=0,a=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=nl.indexOf(e.charAt(u++)),o=nl.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),a=nl.indexOf(e.charAt(u++)),n=(o&15)<<4|a>>2,a!==64&&(t+=String.fromCharCode(n)),l=nl.indexOf(e.charAt(u++)),s=(a&3)<<6|l,l!==64&&(t+=String.fromCharCode(s));return t}var Xt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),ga=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Oc(e){return Xt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function f2(e){return Xt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Gi=function(t){return Xt?ga(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function G0(e){if(typeof ArrayBuffer>"u")return Gi(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Dp(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Che(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var bn=Xt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ga(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function yhe(e){for(var t=[],r=0,n=e.length+250,s=Oc(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=e.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|a>>6&15|(o&3)<<4,s[r++]=128|a&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(t.push(s.slice(0,r)),r=0,s=Oc(65535),n=65530)}return t.push(s.slice(0,r)),bn(t)}var vf=/\u0000/g,bm=/[\u0001-\u0006]/g;function rd(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Hi(e,t){var r=""+e;return r.length>=t?r:Lr("0",t-r.length)+r}function nE(e,t){var r=""+e;return r.length>=t?r:Lr(" ",t-r.length)+r}function Lv(e,t){var r=""+e;return r.length>=t?r:r+Lr(" ",t-r.length)}function She(e,t){var r=""+Math.round(e);return r.length>=t?r:Lr("0",t-r.length)+r}function whe(e,t){var r=""+e;return r.length>=t?r:Lr("0",t-r.length)+r}var p2=Math.pow(2,32);function Nu(e,t){if(e>p2||e<-p2)return She(e,t);var r=Math.round(e);return whe(r,t)}function _v(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var g2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],zS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function xhe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Br={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},m2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},bhe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function jv(e,t,r){for(var n=e<0?-1:1,s=e*n,i=0,o=1,a=0,l=1,u=0,f=0,p=Math.floor(s);u<t&&(p=Math.floor(s),a=p*o+i,f=p*u+l,!(s-p<5e-8));)s=1/(s-p),i=o,o=a,l=u,u=f;if(f>t&&(u>t?(f=l,a=i):(f=u,a=o)),!r)return[0,n*a,f];var g=Math.floor(n*a/f);return[g,n*a-g*f,f]}function Em(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),i=0,o=[],a={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(n+=1462),a.u>.9999&&(a.u=0,++s==86400&&(a.T=s=0,++n,++a.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=Dhe(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=s%60,s=Math.floor(s/60),a.M=s%60,s=Math.floor(s/60),a.H=s,a.q=i,a}var d4=new Date(1899,11,31,0,0,0),Ehe=d4.getTime(),Rhe=new Date(1900,2,1,0,0,0);function h4(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Rhe&&(r+=1440*60*1e3),(r-(Ehe+(e.getTimezoneOffset()-d4.getTimezoneOffset())*6e4))/(1440*60*1e3)}function sE(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Fhe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function The(e){var t=e<0?12:11,r=sE(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Phe(e){var t=sE(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Ahe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=The(e):t===10?r=e.toFixed(10).substr(0,12):r=Phe(e),sE(Fhe(r.toUpperCase()))}function Tx(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Ahe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return gl(14,h4(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Dhe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Mhe(e,t,r,n){var s="",i=0,o=0,a=r.y,l,u=0;switch(e){case 98:a=r.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,u=2;break;default:l=a%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return zS[r.m-1][1];case 5:return zS[r.m-1][0];default:return zS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return g2[r.q][0];default:return g2[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Hi(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=Hi(i,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=a,u=1;break}var f=u>0?Hi(l,u):"";return f}function sl(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var f4=/%/g;function Nhe(e,t,r){var n=t.replace(f4,""),s=t.length-n.length;return ea(e,n,r*Math.pow(10,2*s))+Lr("%",s)}function Ihe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ea(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function p4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+p4(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,f){return l+u+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var g4=/# (\?+)( ?)\/( ?)(\d+)/;function Ohe(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),i=Math.floor(s/n),o=s-i*n,a=n;return r+(i===0?"":""+i)+" "+(o===0?Lr(" ",e[1].length+1+e[4].length):nE(o,e[1].length)+e[2]+"/"+e[3]+Hi(a,e[4].length))}function khe(e,t,r){return r+(t===0?"":""+t)+Lr(" ",e[1].length+2+e[4].length)}var m4=/^#*0*\.([0#]+)/,v4=/\).*[0#]/,C4=/\(###\) ###\\?-####/;function qn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function v2(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function C2(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Lhe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function _he(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function li(e,t,r){if(e.charCodeAt(0)===40&&!t.match(v4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?li("n",n,r):"("+li("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Ihe(e,t,r);if(t.indexOf("%")!==-1)return Nhe(e,t,r);if(t.indexOf("E")!==-1)return p4(t,r);if(t.charCodeAt(0)===36)return"$"+li(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,a,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Nu(l,t.length);if(t.match(/^[#?]+$/))return s=Nu(r,0),s==="0"&&(s=""),s.length>t.length?s:qn(t.substr(0,t.length-s.length))+s;if(i=t.match(g4))return Ohe(i,l,u);if(t.match(/^#+0+$/))return u+Nu(l,t.length-t.indexOf("0"));if(i=t.match(m4))return s=v2(r,i[1].length).replace(/^([^\.]+)$/,"$1."+qn(i[1])).replace(/\.$/,"."+qn(i[1])).replace(/\.(\d*)$/,function(S,y){return"."+y+Lr("0",qn(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+v2(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+sl(Nu(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+li(e,t,-r):sl(""+(Math.floor(r)+Lhe(r,i[1].length)))+"."+Hi(C2(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return li(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=rd(li(e,t.replace(/[\\-]/g,""),r)),o=0,rd(rd(t.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<s.length?s.charAt(o++):S==="0"?"0":""}));if(t.match(C4))return s=li(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),a=jv(l,Math.pow(10,o)-1,!1),s=""+u,f=ea("n",i[1],a[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=Lv(a[2],o),f.length<i[4].length&&(f=qn(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),a=jv(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?nE(a[1],o)+i[2]+"/"+i[3]+Lv(a[2],o):Lr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=Nu(r,0),t.length<=s.length?s:qn(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=t.indexOf(".")-o,g=t.length-s.length-p;return qn(t.substr(0,p)+s+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=C2(r,i[1].length),r<0?"-"+li(e,t,-r):sl(_he(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Hi(0,3-S.length):"")+S})+"."+Hi(o,i[1].length);switch(t){case"###,##0.00":return li(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var C=sl(Nu(l,0));return C!=="0"?u+C:"";case"###,###.00":return li(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return li(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function jhe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ea(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Bhe(e,t,r){var n=t.replace(f4,""),s=t.length-n.length;return ea(e,n,r*Math.pow(10,2*s))+Lr("%",s)}function y4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+y4(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,f){return l+u+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function to(e,t,r){if(e.charCodeAt(0)===40&&!t.match(v4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?to("n",n,r):"("+to("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return jhe(e,t,r);if(t.indexOf("%")!==-1)return Bhe(e,t,r);if(t.indexOf("E")!==-1)return y4(t,r);if(t.charCodeAt(0)===36)return"$"+to(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,a,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Hi(l,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:qn(t.substr(0,t.length-s.length))+s;if(i=t.match(g4))return khe(i,l,u);if(t.match(/^#+0+$/))return u+Hi(l,t.length-t.indexOf("0"));if(i=t.match(m4))return s=(""+r).replace(/^([^\.]+)$/,"$1."+qn(i[1])).replace(/\.$/,"."+qn(i[1])),s=s.replace(/\.(\d*)$/,function(S,y){return"."+y+Lr("0",qn(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+sl(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+to(e,t,-r):sl(""+r)+"."+Lr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return to(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=rd(to(e,t.replace(/[\\-]/g,""),r)),o=0,rd(rd(t.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<s.length?s.charAt(o++):S==="0"?"0":""}));if(t.match(C4))return s=to(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),a=jv(l,Math.pow(10,o)-1,!1),s=""+u,f=ea("n",i[1],a[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=Lv(a[2],o),f.length<i[4].length&&(f=qn(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),a=jv(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?nE(a[1],o)+i[2]+"/"+i[3]+Lv(a[2],o):Lr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:qn(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=t.indexOf(".")-o,g=t.length-s.length-p;return qn(t.substr(0,p)+s+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+to(e,t,-r):sl(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Hi(0,3-S.length):"")+S})+"."+Hi(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var C=sl(""+l);return C!=="0"?u+C:"";default:if(t.match(/\.[0#?]*$/))return to(e,t.slice(0,t.lastIndexOf(".")),r)+qn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ea(e,t,r){return(r|0)===r?to(e,t,r):li(e,t,r)}function Ghe(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var S4=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function w4(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":_v(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(S4))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Vhe(e,t,r,n){for(var s=[],i="",o=0,a="",l="t",u,f,p,g="H";o<e.length;)switch(a=e.charAt(o)){case"G":if(!_v(e,o))throw new Error("unrecognized character "+a+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(p=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(p);s[s.length]={t:"t",v:i},++o;break;case"\\":var C=e.charAt(++o),S=C==="("||C===")"?C:"t";s[s.length]={t:S,v:C},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Em(t,r,e.charAt(o+1)==="2"),u==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Em(t,r),u==null))return"";for(i=a;++o<e.length&&e.charAt(o).toLowerCase()===a;)i+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=g),s[s.length]={t:a,v:i},l=a;break;case"A":case"a":case"":var y={t:a,v:a};if(u==null&&(u=Em(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(y.v=u.H>=12?"P":"A"),y.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(y.v=u.H>=12?"PM":"AM"),y.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(y.v=u.H>=12?"":""),y.t="T",o+=5,g="h"):(y.t="t",++o),u==null&&y.t==="T")return"";s[s.length]=y,l=a;break;case"[":for(i=a;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(S4)){if(u==null&&(u=Em(t,r),u==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",w4(e)||(s[s.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=a;++o<e.length&&(a=e.charAt(o))==="0";)i+=a;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=a;++o<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(o))>-1;)i+=a;s[s.length]={t:"n",v:i};break;case"?":for(i=a;e.charAt(++o)===a;)i+=a;s[s.length]={t:a,v:i},l=a;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=a;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:a,v:a},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+e);s[s.length]={t:"t",v:a},++o;break}var w=0,b=0,F;for(o=s.length-1,l="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=g,l="h",w<1&&(w=1);break;case"s":(F=s[o].v.match(/\.0+$/))&&(b=Math.max(b,F[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":l=s[o].t;break;case"m":l==="s"&&(s[o].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&s[o].v.match(/[Hh]/)&&(w=1),w<2&&s[o].v.match(/[Mm]/)&&(w=2),w<3&&s[o].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var R="",E;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=Mhe(s[o].t.charCodeAt(0),s[o].v,u,b),s[o].t="t";break;case"n":case"?":for(E=o+1;s[E]!=null&&((a=s[E].t)==="?"||a==="D"||(a===" "||a==="t")&&s[E+1]!=null&&(s[E+1].t==="?"||s[E+1].t==="t"&&s[E+1].v==="/")||s[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(s[E].v==="/"||s[E].v===" "&&s[E+1]!=null&&s[E+1].t=="?"));)s[o].v+=s[E].v,s[E]={v:"",t:";"},++E;R+=s[o].v,o=E-1;break;case"G":s[o].t="t",s[o].v=Tx(t,r);break}var A="",D,M;if(R.length>0){R.charCodeAt(0)==40?(D=t<0&&R.charCodeAt(0)===45?-t:t,M=ea("n",R,D)):(D=t<0&&n>1?-t:t,M=ea("n",R,D),D<0&&s[0]&&s[0].t=="t"&&(M=M.substr(1),s[0].v="-"+s[0].v)),E=M.length-1;var I=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){I=o;break}var _=s.length;if(I===s.length&&M.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(E>=s[o].v.length-1?(E-=s[o].v.length,s[o].v=M.substr(E+1,s[o].v.length)):E<0?s[o].v="":(s[o].v=M.substr(0,E+1),E=-1),s[o].t="t",_=o);E>=0&&_<s.length&&(s[_].v=M.substr(0,E+1)+s[_].v)}else if(I!==s.length&&M.indexOf("E")===-1){for(E=M.indexOf(".")-1,o=I;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(f=s[o].v.indexOf(".")>-1&&o===I?s[o].v.indexOf(".")-1:s[o].v.length-1,A=s[o].v.substr(f+1);f>=0;--f)E>=0&&(s[o].v.charAt(f)==="0"||s[o].v.charAt(f)==="#")&&(A=M.charAt(E--)+A);s[o].v=A,s[o].t="t",_=o}for(E>=0&&_<s.length&&(s[_].v=M.substr(0,E+1)+s[_].v),E=M.indexOf(".")+1,o=I;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==I)){for(f=s[o].v.indexOf(".")>-1&&o===I?s[o].v.indexOf(".")+1:0,A=s[o].v.substr(0,f);f<s[o].v.length;++f)E<M.length&&(A+=M.charAt(E++));s[o].v=A,s[o].t="t",_=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(D=n>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=ea(s[o].t,s[o].v,D),s[o].t="t");var j="";for(o=0;o!==s.length;++o)s[o]!=null&&(j+=s[o].v);return j}var y2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function S2(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Hhe(e,t){var r=Ghe(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(y2),a=r[1].match(y2);return S2(t,o)?[n,r[0]]:S2(t,a)?[n,r[1]]:[n,r[o!=null&&a!=null?2:1]]}return[n,i]}function gl(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Br)[e],n==null&&(n=r.table&&r.table[m2[e]]||Br[m2[e]]),n==null&&(n=bhe[e]||"General");break}if(_v(n,0))return Tx(t,r);t instanceof Date&&(t=h4(t,r.date1904));var s=Hhe(n,t);if(_v(s[1]))return Tx(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Vhe(s[1],t,r,s[0])}function x4(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Br[r]==null){t<0&&(t=r);continue}if(Br[r]==e){t=r;break}}t<0&&(t=391)}return Br[t]=e,t}function V0(e){for(var t=0;t!=392;++t)e[t]!==void 0&&x4(e[t],t)}function H0(){Br=xhe()}var b4=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Whe(e){var t=typeof e=="number"?Br[e]:e;return t=t.replace(b4,"(\\d+)"),new RegExp("^"+t+"$")}function Uhe(e,t,r){var n=-1,s=-1,i=-1,o=-1,a=-1,l=-1;(t.match(b4)||[]).forEach(function(p,g){var C=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=C;break;case"d":i=C;break;case"h":o=C;break;case"s":l=C;break;case"m":o>=0?a=C:s=C;break}}),l>=0&&a==-1&&s>=0&&(a=s,s=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?u:n==-1&&s==-1&&i==-1?f:u+"T"+f}var $he=(function(){var e={};e.version="1.2.0";function t(){for(var M=0,I=new Array(256),_=0;_!=256;++_)M=_,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,I[_]=M;return typeof Int32Array<"u"?new Int32Array(I):I}var r=t();function n(M){var I=0,_=0,j=0,H=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)H[j]=M[j];for(j=0;j!=256;++j)for(_=M[j],I=256+j;I<4096;I+=256)_=H[I]=_>>>8^M[_&255];var B=[];for(j=1;j!=16;++j)B[j-1]=typeof Int32Array<"u"?H.subarray(j*256,j*256+256):H.slice(j*256,j*256+256);return B}var s=n(r),i=s[0],o=s[1],a=s[2],l=s[3],u=s[4],f=s[5],p=s[6],g=s[7],C=s[8],S=s[9],y=s[10],w=s[11],b=s[12],F=s[13],R=s[14];function E(M,I){for(var _=I^-1,j=0,H=M.length;j<H;)_=_>>>8^r[(_^M.charCodeAt(j++))&255];return~_}function A(M,I){for(var _=I^-1,j=M.length-15,H=0;H<j;)_=R[M[H++]^_&255]^F[M[H++]^_>>8&255]^b[M[H++]^_>>16&255]^w[M[H++]^_>>>24]^y[M[H++]]^S[M[H++]]^C[M[H++]]^g[M[H++]]^p[M[H++]]^f[M[H++]]^u[M[H++]]^l[M[H++]]^a[M[H++]]^o[M[H++]]^i[M[H++]]^r[M[H++]];for(j+=15;H<j;)_=_>>>8^r[(_^M[H++])&255];return~_}function D(M,I){for(var _=I^-1,j=0,H=M.length,B=0,oe=0;j<H;)B=M.charCodeAt(j++),B<128?_=_>>>8^r[(_^B)&255]:B<2048?(_=_>>>8^r[(_^(192|B>>6&31))&255],_=_>>>8^r[(_^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,oe=M.charCodeAt(j++)&1023,_=_>>>8^r[(_^(240|B>>8&7))&255],_=_>>>8^r[(_^(128|B>>2&63))&255],_=_>>>8^r[(_^(128|oe>>6&15|(B&3)<<4))&255],_=_>>>8^r[(_^(128|oe&63))&255]):(_=_>>>8^r[(_^(224|B>>12&15))&255],_=_>>>8^r[(_^(128|B>>6&63))&255],_=_>>>8^r[(_^(128|B&63))&255]);return~_}return e.table=r,e.bstr=E,e.buf=A,e.str=D,e})(),ar=(function(){var t={};t.version="1.2.1";function r(L,z){for(var W=L.split("/"),U=z.split("/"),q=0,Y=0,me=Math.min(W.length,U.length);q<me;++q){if(Y=W[q].length-U[q].length)return Y;if(W[q]!=U[q])return W[q]<U[q]?-1:1}return W.length-U.length}function n(L){if(L.charAt(L.length-1)=="/")return L.slice(0,-1).indexOf("/")===-1?L:n(L.slice(0,-1));var z=L.lastIndexOf("/");return z===-1?L:L.slice(0,z+1)}function s(L){if(L.charAt(L.length-1)=="/")return s(L.slice(0,-1));var z=L.lastIndexOf("/");return z===-1?L:L.slice(z+1)}function i(L,z){typeof z=="string"&&(z=new Date(z));var W=z.getHours();W=W<<6|z.getMinutes(),W=W<<5|z.getSeconds()>>>1,L.write_shift(2,W);var U=z.getFullYear()-1980;U=U<<4|z.getMonth()+1,U=U<<5|z.getDate(),L.write_shift(2,U)}function o(L){var z=L.read_shift(2)&65535,W=L.read_shift(2)&65535,U=new Date,q=W&31;W>>>=5;var Y=W&15;W>>>=4,U.setMilliseconds(0),U.setFullYear(W+1980),U.setMonth(Y-1),U.setDate(q);var me=z&31;z>>>=5;var Pe=z&63;return z>>>=6,U.setHours(z),U.setMinutes(Pe),U.setSeconds(me<<1),U}function a(L){Ls(L,0);for(var z={},W=0;L.l<=L.length-4;){var U=L.read_shift(2),q=L.read_shift(2),Y=L.l+q,me={};switch(U){case 21589:W=L.read_shift(1),W&1&&(me.mtime=L.read_shift(4)),q>5&&(W&2&&(me.atime=L.read_shift(4)),W&4&&(me.ctime=L.read_shift(4))),me.mtime&&(me.mt=new Date(me.mtime*1e3));break}L.l=Y,z[U]=me}return z}var l;function u(){return l||(l={})}function f(L,z){if(L[0]==80&&L[1]==75)return Ri(L,z);if((L[0]|32)==109&&(L[1]|32)==105)return Qp(L,z);if(L.length<512)throw new Error("CFB file size "+L.length+" < 512");var W=3,U=512,q=0,Y=0,me=0,Pe=0,pe=0,Ce=[],Se=L.slice(0,512);Ls(Se,0);var Be=p(Se);switch(W=Be[0],W){case 3:U=512;break;case 4:U=4096;break;case 0:if(Be[1]==0)return Ri(L,z);default:throw new Error("Major Version: Expected 3 or 4 saw "+W)}U!==512&&(Se=L.slice(0,U),Ls(Se,28));var Xe=L.slice(0,U);g(Se,W);var at=Se.read_shift(4,"i");if(W===3&&at!==0)throw new Error("# Directory Sectors: Expected 0 saw "+at);Se.l+=4,me=Se.read_shift(4,"i"),Se.l+=4,Se.chk("00100000","Mini Stream Cutoff Size: "),Pe=Se.read_shift(4,"i"),q=Se.read_shift(4,"i"),pe=Se.read_shift(4,"i"),Y=Se.read_shift(4,"i");for(var $e=-1,He=0;He<109&&($e=Se.read_shift(4,"i"),!($e<0));++He)Ce[He]=$e;var Dt=C(L,U);w(pe,Y,Dt,U,Ce);var ur=F(Dt,me,Ce,U);ur[me].name="!Directory",q>0&&Pe!==oe&&(ur[Pe].name="!MiniFAT"),ur[Ce[0]].name="!FAT",ur.fat_addrs=Ce,ur.ssz=U;var hr={},Gr=[],Ol=[],va=[];R(me,ur,Dt,Gr,q,hr,Ol,Pe),S(Ol,va,Gr),Gr.shift();var Yi={FileIndex:Ol,FullPaths:va};return z&&z.raw&&(Yi.raw={header:Xe,sectors:Dt}),Yi}function p(L){if(L[L.l]==80&&L[L.l+1]==75)return[0,0];L.chk(ye,"Header Signature: "),L.l+=16;var z=L.read_shift(2,"u");return[L.read_shift(2,"u"),z]}function g(L,z){var W=9;switch(L.l+=2,W=L.read_shift(2)){case 9:if(z!=3)throw new Error("Sector Shift: Expected 9 saw "+W);break;case 12:if(z!=4)throw new Error("Sector Shift: Expected 12 saw "+W);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+W)}L.chk("0600","Mini Sector Shift: "),L.chk("000000000000","Reserved: ")}function C(L,z){for(var W=Math.ceil(L.length/z)-1,U=[],q=1;q<W;++q)U[q-1]=L.slice(q*z,(q+1)*z);return U[W-1]=L.slice(W*z),U}function S(L,z,W){for(var U=0,q=0,Y=0,me=0,Pe=0,pe=W.length,Ce=[],Se=[];U<pe;++U)Ce[U]=Se[U]=U,z[U]=W[U];for(;Pe<Se.length;++Pe)U=Se[Pe],q=L[U].L,Y=L[U].R,me=L[U].C,Ce[U]===U&&(q!==-1&&Ce[q]!==q&&(Ce[U]=Ce[q]),Y!==-1&&Ce[Y]!==Y&&(Ce[U]=Ce[Y])),me!==-1&&(Ce[me]=U),q!==-1&&U!=Ce[U]&&(Ce[q]=Ce[U],Se.lastIndexOf(q)<Pe&&Se.push(q)),Y!==-1&&U!=Ce[U]&&(Ce[Y]=Ce[U],Se.lastIndexOf(Y)<Pe&&Se.push(Y));for(U=1;U<pe;++U)Ce[U]===U&&(Y!==-1&&Ce[Y]!==Y?Ce[U]=Ce[Y]:q!==-1&&Ce[q]!==q&&(Ce[U]=Ce[q]));for(U=1;U<pe;++U)if(L[U].type!==0){if(Pe=U,Pe!=Ce[Pe])do Pe=Ce[Pe],z[U]=z[Pe]+"/"+z[U];while(Pe!==0&&Ce[Pe]!==-1&&Pe!=Ce[Pe]);Ce[U]=-1}for(z[0]+="/",U=1;U<pe;++U)L[U].type!==2&&(z[U]+="/")}function y(L,z,W){for(var U=L.start,q=L.size,Y=[],me=U;W&&q>0&&me>=0;)Y.push(z.slice(me*B,me*B+B)),q-=B,me=nc(W,me*4);return Y.length===0?Fe(0):bn(Y).slice(0,L.size)}function w(L,z,W,U,q){var Y=oe;if(L===oe){if(z!==0)throw new Error("DIFAT chain shorter than expected")}else if(L!==-1){var me=W[L],Pe=(U>>>2)-1;if(!me)return;for(var pe=0;pe<Pe&&(Y=nc(me,pe*4))!==oe;++pe)q.push(Y);w(nc(me,U-4),z-1,W,U,q)}}function b(L,z,W,U,q){var Y=[],me=[];q||(q=[]);var Pe=U-1,pe=0,Ce=0;for(pe=z;pe>=0;){q[pe]=!0,Y[Y.length]=pe,me.push(L[pe]);var Se=W[Math.floor(pe*4/U)];if(Ce=pe*4&Pe,U<4+Ce)throw new Error("FAT boundary crossed: "+pe+" 4 "+U);if(!L[Se])break;pe=nc(L[Se],Ce)}return{nodes:Y,data:P2([me])}}function F(L,z,W,U){var q=L.length,Y=[],me=[],Pe=[],pe=[],Ce=U-1,Se=0,Be=0,Xe=0,at=0;for(Se=0;Se<q;++Se)if(Pe=[],Xe=Se+z,Xe>=q&&(Xe-=q),!me[Xe]){pe=[];var $e=[];for(Be=Xe;Be>=0;){$e[Be]=!0,me[Be]=!0,Pe[Pe.length]=Be,pe.push(L[Be]);var He=W[Math.floor(Be*4/U)];if(at=Be*4&Ce,U<4+at)throw new Error("FAT boundary crossed: "+Be+" 4 "+U);if(!L[He]||(Be=nc(L[He],at),$e[Be]))break}Y[Xe]={nodes:Pe,data:P2([pe])}}return Y}function R(L,z,W,U,q,Y,me,Pe){for(var pe=0,Ce=U.length?2:0,Se=z[L].data,Be=0,Xe=0,at;Be<Se.length;Be+=128){var $e=Se.slice(Be,Be+128);Ls($e,64),Xe=$e.read_shift(2),at=cE($e,0,Xe-Ce),U.push(at);var He={name:at,type:$e.read_shift(1),color:$e.read_shift(1),L:$e.read_shift(4,"i"),R:$e.read_shift(4,"i"),C:$e.read_shift(4,"i"),clsid:$e.read_shift(16),state:$e.read_shift(4,"i"),start:0,size:0},Dt=$e.read_shift(2)+$e.read_shift(2)+$e.read_shift(2)+$e.read_shift(2);Dt!==0&&(He.ct=E($e,$e.l-8));var ur=$e.read_shift(2)+$e.read_shift(2)+$e.read_shift(2)+$e.read_shift(2);ur!==0&&(He.mt=E($e,$e.l-8)),He.start=$e.read_shift(4,"i"),He.size=$e.read_shift(4,"i"),He.size<0&&He.start<0&&(He.size=He.type=0,He.start=oe,He.name=""),He.type===5?(pe=He.start,q>0&&pe!==oe&&(z[pe].name="!StreamData")):He.size>=4096?(He.storage="fat",z[He.start]===void 0&&(z[He.start]=b(W,He.start,z.fat_addrs,z.ssz)),z[He.start].name=He.name,He.content=z[He.start].data.slice(0,He.size)):(He.storage="minifat",He.size<0?He.size=0:pe!==oe&&He.start!==oe&&z[pe]&&(He.content=y(He,z[pe].data,(z[Pe]||{}).data))),He.content&&Ls(He.content,0),Y[at]=He,me.push(He)}}function E(L,z){return new Date((Bs(L,z+4)/1e7*Math.pow(2,32)+Bs(L,z)/1e7-11644473600)*1e3)}function A(L,z){return u(),f(l.readFileSync(L),z)}function D(L,z){var W=z&&z.type;switch(W||Xt&&Buffer.isBuffer(L)&&(W="buffer"),W||"base64"){case"file":return A(L,z);case"base64":return f(Gi(ha(L)),z);case"binary":return f(Gi(L),z)}return f(L,z)}function M(L,z){var W=z||{},U=W.root||"Root Entry";if(L.FullPaths||(L.FullPaths=[]),L.FileIndex||(L.FileIndex=[]),L.FullPaths.length!==L.FileIndex.length)throw new Error("inconsistent CFB structure");L.FullPaths.length===0&&(L.FullPaths[0]=U+"/",L.FileIndex[0]={name:U,type:5}),W.CLSID&&(L.FileIndex[0].clsid=W.CLSID),I(L)}function I(L){var z="Sh33tJ5";if(!ar.find(L,"/"+z)){var W=Fe(4);W[0]=55,W[1]=W[3]=50,W[2]=54,L.FileIndex.push({name:z,type:2,content:W,size:4,L:69,R:69,C:69}),L.FullPaths.push(L.FullPaths[0]+z),_(L)}}function _(L,z){M(L);for(var W=!1,U=!1,q=L.FullPaths.length-1;q>=0;--q){var Y=L.FileIndex[q];switch(Y.type){case 0:U?W=!0:(L.FileIndex.pop(),L.FullPaths.pop());break;case 1:case 2:case 5:U=!0,isNaN(Y.R*Y.L*Y.C)&&(W=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(W=!0);break;default:W=!0;break}}if(!(!W&&!z)){var me=new Date(1987,1,19),Pe=0,pe=Object.create?Object.create(null):{},Ce=[];for(q=0;q<L.FullPaths.length;++q)pe[L.FullPaths[q]]=!0,L.FileIndex[q].type!==0&&Ce.push([L.FullPaths[q],L.FileIndex[q]]);for(q=0;q<Ce.length;++q){var Se=n(Ce[q][0]);U=pe[Se],U||(Ce.push([Se,{name:s(Se).replace("/",""),type:1,clsid:we,ct:me,mt:me,content:null}]),pe[Se]=!0)}for(Ce.sort(function(at,$e){return r(at[0],$e[0])}),L.FullPaths=[],L.FileIndex=[],q=0;q<Ce.length;++q)L.FullPaths[q]=Ce[q][0],L.FileIndex[q]=Ce[q][1];for(q=0;q<Ce.length;++q){var Be=L.FileIndex[q],Xe=L.FullPaths[q];if(Be.name=s(Xe).replace("/",""),Be.L=Be.R=Be.C=-(Be.color=1),Be.size=Be.content?Be.content.length:0,Be.start=0,Be.clsid=Be.clsid||we,q===0)Be.C=Ce.length>1?1:-1,Be.size=0,Be.type=5;else if(Xe.slice(-1)=="/"){for(Pe=q+1;Pe<Ce.length&&n(L.FullPaths[Pe])!=Xe;++Pe);for(Be.C=Pe>=Ce.length?-1:Pe,Pe=q+1;Pe<Ce.length&&n(L.FullPaths[Pe])!=n(Xe);++Pe);Be.R=Pe>=Ce.length?-1:Pe,Be.type=1}else n(L.FullPaths[q+1]||"")==n(Xe)&&(Be.R=q+1),Be.type=2}}}function j(L,z){var W=z||{};if(W.fileType=="mad")return Nl(L,W);switch(_(L),W.fileType){case"zip":return Ds(L,W)}var U=(function(at){for(var $e=0,He=0,Dt=0;Dt<at.FileIndex.length;++Dt){var ur=at.FileIndex[Dt];if(ur.content){var hr=ur.content.length;hr>0&&(hr<4096?$e+=hr+63>>6:He+=hr+511>>9)}}for(var Gr=at.FullPaths.length+3>>2,Ol=$e+7>>3,va=$e+127>>7,Yi=Ol+He+Gr+va,on=Yi+127>>7,oh=on<=109?0:Math.ceil((on-109)/127);Yi+on+oh+127>>7>on;)oh=++on<=109?0:Math.ceil((on-109)/127);var Vr=[1,oh,on,va,Gr,He,$e,0];return at.FileIndex[0].size=$e<<6,Vr[7]=(at.FileIndex[0].start=Vr[0]+Vr[1]+Vr[2]+Vr[3]+Vr[4]+Vr[5])+(Vr[6]+7>>3),Vr})(L),q=Fe(U[7]<<9),Y=0,me=0;{for(Y=0;Y<8;++Y)q.write_shift(1,Re[Y]);for(Y=0;Y<8;++Y)q.write_shift(2,0);for(q.write_shift(2,62),q.write_shift(2,3),q.write_shift(2,65534),q.write_shift(2,9),q.write_shift(2,6),Y=0;Y<3;++Y)q.write_shift(2,0);for(q.write_shift(4,0),q.write_shift(4,U[2]),q.write_shift(4,U[0]+U[1]+U[2]+U[3]-1),q.write_shift(4,0),q.write_shift(4,4096),q.write_shift(4,U[3]?U[0]+U[1]+U[2]-1:oe),q.write_shift(4,U[3]),q.write_shift(-4,U[1]?U[0]-1:oe),q.write_shift(4,U[1]),Y=0;Y<109;++Y)q.write_shift(-4,Y<U[2]?U[1]+Y:-1)}if(U[1])for(me=0;me<U[1];++me){for(;Y<236+me*127;++Y)q.write_shift(-4,Y<U[2]?U[1]+Y:-1);q.write_shift(-4,me===U[1]-1?oe:me+1)}var Pe=function(at){for(me+=at;Y<me-1;++Y)q.write_shift(-4,Y+1);at&&(++Y,q.write_shift(-4,oe))};for(me=Y=0,me+=U[1];Y<me;++Y)q.write_shift(-4,se.DIFSECT);for(me+=U[2];Y<me;++Y)q.write_shift(-4,se.FATSECT);Pe(U[3]),Pe(U[4]);for(var pe=0,Ce=0,Se=L.FileIndex[0];pe<L.FileIndex.length;++pe)Se=L.FileIndex[pe],Se.content&&(Ce=Se.content.length,!(Ce<4096)&&(Se.start=me,Pe(Ce+511>>9)));for(Pe(U[6]+7>>3);q.l&511;)q.write_shift(-4,se.ENDOFCHAIN);for(me=Y=0,pe=0;pe<L.FileIndex.length;++pe)Se=L.FileIndex[pe],Se.content&&(Ce=Se.content.length,!(!Ce||Ce>=4096)&&(Se.start=me,Pe(Ce+63>>6)));for(;q.l&511;)q.write_shift(-4,se.ENDOFCHAIN);for(Y=0;Y<U[4]<<2;++Y){var Be=L.FullPaths[Y];if(!Be||Be.length===0){for(pe=0;pe<17;++pe)q.write_shift(4,0);for(pe=0;pe<3;++pe)q.write_shift(4,-1);for(pe=0;pe<12;++pe)q.write_shift(4,0);continue}Se=L.FileIndex[Y],Y===0&&(Se.start=Se.size?Se.start-1:oe);var Xe=Y===0&&W.root||Se.name;if(Ce=2*(Xe.length+1),q.write_shift(64,Xe,"utf16le"),q.write_shift(2,Ce),q.write_shift(1,Se.type),q.write_shift(1,Se.color),q.write_shift(-4,Se.L),q.write_shift(-4,Se.R),q.write_shift(-4,Se.C),Se.clsid)q.write_shift(16,Se.clsid,"hex");else for(pe=0;pe<4;++pe)q.write_shift(4,0);q.write_shift(4,Se.state||0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,Se.start),q.write_shift(4,Se.size),q.write_shift(4,0)}for(Y=1;Y<L.FileIndex.length;++Y)if(Se=L.FileIndex[Y],Se.size>=4096)if(q.l=Se.start+1<<9,Xt&&Buffer.isBuffer(Se.content))Se.content.copy(q,q.l,0,Se.size),q.l+=Se.size+511&-512;else{for(pe=0;pe<Se.size;++pe)q.write_shift(1,Se.content[pe]);for(;pe&511;++pe)q.write_shift(1,0)}for(Y=1;Y<L.FileIndex.length;++Y)if(Se=L.FileIndex[Y],Se.size>0&&Se.size<4096)if(Xt&&Buffer.isBuffer(Se.content))Se.content.copy(q,q.l,0,Se.size),q.l+=Se.size+63&-64;else{for(pe=0;pe<Se.size;++pe)q.write_shift(1,Se.content[pe]);for(;pe&63;++pe)q.write_shift(1,0)}if(Xt)q.l=q.length;else for(;q.l<q.length;)q.write_shift(1,0);return q}function H(L,z){var W=L.FullPaths.map(function(pe){return pe.toUpperCase()}),U=W.map(function(pe){var Ce=pe.split("/");return Ce[Ce.length-(pe.slice(-1)=="/"?2:1)]}),q=!1;z.charCodeAt(0)===47?(q=!0,z=W[0].slice(0,-1)+z):q=z.indexOf("/")!==-1;var Y=z.toUpperCase(),me=q===!0?W.indexOf(Y):U.indexOf(Y);if(me!==-1)return L.FileIndex[me];var Pe=!Y.match(bm);for(Y=Y.replace(vf,""),Pe&&(Y=Y.replace(bm,"!")),me=0;me<W.length;++me)if((Pe?W[me].replace(bm,"!"):W[me]).replace(vf,"")==Y||(Pe?U[me].replace(bm,"!"):U[me]).replace(vf,"")==Y)return L.FileIndex[me];return null}var B=64,oe=-2,ye="d0cf11e0a1b11ae1",Re=[208,207,17,224,161,177,26,225],we="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:oe,FREESECT:-1,HEADER_SIGNATURE:ye,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:we,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ee(L,z,W){u();var U=j(L,W);l.writeFileSync(z,U)}function re(L){for(var z=new Array(L.length),W=0;W<L.length;++W)z[W]=String.fromCharCode(L[W]);return z.join("")}function de(L,z){var W=j(L,z);switch(z&&z.type||"buffer"){case"file":return u(),l.writeFileSync(z.filename,W),W;case"binary":return typeof W=="string"?W:re(W);case"base64":return Kf(typeof W=="string"?W:re(W));case"buffer":if(Xt)return Buffer.isBuffer(W)?W:ga(W);case"array":return typeof W=="string"?Gi(W):W}return W}var K;function N(L){try{var z=L.InflateRaw,W=new z;if(W._processChunk(new Uint8Array([3,0]),W._finishFlushFlag),W.bytesRead)K=L;else throw new Error("zlib does not expose bytesRead")}catch(U){console.error("cannot use native zlib: "+(U.message||U))}}function O(L,z){if(!K)return vn(L,z);var W=K.InflateRaw,U=new W,q=U._processChunk(L.slice(L.l),U._finishFlushFlag);return L.l+=U.bytesRead,q}function V(L){return K?K.deflateRawSync(L):Oe(L)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ge(L){var z=(L<<1|L<<11)&139536|(L<<5|L<<15)&558144;return(z>>16|z>>8|z)&255}for(var X=typeof Uint8Array<"u",ne=X?new Uint8Array(256):[],Ne=0;Ne<256;++Ne)ne[Ne]=ge(Ne);function Ae(L,z){var W=ne[L&255];return z<=8?W>>>8-z:(W=W<<8|ne[L>>8&255],z<=16?W>>>16-z:(W=W<<8|ne[L>>16&255],W>>>24-z))}function Qe(L,z){var W=z&7,U=z>>>3;return(L[U]|(W<=6?0:L[U+1]<<8))>>>W&3}function Ze(L,z){var W=z&7,U=z>>>3;return(L[U]|(W<=5?0:L[U+1]<<8))>>>W&7}function ft(L,z){var W=z&7,U=z>>>3;return(L[U]|(W<=4?0:L[U+1]<<8))>>>W&15}function xt(L,z){var W=z&7,U=z>>>3;return(L[U]|(W<=3?0:L[U+1]<<8))>>>W&31}function We(L,z){var W=z&7,U=z>>>3;return(L[U]|(W<=1?0:L[U+1]<<8))>>>W&127}function le(L,z,W){var U=z&7,q=z>>>3,Y=(1<<W)-1,me=L[q]>>>U;return W<8-U||(me|=L[q+1]<<8-U,W<16-U)||(me|=L[q+2]<<16-U,W<24-U)||(me|=L[q+3]<<24-U),me&Y}function Ke(L,z,W){var U=z&7,q=z>>>3;return U<=5?L[q]|=(W&7)<<U:(L[q]|=W<<U&255,L[q+1]=(W&7)>>8-U),z+3}function ct(L,z,W){var U=z&7,q=z>>>3;return W=(W&1)<<U,L[q]|=W,z+1}function Mt(L,z,W){var U=z&7,q=z>>>3;return W<<=U,L[q]|=W&255,W>>>=8,L[q+1]=W,z+8}function ue(L,z,W){var U=z&7,q=z>>>3;return W<<=U,L[q]|=W&255,W>>>=8,L[q+1]=W&255,L[q+2]=W>>>8,z+16}function Ve(L,z){var W=L.length,U=2*W>z?2*W:z+5,q=0;if(W>=z)return L;if(Xt){var Y=f2(U);if(L.copy)L.copy(Y);else for(;q<L.length;++q)Y[q]=L[q];return Y}else if(X){var me=new Uint8Array(U);if(me.set)me.set(L);else for(;q<W;++q)me[q]=L[q];return me}return L.length=U,L}function Ue(L){for(var z=new Array(L),W=0;W<L;++W)z[W]=0;return z}function rt(L,z,W){var U=1,q=0,Y=0,me=0,Pe=0,pe=L.length,Ce=X?new Uint16Array(32):Ue(32);for(Y=0;Y<32;++Y)Ce[Y]=0;for(Y=pe;Y<W;++Y)L[Y]=0;pe=L.length;var Se=X?new Uint16Array(pe):Ue(pe);for(Y=0;Y<pe;++Y)Ce[q=L[Y]]++,U<q&&(U=q),Se[Y]=0;for(Ce[0]=0,Y=1;Y<=U;++Y)Ce[Y+16]=Pe=Pe+Ce[Y-1]<<1;for(Y=0;Y<pe;++Y)Pe=L[Y],Pe!=0&&(Se[Y]=Ce[Pe+16]++);var Be=0;for(Y=0;Y<pe;++Y)if(Be=L[Y],Be!=0)for(Pe=Ae(Se[Y],U)>>U-Be,me=(1<<U+4-Be)-1;me>=0;--me)z[Pe|me<<Be]=Be&15|Y<<4;return U}var tt=X?new Uint16Array(512):Ue(512),gt=X?new Uint16Array(32):Ue(32);if(!X){for(var Vt=0;Vt<512;++Vt)tt[Vt]=0;for(Vt=0;Vt<32;++Vt)gt[Vt]=0}(function(){for(var L=[],z=0;z<32;z++)L.push(5);rt(L,gt,32);var W=[];for(z=0;z<=143;z++)W.push(8);for(;z<=255;z++)W.push(9);for(;z<=279;z++)W.push(7);for(;z<=287;z++)W.push(8);rt(W,tt,288)})();var $r=(function(){for(var z=X?new Uint8Array(32768):[],W=0,U=0;W<ae.length-1;++W)for(;U<ae[W+1];++U)z[U]=W;for(;U<32768;++U)z[U]=29;var q=X?new Uint8Array(259):[];for(W=0,U=0;W<J.length-1;++W)for(;U<J[W+1];++U)q[U]=W;function Y(Pe,pe){for(var Ce=0;Ce<Pe.length;){var Se=Math.min(65535,Pe.length-Ce),Be=Ce+Se==Pe.length;for(pe.write_shift(1,+Be),pe.write_shift(2,Se),pe.write_shift(2,~Se&65535);Se-- >0;)pe[pe.l++]=Pe[Ce++]}return pe.l}function me(Pe,pe){for(var Ce=0,Se=0,Be=X?new Uint16Array(32768):[];Se<Pe.length;){var Xe=Math.min(65535,Pe.length-Se);if(Xe<10){for(Ce=Ke(pe,Ce,+(Se+Xe==Pe.length)),Ce&7&&(Ce+=8-(Ce&7)),pe.l=Ce/8|0,pe.write_shift(2,Xe),pe.write_shift(2,~Xe&65535);Xe-- >0;)pe[pe.l++]=Pe[Se++];Ce=pe.l*8;continue}Ce=Ke(pe,Ce,+(Se+Xe==Pe.length)+2);for(var at=0;Xe-- >0;){var $e=Pe[Se];at=(at<<5^$e)&32767;var He=-1,Dt=0;if((He=Be[at])&&(He|=Se&-32768,He>Se&&(He-=32768),He<Se))for(;Pe[He+Dt]==Pe[Se+Dt]&&Dt<250;)++Dt;if(Dt>2){$e=q[Dt],$e<=22?Ce=Mt(pe,Ce,ne[$e+1]>>1)-1:(Mt(pe,Ce,3),Ce+=5,Mt(pe,Ce,ne[$e-23]>>5),Ce+=3);var ur=$e<8?0:$e-4>>2;ur>0&&(ue(pe,Ce,Dt-J[$e]),Ce+=ur),$e=z[Se-He],Ce=Mt(pe,Ce,ne[$e]>>3),Ce-=3;var hr=$e<4?0:$e-2>>1;hr>0&&(ue(pe,Ce,Se-He-ae[$e]),Ce+=hr);for(var Gr=0;Gr<Dt;++Gr)Be[at]=Se&32767,at=(at<<5^Pe[Se])&32767,++Se;Xe-=Dt-1}else $e<=143?$e=$e+48:Ce=ct(pe,Ce,1),Ce=Mt(pe,Ce,ne[$e]),Be[at]=Se&32767,++Se}Ce=Mt(pe,Ce,0)-1}return pe.l=(Ce+7)/8|0,pe.l}return function(pe,Ce){return pe.length<8?Y(pe,Ce):me(pe,Ce)}})();function Oe(L){var z=Fe(50+Math.floor(L.length*1.1)),W=$r(L,z);return z.slice(0,W)}var mt=X?new Uint16Array(32768):Ue(32768),cr=X?new Uint16Array(32768):Ue(32768),sn=X?new Uint16Array(128):Ue(128),Xs=1,Me=1;function bt(L,z){var W=xt(L,z)+257;z+=5;var U=xt(L,z)+1;z+=5;var q=ft(L,z)+4;z+=4;for(var Y=0,me=X?new Uint8Array(19):Ue(19),Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pe=1,Ce=X?new Uint8Array(8):Ue(8),Se=X?new Uint8Array(8):Ue(8),Be=me.length,Xe=0;Xe<q;++Xe)me[G[Xe]]=Y=Ze(L,z),pe<Y&&(pe=Y),Ce[Y]++,z+=3;var at=0;for(Ce[0]=0,Xe=1;Xe<=pe;++Xe)Se[Xe]=at=at+Ce[Xe-1]<<1;for(Xe=0;Xe<Be;++Xe)(at=me[Xe])!=0&&(Pe[Xe]=Se[at]++);var $e=0;for(Xe=0;Xe<Be;++Xe)if($e=me[Xe],$e!=0){at=ne[Pe[Xe]]>>8-$e;for(var He=(1<<7-$e)-1;He>=0;--He)sn[at|He<<$e]=$e&7|Xe<<3}var Dt=[];for(pe=1;Dt.length<W+U;)switch(at=sn[We(L,z)],z+=at&7,at>>>=3){case 16:for(Y=3+Qe(L,z),z+=2,at=Dt[Dt.length-1];Y-- >0;)Dt.push(at);break;case 17:for(Y=3+Ze(L,z),z+=3;Y-- >0;)Dt.push(0);break;case 18:for(Y=11+We(L,z),z+=7;Y-- >0;)Dt.push(0);break;default:Dt.push(at),pe<at&&(pe=at);break}var ur=Dt.slice(0,W),hr=Dt.slice(W);for(Xe=W;Xe<286;++Xe)ur[Xe]=0;for(Xe=U;Xe<30;++Xe)hr[Xe]=0;return Xs=rt(ur,mt,286),Me=rt(hr,cr,30),z}function Ht(L,z){if(L[0]==3&&!(L[1]&3))return[Oc(z),2];for(var W=0,U=0,q=f2(z||1<<18),Y=0,me=q.length>>>0,Pe=0,pe=0;(U&1)==0;){if(U=Ze(L,W),W+=3,U>>>1)U>>1==1?(Pe=9,pe=5):(W=bt(L,W),Pe=Xs,pe=Me);else{W&7&&(W+=8-(W&7));var Ce=L[W>>>3]|L[(W>>>3)+1]<<8;if(W+=32,Ce>0)for(!z&&me<Y+Ce&&(q=Ve(q,Y+Ce),me=q.length);Ce-- >0;)q[Y++]=L[W>>>3],W+=8;continue}for(;;){!z&&me<Y+32767&&(q=Ve(q,Y+32767),me=q.length);var Se=le(L,W,Pe),Be=U>>>1==1?tt[Se]:mt[Se];if(W+=Be&15,Be>>>=4,(Be>>>8&255)===0)q[Y++]=Be;else{if(Be==256)break;Be-=257;var Xe=Be<8?0:Be-4>>2;Xe>5&&(Xe=0);var at=Y+J[Be];Xe>0&&(at+=le(L,W,Xe),W+=Xe),Se=le(L,W,pe),Be=U>>>1==1?gt[Se]:cr[Se],W+=Be&15,Be>>>=4;var $e=Be<4?0:Be-2>>1,He=ae[Be];for($e>0&&(He+=le(L,W,$e),W+=$e),!z&&me<at&&(q=Ve(q,at+100),me=q.length);Y<at;)q[Y]=q[Y-He],++Y}}}return z?[q,W+7>>>3]:[q.slice(0,Y),W+7>>>3]}function vn(L,z){var W=L.slice(L.l||0),U=Ht(W,z);return L.l+=U[1],U[0]}function Ei(L,z){if(L)typeof console<"u"&&console.error(z);else throw new Error(z)}function Ri(L,z){var W=L;Ls(W,0);var U=[],q=[],Y={FileIndex:U,FullPaths:q};M(Y,{root:z.root});for(var me=W.length-4;(W[me]!=80||W[me+1]!=75||W[me+2]!=5||W[me+3]!=6)&&me>=0;)--me;W.l=me+4,W.l+=4;var Pe=W.read_shift(2);W.l+=6;var pe=W.read_shift(4);for(W.l=pe,me=0;me<Pe;++me){W.l+=20;var Ce=W.read_shift(4),Se=W.read_shift(4),Be=W.read_shift(2),Xe=W.read_shift(2),at=W.read_shift(2);W.l+=8;var $e=W.read_shift(4),He=a(W.slice(W.l+Be,W.l+Be+Xe));W.l+=Be+Xe+at;var Dt=W.l;W.l=$e+4,Zs(W,Ce,Se,Y,He),W.l=Dt}return Y}function Zs(L,z,W,U,q){L.l+=2;var Y=L.read_shift(2),me=L.read_shift(2),Pe=o(L);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var pe=L.read_shift(4),Ce=L.read_shift(4),Se=L.read_shift(4),Be=L.read_shift(2),Xe=L.read_shift(2),at="",$e=0;$e<Be;++$e)at+=String.fromCharCode(L[L.l++]);if(Xe){var He=a(L.slice(L.l,L.l+Xe));(He[21589]||{}).mt&&(Pe=He[21589].mt),((q||{})[21589]||{}).mt&&(Pe=q[21589].mt)}L.l+=Xe;var Dt=L.slice(L.l,L.l+Ce);switch(me){case 8:Dt=O(L,Se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+me)}var ur=!1;Y&8&&(pe=L.read_shift(4),pe==134695760&&(pe=L.read_shift(4),ur=!0),Ce=L.read_shift(4),Se=L.read_shift(4)),Ce!=z&&Ei(ur,"Bad compressed size: "+z+" != "+Ce),Se!=W&&Ei(ur,"Bad uncompressed size: "+W+" != "+Se),Ao(U,at,Dt,{unsafe:!0,mt:Pe})}function Ds(L,z){var W=z||{},U=[],q=[],Y=Fe(1),me=W.compression?8:0,Pe=0,pe=0,Ce=0,Se=0,Be=0,Xe=L.FullPaths[0],at=Xe,$e=L.FileIndex[0],He=[],Dt=0;for(pe=1;pe<L.FullPaths.length;++pe)if(at=L.FullPaths[pe].slice(Xe.length),$e=L.FileIndex[pe],!(!$e.size||!$e.content||at=="Sh33tJ5")){var ur=Se,hr=Fe(at.length);for(Ce=0;Ce<at.length;++Ce)hr.write_shift(1,at.charCodeAt(Ce)&127);hr=hr.slice(0,hr.l),He[Be]=$he.buf($e.content,0);var Gr=$e.content;me==8&&(Gr=V(Gr)),Y=Fe(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,Pe),Y.write_shift(2,me),$e.mt?i(Y,$e.mt):Y.write_shift(4,0),Y.write_shift(-4,He[Be]),Y.write_shift(4,Gr.length),Y.write_shift(4,$e.content.length),Y.write_shift(2,hr.length),Y.write_shift(2,0),Se+=Y.length,U.push(Y),Se+=hr.length,U.push(hr),Se+=Gr.length,U.push(Gr),Y=Fe(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,Pe),Y.write_shift(2,me),Y.write_shift(4,0),Y.write_shift(-4,He[Be]),Y.write_shift(4,Gr.length),Y.write_shift(4,$e.content.length),Y.write_shift(2,hr.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,ur),Dt+=Y.l,q.push(Y),Dt+=hr.length,q.push(hr),++Be}return Y=Fe(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Be),Y.write_shift(2,Be),Y.write_shift(4,Dt),Y.write_shift(4,Se),Y.write_shift(2,0),bn([bn(U),bn(q),Y])}var Po={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function zp(L,z){if(L.ctype)return L.ctype;var W=L.name||"",U=W.match(/\.([^\.]+)$/);return U&&Po[U[1]]||z&&(U=(W=z).match(/[\.\\]([^\.\\])+$/),U&&Po[U[1]])?Po[U[1]]:"application/octet-stream"}function Kp(L){for(var z=Kf(L),W=[],U=0;U<z.length;U+=76)W.push(z.slice(U,U+76));return W.join(`\r
`)+`\r
`}function qp(L){var z=L.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ce){var Se=Ce.charCodeAt(0).toString(16).toUpperCase();return"="+(Se.length==1?"0"+Se:Se)});z=z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),z.charAt(0)==`
`&&(z="=0D"+z.slice(1)),z=z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var W=[],U=z.split(`\r
`),q=0;q<U.length;++q){var Y=U[q];if(Y.length==0){W.push("");continue}for(var me=0;me<Y.length;){var Pe=76,pe=Y.slice(me,me+Pe);pe.charAt(Pe-1)=="="?Pe--:pe.charAt(Pe-2)=="="?Pe-=2:pe.charAt(Pe-3)=="="&&(Pe-=3),pe=Y.slice(me,me+Pe),me+=Pe,me<Y.length&&(pe+="="),W.push(pe)}}return W.join(`\r
`)}function Yp(L){for(var z=[],W=0;W<L.length;++W){for(var U=L[W];W<=L.length&&U.charAt(U.length-1)=="=";)U=U.slice(0,U.length-1)+L[++W];z.push(U)}for(var q=0;q<z.length;++q)z[q]=z[q].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return Gi(z.join(`\r
`))}function sh(L,z,W){for(var U="",q="",Y="",me,Pe=0;Pe<10;++Pe){var pe=z[Pe];if(!pe||pe.match(/^\s*$/))break;var Ce=pe.match(/^(.*?):\s*([^\s].*)$/);if(Ce)switch(Ce[1].toLowerCase()){case"content-location":U=Ce[2].trim();break;case"content-type":Y=Ce[2].trim();break;case"content-transfer-encoding":q=Ce[2].trim();break}}switch(++Pe,q.toLowerCase()){case"base64":me=Gi(ha(z.slice(Pe).join("")));break;case"quoted-printable":me=Yp(z.slice(Pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+q)}var Se=Ao(L,U.slice(W.length),me,{unsafe:!0});Y&&(Se.ctype=Y)}function Qp(L,z){if(re(L.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var W=z&&z.root||"",U=(Xt&&Buffer.isBuffer(L)?L.toString("binary"):re(L)).split(`\r
`),q=0,Y="";for(q=0;q<U.length;++q)if(Y=U[q],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),W||(W=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,W.length)!=W))for(;W.length>0&&(W=W.slice(0,W.length-1),W=W.slice(0,W.lastIndexOf("/")+1),Y.slice(0,W.length)!=W););var me=(U[1]||"").match(/boundary="(.*?)"/);if(!me)throw new Error("MAD cannot find boundary");var Pe="--"+(me[1]||""),pe=[],Ce=[],Se={FileIndex:pe,FullPaths:Ce};M(Se);var Be,Xe=0;for(q=0;q<U.length;++q){var at=U[q];at!==Pe&&at!==Pe+"--"||(Xe++&&sh(Se,U.slice(Be,q),W),Be=q)}return Se}function Nl(L,z){var W=z||{},U=W.boundary||"SheetJS";U="------="+U;for(var q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+U.slice(2)+'"',"","",""],Y=L.FullPaths[0],me=Y,Pe=L.FileIndex[0],pe=1;pe<L.FullPaths.length;++pe)if(me=L.FullPaths[pe].slice(Y.length),Pe=L.FileIndex[pe],!(!Pe.size||!Pe.content||me=="Sh33tJ5")){me=me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Dt){return"_x"+Dt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Dt){return"_u"+Dt.charCodeAt(0).toString(16)+"_"});for(var Ce=Pe.content,Se=Xt&&Buffer.isBuffer(Ce)?Ce.toString("binary"):re(Ce),Be=0,Xe=Math.min(1024,Se.length),at=0,$e=0;$e<=Xe;++$e)(at=Se.charCodeAt($e))>=32&&at<128&&++Be;var He=Be>=Xe*4/5;q.push(U),q.push("Content-Location: "+(W.root||"file:///C:/SheetJS/")+me),q.push("Content-Transfer-Encoding: "+(He?"quoted-printable":"base64")),q.push("Content-Type: "+zp(Pe,me)),q.push(""),q.push(He?qp(Se):Kp(Se))}return q.push(U+`--\r
`),q.join(`\r
`)}function ih(L){var z={};return M(z,L),z}function Ao(L,z,W,U){var q=U&&U.unsafe;q||M(L);var Y=!q&&ar.find(L,z);if(!Y){var me=L.FullPaths[0];z.slice(0,me.length)==me?me=z:(me.slice(-1)!="/"&&(me+="/"),me=(me+z).replace("//","/")),Y={name:s(z),type:2},L.FileIndex.push(Y),L.FullPaths.push(me),q||ar.utils.cfb_gc(L)}return Y.content=W,Y.size=W?W.length:0,U&&(U.CLSID&&(Y.clsid=U.CLSID),U.mt&&(Y.mt=U.mt),U.ct&&(Y.ct=U.ct)),Y}function dC(L,z){M(L);var W=ar.find(L,z);if(W){for(var U=0;U<L.FileIndex.length;++U)if(L.FileIndex[U]==W)return L.FileIndex.splice(U,1),L.FullPaths.splice(U,1),!0}return!1}function Il(L,z,W){M(L);var U=ar.find(L,z);if(U){for(var q=0;q<L.FileIndex.length;++q)if(L.FileIndex[q]==U)return L.FileIndex[q].name=s(W),L.FullPaths[q]=W,!0}return!1}function iu(L){_(L,!0)}return t.find=H,t.read=D,t.parse=f,t.write=de,t.writeFile=ee,t.utils={cfb_new:ih,cfb_add:Ao,cfb_del:dC,cfb_mov:Il,cfb_gc:iu,ReadShift:yf,CheckField:V4,prep_blob:Ls,bconcat:bn,use_zlib:N,_deflateRaw:Oe,_inflateRaw:vn,consts:se},t})();function zhe(e){return typeof e=="string"?G0(e):Array.isArray(e)?Che(e):e}function Mp(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=G0(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Yf(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var s=new Blob([zhe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=Dp(t)),a.write(t),a.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Tn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function w2(e,t){for(var r=[],n=Tn(e),s=0;s!==n.length;++s)r[e[n[s]][t]]==null&&(r[e[n[s]][t]]=n[s]);return r}function iE(e){for(var t=[],r=Tn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function W0(e){for(var t=[],r=Tn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Khe(e){for(var t=[],r=Tn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Bv=new Date(1899,11,30,0,0,0);function Fs(e,t){var r=e.getTime(),n=Bv.getTime()+(e.getTimezoneOffset()-Bv.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var E4=new Date,qhe=Bv.getTime()+(E4.getTimezoneOffset()-Bv.getTimezoneOffset())*6e4,x2=E4.getTimezoneOffset();function R4(e){var t=new Date;return t.setTime(e*24*60*60*1e3+qhe),t.getTimezoneOffset()!==x2&&t.setTime(t.getTime()+(t.getTimezoneOffset()-x2)*6e4),t}var b2=new Date("2017-02-19T19:06:09.000Z"),F4=isNaN(b2.getFullYear())?new Date("2/19/17"):b2,Yhe=F4.getFullYear()==2017;function ls(e,t){var r=new Date(e);if(Yhe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(F4.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function U0(e,t){if(Xt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function Ts(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ts(e[r]));return t}function Lr(e,t){for(var r="";r.length<t;)r+=e;return r}function ta(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Qhe=["january","february","march","april","may","june","july","august","september","october","november","december"];function qf(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Qhe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function kt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Xt?n=ga(r):n=yhe(r),ar.utils.cfb_add(e,t,n)}ar.utils.cfb_add(e,t,r)}else e.file(t,r)}function oE(){return ar.utils.cfb_new()}var Zr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Xhe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},aE=iE(Xhe),lE=/[&<>'"]/g,Zhe=/[\u0000-\u0008\u000b-\u001f]/g;function ir(e){var t=e+"";return t.replace(lE,function(r){return aE[r]}).replace(Zhe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function E2(e){return ir(e).replace(/ /g,"_x0020_")}var T4=/[\u0000-\u001f]/g;function Jhe(e){var t=e+"";return t.replace(lE,function(r){return aE[r]}).replace(/\n/g,"<br/>").replace(T4,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function efe(e){var t=e+"";return t.replace(lE,function(r){return aE[r]}).replace(T4,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function tfe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function rfe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function KS(e){for(var t="",r=0,n=0,s=0,i=0,o=0,a=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(r++),a=((n&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(a&1023))}return t}function R2(e){var t=Oc(2*e.length),r,n,s=1,i=0,o=0,a;for(n=0;n<e.length;n+=s)s=1,(a=e.charCodeAt(n))<128?r=a:a<224?(r=(a&31)*64+(e.charCodeAt(n+1)&63),s=2):a<240?(r=(a&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(a&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function F2(e){return ga(e,"binary").toString("utf8")}var Rm="foo bar baz",Cf=Xt&&(F2(Rm)==KS(Rm)&&F2||R2(Rm)==KS(Rm)&&R2)||KS,Yf=Xt?function(e){return ga(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},nfe=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}})(),P4=/(^\s|\s$|\n)/;function En(e,t){return"<"+e+(t.match(P4)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Qf(e){return Tn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function qe(e,t,r){return"<"+e+(r!=null?Qf(r):"")+(t!=null?(t.match(P4)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Px(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function sfe(e,t){switch(typeof e){case"string":var r=qe("vt:lpwstr",ir(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return qe((e|0)==e?"vt:i4":"vt:r8",ir(String(e)));case"boolean":return qe("vt:bool",e?"true":"false")}if(e instanceof Date)return qe("vt:filetime",Px(e));throw new Error("Unable to serialize "+e)}var fn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Qd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],js={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function ife(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function ofe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=n?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var a=0;a<=5;++a,i/=256)e[r+a]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|n}var T2=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,i=e[0][n].length;s<i;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},P2=Xt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ga(t)})):T2(e)}:T2,A2=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(of(e,s)));return n.join("").replace(vf,"")},cE=Xt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(vf,""):A2(e,t,r)}:A2,D2=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},A4=Xt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):D2(e,t,r)}:D2,M2=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(_u(e,s)));return n.join("")},Np=Xt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):M2(t,r,n)}:M2,D4=function(e,t){var r=Bs(e,t);return r>0?Np(e,t+4,t+4+r-1):""},M4=D4,N4=function(e,t){var r=Bs(e,t);return r>0?Np(e,t+4,t+4+r-1):""},I4=N4,O4=function(e,t){var r=2*Bs(e,t);return r>0?Np(e,t+4,t+4+r-1):""},k4=O4,L4=function(t,r){var n=Bs(t,r);return n>0?cE(t,r+4,r+4+n):""},_4=L4,j4=function(e,t){var r=Bs(e,t);return r>0?Np(e,t+4,t+4+r):""},B4=j4,G4=function(e,t){return ife(e,t)},Gv=G4,uE=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Xt&&(M4=function(t,r){if(!Buffer.isBuffer(t))return D4(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},I4=function(t,r){if(!Buffer.isBuffer(t))return N4(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},k4=function(t,r){if(!Buffer.isBuffer(t))return O4(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},_4=function(t,r){if(!Buffer.isBuffer(t))return L4(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},B4=function(t,r){if(!Buffer.isBuffer(t))return j4(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Gv=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):G4(t,r)},uE=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var _u=function(e,t){return e[t]},of=function(e,t){return e[t+1]*256+e[t]},afe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Bs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},nc=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},lfe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function yf(e,t){var r="",n,s,i=[],o,a,l,u;switch(t){case"dbcs":if(u=this.l,Xt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(of(this,u)),u+=2;e*=2;break;case"utf8":r=Np(this,this.l,this.l+e);break;case"utf16le":e*=2,r=cE(this,this.l,this.l+e);break;case"wstr":return yf.call(this,e,"dbcs");case"lpstr-ansi":r=M4(this,this.l),e=4+Bs(this,this.l);break;case"lpstr-cp":r=I4(this,this.l),e=4+Bs(this,this.l);break;case"lpwstr":r=k4(this,this.l),e=4+2*Bs(this,this.l);break;case"lpp4":e=4+Bs(this,this.l),r=_4(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Bs(this,this.l),r=B4(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=_u(this,this.l+e++))!==0;)i.push(xm(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=of(this,this.l+e))!==0;)i.push(xm(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=_u(this,u),this.l=u+1,a=yf.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+a;i.push(xm(of(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=_u(this,u),this.l=u+1,a=yf.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+a;i.push(xm(_u(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=_u(this,this.l),this.l++,n;case 2:return n=(t==="i"?afe:of)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?nc:lfe)(this,this.l),this.l+=4,n):(s=Bs(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=Gv(this,this.l):s=Gv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=A4(this,this.l,e);break}}return this.l+=e,r}var cfe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},ufe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},dfe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function hfe(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)dfe(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,cfe(this,t,this.l);break;case 8:if(n=8,r==="f"){ofe(this,t,this.l);break}case 16:break;case-4:n=4,ufe(this,t,this.l);break}return this.l+=n,this}function V4(e,t){var r=A4(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ls(e,t){e.l=t,e.read_shift=yf,e.chk=V4,e.write_shift=hfe}function yo(e,t){e.l+=t}function Fe(e){var t=Oc(e);return Ls(t,0),t}function Rs(){var e=[],t=Xt?256:2048,r=function(u){var f=Fe(u);return Ls(f,0),f},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(s(),n=r(Math.max(u+1,t)))},o=function(){return s(),bn(e)},a=function(u){s(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:a,end:o,_bufs:e}}function Ie(e,t,r,n){var s=+t,i;if(!isNaN(s)){n||(n=iCe[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var a=0;a!=4;++a)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&uE(r)&&e.push(r)}}function Sf(e,t,r){var n=Ts(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function N2(e,t,r){var n=Ts(e);return n.s=Sf(n.s,t.s,r),n.e=Sf(n.e,t.s,r),n}function wf(e,t){if(e.cRel&&e.c<0)for(e=Ts(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ts(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=or(e);return!e.cRel&&e.cRel!=null&&(r=gfe(r)),!e.rRel&&e.rRel!=null&&(r=ffe(r)),r}function qS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+_n(e.s.c)+":"+(e.e.cRel?"":"$")+_n(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Fn(e.s.r)+":"+(e.e.rRel?"":"$")+Fn(e.e.r):wf(e.s,t.biff)+":"+wf(e.e,t.biff)}function dE(e){return parseInt(pfe(e),10)-1}function Fn(e){return""+(e+1)}function ffe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function pfe(e){return e.replace(/\$(\d+)$/,"$1")}function hE(e){for(var t=mfe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function _n(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function gfe(e){return e.replace(/^([A-Z])/,"$$$1")}function mfe(e){return e.replace(/^\$([A-Z])/,"$1")}function vfe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function pn(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function or(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ys(e){var t=e.indexOf(":");return t==-1?{s:pn(e),e:pn(e)}:{s:pn(e.slice(0,t)),e:pn(e.slice(t+1))}}function qr(e,t){return typeof t>"u"||typeof t=="number"?qr(e.s,e.e):(typeof e!="string"&&(e=or(e)),typeof t!="string"&&(t=or(t)),e==t?e:e+":"+t)}function xr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=e.length;for(r=0;n<i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function I2(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=gl(e.z,r?Fs(t):t)}catch{}try{return e.w=gl((e.XF||{}).numFmtId||(r?14:0),r?Fs(t):t)}catch{return""+t}}function fa(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Ip[e.v]||e.v:t==null?I2(e,e.v):I2(e,t))}function Yc(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function H4(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,i=e||(s?[]:{}),o=0,a=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?pn(n.origin):n.origin;o=l.r,a=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=xr(i["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(u.e.r=o=f.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[p].length;++g)if(!(typeof t[p][g]>"u")){var C={v:t[p][g]},S=o+p,y=a+g;if(u.s.r>S&&(u.s.r=S),u.s.c>y&&(u.s.c=y),u.e.r<S&&(u.e.r=S),u.e.c<y&&(u.e.c=y),t[p][g]&&typeof t[p][g]=="object"&&!Array.isArray(t[p][g])&&!(t[p][g]instanceof Date))C=t[p][g];else if(Array.isArray(C.v)&&(C.f=t[p][g][1],C.v=C.v[0]),C.v===null)if(C.f)C.t="n";else if(n.nullError)C.t="e",C.v=0;else if(n.sheetStubs)C.t="z";else continue;else typeof C.v=="number"?C.t="n":typeof C.v=="boolean"?C.t="b":C.v instanceof Date?(C.z=n.dateNF||Br[14],n.cellDates?(C.t="d",C.w=gl(C.z,Fs(C.v))):(C.t="n",C.v=Fs(C.v),C.w=gl(C.z,C.v))):C.t="s";if(s)i[S]||(i[S]=[]),i[S][y]&&i[S][y].z&&(C.z=i[S][y].z),i[S][y]=C;else{var w=or({c:y,r:S});i[w]&&i[w].z&&(C.z=i[w].z),i[w]=C}}}return u.s.c<1e7&&(i["!ref"]=qr(u)),i}function Xd(e,t){return H4(null,e,t)}function Cfe(e){return e.read_shift(4,"i")}function Ui(e,t){return t||(t=Fe(4)),t.write_shift(4,e),t}function jn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function gn(e,t){var r=!1;return t==null&&(r=!0,t=Fe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function yfe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Sfe(e,t){return t||(t=Fe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function fE(e,t){var r=e.l,n=e.read_shift(1),s=jn(e),i=[],o={t:s,h:s};if((n&1)!==0){for(var a=e.read_shift(4),l=0;l!=a;++l)i.push(yfe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function wfe(e,t){var r=!1;return t==null&&(r=!0,t=Fe(15+4*e.t.length)),t.write_shift(1,0),gn(e.t,t),r?t.slice(0,t.l):t}var xfe=fE;function bfe(e,t){var r=!1;return t==null&&(r=!0,t=Fe(23+4*e.t.length)),t.write_shift(1,1),gn(e.t,t),t.write_shift(4,1),Sfe({},t),r?t.slice(0,t.l):t}function xi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Qc(e,t){return t==null&&(t=Fe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Xc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Zc(e,t){return t==null&&(t=Fe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Efe=jn,W4=gn;function pE(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Vv(e,t){var r=!1;return t==null&&(r=!0,t=Fe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Rfe=jn,Ax=pE,gE=Vv;function U4(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?Gv([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):nc(t,0)>>2;return r?s/100:s}function $4(e,t){t==null&&(t=Fe(4));var r=0,n=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function z4(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Ffe(e,t){return t||(t=Fe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Jc=z4,Zd=Ffe;function Jd(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function kc(e,t){return(t||Fe(8)).write_shift(8,e,"f")}function Tfe(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var u=Lfe[s];u&&(t.rgb=U2(u));break;case 2:t.rgb=U2([o,a,l]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Hv(e,t){if(t||(t=Fe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Pfe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Afe(e,t){t||(t=Fe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var K4=2,ks=3,Fm=11,Wv=19,Tm=64,Dfe=65,Mfe=71,Nfe=4108,Ife=4126,xn=80,O2={1:{n:"CodePage",t:K4},2:{n:"Category",t:xn},3:{n:"PresentationFormat",t:xn},4:{n:"ByteCount",t:ks},5:{n:"LineCount",t:ks},6:{n:"ParagraphCount",t:ks},7:{n:"SlideCount",t:ks},8:{n:"NoteCount",t:ks},9:{n:"HiddenCount",t:ks},10:{n:"MultimediaClipCount",t:ks},11:{n:"ScaleCrop",t:Fm},12:{n:"HeadingPairs",t:Nfe},13:{n:"TitlesOfParts",t:Ife},14:{n:"Manager",t:xn},15:{n:"Company",t:xn},16:{n:"LinksUpToDate",t:Fm},17:{n:"CharacterCount",t:ks},19:{n:"SharedDoc",t:Fm},22:{n:"HyperlinksChanged",t:Fm},23:{n:"AppVersion",t:ks,p:"version"},24:{n:"DigSig",t:Dfe},26:{n:"ContentType",t:xn},27:{n:"ContentStatus",t:xn},28:{n:"Language",t:xn},29:{n:"Version",t:xn},255:{},2147483648:{n:"Locale",t:Wv},2147483651:{n:"Behavior",t:Wv},1919054434:{}},k2={1:{n:"CodePage",t:K4},2:{n:"Title",t:xn},3:{n:"Subject",t:xn},4:{n:"Author",t:xn},5:{n:"Keywords",t:xn},6:{n:"Comments",t:xn},7:{n:"Template",t:xn},8:{n:"LastAuthor",t:xn},9:{n:"RevNumber",t:xn},10:{n:"EditTime",t:Tm},11:{n:"LastPrinted",t:Tm},12:{n:"CreatedDate",t:Tm},13:{n:"ModifiedDate",t:Tm},14:{n:"PageCount",t:ks},15:{n:"WordCount",t:ks},16:{n:"CharCount",t:ks},17:{n:"Thumbnail",t:Mfe},18:{n:"Application",t:xn},19:{n:"DocSecurity",t:ks},255:{},2147483648:{n:"Locale",t:Wv},2147483651:{n:"Behavior",t:Wv},1919054434:{}};function Ofe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var kfe=Ofe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Lfe=Ts(kfe),Ip={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},_fe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Pm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function q4(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Y4(e,t){var r=Khe(_fe),n=[],s;n[n.length]=Zr,n[n.length]=qe("Types",null,{xmlns:fn.CT,"xmlns:xsd":fn.xsd,"xmlns:xsi":fn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return qe("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(s=e[l][0],n[n.length]=qe("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Pm[l][t.bookType]||Pm[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(u){n[n.length]=qe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Pm[l][t.bookType]||Pm[l].xlsx})})},a=function(l){(e[l]||[]).forEach(function(u){n[n.length]=qe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return i("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var qt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Q4(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function nd(e){var t=[Zr,qe("Relationships",null,{xmlns:fn.RELS})];return Tn(e["!id"]).forEach(function(r){t[t.length]=qe("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function sr(e,t,r,n,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[qt.HLINK,qt.XPATH,qt.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function jfe(e){var t=[Zr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function L2(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Bfe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Gfe(e){var t=[Zr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(L2(e[r][0],e[r][1])),t.push(Bfe("",e[r][0]));return t.push(L2("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function X4(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ov.version+"</meta:generator></office:meta></office:document-meta>"}var bc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function YS(e,t,r,n,s){s[e]!=null||t==null||t===""||(s[e]=t,t=ir(t),n[n.length]=r?qe(e,t,r):En(e,t))}function Z4(e,t){var r=t||{},n=[Zr,qe("cp:coreProperties",null,{"xmlns:cp":fn.CORE_PROPS,"xmlns:dc":fn.dc,"xmlns:dcterms":fn.dcterms,"xmlns:dcmitype":fn.dcmitype,"xmlns:xsi":fn.xsi})],s={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&YS("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Px(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),e.ModifiedDate!=null&&YS("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Px(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=bc.length;++i){var o=bc[i],a=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&YS(o[0],a,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var sd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],J4=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ej(e){var t=[],r=qe;return e||(e={}),e.Application="SheetJS",t[t.length]=Zr,t[t.length]=qe("Properties",null,{xmlns:fn.EXT_PROPS,"xmlns:vt":fn.vt}),sd.forEach(function(n){if(e[n[1]]!==void 0){var s;switch(n[2]){case"string":s=ir(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+ir(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function tj(e){var t=[Zr,qe("Properties",null,{xmlns:fn.CUST_PROPS,"xmlns:vt":fn.vt})];if(!e)return t.join("");var r=1;return Tn(e).forEach(function(s){++r,t[t.length]=qe("property",sfe(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:ir(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var _2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Vfe(e,t){var r=[];return Tn(_2).map(function(n){for(var s=0;s<bc.length;++s)if(bc[s][1]==n)return bc[s];for(s=0;s<sd.length;++s)if(sd[s][1]==n)return sd[s];throw n}).forEach(function(n){if(e[n[1]]!=null){var s=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(En(_2[n[1]]||n[1],s))}}),qe("DocumentProperties",r.join(""),{xmlns:js.o})}function Hfe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&Tn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<bc.length;++o)if(i==bc[o][1])return;for(o=0;o<sd.length;++o)if(i==sd[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var a=e[i],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),s.push(qe(E2(i),a,{"dt:dt":l}))}}),t&&Tn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),s.push(qe(E2(i),o,{"dt:dt":a}))}}),"<"+n+' xmlns="'+js.o+'">'+s.join("")+"</"+n+">"}function Wfe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var o=Fe(8);return o.write_shift(4,n),o.write_shift(4,s),o}function j2(e,t){var r=Fe(4),n=Fe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Fe(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Wfe(t);break;case 31:case 80:for(n=Fe(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return bn([r,n])}var rj=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Ufe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function B2(e,t,r){var n=Fe(8),s=[],i=[],o=8,a=0,l=Fe(8),u=Fe(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),i.push(l),s.push(u),o+=8+l.length,!t){u=Fe(8),u.write_shift(4,0),s.unshift(u);var f=[Fe(4)];for(f[0].write_shift(4,e.length),a=0;a<e.length;++a){var p=e[a][0];for(l=Fe(8+2*(p.length+1)+(p.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,p.length+1),l.write_shift(0,p,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=bn(f),i.unshift(l),o+=8+l.length}for(a=0;a<e.length;++a)if(!(t&&!t[e[a][0]])&&!(rj.indexOf(e[a][0])>-1||J4.indexOf(e[a][0])>-1)&&e[a][1]!=null){var g=e[a][1],C=0;if(t){C=+t[e[a][0]];var S=r[C];if(S.p=="version"&&typeof g=="string"){var y=g.split(".");g=(+y[0]<<16)+(+y[1]||0)}l=j2(S.t,g)}else{var w=Ufe(g);w==-1&&(w=31,g=String(g)),l=j2(w,g)}i.push(l),u=Fe(8),u.write_shift(4,t?C:2+a),s.push(u),o+=8+l.length}var b=8*(i.length+1);for(a=0;a<i.length;++a)s[a].write_shift(4,b),b+=i[a].length;return n.write_shift(4,o),n.write_shift(4,i.length),bn([n].concat(s).concat(i))}function G2(e,t,r,n,s,i){var o=Fe(s?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,ar.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var l=B2(e,r,n);if(a.push(l),s){var u=B2(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+l.length),a.push(u)}return bn(a)}function $fe(e,t){t||(t=Fe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function zfe(e,t){return e.read_shift(t)===1}function Yn(e,t){return t||(t=Fe(2)),t.write_shift(2,+!!e),t}function nj(e){return e.read_shift(2,"u")}function hi(e,t){return t||(t=Fe(2)),t.write_shift(2,e),t}function sj(e,t,r){return r||(r=Fe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function ij(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?e.read_shift(n,s):"";return o}function Kfe(e){var t=e.t||"",r=Fe(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Fe(2*t.length);n.write_shift(2*t.length,t,"utf16le");var s=[r,n];return bn(s)}function qfe(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Yfe(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):qfe(e,n,r)}function Qfe(e,t,r){if(r.biff>5)return Yfe(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function oj(e,t,r){return r||(r=Fe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function V2(e,t){t||(t=Fe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Xfe(e){var t=Fe(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),V2(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var a=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(a.length+1)),r=0;r<a.length;++r)t.write_shift(2,a.charCodeAt(r));t.write_shift(2,0),i&8&&V2(s>-1?n.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Lc(e,t,r,n){return n||(n=Fe(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Zfe(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[s,i,o]}function Jfe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function aj(e,t){return t||(t=Fe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function mE(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Fe(s);return i.write_shift(2,n),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function epe(e,t){var r=!t||t.biff==8,n=Fe(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function tpe(e,t){var r=!t||t.biff>=8?2:1,n=Fe(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function rpe(e,t){var r=Fe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],s=0;s<e.length;++s)n[s]=Kfe(e[s]);var i=bn([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function npe(){var e=Fe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function spe(e){var t=Fe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function ipe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,s=n?15+r.length:16+2*r.length,i=Fe(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function ope(e,t,r,n){var s=Fe(10);return Lc(e,t,n,s),s.write_shift(4,r),s}function ape(e,t,r,n,s){var i=!s||s.biff==8,o=Fe(8+ +i+(1+i)*r.length);return Lc(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function lpe(e,t,r,n){var s=r&&r.biff==5;n||(n=Fe(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function cpe(e,t){var r=t.biff==8||!t.biff?4:2,n=Fe(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function H2(e,t,r,n){var s=r&&r.biff==5;n||(n=Fe(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function upe(e){var t=Fe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function dpe(e,t,r,n,s,i){var o=Fe(8);return Lc(e,t,n,o),sj(r,i,o),o}function hpe(e,t,r,n){var s=Fe(14);return Lc(e,t,n,s),kc(r,s),s}function fpe(e,t,r){if(r.biff<8)return ppe(e,t,r);for(var n=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Zfe(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function ppe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=ij(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function gpe(e){var t=Fe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)aj(e[r],t);return t}function mpe(e){var t=Fe(24),r=pn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return bn([t,Xfe(e[1])])}function vpe(e){var t=e[1].Tooltip,r=Fe(10+2*(t.length+1));r.write_shift(2,2048);var n=pn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function Cpe(e){return e||(e=Fe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function ype(e,t,r){if(!r.cellStyles)return yo(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),a=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s,e:i,w:o,ixfe:a,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function Spe(e,t){var r=Fe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function wpe(e){for(var t=Fe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function xpe(e,t,r){var n=Fe(15);return kp(n,e,t),n.write_shift(8,r,"f"),n}function bpe(e,t,r){var n=Fe(9);return kp(n,e,t),n.write_shift(2,r),n}var Epe=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=iE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(a,l){var u=[],f=Oc(1);switch(l.type){case"base64":f=Gi(ha(a));break;case"binary":f=Gi(a);break;case"buffer":case"array":f=a;break}Ls(f,0);var p=f.read_shift(1),g=!!(p&136),C=!1,S=!1;switch(p){case 2:break;case 3:break;case 48:C=!0,g=!0;break;case 49:C=!0,g=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var y=0,w=521;p==2&&(y=f.read_shift(2)),f.l+=3,p!=2&&(y=f.read_shift(4)),y>1048576&&(y=1e6),p!=2&&(w=f.read_shift(2));var b=f.read_shift(2),F=l.codepage||1252;p!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(F=e[f[f.l]]),f.l+=1,f.l+=2),S&&(f.l+=36);for(var R=[],E={},A=Math.min(f.length,p==2?521:w-10-(C?264:0)),D=S?32:11;f.l<A&&f[f.l]!=13;)switch(E={},E.name=kv.utils.decode(F,f.slice(f.l,f.l+D)).replace(/[\u0000\r\n].*$/g,""),f.l+=D,E.type=String.fromCharCode(f.read_shift(1)),p!=2&&!S&&(E.offset=f.read_shift(4)),E.len=f.read_shift(1),p==2&&(E.offset=f.read_shift(2)),E.dec=f.read_shift(1),E.name.length&&R.push(E),p!=2&&(f.l+=S?13:14),E.type){case"B":(!C||E.len!=8)&&l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(f[f.l]!==13&&(f.l=w-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=w;var M=0,I=0;for(u[0]=[],I=0;I!=R.length;++I)u[0][I]=R[I].name;for(;y-- >0;){if(f[f.l]===42){f.l+=b;continue}for(++f.l,u[++M]=[],I=0,I=0;I!=R.length;++I){var _=f.slice(f.l,f.l+R[I].len);f.l+=R[I].len,Ls(_,0);var j=kv.utils.decode(F,_);switch(R[I].type){case"C":j.trim().length&&(u[M][I]=j.replace(/\s+$/,""));break;case"D":j.length===8?u[M][I]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):u[M][I]=j;break;case"F":u[M][I]=parseFloat(j.trim());break;case"+":case"I":u[M][I]=S?_.read_shift(-4,"i")^2147483648:_.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":u[M][I]=!0;break;case"N":case"F":u[M][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[M][I]="##MEMO##"+(S?parseInt(j.trim(),10):_.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(u[M][I]=+j||0);break;case"@":u[M][I]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":u[M][I]=new Date((_.read_shift(4)-2440588)*864e5+_.read_shift(4));break;case"Y":u[M][I]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[M][I]=-_.read_shift(-8,"f");break;case"B":if(C&&R[I].len==8){u[M][I]=_.read_shift(8,"f");break}case"G":case"P":_.l+=R[I].len;break;case"0":if(R[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+R[I].type)}}}if(p!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=R,u}function n(a,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var f=Xd(r(a,u),u);return f["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,f}function s(a,l){try{return Yc(n(a,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var u=l||{};if(+u.codepage>=0&&zf(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=Rs(),p=qv(a,{header:1,raw:!0,cellDates:!0}),g=p[0],C=p.slice(1),S=a["!cols"]||[],y=0,w=0,b=0,F=1;for(y=0;y<g.length;++y){if(((S[y]||{}).DBF||{}).name){g[y]=S[y].DBF.name,++b;continue}if(g[y]!=null){if(++b,typeof g[y]=="number"&&(g[y]=g[y].toString(10)),typeof g[y]!="string")throw new Error("DBF Invalid column name "+g[y]+" |"+typeof g[y]+"|");if(g.indexOf(g[y])!==y){for(w=0;w<1024;++w)if(g.indexOf(g[y]+"_"+w)==-1){g[y]+="_"+w;break}}}}var R=xr(a["!ref"]),E=[],A=[],D=[];for(y=0;y<=R.e.c-R.s.c;++y){var M="",I="",_=0,j=[];for(w=0;w<C.length;++w)C[w][y]!=null&&j.push(C[w][y]);if(j.length==0||g[y]==null){E[y]="?";continue}for(w=0;w<j.length;++w){switch(typeof j[w]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=j[w]instanceof Date?"D":"C";break;default:I="C"}_=Math.max(_,String(j[w]).length),M=M&&M!=I?"C":I}_>250&&(_=250),I=((S[y]||{}).DBF||{}).type,I=="C"&&S[y].DBF.len>_&&(_=S[y].DBF.len),M=="B"&&I=="N"&&(M="N",D[y]=S[y].DBF.dec,_=S[y].DBF.len),A[y]=M=="C"||I=="N"?_:i[M]||0,F+=A[y],E[y]=M}var H=f.next(32);for(H.write_shift(4,318902576),H.write_shift(4,C.length),H.write_shift(2,296+32*b),H.write_shift(2,F),y=0;y<4;++y)H.write_shift(4,0);for(H.write_shift(4,0|(+t[c4]||3)<<8),y=0,w=0;y<g.length;++y)if(g[y]!=null){var B=f.next(32),oe=(g[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,oe,"sbcs"),B.write_shift(1,E[y]=="?"?"C":E[y],"sbcs"),B.write_shift(4,w),B.write_shift(1,A[y]||i[E[y]]||0),B.write_shift(1,D[y]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),w+=A[y]||i[E[y]]||0}var ye=f.next(264);for(ye.write_shift(4,13),y=0;y<65;++y)ye.write_shift(4,0);for(y=0;y<C.length;++y){var Re=f.next(F);for(Re.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(E[w]){case"L":Re.write_shift(1,C[y][w]==null?63:C[y][w]?84:70);break;case"B":Re.write_shift(8,C[y][w]||0,"f");break;case"N":var we="0";for(typeof C[y][w]=="number"&&(we=C[y][w].toFixed(D[w]||0)),b=0;b<A[w]-we.length;++b)Re.write_shift(1,32);Re.write_shift(1,we,"sbcs");break;case"D":C[y][w]?(Re.write_shift(4,("0000"+C[y][w].getFullYear()).slice(-4),"sbcs"),Re.write_shift(2,("00"+(C[y][w].getMonth()+1)).slice(-2),"sbcs"),Re.write_shift(2,("00"+C[y][w].getDate()).slice(-2),"sbcs")):Re.write_shift(8,"00000000","sbcs");break;case"C":var se=String(C[y][w]!=null?C[y][w]:"").slice(0,A[w]);for(Re.write_shift(1,se,"sbcs"),b=0;b<A[w]-se.length;++b)Re.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}})(),Rpe=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Tn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,C){var S=e[C];return typeof S=="number"?h2(S):S},n=function(g,C,S){var y=C.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return y==59?g:h2(y)};e["|"]=254;function s(g,C){switch(C.type){case"base64":return i(ha(g),C);case"binary":return i(g,C);case"buffer":return i(Xt&&Buffer.isBuffer(g)?g.toString("binary"):Dp(g),C);case"array":return i(U0(g),C)}throw new Error("Unrecognized type "+C.type)}function i(g,C){var S=g.split(/[\n\r]+/),y=-1,w=-1,b=0,F=0,R=[],E=[],A=null,D={},M=[],I=[],_=[],j=0,H;for(+C.codepage>=0&&zf(+C.codepage);b!==S.length;++b){j=0;var B=S[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),oe=B.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),ye=oe[0],Re;if(B.length>0)switch(ye){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":oe[1].charAt(0)=="P"&&E.push(B.slice(3).replace(/;;/g,";"));break;case"C":var we=!1,se=!1,ee=!1,re=!1,de=-1,K=-1;for(F=1;F<oe.length;++F)switch(oe[F].charAt(0)){case"A":break;case"X":w=parseInt(oe[F].slice(1))-1,se=!0;break;case"Y":for(y=parseInt(oe[F].slice(1))-1,se||(w=0),H=R.length;H<=y;++H)R[H]=[];break;case"K":Re=oe[F].slice(1),Re.charAt(0)==='"'?Re=Re.slice(1,Re.length-1):Re==="TRUE"?Re=!0:Re==="FALSE"?Re=!1:isNaN(ta(Re))?isNaN(qf(Re).getDate())||(Re=ls(Re)):(Re=ta(Re),A!==null&&w4(A)&&(Re=R4(Re))),we=!0;break;case"E":re=!0;var N=bge(oe[F].slice(1),{r:y,c:w});R[y][w]=[R[y][w],N];break;case"S":ee=!0,R[y][w]=[R[y][w],"S5S"];break;case"G":break;case"R":de=parseInt(oe[F].slice(1))-1;break;case"C":K=parseInt(oe[F].slice(1))-1;break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+B)}if(we&&(R[y][w]&&R[y][w].length==2?R[y][w][0]=Re:R[y][w]=Re,A=null),ee){if(re)throw new Error("SYLK shared formula cannot have own formula");var O=de>-1&&R[de][K];if(!O||!O[1])throw new Error("SYLK shared formula cannot find base");R[y][w][1]=Ege(O[1],{r:y-de,c:w-K})}break;case"F":var V=0;for(F=1;F<oe.length;++F)switch(oe[F].charAt(0)){case"X":w=parseInt(oe[F].slice(1))-1,++V;break;case"Y":for(y=parseInt(oe[F].slice(1))-1,H=R.length;H<=y;++H)R[H]=[];break;case"M":j=parseInt(oe[F].slice(1))/20;break;case"F":break;case"G":break;case"P":A=E[parseInt(oe[F].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_=oe[F].slice(1).split(" "),H=parseInt(_[0],10);H<=parseInt(_[1],10);++H)j=parseInt(_[2],10),I[H-1]=j===0?{hidden:!0}:{wch:j},vE(I[H-1]);break;case"C":w=parseInt(oe[F].slice(1))-1,I[w]||(I[w]={});break;case"R":y=parseInt(oe[F].slice(1))-1,M[y]||(M[y]={}),j>0?(M[y].hpt=j,M[y].hpx=hj(j)):j===0&&(M[y].hidden=!0);break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+B)}V<1&&(A=null);break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+B)}}return M.length>0&&(D["!rows"]=M),I.length>0&&(D["!cols"]=I),C&&C.sheetRows&&(R=R.slice(0,C.sheetRows)),[R,D]}function o(g,C){var S=s(g,C),y=S[0],w=S[1],b=Xd(y,C);return Tn(w).forEach(function(F){b[F]=w[F]}),b}function a(g,C){return Yc(o(g,C),C)}function l(g,C,S,y){var w="C;Y"+(S+1)+";X"+(y+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+yE(g.f,{r:S,c:y}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function u(g,C){C.forEach(function(S,y){var w="F;W"+(y+1)+" "+(y+1)+" ";S.hidden?w+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=Uv(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=$v(S.wpx)),typeof S.wch=="number"&&(w+=Math.round(S.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function f(g,C){C.forEach(function(S,y){var w="F;";S.hidden?w+="M0;":S.hpt?w+="M"+20*S.hpt+";":S.hpx&&(w+="M"+20*zv(S.hpx)+";"),w.length>2&&g.push(w+"R"+(y+1))})}function p(g,C){var S=["ID;PWXL;N;E"],y=[],w=xr(g["!ref"]),b,F=Array.isArray(g),R=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),g["!cols"]&&u(S,g["!cols"]),g["!rows"]&&f(S,g["!rows"]),S.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var E=w.s.r;E<=w.e.r;++E)for(var A=w.s.c;A<=w.e.c;++A){var D=or({r:E,c:A});b=F?(g[E]||[])[A]:g[D],!(!b||b.v==null&&(!b.f||b.F))&&y.push(l(b,g,E,A))}return S.join(R)+R+y.join(R)+R+"E"+R}return{to_workbook:a,to_sheet:o,from_sheet:p}})(),Fpe=(function(){function e(i,o){switch(o.type){case"base64":return t(ha(i),o);case"binary":return t(i,o);case"buffer":return t(Xt&&Buffer.isBuffer(i)?i.toString("binary"):Dp(i),o);case"array":return t(U0(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var a=i.split(`
`),l=-1,u=-1,f=0,p=[];f!==a.length;++f){if(a[f].trim()==="BOT"){p[++l]=[],u=0;continue}if(!(l<0)){var g=a[f].trim().split(","),C=g[0],S=g[1];++f;for(var y=a[f]||"";(y.match(/["]/g)||[]).length&1&&f<a.length-1;)y+=`
`+a[++f];switch(y=y.trim(),+C){case-1:if(y==="BOT"){p[++l]=[],u=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?p[l][u]=!0:y==="FALSE"?p[l][u]=!1:isNaN(ta(S))?isNaN(qf(S).getDate())?p[l][u]=S:p[l][u]=ls(S):p[l][u]=ta(S),++u;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),p[l][u++]=y!==""?y:null;break}if(y==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function r(i,o){return Xd(e(i,o),o)}function n(i,o){return Yc(r(i,o),o)}var s=(function(){var i=function(l,u,f,p,g){l.push(u),l.push(f+","+p),l.push('"'+g.replace(/"/g,'""')+'"')},o=function(l,u,f,p){l.push(u+","+f),l.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(l){var u=[],f=xr(l["!ref"]),p,g=Array.isArray(l);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,f.e.r-f.s.r+1,""),i(u,"TUPLES",0,f.e.c-f.s.c+1,""),i(u,"DATA",0,0,"");for(var C=f.s.r;C<=f.e.r;++C){o(u,-1,0,"BOT");for(var S=f.s.c;S<=f.e.c;++S){var y=or({r:C,c:S});if(p=g?(l[C]||[])[S]:l[y],!p){o(u,1,0,"");continue}switch(p.t){case"n":var w=p.w;!w&&p.v!=null&&(w=p.v),w==null?p.f&&!p.F?o(u,1,0,"="+p.f):o(u,1,0,""):o(u,0,w,"V");break;case"b":o(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=gl(p.z||Br[14],Fs(ls(p.v)))),o(u,0,p.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,F=u.join(b);return F}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),lj=(function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var C=p.split(`
`),S=-1,y=-1,w=0,b=[];w!==C.length;++w){var F=C[w].trim().split(":");if(F[0]==="cell"){var R=pn(F[1]);if(b.length<=R.r)for(S=b.length;S<=R.r;++S)b[S]||(b[S]=[]);switch(S=R.r,y=R.c,F[2]){case"t":b[S][y]=e(F[3]);break;case"v":b[S][y]=+F[3];break;case"vtf":var E=F[F.length-1];case"vtc":switch(F[3]){case"nl":b[S][y]=!!+F[4];break;default:b[S][y]=+F[4];break}F[2]=="vtf"&&(b[S][y]=[b[S][y],E])}}}return g&&g.sheetRows&&(b=b.slice(0,g.sheetRows)),b}function n(p,g){return Xd(r(p,g),g)}function s(p,g){return Yc(n(p,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var g=[],C=[],S,y="",w=Ys(p["!ref"]),b=Array.isArray(p),F=w.s.r;F<=w.e.r;++F)for(var R=w.s.c;R<=w.e.c;++R)if(y=or({r:F,c:R}),S=b?(p[F]||[])[R]:p[y],!(!S||S.v==null||S.t==="z")){switch(C=["cell",y,"t"],S.t){case"s":case"str":C.push(t(S.v));break;case"n":S.f?(C[2]="vtf",C[3]="n",C[4]=S.v,C[5]=t(S.f)):(C[2]="v",C[3]=S.v);break;case"b":C[2]="vt"+(S.f?"f":"c"),C[3]="nl",C[4]=S.v?"1":"0",C[5]=t(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var E=Fs(ls(S.v));C[2]="vtc",C[3]="nd",C[4]=""+E,C[5]=S.w||gl(S.z||Br[14],E);break;case"e":continue}g.push(C.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function f(p){return[i,o,a,o,u(p),l].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:f}})(),Tpe=(function(){function e(f,p,g,C,S){S.raw?p[g][C]=f:f===""||(f==="TRUE"?p[g][C]=!0:f==="FALSE"?p[g][C]=!1:isNaN(ta(f))?isNaN(qf(f).getDate())?p[g][C]=f:p[g][C]=ls(f):p[g][C]=ta(f))}function t(f,p){var g=p||{},C=[];if(!f||f.length===0)return C;for(var S=f.split(/[\r\n]/),y=S.length-1;y>=0&&S[y].length===0;)--y;for(var w=10,b=0,F=0;F<=y;++F)b=S[F].indexOf(" "),b==-1?b=S[F].length:b++,w=Math.max(w,b);for(F=0;F<=y;++F){C[F]=[];var R=0;for(e(S[F].slice(0,w).trim(),C,F,R,g),R=1;R<=(S[F].length-w)/10+1;++R)e(S[F].slice(w+(R-1)*10,w+R*10).trim(),C,F,R,g)}return g.sheetRows&&(C=C.slice(0,g.sheetRows)),C}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(f){for(var p={},g=!1,C=0,S=0;C<f.length;++C)(S=f.charCodeAt(C))==34?g=!g:!g&&S in r&&(p[S]=(p[S]||0)+1);S=[];for(C in p)Object.prototype.hasOwnProperty.call(p,C)&&S.push([p[C],C]);if(!S.length){p=n;for(C in p)Object.prototype.hasOwnProperty.call(p,C)&&S.push([p[C],C])}return S.sort(function(y,w){return y[0]-w[0]||n[y[1]]-n[w[1]]}),r[S.pop()[1]]||44}function i(f,p){var g=p||{},C="",S=g.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(C=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(C=f.charAt(4),f=f.slice(6)):C=s(f.slice(0,1024)):g&&g.FS?C=g.FS:C=s(f.slice(0,1024));var w=0,b=0,F=0,R=0,E=0,A=C.charCodeAt(0),D=!1,M=0,I=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var _=g.dateNF!=null?Whe(g.dateNF):null;function j(){var H=f.slice(R,E),B={};if(H.charAt(0)=='"'&&H.charAt(H.length-1)=='"'&&(H=H.slice(1,-1).replace(/""/g,'"')),H.length===0)B.t="z";else if(g.raw)B.t="s",B.v=H;else if(H.trim().length===0)B.t="s",B.v=H;else if(H.charCodeAt(0)==61)H.charCodeAt(1)==34&&H.charCodeAt(H.length-1)==34?(B.t="s",B.v=H.slice(2,-1).replace(/""/g,'"')):Rge(H)?(B.t="n",B.f=H.slice(1)):(B.t="s",B.v=H);else if(H=="TRUE")B.t="b",B.v=!0;else if(H=="FALSE")B.t="b",B.v=!1;else if(!isNaN(F=ta(H)))B.t="n",g.cellText!==!1&&(B.w=H),B.v=F;else if(!isNaN(qf(H).getDate())||_&&H.match(_)){B.z=g.dateNF||Br[14];var oe=0;_&&H.match(_)&&(H=Uhe(H,g.dateNF,H.match(_)||[]),oe=1),g.cellDates?(B.t="d",B.v=ls(H,oe)):(B.t="n",B.v=Fs(ls(H,oe))),g.cellText!==!1&&(B.w=gl(B.z,B.v instanceof Date?Fs(B.v):B.v)),g.cellNF||delete B.z}else B.t="s",B.v=H;if(B.t=="z"||(g.dense?(S[w]||(S[w]=[]),S[w][b]=B):S[or({c:b,r:w})]=B),R=E+1,I=f.charCodeAt(R),y.e.c<b&&(y.e.c=b),y.e.r<w&&(y.e.r=w),M==A)++b;else if(b=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;E<f.length;++E)switch(M=f.charCodeAt(E)){case 34:I===34&&(D=!D);break;case A:case 10:case 13:if(!D&&j())break e;break}return E-R>0&&j(),S["!ref"]=qr(y),S}function o(f,p){return!(p&&p.PRN)||p.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,p):Xd(t(f,p),p)}function a(f,p){var g="",C=p.type=="string"?[0,0,0,0]:BCe(f,p);switch(p.type){case"base64":g=ha(f);break;case"binary":g=f;break;case"buffer":p.codepage==65001?g=f.toString("utf8"):p.codepage&&typeof kv<"u"||(g=Xt&&Buffer.isBuffer(f)?f.toString("binary"):Dp(f));break;case"array":g=U0(f);break;case"string":g=f;break;default:throw new Error("Unrecognized type "+p.type)}return C[0]==239&&C[1]==187&&C[2]==191?g=Cf(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=Cf(g):p.type=="binary"&&typeof kv<"u",g.slice(0,19)=="socialcalc:version:"?lj.to_sheet(p.type=="string"?g:Cf(g),p):o(g,p)}function l(f,p){return Yc(a(f,p),p)}function u(f){for(var p=[],g=xr(f["!ref"]),C,S=Array.isArray(f),y=g.s.r;y<=g.e.r;++y){for(var w=[],b=g.s.c;b<=g.e.c;++b){var F=or({r:y,c:b});if(C=S?(f[y]||[])[b]:f[F],!C||C.v==null){w.push("          ");continue}for(var R=(C.w||(fa(C),C.w)||"").slice(0,10);R.length<10;)R+=" ";w.push(R+(b===0?" ":""))}p.push(w.join(""))}return p.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:u}})(),W2=(function(){function e(N,O,V){if(N){Ls(N,N.l||0);for(var G=V.Enum||de;N.l<N.length;){var J=N.read_shift(2),ae=G[J]||G[65535],ge=N.read_shift(2),X=N.l+ge,ne=ae.f&&ae.f(N,ge,V);if(N.l=X,O(ne,ae,J))return}}}function t(N,O){switch(O.type){case"base64":return r(Gi(ha(N)),O);case"binary":return r(Gi(N),O);case"buffer":case"array":return r(N,O)}throw"Unsupported type "+O.type}function r(N,O){if(!N)return N;var V=O||{},G=V.dense?[]:{},J="Sheet1",ae="",ge=0,X={},ne=[],Ne=[],Ae={s:{r:0,c:0},e:{r:0,c:0}},Qe=V.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)V.Enum=de,e(N,function(We,le,Ke){switch(Ke){case 0:V.vers=We,We>=4096&&(V.qpro=!0);break;case 6:Ae=We;break;case 204:We&&(ae=We);break;case 222:ae=We;break;case 15:case 51:V.qpro||(We[1].v=We[1].v.slice(1));case 13:case 14:case 16:Ke==14&&(We[2]&112)==112&&(We[2]&15)>1&&(We[2]&15)<15&&(We[1].z=V.dateNF||Br[14],V.cellDates&&(We[1].t="d",We[1].v=R4(We[1].v))),V.qpro&&We[3]>ge&&(G["!ref"]=qr(Ae),X[J]=G,ne.push(J),G=V.dense?[]:{},Ae={s:{r:0,c:0},e:{r:0,c:0}},ge=We[3],J=ae||"Sheet"+(ge+1),ae="");var ct=V.dense?(G[We[0].r]||[])[We[0].c]:G[or(We[0])];if(ct){ct.t=We[1].t,ct.v=We[1].v,We[1].z!=null&&(ct.z=We[1].z),We[1].f!=null&&(ct.f=We[1].f);break}V.dense?(G[We[0].r]||(G[We[0].r]=[]),G[We[0].r][We[0].c]=We[1]):G[or(We[0])]=We[1];break}},V);else if(N[2]==26||N[2]==14)V.Enum=K,N[2]==14&&(V.qpro=!0,N.l=0),e(N,function(We,le,Ke){switch(Ke){case 204:J=We;break;case 22:We[1].v=We[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(We[3]>ge&&(G["!ref"]=qr(Ae),X[J]=G,ne.push(J),G=V.dense?[]:{},Ae={s:{r:0,c:0},e:{r:0,c:0}},ge=We[3],J="Sheet"+(ge+1)),Qe>0&&We[0].r>=Qe)break;V.dense?(G[We[0].r]||(G[We[0].r]=[]),G[We[0].r][We[0].c]=We[1]):G[or(We[0])]=We[1],Ae.e.c<We[0].c&&(Ae.e.c=We[0].c),Ae.e.r<We[0].r&&(Ae.e.r=We[0].r);break;case 27:We[14e3]&&(Ne[We[14e3][0]]=We[14e3][1]);break;case 1537:Ne[We[0]]=We[1],We[0]==ge&&(J=We[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(G["!ref"]=qr(Ae),X[ae||J]=G,ne.push(ae||J),!Ne.length)return{SheetNames:ne,Sheets:X};for(var Ze={},ft=[],xt=0;xt<Ne.length;++xt)X[ne[xt]]?(ft.push(Ne[xt]||ne[xt]),Ze[Ne[xt]]=X[Ne[xt]]||X[ne[xt]]):(ft.push(Ne[xt]),Ze[Ne[xt]]={"!ref":"A1"});return{SheetNames:ft,Sheets:Ze}}function n(N,O){var V=O||{};if(+V.codepage>=0&&zf(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var G=Rs(),J=xr(N["!ref"]),ae=Array.isArray(N),ge=[];Ye(G,0,i(1030)),Ye(G,6,l(J));for(var X=Math.min(J.e.r,8191),ne=J.s.r;ne<=X;++ne)for(var Ne=Fn(ne),Ae=J.s.c;Ae<=J.e.c;++Ae){ne===J.s.r&&(ge[Ae]=_n(Ae));var Qe=ge[Ae]+Ne,Ze=ae?(N[ne]||[])[Ae]:N[Qe];if(!(!Ze||Ze.t=="z"))if(Ze.t=="n")(Ze.v|0)==Ze.v&&Ze.v>=-32768&&Ze.v<=32767?Ye(G,13,C(ne,Ae,Ze.v)):Ye(G,14,y(ne,Ae,Ze.v));else{var ft=fa(Ze);Ye(G,15,p(ne,Ae,ft.slice(0,239)))}}return Ye(G,1),G.end()}function s(N,O){var V=O||{};if(+V.codepage>=0&&zf(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var G=Rs();Ye(G,0,o(N));for(var J=0,ae=0;J<N.SheetNames.length;++J)(N.Sheets[N.SheetNames[J]]||{})["!ref"]&&Ye(G,27,re(N.SheetNames[J],ae++));var ge=0;for(J=0;J<N.SheetNames.length;++J){var X=N.Sheets[N.SheetNames[J]];if(!(!X||!X["!ref"])){for(var ne=xr(X["!ref"]),Ne=Array.isArray(X),Ae=[],Qe=Math.min(ne.e.r,8191),Ze=ne.s.r;Ze<=Qe;++Ze)for(var ft=Fn(Ze),xt=ne.s.c;xt<=ne.e.c;++xt){Ze===ne.s.r&&(Ae[xt]=_n(xt));var We=Ae[xt]+ft,le=Ne?(X[Ze]||[])[xt]:X[We];if(!(!le||le.t=="z"))if(le.t=="n")Ye(G,23,j(Ze,xt,ge,le.v));else{var Ke=fa(le);Ye(G,22,M(Ze,xt,ge,Ke.slice(0,239)))}}++ge}}return Ye(G,1),G.end()}function i(N){var O=Fe(2);return O.write_shift(2,N),O}function o(N){var O=Fe(26);O.write_shift(2,4096),O.write_shift(2,4),O.write_shift(4,0);for(var V=0,G=0,J=0,ae=0;ae<N.SheetNames.length;++ae){var ge=N.SheetNames[ae],X=N.Sheets[ge];if(!(!X||!X["!ref"])){++J;var ne=Ys(X["!ref"]);V<ne.e.r&&(V=ne.e.r),G<ne.e.c&&(G=ne.e.c)}}return V>8191&&(V=8191),O.write_shift(2,V),O.write_shift(1,J),O.write_shift(1,G),O.write_shift(2,0),O.write_shift(2,0),O.write_shift(1,1),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(4,0),O}function a(N,O,V){var G={s:{c:0,r:0},e:{c:0,r:0}};return O==8&&V.qpro?(G.s.c=N.read_shift(1),N.l++,G.s.r=N.read_shift(2),G.e.c=N.read_shift(1),N.l++,G.e.r=N.read_shift(2),G):(G.s.c=N.read_shift(2),G.s.r=N.read_shift(2),O==12&&V.qpro&&(N.l+=2),G.e.c=N.read_shift(2),G.e.r=N.read_shift(2),O==12&&V.qpro&&(N.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function l(N){var O=Fe(8);return O.write_shift(2,N.s.c),O.write_shift(2,N.s.r),O.write_shift(2,N.e.c),O.write_shift(2,N.e.r),O}function u(N,O,V){var G=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(G[0].c=N.read_shift(1),G[3]=N.read_shift(1),G[0].r=N.read_shift(2),N.l+=2):(G[2]=N.read_shift(1),G[0].c=N.read_shift(2),G[0].r=N.read_shift(2)),G}function f(N,O,V){var G=N.l+O,J=u(N,O,V);if(J[1].t="s",V.vers==20768){N.l++;var ae=N.read_shift(1);return J[1].v=N.read_shift(ae,"utf8"),J}return V.qpro&&N.l++,J[1].v=N.read_shift(G-N.l,"cstr"),J}function p(N,O,V){var G=Fe(7+V.length);G.write_shift(1,255),G.write_shift(2,O),G.write_shift(2,N),G.write_shift(1,39);for(var J=0;J<G.length;++J){var ae=V.charCodeAt(J);G.write_shift(1,ae>=128?95:ae)}return G.write_shift(1,0),G}function g(N,O,V){var G=u(N,O,V);return G[1].v=N.read_shift(2,"i"),G}function C(N,O,V){var G=Fe(7);return G.write_shift(1,255),G.write_shift(2,O),G.write_shift(2,N),G.write_shift(2,V,"i"),G}function S(N,O,V){var G=u(N,O,V);return G[1].v=N.read_shift(8,"f"),G}function y(N,O,V){var G=Fe(13);return G.write_shift(1,255),G.write_shift(2,O),G.write_shift(2,N),G.write_shift(8,V,"f"),G}function w(N,O,V){var G=N.l+O,J=u(N,O,V);if(J[1].v=N.read_shift(8,"f"),V.qpro)N.l=G;else{var ae=N.read_shift(2);E(N.slice(N.l,N.l+ae),J),N.l+=ae}return J}function b(N,O,V){var G=O&32768;return O&=-32769,O=(G?N:0)+(O>=8192?O-16384:O),(G?"":"$")+(V?_n(O):Fn(O))}var F={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},R=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(N,O){Ls(N,0);for(var V=[],G=0,J="",ae="",ge="",X="";N.l<N.length;){var ne=N[N.l++];switch(ne){case 0:V.push(N.read_shift(8,"f"));break;case 1:ae=b(O[0].c,N.read_shift(2),!0),J=b(O[0].r,N.read_shift(2),!1),V.push(ae+J);break;case 2:{var Ne=b(O[0].c,N.read_shift(2),!0),Ae=b(O[0].r,N.read_shift(2),!1);ae=b(O[0].c,N.read_shift(2),!0),J=b(O[0].r,N.read_shift(2),!1),V.push(Ne+Ae+":"+ae+J)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(N.read_shift(2));break;case 6:{for(var Qe="";ne=N[N.l++];)Qe+=String.fromCharCode(ne);V.push('"'+Qe.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:X=V.pop(),ge=V.pop(),V.push(["AND","OR"][ne-20]+"("+ge+","+X+")");break;default:if(ne<32&&R[ne])X=V.pop(),ge=V.pop(),V.push(ge+R[ne]+X);else if(F[ne]){if(G=F[ne][1],G==69&&(G=N[N.l++]),G>V.length){console.error("WK1 bad formula parse 0x"+ne.toString(16)+":|"+V.join("|")+"|");return}var Ze=V.slice(-G);V.length-=G,V.push(F[ne][0]+"("+Ze.join(",")+")")}else return ne<=7?console.error("WK1 invalid opcode "+ne.toString(16)):ne<=24?console.error("WK1 unsupported op "+ne.toString(16)):ne<=30?console.error("WK1 invalid opcode "+ne.toString(16)):ne<=115?console.error("WK1 unsupported function opcode "+ne.toString(16)):console.error("WK1 unrecognized opcode "+ne.toString(16))}}V.length==1?O[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function A(N){var O=[{c:0,r:0},{t:"n",v:0},0];return O[0].r=N.read_shift(2),O[3]=N[N.l++],O[0].c=N[N.l++],O}function D(N,O){var V=A(N);return V[1].t="s",V[1].v=N.read_shift(O-4,"cstr"),V}function M(N,O,V,G){var J=Fe(6+G.length);J.write_shift(2,N),J.write_shift(1,V),J.write_shift(1,O),J.write_shift(1,39);for(var ae=0;ae<G.length;++ae){var ge=G.charCodeAt(ae);J.write_shift(1,ge>=128?95:ge)}return J.write_shift(1,0),J}function I(N,O){var V=A(N);V[1].v=N.read_shift(2);var G=V[1].v>>1;if(V[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return V[1].v=G,V}function _(N,O){var V=A(N),G=N.read_shift(4),J=N.read_shift(4),ae=N.read_shift(2);if(ae==65535)return G===0&&J===3221225472?(V[1].t="e",V[1].v=15):G===0&&J===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var ge=ae&32768;return ae=(ae&32767)-16446,V[1].v=(1-ge*2)*(J*Math.pow(2,ae+32)+G*Math.pow(2,ae)),V}function j(N,O,V,G){var J=Fe(14);if(J.write_shift(2,N),J.write_shift(1,V),J.write_shift(1,O),G==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var ae=0,ge=0,X=0,ne=0;return G<0&&(ae=1,G=-G),ge=Math.log2(G)|0,G/=Math.pow(2,ge-31),ne=G>>>0,(ne&2147483648)==0&&(G/=2,++ge,ne=G>>>0),G-=ne,ne|=2147483648,ne>>>=0,G*=Math.pow(2,32),X=G>>>0,J.write_shift(4,X),J.write_shift(4,ne),ge+=16383+(ae?32768:0),J.write_shift(2,ge),J}function H(N,O){var V=_(N);return N.l+=O-14,V}function B(N,O){var V=A(N),G=N.read_shift(4);return V[1].v=G>>6,V}function oe(N,O){var V=A(N),G=N.read_shift(8,"f");return V[1].v=G,V}function ye(N,O){var V=oe(N);return N.l+=O-10,V}function Re(N,O){return N[N.l+O-1]==0?N.read_shift(O,"cstr"):""}function we(N,O){var V=N[N.l++];V>O-1&&(V=O-1);for(var G="";G.length<V;)G+=String.fromCharCode(N[N.l++]);return G}function se(N,O,V){if(!(!V.qpro||O<21)){var G=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var J=N.read_shift(O-21,"cstr");return[G,J]}}function ee(N,O){for(var V={},G=N.l+O;N.l<G;){var J=N.read_shift(2);if(J==14e3){for(V[J]=[0,""],V[J][0]=N.read_shift(2);N[N.l];)V[J][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return V}function re(N,O){var V=Fe(5+N.length);V.write_shift(2,14e3),V.write_shift(2,O);for(var G=0;G<N.length;++G){var J=N.charCodeAt(G);V[V.l++]=J>127?95:J}return V[V.l++]=0,V}var de={0:{n:"BOF",f:nj},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:S},15:{n:"LABEL",f},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Re},222:{n:"SHEETNAMELP",f:we},65535:{n:""}},K={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:_},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:H},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ee},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:oe},40:{n:"FORMULA28",f:ye},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Re},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}})(),Ppe=/^\s|\s$|[\t\n\r]/;function cj(e,t){if(!t.bookSST)return"";var r=[Zr];r[r.length]=qe("sst",null,{xmlns:Qd[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var s=e[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(Ppe)&&(i+=' xml:space="preserve"'),i+=">"+ir(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Ape(e){return[e.read_shift(4),e.read_shift(4)]}function Dpe(e,t){return t||(t=Fe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Mpe=wfe;function Npe(e){var t=Rs();Ie(t,159,Dpe(e));for(var r=0;r<e.length;++r)Ie(t,19,Mpe(e[r]));return Ie(t,160),t.end()}function Ipe(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function uj(e){var t=0,r,n=Ipe(e),s=n.length+1,i,o,a,l,u;for(r=Oc(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)o=r[i],a=(t&16384)===0?0:1,l=t<<1&32767,u=a|l,t=u^o;return t^52811}var Ope=(function(){function e(s,i){switch(i.type){case"base64":return t(ha(s),i);case"binary":return t(s,i);case"buffer":return t(Xt&&Buffer.isBuffer(s)?s.toString("binary"):Dp(s),i);case"array":return t(U0(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},a=o.dense?[]:{},l=s.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,p){Array.isArray(a)&&(a[p]=[]);for(var g=/\\\w+\b/g,C=0,S,y=-1;S=g.exec(f);){switch(S[0]){case"\\cell":var w=f.slice(C,g.lastIndex-S[0].length);if(w[0]==" "&&(w=w.slice(1)),++y,w.length){var b={v:w,t:"s"};Array.isArray(a)?a[p][y]=b:a[or({r:p,c:y})]=b}break}C=g.lastIndex}y>u.e.c&&(u.e.c=y)}),a["!ref"]=qr(u),a}function r(s,i){return Yc(e(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],o=xr(s["!ref"]),a,l=Array.isArray(s),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var p=or({r:u,c:f});a=l?(s[u]||[])[f]:s[p],!(!a||a.v==null&&(!a.f||a.F))&&(i.push(" "+(a.w||(fa(a),a.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function U2(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var kpe=6,ra=kpe;function Uv(e){return Math.floor((e+Math.round(128/ra)/256)*ra)}function $v(e){return Math.floor((e-5)/ra*100+.5)/100}function Dx(e){return Math.round((e*ra+5)/ra*256)/256}function vE(e){e.width?(e.wpx=Uv(e.width),e.wch=$v(e.wpx),e.MDW=ra):e.wpx?(e.wch=$v(e.wpx),e.width=Dx(e.wch),e.MDW=ra):typeof e.wch=="number"&&(e.width=Dx(e.wch),e.wpx=Uv(e.width),e.MDW=ra),e.customWidth&&delete e.customWidth}var Lpe=96,dj=Lpe;function zv(e){return e*96/dj}function hj(e){return e*dj/96}function _pe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=qe("numFmt",null,{numFmtId:n,formatCode:ir(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=qe("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function jpe(e){var t=[];return t[t.length]=qe("cellXfs",null),e.forEach(function(r){t[t.length]=qe("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=qe("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function fj(e,t){var r=[Zr,qe("styleSheet",null,{xmlns:Qd[0],"xmlns:vt":fn.vt})],n;return e.SSF&&(n=_pe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=jpe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Bpe(e,t){var r=e.read_shift(2),n=jn(e);return[r,n]}function Gpe(e,t,r){r||(r=Fe(6+4*t.length)),r.write_shift(2,e),gn(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Vpe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=Pfe(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var a=e.read_shift(1);a>0&&(n.family=a);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=Tfe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=jn(e),n}function Hpe(e,t){t||(t=Fe(153)),t.write_shift(2,e.sz*20),Afe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Hv(e.color,t);var n=0;return n=2,t.write_shift(1,n),gn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Wpe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],QS,Upe=yo;function $2(e,t){t||(t=Fe(84)),QS||(QS=iE(Wpe));var r=QS[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Hv({auto:1},t),Hv({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function $pe(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}function pj(e,t,r){r||(r=Fe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Yh(e,t){return t||(t=Fe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var zpe=yo;function Kpe(e,t){return t||(t=Fe(51)),t.write_shift(1,0),Yh(null,t),Yh(null,t),Yh(null,t),Yh(null,t),Yh(null,t),t.length>t.l?t.slice(0,t.l):t}function qpe(e,t){return t||(t=Fe(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Vv(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Ype(e,t,r){var n=Fe(2052);return n.write_shift(4,e),Vv(t,n),Vv(r,n),n.length>n.l?n.slice(0,n.l):n}function Qpe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&++r}),r!=0&&(Ie(e,615,Ui(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Ie(e,44,Gpe(s,t[s]))}),Ie(e,616))}}function Xpe(e){var t=1;Ie(e,611,Ui(t)),Ie(e,43,Hpe({sz:12,color:{theme:1},name:"Calibri",family:2})),Ie(e,612)}function Zpe(e){var t=2;Ie(e,603,Ui(t)),Ie(e,45,$2({patternType:"none"})),Ie(e,45,$2({patternType:"gray125"})),Ie(e,604)}function Jpe(e){var t=1;Ie(e,613,Ui(t)),Ie(e,46,Kpe()),Ie(e,614)}function ege(e){var t=1;Ie(e,626,Ui(t)),Ie(e,47,pj({numFmtId:0},65535)),Ie(e,627)}function tge(e,t){Ie(e,617,Ui(t.length)),t.forEach(function(r){Ie(e,47,pj(r,0))}),Ie(e,618)}function rge(e){var t=1;Ie(e,619,Ui(t)),Ie(e,48,qpe({xfId:0,name:"Normal"})),Ie(e,620)}function nge(e){var t=0;Ie(e,505,Ui(t)),Ie(e,506)}function sge(e){var t=0;Ie(e,508,Ype(t,"TableStyleMedium9","PivotStyleMedium4")),Ie(e,509)}function ige(e,t){var r=Rs();return Ie(r,278),Qpe(r,e.SSF),Xpe(r),Zpe(r),Jpe(r),ege(r),tge(r,t.cellXfs),rge(r),nge(r),sge(r),Ie(r,279),r.end()}function gj(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Zr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function oge(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:jn(e)}}function age(e){var t=Fe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),gn(e.name,t),t.slice(0,t.l)}function lge(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function cge(e){var t=Fe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function uge(e,t){var r=Fe(8+2*t.length);return r.write_shift(4,e),gn(t,r),r.slice(0,r.l)}function dge(e){return e.l+=4,e.read_shift(4)!=0}function hge(e,t){var r=Fe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function fge(){var e=Rs();return Ie(e,332),Ie(e,334,Ui(1)),Ie(e,335,age({name:"XLDAPR",version:12e4,flags:3496657072})),Ie(e,336),Ie(e,339,uge(1,"XLDAPR")),Ie(e,52),Ie(e,35,Ui(514)),Ie(e,4096,Ui(0)),Ie(e,4097,hi(1)),Ie(e,36),Ie(e,53),Ie(e,340),Ie(e,337,hge(1)),Ie(e,51,cge([[1,0]])),Ie(e,338),Ie(e,333),e.end()}function mj(){var e=[Zr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function pge(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=or(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Ku=1024;function vj(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[qe("xml",null,{"xmlns:v":js.v,"xmlns:o":js.o,"xmlns:x":js.x,"xmlns:mv":js.mv}).replace(/\/>/,">"),qe("o:shapelayout",qe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),qe("v:shapetype",[qe("v:stroke",null,{joinstyle:"miter"}),qe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Ku<e*1e3;)Ku+=1e3;return t.forEach(function(i){var o=pn(i[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?qe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=qe("v:fill",l,a),f={on:"t",obscured:"t"};++Ku,s=s.concat(["<v:shape"+Qf({id:"_x0000_s"+Ku,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,qe("v:shadow",null,f),qe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",En("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),En("x:AutoFill","False"),En("x:Row",String(o.r)),En("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function Cj(e){var t=[Zr,qe("comments",null,{xmlns:Qd[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(s){var i=ir(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(s=r.indexOf(ir(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(En("t",ir(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,a=1;a<i.length;++a)o+=`Reply:
    `+i[a]+`
`;t.push(En("t",ir(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function gge(e,t,r){var n=[Zr,qe("ThreadedComments",null,{xmlns:fn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var l={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};a==0?i=l.id:l.parentId=i,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(qe("threadedComment",En("text",o.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function mge(e){var t=[Zr,qe("personList",null,{xmlns:fn.TCMNT,"xmlns:x":Qd[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(qe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function vge(e){var t={};t.iauthor=e.read_shift(4);var r=Jc(e);return t.rfx=r.s,t.ref=or(r.s),e.l+=16,t}function Cge(e,t){return t==null&&(t=Fe(36)),t.write_shift(4,e[1].iauthor),Zd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var yge=jn;function Sge(e){return gn(e.slice(0,54))}function wge(e){var t=Rs(),r=[];return Ie(t,628),Ie(t,630),e.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Ie(t,632,Sge(s.a)))})}),Ie(t,631),Ie(t,633),e.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:pn(n[0]),e:pn(n[0])};Ie(t,635,Cge([i,s])),s.t&&s.t.length>0&&Ie(t,637,bfe(s)),Ie(t,636),delete s.iauthor})}),Ie(t,634),Ie(t,629),t.end()}function xge(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&ar.utils.cfb_add(e,s,t.FileIndex[n].content)}})}var yj=["xlsb","xlsm","xlam","biff8","xla"],bge=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,i,o){var a=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return a?f+=t.c:--f,l?u+=t.r:--u,s+(a?"":"$")+_n(f)+(l?"":"$")+Fn(u)}return function(s,i){return t=i,s.replace(e,r)}})(),CE=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,yE=(function(){return function(t,r){return t.replace(CE,function(n,s,i,o,a,l){var u=hE(o)-(i?0:r.c),f=dE(l)-(a?0:r.r),p=f==0?"":a?f+1:"["+f+"]",g=u==0?"":i?u+1:"["+u+"]";return s+"R"+p+"C"+g})}})();function Ege(e,t){return e.replace(CE,function(r,n,s,i,o,a){return n+(s=="$"?s+i:_n(hE(i)+t.c))+(o=="$"?o+a:Fn(dE(a)+t.r))})}function Rge(e){return e.length!=1}function Kr(e){e.l+=1}function ml(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Sj(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return wj(e);r.biff==12&&(n=4)}var s=e.read_shift(n),i=e.read_shift(n),o=ml(e),a=ml(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function wj(e){var t=ml(e),r=ml(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function Fge(e,t,r){if(r.biff<8)return wj(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=ml(e),o=ml(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function xj(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Tge(e);var n=e.read_shift(r&&r.biff==12?4:2),s=ml(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function Tge(e){var t=ml(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Pge(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Age(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Dge(e);var s=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,a=(i&32768)>>15;if(i&=16383,a==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:a}}function Dge(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function Mge(e,t,r){var n=(e[e.l++]&96)>>5,s=Sj(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function Nge(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Sj(e,i,r);return[n,s,o]}function Ige(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Oge(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,s]}function kge(e,t,r){var n=(e[e.l++]&96)>>5,s=Fge(e,t-1,r);return[n,s]}function Lge(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function z2(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function _ge(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function jge(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Bge(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Gge(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Vge(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function bj(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Hge(e){return e.read_shift(2),bj(e)}function Wge(e){return e.read_shift(2),bj(e)}function Uge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=xj(e,0,r);return[n,s]}function $ge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=Age(e,0,r);return[n,s]}function zge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=xj(e,0,r);return[n,s,i]}function Kge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[Kme[s],Fj[s],n]}function qge(e,t,r){var n=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Yge(e);return[s,(i[0]===0?Fj:zme)[i[1]]]}function Yge(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Qge(e,t,r){e.l+=r&&r.biff==2?3:4}function Xge(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function Zge(e){return e.l++,Ip[e.read_shift(1)]}function Jge(e){return e.l++,e.read_shift(2)}function eme(e){return e.l++,e.read_shift(1)!==0}function tme(e){return e.l++,Jd(e)}function rme(e,t,r){return e.l++,ij(e,t-1,r)}function nme(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=zfe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Ip[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Jd(e);break;case 2:r[1]=Qfe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function sme(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?Jc:Jfe)(e));return s}function ime(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var a=0;a!=s;++a)o[i][a]=nme(e,r.biff);return o}function ome(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function ame(e,t,r){if(r.biff==5)return lme(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[n,s,i]}function lme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function cme(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function ume(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function dme(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function hme(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,s]}var fme=yo,pme=yo,gme=yo;function Op(e,t,r){return e.l+=2,[Pge(e)]}function SE(e){return e.l+=6,[]}var mme=Op,vme=SE,Cme=SE,yme=Op;function Ej(e){return e.l+=2,[nj(e),e.read_shift(2)&1]}var Sme=Op,wme=Ej,xme=SE,bme=Op,Eme=Op,Rme=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Fme(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=Rme[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:s,C:i}}function Tme(e){return e.l+=2,[e.read_shift(4)]}function Pme(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Ame(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Dme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Mme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Nme(e){return e.l+=4,[0,0]}var K2={1:{n:"PtgExp",f:Xge},2:{n:"PtgTbl",f:gme},3:{n:"PtgAdd",f:Kr},4:{n:"PtgSub",f:Kr},5:{n:"PtgMul",f:Kr},6:{n:"PtgDiv",f:Kr},7:{n:"PtgPower",f:Kr},8:{n:"PtgConcat",f:Kr},9:{n:"PtgLt",f:Kr},10:{n:"PtgLe",f:Kr},11:{n:"PtgEq",f:Kr},12:{n:"PtgGe",f:Kr},13:{n:"PtgGt",f:Kr},14:{n:"PtgNe",f:Kr},15:{n:"PtgIsect",f:Kr},16:{n:"PtgUnion",f:Kr},17:{n:"PtgRange",f:Kr},18:{n:"PtgUplus",f:Kr},19:{n:"PtgUminus",f:Kr},20:{n:"PtgPercent",f:Kr},21:{n:"PtgParen",f:Kr},22:{n:"PtgMissArg",f:Kr},23:{n:"PtgStr",f:rme},26:{n:"PtgSheet",f:Pme},27:{n:"PtgEndSheet",f:Ame},28:{n:"PtgErr",f:Zge},29:{n:"PtgBool",f:eme},30:{n:"PtgInt",f:Jge},31:{n:"PtgNum",f:tme},32:{n:"PtgArray",f:Lge},33:{n:"PtgFunc",f:Kge},34:{n:"PtgFuncVar",f:qge},35:{n:"PtgName",f:ome},36:{n:"PtgRef",f:Uge},37:{n:"PtgArea",f:Mge},38:{n:"PtgMemArea",f:cme},39:{n:"PtgMemErr",f:fme},40:{n:"PtgMemNoMem",f:pme},41:{n:"PtgMemFunc",f:ume},42:{n:"PtgRefErr",f:dme},43:{n:"PtgAreaErr",f:Ige},44:{n:"PtgRefN",f:$ge},45:{n:"PtgAreaN",f:kge},46:{n:"PtgMemAreaN",f:Dme},47:{n:"PtgMemNoMemN",f:Mme},57:{n:"PtgNameX",f:ame},58:{n:"PtgRef3d",f:zge},59:{n:"PtgArea3d",f:Nge},60:{n:"PtgRefErr3d",f:hme},61:{n:"PtgAreaErr3d",f:Oge},255:{}},Ime={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ome={1:{n:"PtgElfLel",f:Ej},2:{n:"PtgElfRw",f:bme},3:{n:"PtgElfCol",f:mme},6:{n:"PtgElfRwV",f:Eme},7:{n:"PtgElfColV",f:yme},10:{n:"PtgElfRadical",f:Sme},11:{n:"PtgElfRadicalS",f:xme},13:{n:"PtgElfColS",f:vme},15:{n:"PtgElfColSV",f:Cme},16:{n:"PtgElfRadicalLel",f:wme},25:{n:"PtgList",f:Fme},29:{n:"PtgSxName",f:Tme},255:{}},kme={0:{n:"PtgAttrNoop",f:Nme},1:{n:"PtgAttrSemi",f:Vge},2:{n:"PtgAttrIf",f:Bge},4:{n:"PtgAttrChoose",f:_ge},8:{n:"PtgAttrGoto",f:jge},16:{n:"PtgAttrSum",f:Qge},32:{n:"PtgAttrBaxcel",f:z2},33:{n:"PtgAttrBaxcel",f:z2},64:{n:"PtgAttrSpace",f:Hge},65:{n:"PtgAttrSpaceSemi",f:Wge},128:{n:"PtgAttrIfError",f:Gge},255:{}};function Lme(e,t,r,n){if(n.biff<8)return yo(e,t);for(var s=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=ime(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=sme(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&i.push(yo(e,t)),i}function _me(e,t,r){for(var n=e.l+t,s,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],s=K2[i]||K2[Ime[i]],(i===24||i===25)&&(s=(i===24?Ome:kme)[e[e.l+1]]),!s||!s.f?yo(e,t):o.push([s.n,s.f(e,t,r)]);return o}function jme(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var Bme={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Gme(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Rj(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function q2(e,t,r){var n=Rj(e,t,r);return n=="#REF"?n:Gme(n,r)}function Pd(e,t,r,n,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},a=[],l,u,f,p=0,g=0,C,S="";if(!e[0]||!e[0][0])return"";for(var y=-1,w="",b=0,F=e[0].length;b<F;++b){var R=e[0][b];switch(R[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),u=a.pop(),y>=0){switch(e[0][y][1][0]){case 0:w=Lr(" ",e[0][y][1][1]);break;case 1:w=Lr("\r",e[0][y][1][1]);break;default:if(w="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}u=u+w,y=-1}a.push(u+Bme[R[0]]+l);break;case"PtgIsect":l=a.pop(),u=a.pop(),a.push(u+" "+l);break;case"PtgUnion":l=a.pop(),u=a.pop(),a.push(u+","+l);break;case"PtgRange":l=a.pop(),u=a.pop(),a.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Sf(R[1][1],o,s),a.push(wf(f,i));break;case"PtgRefN":f=r?Sf(R[1][1],r,s):R[1][1],a.push(wf(f,i));break;case"PtgRef3d":p=R[1][1],f=Sf(R[1][2],o,s),S=q2(n,p,s),a.push(S+"!"+wf(f,i));break;case"PtgFunc":case"PtgFuncVar":var E=R[1][0],A=R[1][1];E||(E=0),E&=127;var D=E==0?[]:a.slice(-E);a.length-=E,A==="User"&&(A=D.shift()),a.push(A+"("+D.join(",")+")");break;case"PtgBool":a.push(R[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(R[1]);break;case"PtgNum":a.push(String(R[1]));break;case"PtgStr":a.push('"'+R[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(R[1]);break;case"PtgAreaN":C=N2(R[1][1],r?{s:r}:o,s),a.push(qS(C,s));break;case"PtgArea":C=N2(R[1][1],o,s),a.push(qS(C,s));break;case"PtgArea3d":p=R[1][1],C=R[1][2],S=q2(n,p,s),a.push(S+"!"+qS(C,s));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=R[1][2];var M=(n.names||[])[g-1]||(n[0]||[])[g],I=M?M.Name:"SH33TJSNAME"+String(g);I&&I.slice(0,6)=="_xlfn."&&!s.xlfn&&(I=I.slice(6)),a.push(I);break;case"PtgNameX":var _=R[1][1];g=R[1][2];var j;if(s.biff<=5)_<0&&(_=-_),n[_]&&(j=n[_][g]);else{var H="";if(((n[_]||[])[0]||[])[0]==14849||(((n[_]||[])[0]||[])[0]==1025?n[_][g]&&n[_][g].itab>0&&(H=n.SheetNames[n[_][g].itab-1]+"!"):H=n.SheetNames[g-1]+"!"),n[_]&&n[_][g])H+=n[_][g].Name;else if(n[0]&&n[0][g])H+=n[0][g].Name;else{var B=(Rj(n,_,s)||"").split(";;");B[g-1]?H=B[g-1]:H+="SH33TJSERRX"}a.push(H);break}j||(j={Name:"SH33TJSERRY"}),a.push(j.Name);break;case"PtgParen":var oe="(",ye=")";if(y>=0){switch(w="",e[0][y][1][0]){case 2:oe=Lr(" ",e[0][y][1][1])+oe;break;case 3:oe=Lr("\r",e[0][y][1][1])+oe;break;case 4:ye=Lr(" ",e[0][y][1][1])+ye;break;case 5:ye=Lr("\r",e[0][y][1][1])+ye;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}a.push(oe+a.pop()+ye);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":f={c:R[1][1],r:R[1][0]};var Re={c:r.c,r:r.r};if(n.sharedf[or(f)]){var we=n.sharedf[or(f)];a.push(Pd(we,o,Re,n,s))}else{var se=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){a.push(Pd(u[1],o,Re,n,s)),se=!0;break}se||a.push(R[1])}break;case"PtgArray":a.push("{"+jme(R[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+R[1].idx+"[#"+R[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(R));default:throw new Error("Unrecognized Formula Token: "+String(R))}var ee=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&y>=0&&ee.indexOf(e[0][b][0])==-1){R=e[0][y];var re=!0;switch(R[1][0]){case 4:re=!1;case 0:w=Lr(" ",R[1][1]);break;case 5:re=!1;case 1:w=Lr("\r",R[1][1]);break;default:if(w="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+R[1][0])}a.push((re?w:"")+a.pop()+(re?"":w)),y=-1}}if(a.length>1&&s.WTF)throw new Error("bad formula stack");return a[0]}function Vme(e){if(e==null){var t=Fe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return kc(e);return kc(0)}function Hme(e,t,r,n,s){var i=Lc(t,r,s),o=Vme(e.v),a=Fe(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var u=Fe(e.bf.length),f=0;f<e.bf.length;++f)u[f]=e.bf[f];var p=bn([i,o,a,u]);return p}function $0(e,t,r){var n=e.read_shift(4),s=_me(e,n,r),i=e.read_shift(4),o=i>0?Lme(e,i,s,r):null;return[s,o]}var Wme=$0,z0=$0,Ume=$0,$me=$0,zme={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Fj={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Kme={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function qme(e){var t="of:="+e.replace(CE,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Yme(e){return e.replace(/\./,"!")}var xf=typeof Map<"u";function wE(e,t,r){var n=0,s=e.length;if(r){if(xf?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=xf?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t},e.Count++,e.Unique++,r&&(xf?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function K0(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(ra=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=$v(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Dx(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Tj(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Tl(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){x4(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===n)return s;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Qme(e,t,r){if(e&&e["!ref"]){var n=xr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Xme(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+qr(e[r])+'"/>';return t+"</mergeCells>"}function Zme(e,t,r,n,s){var i=!1,o={},a=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,o.codeName=Yf(ir(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),a=(a||"")+qe("outlinePr",null,u)}!i&&!a||(s[s.length]=qe("sheetPr",a,o))}var Jme=["objects","scenarios","selectLockedCells","selectUnlockedCells"],eve=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function tve(e){var t={sheet:1};return Jme.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),eve.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=uj(e.password).toString(16).toUpperCase()),qe("sheetProtection",null,t)}function rve(e){return Tj(e),qe("pageMargins",null,e)}function nve(e,t){for(var r=["<cols>"],n,s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=qe("col",null,K0(s,n)));return r[r.length]="</cols>",r.join("")}function sve(e,t,r,n){var s=typeof e.ref=="string"?e.ref:qr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Ys(s);o.s.r==o.e.r&&(o.e.r=Ys(t["!ref"]).e.r,s=qr(o));for(var a=0;a<i.length;++a){var l=i[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return a==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),qe("autoFilter",null,{ref:s})}function ive(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),qe("sheetViews",qe("sheetView",null,s),{})}function ove(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=Ip[e.v];break;case"d":n&&n.cellDates?s=ls(e.v,-1).toISOString():(e=Ts(e),e.t="n",s=""+(e.v=Fs(ls(e.v)))),typeof e.z>"u"&&(e.z=Br[14]);break;default:s=e.v;break}var a=En("v",ir(s)),l={r:t},u=Tl(n.cellXfs,e,n);switch(u!==0&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){a=En("v",""+wE(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=qe("f",ir(e.f),f)+(e.v!=null?a:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),qe("c",a,l)}function ave(e,t,r,n){var s=[],i=[],o=xr(e["!ref"]),a="",l,u="",f=[],p=0,g=0,C=e["!rows"],S=Array.isArray(e),y={r:u},w,b=-1;for(g=o.s.c;g<=o.e.c;++g)f[g]=_n(g);for(p=o.s.r;p<=o.e.r;++p){for(i=[],u=Fn(p),g=o.s.c;g<=o.e.c;++g){l=f[g]+u;var F=S?(e[p]||[])[g]:e[l];F!==void 0&&(a=ove(F,l,e,t))!=null&&i.push(a)}(i.length>0||C&&C[p])&&(y={r:u},C&&C[p]&&(w=C[p],w.hidden&&(y.hidden=1),b=-1,w.hpx?b=zv(w.hpx):w.hpt&&(b=w.hpt),b>-1&&(y.ht=b,y.customHeight=1),w.level&&(y.outlineLevel=w.level)),s[s.length]=qe("row",i.join(""),y))}if(C)for(;p<C.length;++p)C&&C[p]&&(y={r:p+1},w=C[p],w.hidden&&(y.hidden=1),b=-1,w.hpx?b=zv(w.hpx):w.hpt&&(b=w.hpt),b>-1&&(y.ht=b,y.customHeight=1),w.level&&(y.outlineLevel=w.level),s[s.length]=qe("row","",y));return s.join("")}function Pj(e,t,r,n){var s=[Zr,qe("worksheet",null,{xmlns:Qd[0],"xmlns:r":fn.r})],i=r.SheetNames[e],o=0,a="",l=r.Sheets[i];l==null&&(l={});var u=l["!ref"]||"A1",f=xr(u);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=qr(f)}n||(n={}),l["!comments"]=[];var p=[];Zme(l,r,e,t,s),s[s.length]=qe("dimension",null,{ref:u}),s[s.length]=ive(l,t,e,r),t.sheetFormat&&(s[s.length]=qe("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(s[s.length]=nve(l,l["!cols"])),s[o=s.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=ave(l,t),a.length>0&&(s[s.length]=a)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),l["!protect"]&&(s[s.length]=tve(l["!protect"])),l["!autofilter"]!=null&&(s[s.length]=sve(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(s[s.length]=Xme(l["!merges"]));var g=-1,C,S=-1;return l["!links"].length>0&&(s[s.length]="<hyperlinks>",l["!links"].forEach(function(y){y[1].Target&&(C={ref:y[0]},y[1].Target.charAt(0)!="#"&&(S=sr(n,-1,ir(y[1].Target).replace(/#.*$/,""),qt.HLINK),C["r:id"]="rId"+S),(g=y[1].Target.indexOf("#"))>-1&&(C.location=ir(y[1].Target.slice(g+1))),y[1].Tooltip&&(C.tooltip=ir(y[1].Tooltip)),s[s.length]=qe("hyperlink",null,C))}),s[s.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(s[s.length]=rve(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=En("ignoredErrors",qe("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(S=sr(n,-1,"../drawings/drawing"+(e+1)+".xml",qt.DRAW),s[s.length]=qe("drawing",null,{"r:id":"rId"+S}),l["!drawing"]=p),l["!comments"].length>0&&(S=sr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",qt.VML),s[s.length]=qe("legacyDrawing",null,{"r:id":"rId"+S}),l["!legacy"]=S),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function lve(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function cve(e,t,r){var n=Fe(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;s.hpx?i=zv(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var a=0,l=n.l;n.l+=4;for(var u={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var p=-1,g=-1,C=f<<10;C<f+1<<10;++C){u.c=C;var S=Array.isArray(r)?(r[u.r]||[])[u.c]:r[or(u)];S&&(p<0&&(p=C),g=C)}p<0||(++a,n.write_shift(4,p),n.write_shift(4,g))}var y=n.l;return n.l=l,n.write_shift(4,a),n.l=y,n.length>n.l?n.slice(0,n.l):n}function uve(e,t,r,n){var s=cve(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&Ie(e,0,s)}var dve=Jc,hve=Zd;function fve(){}function pve(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Efe(e),r}function gve(e,t,r){r==null&&(r=Fe(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return Hv({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),W4(e,r),r.slice(0,r.l)}function mve(e){var t=xi(e);return[t]}function vve(e,t,r){return r==null&&(r=Fe(8)),Qc(t,r)}function Cve(e){var t=Xc(e);return[t]}function yve(e,t,r){return r==null&&(r=Fe(4)),Zc(t,r)}function Sve(e){var t=xi(e),r=e.read_shift(1);return[t,r,"b"]}function wve(e,t,r){return r==null&&(r=Fe(9)),Qc(t,r),r.write_shift(1,e.v?1:0),r}function xve(e){var t=Xc(e),r=e.read_shift(1);return[t,r,"b"]}function bve(e,t,r){return r==null&&(r=Fe(5)),Zc(t,r),r.write_shift(1,e.v?1:0),r}function Eve(e){var t=xi(e),r=e.read_shift(1);return[t,r,"e"]}function Rve(e,t,r){return r==null&&(r=Fe(9)),Qc(t,r),r.write_shift(1,e.v),r}function Fve(e){var t=Xc(e),r=e.read_shift(1);return[t,r,"e"]}function Tve(e,t,r){return r==null&&(r=Fe(8)),Zc(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Pve(e){var t=xi(e),r=e.read_shift(4);return[t,r,"s"]}function Ave(e,t,r){return r==null&&(r=Fe(12)),Qc(t,r),r.write_shift(4,t.v),r}function Dve(e){var t=Xc(e),r=e.read_shift(4);return[t,r,"s"]}function Mve(e,t,r){return r==null&&(r=Fe(8)),Zc(t,r),r.write_shift(4,t.v),r}function Nve(e){var t=xi(e),r=Jd(e);return[t,r,"n"]}function Ive(e,t,r){return r==null&&(r=Fe(16)),Qc(t,r),kc(e.v,r),r}function Ove(e){var t=Xc(e),r=Jd(e);return[t,r,"n"]}function kve(e,t,r){return r==null&&(r=Fe(12)),Zc(t,r),kc(e.v,r),r}function Lve(e){var t=xi(e),r=U4(e);return[t,r,"n"]}function _ve(e,t,r){return r==null&&(r=Fe(12)),Qc(t,r),$4(e.v,r),r}function jve(e){var t=Xc(e),r=U4(e);return[t,r,"n"]}function Bve(e,t,r){return r==null&&(r=Fe(8)),Zc(t,r),$4(e.v,r),r}function Gve(e){var t=xi(e),r=fE(e);return[t,r,"is"]}function Vve(e){var t=xi(e),r=jn(e);return[t,r,"str"]}function Hve(e,t,r){return r==null&&(r=Fe(12+4*e.v.length)),Qc(t,r),gn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Wve(e){var t=Xc(e),r=jn(e);return[t,r,"str"]}function Uve(e,t,r){return r==null&&(r=Fe(8+4*e.v.length)),Zc(t,r),gn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function $ve(e,t,r){var n=e.l+t,s=xi(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(r.cellFormula){e.l+=2;var a=z0(e,n-e.l,r);o[3]=Pd(a,null,s,r.supbooks,r)}else e.l=n;return o}function zve(e,t,r){var n=e.l+t,s=xi(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(r.cellFormula){e.l+=2;var a=z0(e,n-e.l,r);o[3]=Pd(a,null,s,r.supbooks,r)}else e.l=n;return o}function Kve(e,t,r){var n=e.l+t,s=xi(e);s.r=r["!row"];var i=Jd(e),o=[s,i,"n"];if(r.cellFormula){e.l+=2;var a=z0(e,n-e.l,r);o[3]=Pd(a,null,s,r.supbooks,r)}else e.l=n;return o}function qve(e,t,r){var n=e.l+t,s=xi(e);s.r=r["!row"];var i=jn(e),o=[s,i,"str"];if(r.cellFormula){e.l+=2;var a=z0(e,n-e.l,r);o[3]=Pd(a,null,s,r.supbooks,r)}else e.l=n;return o}var Yve=Jc,Qve=Zd;function Xve(e,t){return t==null&&(t=Fe(4)),t.write_shift(4,e),t}function Zve(e,t){var r=e.l+t,n=Jc(e),s=pE(e),i=jn(e),o=jn(e),a=jn(e);e.l=r;var l={rfx:n,relId:s,loc:i,display:a};return o&&(l.Tooltip=o),l}function Jve(e,t){var r=Fe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Zd({s:pn(e[0]),e:pn(e[0])},r),gE("rId"+t,r);var n=e[1].Target.indexOf("#"),s=n==-1?"":e[1].Target.slice(n+1);return gn(s||"",r),gn(e[1].Tooltip||"",r),gn("",r),r.slice(0,r.l)}function e0e(){}function t0e(e,t,r){var n=e.l+t,s=z4(e),i=e.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var a=Wme(e,n-e.l,r);o[1]=a}else e.l=n;return o}function r0e(e,t,r){var n=e.l+t,s=Jc(e),i=[s];if(r.cellFormula){var o=$me(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function n0e(e,t,r){r==null&&(r=Fe(18));var n=K0(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var Aj=["left","right","top","bottom","header","footer"];function s0e(e){var t={};return Aj.forEach(function(r){t[r]=Jd(e)}),t}function i0e(e,t){return t==null&&(t=Fe(48)),Tj(e),Aj.forEach(function(r){kc(e[r],t)}),t}function o0e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function a0e(e,t,r){r==null&&(r=Fe(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function l0e(e){var t=Fe(24);return t.write_shift(4,4),t.write_shift(4,1),Zd(e,t),t}function c0e(e,t){return t==null&&(t=Fe(66)),t.write_shift(2,e.password?uj(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function u0e(){}function d0e(){}function h0e(e,t,r,n,s,i,o){if(t.v===void 0)return!1;var a="";switch(t.t){case"b":a=t.v?"1":"0";break;case"d":t=Ts(t),t.z=t.z||Br[14],t.v=Fs(ls(t.v)),t.t="n";break;case"n":case"e":a=""+t.v;break;default:a=t.v;break}var l={r,c:n};switch(l.s=Tl(s.cellXfs,t,s),t.l&&i["!links"].push([or(l),t.l]),t.c&&i["!comments"].push([or(l),t.c]),t.t){case"s":case"str":return s.bookSST?(a=wE(s.Strings,t.v,s.revStrings),l.t="s",l.v=a,o?Ie(e,18,Mve(t,l)):Ie(e,7,Ave(t,l))):(l.t="str",o?Ie(e,17,Uve(t,l)):Ie(e,6,Hve(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Ie(e,13,Bve(t,l)):Ie(e,2,_ve(t,l)):o?Ie(e,16,kve(t,l)):Ie(e,5,Ive(t,l)),!0;case"b":return l.t="b",o?Ie(e,15,bve(t,l)):Ie(e,4,wve(t,l)),!0;case"e":return l.t="e",o?Ie(e,14,Tve(t,l)):Ie(e,3,Rve(t,l)),!0}return o?Ie(e,12,yve(t,l)):Ie(e,1,vve(t,l)),!0}function f0e(e,t,r,n){var s=xr(t["!ref"]||"A1"),i,o="",a=[];Ie(e,145);var l=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var f=s.s.r;f<=u;++f){o=Fn(f),uve(e,t,s,f);var p=!1;if(f<=s.e.r)for(var g=s.s.c;g<=s.e.c;++g){f===s.s.r&&(a[g]=_n(g)),i=a[g]+o;var C=l?(t[f]||[])[g]:t[i];if(!C){p=!1;continue}p=h0e(e,C,f,g,n,t,p)}}Ie(e,146)}function p0e(e,t){!t||!t["!merges"]||(Ie(e,177,Xve(t["!merges"].length)),t["!merges"].forEach(function(r){Ie(e,176,Qve(r))}),Ie(e,178))}function g0e(e,t){!t||!t["!cols"]||(Ie(e,390),t["!cols"].forEach(function(r,n){r&&Ie(e,60,n0e(n,r))}),Ie(e,391))}function m0e(e,t){!t||!t["!ref"]||(Ie(e,648),Ie(e,649,l0e(xr(t["!ref"]))),Ie(e,650))}function v0e(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var s=sr(r,-1,n[1].Target.replace(/#.*$/,""),qt.HLINK);Ie(e,494,Jve(n,s))}}),delete t["!links"]}function C0e(e,t,r,n){if(t["!comments"].length>0){var s=sr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",qt.VML);Ie(e,551,gE("rId"+s)),t["!legacy"]=s}}function y0e(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:qr(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,a=Ys(i);a.s.r==a.e.r&&(a.e.r=Ys(t["!ref"]).e.r,i=qr(a));for(var l=0;l<o.length;++l){var u=o[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ie(e,161,Zd(xr(i))),Ie(e,162)}}function S0e(e,t,r){Ie(e,133),Ie(e,137,a0e(t,r)),Ie(e,138),Ie(e,134)}function w0e(e,t){t["!protect"]&&Ie(e,535,c0e(t["!protect"]))}function x0e(e,t,r,n){var s=Rs(),i=r.SheetNames[e],o=r.Sheets[i]||{},a=i;try{r&&r.Workbook&&(a=r.Workbook.Sheets[e].CodeName||a)}catch{}var l=xr(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ie(s,129),(r.vbaraw||o["!outline"])&&Ie(s,147,gve(a,o["!outline"])),Ie(s,148,hve(l)),S0e(s,o,r.Workbook),g0e(s,o),f0e(s,o,e,t),w0e(s,o),y0e(s,o,r,e),p0e(s,o),v0e(s,o,n),o["!margins"]&&Ie(s,476,i0e(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&m0e(s,o),C0e(s,o,e,n),Ie(s,130),s.end()}function b0e(e,t){e.l+=10;var r=jn(e);return{name:r}}var E0e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function R0e(e){return!e.Workbook||!e.Workbook.WBProps?"false":rfe(e.Workbook.WBProps.date1904)?"true":"false"}var F0e="][*?/\\".split("");function Dj(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return F0e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function T0e(e,t,r){e.forEach(function(n,s){Dj(n);for(var i=0;i<s;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[s]&&t[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function P0e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];T0e(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Qme(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function Mj(e){var t=[Zr];t[t.length]=qe("workbook",null,{xmlns:Qd[0],"xmlns:r":fn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(E0e.forEach(function(a){e.Workbook.WBProps[a[0]]!=null&&e.Workbook.WBProps[a[0]]!=a[1]&&(n[a[0]]=e.Workbook.WBProps[a[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=qe("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:ir(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=qe("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(t[t.length]=qe("definedName",ir(a.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function A0e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Ax(e),r.name=jn(e),r}function D0e(e,t){return t||(t=Fe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),gE(e.strRelID,t),gn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function M0e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?jn(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function N0e(e,t){t||(t=Fe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),W4(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function I0e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=Rfe(e),o=Ume(e,0,r),a=pE(e);e.l=n;var l={Name:i,Ptg:o};return s<268435455&&(l.Sheet=s),a&&(l.Comment=a),l}function O0e(e,t){Ie(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ie(e,156,D0e(s))}Ie(e,144)}function k0e(e,t){t||(t=Fe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return gn("SheetJS",t),gn(Ov.version,t),gn(Ov.version,t),gn("7262",t),t.length>t.l?t.slice(0,t.l):t}function L0e(e,t){t||(t=Fe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function _0e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(Ie(e,135),Ie(e,158,L0e(s)),Ie(e,136))}}function j0e(e,t){var r=Rs();return Ie(r,131),Ie(r,128,k0e()),Ie(r,153,N0e(e.Workbook&&e.Workbook.WBProps||null)),_0e(r,e),O0e(r,e),Ie(r,132),r.end()}function B0e(e,t,r){return(t.slice(-4)===".bin"?j0e:Mj)(e)}function G0e(e,t,r,n,s){return(t.slice(-4)===".bin"?x0e:Pj)(e,r,n,s)}function V0e(e,t,r){return(t.slice(-4)===".bin"?ige:fj)(e,r)}function H0e(e,t,r){return(t.slice(-4)===".bin"?Npe:cj)(e,r)}function W0e(e,t,r){return(t.slice(-4)===".bin"?wge:Cj)(e)}function U0e(e){return(e.slice(-4)===".bin"?fge:mj)()}function $0e(e,t){var r=[];return e.Props&&r.push(Vfe(e.Props,t)),e.Custprops&&r.push(Hfe(e.Props,e.Custprops)),r.join("")}function z0e(){return""}function K0e(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,s){var i=[];i.push(qe("NumberFormat",null,{"ss:Format":ir(Br[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(qe("Style",i.join(""),o))}),qe("Styles",r.join(""))}function Nj(e){return qe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+yE(e.Ref,{r:0,c:0})})}function q0e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(Nj(s)))}return qe("Names",r.join(""))}function Y0e(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],o=0;o<s.length;++o){var a=s[o];a.Sheet==r&&(a.Name.match(/^_xlfn\./)||i.push(Nj(a)))}return i.join("")}function Q0e(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(qe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(qe("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(qe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(qe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(En("ProtectContents","True")),e["!protect"].objects&&s.push(En("ProtectObjects","True")),e["!protect"].scenarios&&s.push(En("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(En("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(En("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":qe("WorksheetOptions",s.join(""),{xmlns:js.x})}function X0e(e){return e.map(function(t){var r=tfe(t.t||""),n=qe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return qe("Comment",n,{"ss:Author":t.a})}).join("")}function Z0e(e,t,r,n,s,i,o){if(!e||e.v==null&&e.f==null)return"";var a={};if(e.f&&(a["ss:Formula"]="="+ir(yE(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=pn(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=ir(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=ir(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=o.c||u[f].s.r!=o.r||(u[f].e.c>u[f].s.c&&(a["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(a["ss:MergeDown"]=u[f].e.r-u[f].s.r));var p="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(e.v);break;case"b":p="Boolean",g=e.v?"1":"0";break;case"e":p="Error",g=Ip[e.v];break;case"d":p="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Br[14]);break;case"s":p="String",g=efe(e.v||"");break}var C=Tl(n.cellXfs,e,n);a["ss:StyleID"]="s"+(21+C),a["ss:Index"]=o.c+1;var S=e.v!=null?g:"",y=e.t=="z"?"":'<Data ss:Type="'+p+'">'+S+"</Data>";return(e.c||[]).length>0&&(y+=X0e(e.c)),qe("Cell",y,a)}function J0e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=hj(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function eCe(e,t,r,n){if(!e["!ref"])return"";var s=xr(e["!ref"]),i=e["!merges"]||[],o=0,a=[];e["!cols"]&&e["!cols"].forEach(function(w,b){vE(w);var F=!!w.width,R=K0(b,w),E={"ss:Index":b+1};F&&(E["ss:Width"]=Uv(R.width)),w.hidden&&(E["ss:Hidden"]="1"),a.push(qe("Column",null,E))});for(var l=Array.isArray(e),u=s.s.r;u<=s.e.r;++u){for(var f=[J0e(u,(e["!rows"]||[])[u])],p=s.s.c;p<=s.e.c;++p){var g=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>p)&&!(i[o].s.r>u)&&!(i[o].e.c<p)&&!(i[o].e.r<u)){(i[o].s.c!=p||i[o].s.r!=u)&&(g=!0);break}if(!g){var C={r:u,c:p},S=or(C),y=l?(e[u]||[])[p]:e[S];f.push(Z0e(y,S,e,t,r,n,C))}}f.push("</Row>"),f.length>2&&a.push(f.join(""))}return a.join("")}function tCe(e,t,r){var n=[],s=r.SheetNames[e],i=r.Sheets[s],o=i?Y0e(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?eCe(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(Q0e(i,t,e,r)),n.join("")}function rCe(e,t){t||(t={}),e.SSF||(e.SSF=Ts(Br)),e.SSF&&(H0(),V0(e.SSF),t.revssf=W0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Tl(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push($0e(e,t)),r.push(z0e()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(qe("Worksheet",tCe(n,t,e),{"ss:Name":ir(e.SheetNames[n])}));return r[2]=K0e(e,t),r[3]=q0e(e),Zr+qe("Workbook",r.join(""),{xmlns:js.ss,"xmlns:o":js.o,"xmlns:x":js.x,"xmlns:ss":js.ss,"xmlns:dt":js.dt,"xmlns:html":js.html})}var XS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function nCe(e,t){var r=[],n=[],s=[],i=0,o,a=w2(O2,"n"),l=w2(k2,"n");if(e.Props)for(o=Tn(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(a,o[i])?r:Object.prototype.hasOwnProperty.call(l,o[i])?n:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Tn(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(a,o[i])?r:Object.prototype.hasOwnProperty.call(l,o[i])?n:s).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<s.length;++i)rj.indexOf(s[i][0])>-1||J4.indexOf(s[i][0])>-1||s[i][1]!=null&&u.push(s[i]);n.length&&ar.utils.cfb_add(t,"/SummaryInformation",G2(n,XS.SI,l,k2)),(r.length||u.length)&&ar.utils.cfb_add(t,"/DocumentSummaryInformation",G2(r,XS.DSI,a,O2,u.length?u:null,XS.UDI))}function sCe(e,t){var r=t||{},n=ar.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return ar.utils.cfb_add(n,s,Ij(e,r)),r.biff==8&&(e.Props||e.Custprops)&&nCe(e,n),r.biff==8&&e.vbaraw&&xge(n,ar.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var iCe={0:{f:lve},1:{f:mve},2:{f:Lve},3:{f:Eve},4:{f:Sve},5:{f:Nve},6:{f:Vve},7:{f:Pve},8:{f:qve},9:{f:Kve},10:{f:$ve},11:{f:zve},12:{f:Cve},13:{f:jve},14:{f:Fve},15:{f:xve},16:{f:Ove},17:{f:Wve},18:{f:Dve},19:{f:fE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:I0e},40:{},42:{},43:{f:Vpe},44:{f:Bpe},45:{f:Upe},46:{f:zpe},47:{f:$pe},48:{},49:{f:Cfe},50:{},51:{f:lge},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:ype},62:{f:Gve},63:{f:pge},64:{f:u0e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:yo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:o0e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:pve},148:{f:dve,p:16},151:{f:e0e},152:{},153:{f:M0e},154:{},155:{},156:{f:A0e},157:{},158:{},159:{T:1,f:Ape},160:{T:-1},161:{T:1,f:Jc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Yve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:oge},336:{T:-1},337:{f:dge,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ax},357:{},358:{},359:{},360:{T:1},361:{},362:{f:fpe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:t0e},427:{f:r0e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:s0e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:fve},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Zve},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ax},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:yge},633:{T:1},634:{T:-1},635:{T:1,f:vge},636:{T:-1},637:{f:xfe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:b0e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:d0e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ye(e,t,r,n){var s=t;if(!isNaN(s)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&uE(r)&&e.push(r)}}function oCe(e,t,r,n){var s=(r||[]).length||0;if(s<=8224)return Ye(e,t,r,s);var i=t;if(!isNaN(i)){for(var o=r.parts||[],a=0,l=0,u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;var f=e.next(4);for(f.write_shift(2,i),f.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u;l<s;){for(f=e.next(4),f.write_shift(2,60),u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;f.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u}}}function kp(e,t,r){return e||(e=Fe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function aCe(e,t,r,n){var s=Fe(9);return kp(s,e,t),sj(r,n||"b",s),s}function lCe(e,t,r){var n=Fe(8+2*r.length);return kp(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function cCe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Fs(ls(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Ye(e,2,bpe(r,n,s)):Ye(e,3,xpe(r,n,s));return;case"b":case"e":Ye(e,5,aCe(r,n,t.v,t.t));return;case"s":case"str":Ye(e,4,lCe(r,n,(t.v||"").slice(0,255)));return}Ye(e,1,kp(null,r,n))}function uCe(e,t,r,n){var s=Array.isArray(t),i=xr(t["!ref"]||"A1"),o,a="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=qr(i)}for(var u=i.s.r;u<=i.e.r;++u){a=Fn(u);for(var f=i.s.c;f<=i.e.c;++f){u===i.s.r&&(l[f]=_n(f)),o=l[f]+a;var p=s?(t[u]||[])[f]:t[o];p&&cCe(e,p,u,f)}}}function dCe(e,t){for(var r=t||{},n=Rs(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ye(n,r.biff==4?1033:r.biff==3?521:9,mE(e,16,r)),uCe(n,e.Sheets[e.SheetNames[s]],s,r),Ye(n,10),n.end()}function hCe(e,t,r){Ye(e,49,ipe({sz:12,name:"Arial"},r))}function fCe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Ye(e,1054,lpe(s,t[s],r))})}function pCe(e,t){var r=Fe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ye(e,2151,r),r=Fe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),aj(xr(t["!ref"]||"A1"),r),r.write_shift(4,4),Ye(e,2152,r)}function gCe(e,t){for(var r=0;r<16;++r)Ye(e,224,H2({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Ye(e,224,H2(n,0,t))})}function mCe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Ye(e,440,mpe(n)),n[1].Tooltip&&Ye(e,2048,vpe(n))}delete t["!links"]}function vCe(e,t){if(t){var r=0;t.forEach(function(n,s){++r<=256&&n&&Ye(e,125,Spe(K0(s,n),s))})}}function CCe(e,t,r,n,s){var i=16+Tl(s.cellXfs,t,s);if(t.v==null&&!t.bf){Ye(e,513,Lc(r,n,i));return}if(t.bf)Ye(e,6,Hme(t,r,n,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Fs(ls(t.v)):t.v;Ye(e,515,hpe(r,n,o,i));break;case"b":case"e":Ye(e,517,dpe(r,n,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var a=wE(s.Strings,t.v,s.revStrings);Ye(e,253,ope(r,n,a,i))}else Ye(e,516,ape(r,n,(t.v||"").slice(0,255),i,s));break;default:Ye(e,513,Lc(r,n,i))}}function yCe(e,t,r){var n=Rs(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},a=(o.Sheets||[])[e]||{},l=Array.isArray(i),u=t.biff==8,f,p="",g=[],C=xr(i["!ref"]||"A1"),S=u?65536:16384;if(C.e.c>255||C.e.r>=S){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");C.e.c=Math.min(C.e.c,255),C.e.r=Math.min(C.e.c,S-1)}Ye(n,2057,mE(r,16,t)),Ye(n,13,hi(1)),Ye(n,12,hi(100)),Ye(n,15,Yn(!0)),Ye(n,17,Yn(!1)),Ye(n,16,kc(.001)),Ye(n,95,Yn(!0)),Ye(n,42,Yn(!1)),Ye(n,43,Yn(!1)),Ye(n,130,hi(1)),Ye(n,128,upe()),Ye(n,131,Yn(!1)),Ye(n,132,Yn(!1)),u&&vCe(n,i["!cols"]),Ye(n,512,cpe(C,t)),u&&(i["!links"]=[]);for(var y=C.s.r;y<=C.e.r;++y){p=Fn(y);for(var w=C.s.c;w<=C.e.c;++w){y===C.s.r&&(g[w]=_n(w)),f=g[w]+p;var b=l?(i[y]||[])[w]:i[f];b&&(CCe(n,b,y,w,t),u&&b.l&&i["!links"].push([f,b.l]))}}var F=a.CodeName||a.name||s;return u&&Ye(n,574,spe((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Ye(n,229,gpe(i["!merges"])),u&&mCe(n,i),Ye(n,442,oj(F)),u&&pCe(n,i),Ye(n,10),n.end()}function SCe(e,t,r){var n=Rs(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},a=r.biff==8,l=r.biff==5;if(Ye(n,2057,mE(e,5,r)),r.bookType=="xla"&&Ye(n,135),Ye(n,225,a?hi(1200):null),Ye(n,193,$fe(2)),l&&Ye(n,191),l&&Ye(n,192),Ye(n,226),Ye(n,92,epe("SheetJS",r)),Ye(n,66,hi(a?1200:1252)),a&&Ye(n,353,hi(0)),a&&Ye(n,448),Ye(n,317,wpe(e.SheetNames.length)),a&&e.vbaraw&&Ye(n,211),a&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Ye(n,442,oj(u))}Ye(n,156,hi(17)),Ye(n,25,Yn(!1)),Ye(n,18,Yn(!1)),Ye(n,19,hi(0)),a&&Ye(n,431,Yn(!1)),a&&Ye(n,444,hi(0)),Ye(n,61,npe()),Ye(n,64,Yn(!1)),Ye(n,141,hi(0)),Ye(n,34,Yn(R0e(e)=="true")),Ye(n,14,Yn(!0)),a&&Ye(n,439,Yn(!1)),Ye(n,218,hi(0)),hCe(n,e,r),fCe(n,e.SSF,r),gCe(n,r),a&&Ye(n,352,Yn(!1));var f=n.end(),p=Rs();a&&Ye(p,140,Cpe()),a&&r.Strings&&oCe(p,252,rpe(r.Strings)),Ye(p,10);var g=p.end(),C=Rs(),S=0,y=0;for(y=0;y<e.SheetNames.length;++y)S+=(a?12:11)+(a?2:1)*e.SheetNames[y].length;var w=f.length+S+g.length;for(y=0;y<e.SheetNames.length;++y){var b=i[y]||{};Ye(C,133,tpe({pos:w,hs:b.Hidden||0,dt:0,name:e.SheetNames[y]},r)),w+=t[y].length}var F=C.end();if(S!=F.length)throw new Error("BS8 "+S+" != "+F.length);var R=[];return f.length&&R.push(f),F.length&&R.push(F),g.length&&R.push(g),bn(R)}function wCe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Ts(Br)),e&&e.SSF&&(H0(),V0(e.SSF),r.revssf=W0(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,xE(r),r.cellXfs=[],Tl(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=yCe(s,r,e);return n.unshift(SCe(e,n,r)),bn(n)}function Ij(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var s=Ys(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return wCe(e,t);case 4:case 3:case 2:return dCe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function xCe(e,t,r,n){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,l=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>o)&&!(s[u].e.r<r||s[u].e.c<o)){if(s[u].s.r<r||s[u].s.c<o){a=-1;break}a=s[u].e.r-s[u].s.r+1,l=s[u].e.c-s[u].s.c+1;break}if(!(a<0)){var f=or({r,c:o}),p=n.dense?(e[r]||[])[o]:e[f],g=p&&p.v!=null&&(p.h||Jhe(p.w||(fa(p),p.w)||""))||"",C={};a>1&&(C.rowspan=a),l>1&&(C.colspan=l),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(C["data-t"]=p&&p.t||"z",p.v!=null&&(C["data-v"]=p.v),p.z!=null&&(C["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),C.id=(n.id||"sjs")+"-"+f,i.push(qe("td",g,C))}}var S="<tr>";return S+i.join("")+"</tr>"}var bCe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',ECe="</body></html>";function RCe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Oj(e,t){var r=t||{},n=r.header!=null?r.header:bCe,s=r.footer!=null?r.footer:ECe,i=[n],o=Ys(e["!ref"]);r.dense=Array.isArray(e),i.push(RCe(e,o,r));for(var a=o.s.r;a<=o.e.r;++a)i.push(xCe(e,o,a,r));return i.push("</table>"+s),i.join("")}function kj(e,t,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?pn(n.origin):n.origin;s=o.r,i=o.c}var a=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,a.length),u={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var f=Ys(e["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),s==-1&&(u.e.r=s=f.e.r+1)}var p=[],g=0,C=e["!rows"]||(e["!rows"]=[]),S=0,y=0,w=0,b=0,F=0,R=0;for(e["!cols"]||(e["!cols"]=[]);S<a.length&&y<l;++S){var E=a[S];if(Y2(E)){if(n.display)continue;C[y]={hidden:!0}}var A=E.children;for(w=b=0;w<A.length;++w){var D=A[w];if(!(n.display&&Y2(D))){var M=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):nfe(D.innerHTML),I=D.getAttribute("data-z")||D.getAttribute("z");for(g=0;g<p.length;++g){var _=p[g];_.s.c==b+i&&_.s.r<y+s&&y+s<=_.e.r&&(b=_.e.c+1-i,g=-1)}R=+D.getAttribute("colspan")||1,((F=+D.getAttribute("rowspan")||1)>1||R>1)&&p.push({s:{r:y+s,c:b+i},e:{r:y+s+(F||1)-1,c:b+i+(R||1)-1}});var j={t:"s",v:M},H=D.getAttribute("data-t")||D.getAttribute("t")||"";M!=null&&(M.length==0?j.t=H||"z":n.raw||M.trim().length==0||H=="s"||(M==="TRUE"?j={t:"b",v:!0}:M==="FALSE"?j={t:"b",v:!1}:isNaN(ta(M))?isNaN(qf(M).getDate())||(j={t:"d",v:ls(M)},n.cellDates||(j={t:"n",v:Fs(j.v)}),j.z=n.dateNF||Br[14]):j={t:"n",v:ta(M)})),j.z===void 0&&I!=null&&(j.z=I);var B="",oe=D.getElementsByTagName("A");if(oe&&oe.length)for(var ye=0;ye<oe.length&&!(oe[ye].hasAttribute("href")&&(B=oe[ye].getAttribute("href"),B.charAt(0)!="#"));++ye);B&&B.charAt(0)!="#"&&(j.l={Target:B}),n.dense?(e[y+s]||(e[y+s]=[]),e[y+s][b+i]=j):e[or({c:b+i,r:y+s})]=j,u.e.c<b+i&&(u.e.c=b+i),b+=R}}++y}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,y-1+s),e["!ref"]=qr(u),y>=l&&(e["!fullref"]=qr((u.e.r=a.length-S+y-1+s,u))),e}function Lj(e,t){var r=t||{},n=r.dense?[]:{};return kj(n,e,t)}function FCe(e,t){return Yc(Lj(e,t),t)}function Y2(e){var t="",r=TCe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function TCe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var PCe=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Qf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Zr+t}})(),Q2=(function(){var e=function(i){return ir(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,a){var l=[];l.push('      <table:table table:name="'+ir(o.SheetNames[a])+`" table:style-name="ta1">
`);var u=0,f=0,p=Ys(i["!ref"]||"A1"),g=i["!merges"]||[],C=0,S=Array.isArray(i);if(i["!cols"])for(f=0;f<=p.e.c;++f)l.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var y="",w=i["!rows"]||[];for(u=0;u<p.s.r;++u)y=w[u]?' table:style-name="ro'+w[u].ods+'"':"",l.push("        <table:table-row"+y+`></table:table-row>
`);for(;u<=p.e.r;++u){for(y=w[u]?' table:style-name="ro'+w[u].ods+'"':"",l.push("        <table:table-row"+y+`>
`),f=0;f<p.s.c;++f)l.push(t);for(;f<=p.e.c;++f){var b=!1,F={},R="";for(C=0;C!=g.length;++C)if(!(g[C].s.c>f)&&!(g[C].s.r>u)&&!(g[C].e.c<f)&&!(g[C].e.r<u)){(g[C].s.c!=f||g[C].s.r!=u)&&(b=!0),F["table:number-columns-spanned"]=g[C].e.c-g[C].s.c+1,F["table:number-rows-spanned"]=g[C].e.r-g[C].s.r+1;break}if(b){l.push(r);continue}var E=or({r:u,c:f}),A=S?(i[u]||[])[f]:i[E];if(A&&A.f&&(F["table:formula"]=ir(qme(A.f)),A.F&&A.F.slice(0,E.length)==E)){var D=Ys(A.F);F["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,F["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!A){l.push(t);continue}switch(A.t){case"b":R=A.v?"TRUE":"FALSE",F["office:value-type"]="boolean",F["office:boolean-value"]=A.v?"true":"false";break;case"n":R=A.w||String(A.v||0),F["office:value-type"]="float",F["office:value"]=A.v||0;break;case"s":case"str":R=A.v==null?"":A.v,F["office:value-type"]="string";break;case"d":R=A.w||ls(A.v).toISOString(),F["office:value-type"]="date",F["office:date-value"]=ls(A.v).toISOString(),F["table:style-name"]="ce1";break;default:l.push(t);continue}var M=e(R);if(A.l&&A.l.Target){var I=A.l.Target;I=I.charAt(0)=="#"?"#"+Yme(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),M=qe("text:a",M,{"xlink:href":I.replace(/&/g,"&amp;")})}l.push("          "+qe("table:table-cell",qe("text:p",M,{}),F)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var p=u["!cols"][f];if(p.width==null&&p.wpx==null&&p.wch==null)continue;vE(p),p.ods=a;var g=u["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=l;var p=u["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,a){var l=[Zr],u=Qf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Qf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+u+f+`>
`),l.push(X4().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),s(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)l.push(n(o.Sheets[o.SheetNames[p]],o,p));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function _j(e,t){if(t.bookType=="fods")return Q2(e,t);var r=oE(),n="",s=[],i=[];return n="mimetype",kt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",kt(r,n,Q2(e,t)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",kt(r,n,PCe(e,t)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",kt(r,n,Zr+X4()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",kt(r,n,Gfe(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",kt(r,n,jfe(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Kv(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ACe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Gi(Yf(e))}function DCe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function vl(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function MCe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function Xf(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function nr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function id(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function tn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=Xf(e,r),i=s&7;s=Math.floor(s/8);var o=0,a;if(s==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);a=e.slice(l,r[0])}break;case 5:o=4,a=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,a=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Xf(e,r),a=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var u={data:a,type:i};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function Sn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(s){s.data&&(t.push(nr(n*8+s.type)),s.type==2&&t.push(nr(s.data.length)),t.push(s.data))})}),vl(t)}function Ni(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=Xf(e,n),i=tn(e.slice(n[0],n[0]+s));n[0]+=s;var o={id:id(i[1][0].data),messages:[]};i[2].forEach(function(a){var l=tn(a.data),u=id(l[3][0].data);o.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=id(i[3][0].data)>>>0>0),r.push(o)}return r}function Iu(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:nr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:nr(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:nr(o.data.length)}],n[2].push({data:Sn(o.meta),type:2})});var i=Sn(n);t.push(nr(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),vl(t)}function NCe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Xf(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var a=o-59;o=t[r[0]],a>1&&(o|=t[r[0]+1]<<8),a>2&&(o|=t[r[0]+2]<<16),a>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=a}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var l=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[vl(s)],l==0)throw new Error("Invalid offset 0");if(l>s[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(s.push(s[0].slice(-l)),u-=l;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-l,-l+u))}}var f=vl(s);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function Ii(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(NCe(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return vl(t)}function Ou(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=nr(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return vl(t)}function ZS(e,t){var r=new Uint8Array(32),n=Kv(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,MCe(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,s)}function JS(e,t){var r=new Uint8Array(32),n=Kv(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,s)}function Va(e){var t=tn(e);return Xf(t[1][0].data)}function ICe(e,t,r){var n,s,i,o;if(!((n=e[6])!=null&&n[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&id(e[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,u=Kv(e[7][0].data),f=0,p=[],g=Kv(e[4][0].data),C=0,S=[],y=0;y<t.length;++y){if(t[y]==null){u.setUint16(y*2,65535,!0),g.setUint16(y*2,65535);continue}u.setUint16(y*2,f,!0),g.setUint16(y*2,C,!0);var w,b;switch(typeof t[y]){case"string":w=ZS({t:"s",v:t[y]},r),b=JS({t:"s",v:t[y]},r);break;case"number":w=ZS({t:"n",v:t[y]},r),b=JS({t:"n",v:t[y]},r);break;case"boolean":w=ZS({t:"b",v:t[y]},r),b=JS({t:"b",v:t[y]},r);break;default:throw new Error("Unsupported value "+t[y])}p.push(w),f+=w.length,S.push(b),C+=b.length,++l}for(e[2][0].data=nr(l);y<e[7][0].data.length/2;++y)u.setUint16(y*2,65535,!0),g.setUint16(y*2,65535,!0);return e[6][0].data=vl(p),e[3][0].data=vl(S),l}function OCe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ys(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(qr(n)));var i=qv(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(O){return O.forEach(function(V){typeof V=="string"&&o.push(V)})});var a={},l=[],u=ar.read(t.numbers,{type:"base64"});u.FileIndex.map(function(O,V){return[O,u.FullPaths[V]]}).forEach(function(O){var V=O[0],G=O[1];if(V.type==2&&V.name.match(/\.iwa/)){var J=V.content,ae=Ii(J),ge=Ni(ae);ge.forEach(function(X){l.push(X.id),a[X.id]={deps:[],location:G,type:id(X.messages[0].meta[1][0].data)}})}}),l.sort(function(O,V){return O-V});var f=l.filter(function(O){return O>1}).map(function(O){return[O,nr(O)]});u.FileIndex.map(function(O,V){return[O,u.FullPaths[V]]}).forEach(function(O){var V=O[0];if(O[1],!!V.name.match(/\.iwa/)){var G=Ni(Ii(V.content));G.forEach(function(J){J.messages.forEach(function(ae){f.forEach(function(ge){J.messages.some(function(X){return id(X.meta[1][0].data)!=11006&&DCe(X.data,ge[1])})&&a[ge[0]].deps.push(J.id)})})})}});for(var p=ar.find(u,a[1].location),g=Ni(Ii(p.content)),C,S=0;S<g.length;++S){var y=g[S];y.id==1&&(C=y)}var w=Va(tn(C.messages[0].data)[1][0].data);for(p=ar.find(u,a[w].location),g=Ni(Ii(p.content)),S=0;S<g.length;++S)y=g[S],y.id==w&&(C=y);for(w=Va(tn(C.messages[0].data)[2][0].data),p=ar.find(u,a[w].location),g=Ni(Ii(p.content)),S=0;S<g.length;++S)y=g[S],y.id==w&&(C=y);for(w=Va(tn(C.messages[0].data)[2][0].data),p=ar.find(u,a[w].location),g=Ni(Ii(p.content)),S=0;S<g.length;++S)y=g[S],y.id==w&&(C=y);var b=tn(C.messages[0].data);{b[6][0].data=nr(n.e.r+1),b[7][0].data=nr(n.e.c+1);var F=Va(b[46][0].data),R=ar.find(u,a[F].location),E=Ni(Ii(R.content));{for(var A=0;A<E.length&&E[A].id!=F;++A);if(E[A].id!=F)throw"Bad ColumnRowUIDMapArchive";var D=tn(E[A].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var M=0;M<=n.e.c;++M){var I=[];I[1]=I[2]=[{type:0,data:nr(M+420690)}],D[1].push({type:2,data:Sn(I)}),D[2].push({type:0,data:nr(M)}),D[3].push({type:0,data:nr(M)})}D[4]=[],D[5]=[],D[6]=[];for(var _=0;_<=n.e.r;++_)I=[],I[1]=I[2]=[{type:0,data:nr(_+726270)}],D[4].push({type:2,data:Sn(I)}),D[5].push({type:0,data:nr(_)}),D[6].push({type:0,data:nr(_)});E[A].messages[0].data=Sn(D)}R.content=Ou(Iu(E)),R.size=R.content.length,delete b[46];var j=tn(b[4][0].data);{j[7][0].data=nr(n.e.r+1);var H=tn(j[1][0].data),B=Va(H[2][0].data);R=ar.find(u,a[B].location),E=Ni(Ii(R.content));{if(E[0].id!=B)throw"Bad HeaderStorageBucket";var oe=tn(E[0].messages[0].data);for(_=0;_<i.length;++_){var ye=tn(oe[2][0].data);ye[1][0].data=nr(_),ye[4][0].data=nr(i[_].length),oe[2][_]={type:oe[2][0].type,data:Sn(ye)}}E[0].messages[0].data=Sn(oe)}R.content=Ou(Iu(E)),R.size=R.content.length;var Re=Va(j[2][0].data);R=ar.find(u,a[Re].location),E=Ni(Ii(R.content));{if(E[0].id!=Re)throw"Bad HeaderStorageBucket";for(oe=tn(E[0].messages[0].data),M=0;M<=n.e.c;++M)ye=tn(oe[2][0].data),ye[1][0].data=nr(M),ye[4][0].data=nr(n.e.r+1),oe[2][M]={type:oe[2][0].type,data:Sn(ye)};E[0].messages[0].data=Sn(oe)}R.content=Ou(Iu(E)),R.size=R.content.length;var we=Va(j[4][0].data);(function(){for(var O=ar.find(u,a[we].location),V=Ni(Ii(O.content)),G,J=0;J<V.length;++J){var ae=V[J];ae.id==we&&(G=ae)}var ge=tn(G.messages[0].data);{ge[3]=[];var X=[];o.forEach(function(Ae,Qe){X[1]=[{type:0,data:nr(Qe)}],X[2]=[{type:0,data:nr(1)}],X[3]=[{type:2,data:ACe(Ae)}],ge[3].push({type:2,data:Sn(X)})})}G.messages[0].data=Sn(ge);var ne=Iu(V),Ne=Ou(ne);O.content=Ne,O.size=O.content.length})();var se=tn(j[3][0].data);{var ee=se[1][0];delete se[2];var re=tn(ee.data);{var de=Va(re[2][0].data);(function(){for(var O=ar.find(u,a[de].location),V=Ni(Ii(O.content)),G,J=0;J<V.length;++J){var ae=V[J];ae.id==de&&(G=ae)}var ge=tn(G.messages[0].data);{delete ge[6],delete se[7];var X=new Uint8Array(ge[5][0].data);ge[5]=[];for(var ne=0,Ne=0;Ne<=n.e.r;++Ne){var Ae=tn(X);ne+=ICe(Ae,i[Ne],o),Ae[1][0].data=nr(Ne),ge[5].push({data:Sn(Ae),type:2})}ge[1]=[{type:0,data:nr(n.e.c+1)}],ge[2]=[{type:0,data:nr(n.e.r+1)}],ge[3]=[{type:0,data:nr(ne)}],ge[4]=[{type:0,data:nr(n.e.r+1)}]}G.messages[0].data=Sn(ge);var Qe=Iu(V),Ze=Ou(Qe);O.content=Ze,O.size=O.content.length})()}ee.data=Sn(re)}j[3][0].data=Sn(se)}b[4][0].data=Sn(j)}C.messages[0].data=Sn(b);var K=Iu(g),N=Ou(K);return p.content=N,p.size=p.content.length,u}function kCe(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function xE(e){kCe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function LCe(e,t){return t.bookType=="ods"?_j(e,t):t.bookType=="numbers"?OCe(e,t):t.bookType=="xlsb"?_Ce(e,t):jCe(e,t)}function _Ce(e,t){Ku=1024,e&&!e.SSF&&(e.SSF=Ts(Br)),e&&e.SSF&&(H0(),V0(e.SSF),t.revssf=W0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,xf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=yj.indexOf(t.bookType)>-1,s=q4();xE(t=t||{});var i=oE(),o="",a=0;if(t.cellXfs=[],Tl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",kt(i,o,Z4(e.Props,t)),s.coreprops.push(o),sr(t.rels,2,o,qt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,kt(i,o,ej(e.Props)),s.extprops.push(o),sr(t.rels,3,o,qt.EXT_PROPS),e.Custprops!==e.Props&&Tn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",kt(i,o,tj(e.Custprops)),s.custprops.push(o),sr(t.rels,4,o,qt.CUST_PROPS)),a=1;a<=e.SheetNames.length;++a){var f={"!id":{}},p=e.Sheets[e.SheetNames[a-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+a+"."+r,kt(i,o,G0e(a-1,o,t,e,f)),s.sheets.push(o),sr(t.wbrels,-1,"worksheets/sheet"+a+"."+r,qt.WS[0])}if(p){var C=p["!comments"],S=!1,y="";C&&C.length>0&&(y="xl/comments"+a+"."+r,kt(i,y,W0e(C,y)),s.comments.push(y),sr(f,-1,"../comments"+a+"."+r,qt.CMNT),S=!0),p["!legacy"]&&S&&kt(i,"xl/drawings/vmlDrawing"+a+".vml",vj(a,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&kt(i,Q4(o),nd(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,kt(i,o,H0e(t.Strings,o,t)),s.strs.push(o),sr(t.wbrels,-1,"sharedStrings."+r,qt.SST)),o="xl/workbook."+r,kt(i,o,B0e(e,o)),s.workbooks.push(o),sr(t.rels,1,o,qt.WB),o="xl/theme/theme1.xml",kt(i,o,gj(e.Themes,t)),s.themes.push(o),sr(t.wbrels,-1,"theme/theme1.xml",qt.THEME),o="xl/styles."+r,kt(i,o,V0e(e,o,t)),s.styles.push(o),sr(t.wbrels,-1,"styles."+r,qt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",kt(i,o,e.vbaraw),s.vba.push(o),sr(t.wbrels,-1,"vbaProject.bin",qt.VBA)),o="xl/metadata."+r,kt(i,o,U0e(o)),s.metadata.push(o),sr(t.wbrels,-1,"metadata."+r,qt.XLMETA),kt(i,"[Content_Types].xml",Y4(s,t)),kt(i,"_rels/.rels",nd(t.rels)),kt(i,"xl/_rels/workbook."+r+".rels",nd(t.wbrels)),delete t.revssf,delete t.ssf,i}function jCe(e,t){Ku=1024,e&&!e.SSF&&(e.SSF=Ts(Br)),e&&e.SSF&&(H0(),V0(e.SSF),t.revssf=W0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,xf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=yj.indexOf(t.bookType)>-1,s=q4();xE(t=t||{});var i=oE(),o="",a=0;if(t.cellXfs=[],Tl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",kt(i,o,Z4(e.Props,t)),s.coreprops.push(o),sr(t.rels,2,o,qt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,kt(i,o,ej(e.Props)),s.extprops.push(o),sr(t.rels,3,o,qt.EXT_PROPS),e.Custprops!==e.Props&&Tn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",kt(i,o,tj(e.Custprops)),s.custprops.push(o),sr(t.rels,4,o,qt.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,a=1;a<=e.SheetNames.length;++a){var p={"!id":{}},g=e.Sheets[e.SheetNames[a-1]],C=(g||{})["!type"]||"sheet";switch(C){case"chart":default:o="xl/worksheets/sheet"+a+"."+r,kt(i,o,Pj(a-1,t,e,p)),s.sheets.push(o),sr(t.wbrels,-1,"worksheets/sheet"+a+"."+r,qt.WS[0])}if(g){var S=g["!comments"],y=!1,w="";if(S&&S.length>0){var b=!1;S.forEach(function(F){F[1].forEach(function(R){R.T==!0&&(b=!0)})}),b&&(w="xl/threadedComments/threadedComment"+a+"."+r,kt(i,w,gge(S,f,t)),s.threadedcomments.push(w),sr(p,-1,"../threadedComments/threadedComment"+a+"."+r,qt.TCMNT)),w="xl/comments"+a+"."+r,kt(i,w,Cj(S)),s.comments.push(w),sr(p,-1,"../comments"+a+"."+r,qt.CMNT),y=!0}g["!legacy"]&&y&&kt(i,"xl/drawings/vmlDrawing"+a+".vml",vj(a,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&kt(i,Q4(o),nd(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,kt(i,o,cj(t.Strings,t)),s.strs.push(o),sr(t.wbrels,-1,"sharedStrings."+r,qt.SST)),o="xl/workbook."+r,kt(i,o,Mj(e)),s.workbooks.push(o),sr(t.rels,1,o,qt.WB),o="xl/theme/theme1.xml",kt(i,o,gj(e.Themes,t)),s.themes.push(o),sr(t.wbrels,-1,"theme/theme1.xml",qt.THEME),o="xl/styles."+r,kt(i,o,fj(e,t)),s.styles.push(o),sr(t.wbrels,-1,"styles."+r,qt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",kt(i,o,e.vbaraw),s.vba.push(o),sr(t.wbrels,-1,"vbaProject.bin",qt.VBA)),o="xl/metadata."+r,kt(i,o,mj()),s.metadata.push(o),sr(t.wbrels,-1,"metadata."+r,qt.XLMETA),f.length>1&&(o="xl/persons/person.xml",kt(i,o,mge(f)),s.people.push(o),sr(t.wbrels,-1,"persons/person.xml",qt.PEOPLE)),kt(i,"[Content_Types].xml",Y4(s,t)),kt(i,"_rels/.rels",nd(t.rels)),kt(i,"xl/_rels/workbook."+r+".rels",nd(t.wbrels)),delete t.revssf,delete t.ssf,i}function BCe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ha(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function jj(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Mp(t.file,ar.write(e,{type:Xt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ar.write(e,t)}function GCe(e,t){var r=Ts(t||{}),n=LCe(e,r);return VCe(n,r)}function VCe(e,t){var r={},n=Xt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?ar.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(G0(s))}return t.password&&typeof encrypt_agile<"u"?jj(encrypt_agile(s,t.password),t):t.type==="file"?Mp(t.file,s):t.type=="string"?Cf(s):s}function HCe(e,t){var r=t||{},n=sCe(e,r);return jj(n,r)}function ro(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Kf(Yf(n));case"binary":return Yf(n);case"string":return e;case"file":return Mp(t.file,n,"utf8");case"buffer":return Xt?ga(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):ro(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function WCe(e,t){switch(t.type){case"base64":return Kf(e);case"binary":return e;case"string":return e;case"file":return Mp(t.file,e,"binary");case"buffer":return Xt?ga(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Am(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Kf(r):t.type=="string"?Cf(r):r;case"file":return Mp(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Bj(e,t){vhe(),P0e(e);var r=Ts(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=Bj(e,r);return r.type="array",G0(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ro(rCe(e,r),r);case"slk":case"sylk":return ro(Rpe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return ro(Oj(e.Sheets[e.SheetNames[s]],r),r);case"txt":return WCe(Gj(e.Sheets[e.SheetNames[s]],r),r);case"csv":return ro(bE(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return ro(Fpe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return Am(Epe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return ro(Tpe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return ro(Ope.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return ro(lj.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return ro(_j(e,r),r);case"wk1":return Am(W2.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return Am(W2.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Am(Ij(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),HCe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return GCe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function UCe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function $Ce(e,t,r){var n={};return n.type="file",n.file=t,UCe(n),Bj(e,n)}function zCe(e,t,r,n,s,i,o,a){var l=Fn(r),u=a.defval,f=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),p=!0,g=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||e[r])for(var C=t.s.c;C<=t.e.c;++C){var S=o?e[r][C]:e[n[C]+l];if(S===void 0||S.t===void 0){if(u===void 0)continue;i[C]!=null&&(g[i[C]]=u);continue}var y=S.v;switch(S.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(i[C]!=null){if(y==null)if(S.t=="e"&&y===null)g[i[C]]=null;else if(u!==void 0)g[i[C]]=u;else if(f&&y===null)g[i[C]]=null;else continue;else g[i[C]]=f&&(S.t!=="n"||S.t==="n"&&a.rawNumbers!==!1)?y:fa(S,y,a);y!=null&&(p=!1)}}return{row:g,isempty:p}}function qv(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},f=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":l=xr(f);break;case"number":l=xr(e["!ref"]),l.s.r=f;break;default:l=f}n>0&&(s=0);var p=Fn(l.s.r),g=[],C=[],S=0,y=0,w=Array.isArray(e),b=l.s.r,F=0,R={};w&&!e[b]&&(e[b]=[]);var E=u.skipHidden&&e["!cols"]||[],A=u.skipHidden&&e["!rows"]||[];for(F=l.s.c;F<=l.e.c;++F)if(!(E[F]||{}).hidden)switch(g[F]=_n(F),r=w?e[b][F]:e[g[F]+p],n){case 1:i[F]=F-l.s.c;break;case 2:i[F]=g[F];break;case 3:i[F]=u.header[F-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),a=o=fa(r,null,u),y=R[o]||0,!y)R[o]=1;else{do a=o+"_"+y++;while(R[a]);R[o]=y,R[a]=1}i[F]=a}for(b=l.s.r+s;b<=l.e.r;++b)if(!(A[b]||{}).hidden){var D=zCe(e,l,b,g,n,i,w,u);(D.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(C[S++]=D.row)}return C.length=S,C}var X2=/"/g;function KCe(e,t,r,n,s,i,o,a){for(var l=!0,u=[],f="",p=Fn(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var C=a.dense?(e[r]||[])[g]:e[n[g]+p];if(C==null)f="";else if(C.v!=null){l=!1,f=""+(a.rawNumbers&&C.t=="n"?C.v:fa(C,null,a));for(var S=0,y=0;S!==f.length;++S)if((y=f.charCodeAt(S))===s||y===i||y===34||a.forceQuotes){f='"'+f.replace(X2,'""')+'"';break}f=="ID"&&(f='"ID"')}else C.f!=null&&!C.F?(l=!1,f="="+C.f,f.indexOf(",")>=0&&(f='"'+f.replace(X2,'""')+'"')):f="";u.push(f)}return a.blankrows===!1&&l?null:u.join(o)}function bE(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=xr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),a=n.RS!==void 0?n.RS:`
`,l=a.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),f="",p=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],C=n.skipHidden&&e["!rows"]||[],S=s.s.c;S<=s.e.c;++S)(g[S]||{}).hidden||(p[S]=_n(S));for(var y=0,w=s.s.r;w<=s.e.r;++w)(C[w]||{}).hidden||(f=KCe(e,s,w,p,o,l,i,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((y++?a:"")+f)));return delete n.dense,r.join("")}function Gj(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=bE(e,t);return r}function qCe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=xr(e["!ref"]),i="",o=[],a,l=[],u=Array.isArray(e);for(a=s.s.c;a<=s.e.c;++a)o[a]=_n(a);for(var f=s.s.r;f<=s.e.r;++f)for(i=Fn(f),a=s.s.c;a<=s.e.c;++a)if(t=o[a]+i,r=u?(e[f]||[])[a]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Vj(e,t,r){var n=r||{},s=+!n.skipHeader,i=e||{},o=0,a=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?pn(n.origin):n.origin;o=l.r,a=l.c}var u,f={s:{c:0,r:0},e:{c:a,r:o+t.length-1+s}};if(i["!ref"]){var p=xr(i["!ref"]);f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),o==-1&&(o=p.e.r+1,f.e.r=o+t.length-1+s)}else o==-1&&(o=0,f.e.r=t.length-1+s);var g=n.header||[],C=0;t.forEach(function(y,w){Tn(y).forEach(function(b){(C=g.indexOf(b))==-1&&(g[C=g.length]=b);var F=y[b],R="z",E="",A=or({c:a+C,r:o+w+s});u=Zf(i,A),F&&typeof F=="object"&&!(F instanceof Date)?i[A]=F:(typeof F=="number"?R="n":typeof F=="boolean"?R="b":typeof F=="string"?R="s":F instanceof Date?(R="d",n.cellDates||(R="n",F=Fs(F)),E=n.dateNF||Br[14]):F===null&&n.nullError&&(R="e",F=0),u?(u.t=R,u.v=F,delete u.w,delete u.R,E&&(u.z=E)):i[A]=u={t:R,v:F},E&&(u.z=E))})}),f.e.c=Math.max(f.e.c,a+g.length-1);var S=Fn(o);if(s)for(C=0;C<g.length;++C)i[_n(C+a)+S]={t:"s",v:g[C]};return i["!ref"]=qr(f),i}function YCe(e,t){return Vj(null,e,t)}function Zf(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=pn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Zf(e,or(t)):Zf(e,or({r:t,c:r||0}))}function QCe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function XCe(){return{SheetNames:[],Sheets:{}}}function ZCe(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(Dj(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function JCe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=QCe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function eye(e,t){return e.z=t,e}function Hj(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function tye(e,t,r){return Hj(e,"#"+t,r)}function rye(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function nye(e,t,r,n){for(var s=typeof t!="string"?t:xr(t),i=typeof t=="string"?t:qr(t),o=s.s.r;o<=s.e.r;++o)for(var a=s.s.c;a<=s.e.c;++a){var l=Zf(e,o,a);l.t="n",l.F=i,delete l.v,o==s.s.r&&a==s.s.c&&(l.f=r,n&&(l.D=!0))}return e}var ew={encode_col:_n,encode_row:Fn,encode_cell:or,encode_range:qr,decode_col:hE,decode_row:dE,split_cell:vfe,decode_cell:pn,decode_range:Ys,format_cell:fa,sheet_add_aoa:H4,sheet_add_json:Vj,sheet_add_dom:kj,aoa_to_sheet:Xd,json_to_sheet:YCe,table_to_sheet:Lj,table_to_book:FCe,sheet_to_csv:bE,sheet_to_txt:Gj,sheet_to_json:qv,sheet_to_html:Oj,sheet_to_formulae:qCe,sheet_to_row_object_array:qv,sheet_get_cell:Zf,book_new:XCe,book_append_sheet:ZCe,book_set_sheet_visibility:JCe,cell_set_number_format:eye,cell_set_hyperlink:Hj,cell_set_internal_link:tye,cell_add_comment:rye,sheet_set_array_formula:nye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Mr=({rowData:e,colDefs:t,isLoading:r,onAddClick:n,addLabel:s="Add New",addComponent:i,onEditClick:o,onDeleteClick:a,actionComponents:l=[],showEdit:u=!0,showDelete:f=!0,showCheckbox:p=!1,checkboxPosition:g=0,exportFileName:C})=>{const{theme:S}=eb(),y=m.useRef(null),[w,b]=m.useState(new Set(t.map(j=>j.field))),F={sortable:!0,filter:!0,resizable:!0,minWidth:100,flex:1},R=p?{headerCheckboxSelection:!0,checkboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,width:50,headerName:""}:null,A={headerName:"Actions",field:"actions",cellRenderer:j=>j!=null&&j.data?d.jsx("div",{className:"flex justify-center items-center gap-2",children:d.jsxs(Cv,{children:[d.jsx(yv,{asChild:!0,children:d.jsx(It,{variant:"ghost",size:"sm",children:d.jsx(xee,{})})}),d.jsxs(_f,{children:[u&&d.jsxs(Zu,{onClick:()=>o==null?void 0:o(j.data),children:[d.jsx(fH,{})," Edit"]}),f&&d.jsxs(Zu,{onClick:()=>a==null?void 0:a(j.data),className:"text-red-500",children:[d.jsx(mH,{})," Delete"]}),l.map((H,B)=>d.jsx(Zu,{children:d.jsx(H,{rowData:j.data})},B))]})]})}):null,minWidth:120,maxWidth:150,flex:0},D=m.useMemo(()=>{const j=[...t];return p&&R&&j.splice(g,0,R),[...j.filter(H=>w.has(H.field)),A]},[t,R,w]),M=(j,H)=>{b(B=>{const oe=new Set(B);return H?oe.add(j):oe.delete(j),oe})},I=(j,H,B)=>{const oe=["Sr No.",...H.filter(ee=>ee.field!=="actions"&&ee.field!=="srNo").map(ee=>ee.headerName)],ye=j.map((ee,re)=>[re+1,...H.filter(de=>de.field!=="actions"&&de.field!=="srNo").map(de=>ee[de.field]??"")]),Re=[oe,...ye],we=ew.aoa_to_sheet(Re),se=ew.book_new();ew.book_append_sheet(se,we,"TableData"),$Ce(se,`${B||"TableData"}.xlsx`)},_=[10,20,50,100];return d.jsxs("div",{className:`${S==="dark"?"ag-theme-quartz-dark":"ag-theme-quartz"} w-full h-[480px] flex flex-col gap-2`,children:[d.jsxs("div",{className:"w-full flex justify-between items-center",children:[i||d.jsxs(It,{variant:"default",onClick:n,children:[d.jsx(See,{}),s]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(It,{onClick:()=>I(e,t,C),variant:"default",children:"Export"}),d.jsxs(Cv,{children:[d.jsx(yv,{asChild:!0,children:d.jsx(It,{children:d.jsx(phe,{})})}),d.jsx(_f,{children:t.map(j=>d.jsx(ub,{checked:w.has(j.field),onSelect:H=>{H.preventDefault(),M(j.field,!w.has(j.field))},children:j.headerName},j.field))})]})]})]}),d.jsx(fhe,{ref:y,rowData:e,loading:r,columnDefs:D,defaultColDef:F,rowSelection:"multiple",pagination:!0,paginationPageSizeSelector:_})]})};var sye="Label",Wj=m.forwardRef((e,t)=>d.jsx(wi.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Wj.displayName=sye;var Uj=Wj;const iye=LN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=m.forwardRef(({className:e,...t},r)=>d.jsx(Uj,{ref:r,className:Lt(iye(),e),...t}));ce.displayName=Uj.displayName;function Mx(e,[t,r]){return Math.min(r,Math.max(t,e))}function oye(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const u=p=>{var b;const{scope:g,children:C,...S}=p,y=((b=g==null?void 0:g[e])==null?void 0:b[l])||a,w=m.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:w,children:C})};u.displayName=i+"Provider";function f(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,S=m.useContext(C);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,aye(s,...t)]}function aye(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function $j(e){const t=lye(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(uye);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function lye(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=hye(s),a=dye(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cye=Symbol("radix.slottable");function uye(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cye}function dye(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function hye(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var fye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qs=fye.reduce((e,t)=>{const r=$j(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function pye(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var gye=[" ","Enter","ArrowUp","ArrowDown"],mye=[" ","Enter"],_c="Select",[q0,Y0,vye]=tb(_c),[eh]=oye(_c,[vye,bl]),Q0=bl(),[Cye,Pl]=eh(_c),[yye,Sye]=eh(_c),EE=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:f,autoComplete:p,disabled:g,required:C,form:S}=e,y=Q0(t),[w,b]=m.useState(null),[F,R]=m.useState(null),[E,A]=m.useState(!1),D=vp(u),[M,I]=hl({prop:n,defaultProp:s??!1,onChange:i,caller:_c}),[_,j]=hl({prop:o,defaultProp:a,onChange:l,caller:_c}),H=m.useRef(null),B=w?S||!!w.closest("form"):!0,[oe,ye]=m.useState(new Set),Re=Array.from(oe).map(we=>we.props.value).join(";");return d.jsx(C0,{...y,children:d.jsxs(Cye,{required:C,scope:t,trigger:w,onTriggerChange:b,valueNode:F,onValueNodeChange:R,valueNodeHasChildren:E,onValueNodeHasChildrenChange:A,contentId:mn(),value:_,onValueChange:j,open:M,onOpenChange:I,dir:D,triggerPointerDownPosRef:H,disabled:g,children:[d.jsx(q0.Provider,{scope:t,children:d.jsx(yye,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(we=>{ye(se=>new Set(se).add(we))},[]),onNativeOptionRemove:m.useCallback(we=>{ye(se=>{const ee=new Set(se);return ee.delete(we),ee})},[]),children:r})}),B?d.jsxs(gB,{"aria-hidden":!0,required:C,tabIndex:-1,name:f,autoComplete:p,value:_,onChange:we=>j(we.target.value),disabled:g,form:S,children:[_===void 0?d.jsx("option",{value:""}):null,Array.from(oe)]},Re):null]})})};EE.displayName=_c;var zj="SelectTrigger",Kj=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Q0(r),o=Pl(zj,r),a=o.disabled||n,l=Gt(t,o.onTriggerChange),u=Y0(r),f=m.useRef("touch"),[p,g,C]=vB(y=>{const w=u().filter(R=>!R.disabled),b=w.find(R=>R.value===o.value),F=CB(w,y,b);F!==void 0&&o.onValueChange(F.value)}),S=y=>{a||(o.onOpenChange(!0),C()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return d.jsx(gp,{asChild:!0,...i,children:d.jsx(Qs.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":mB(o.value)?"":void 0,...s,ref:l,onClick:et(s.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&S(y)}),onPointerDown:et(s.onPointerDown,y=>{f.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(S(y),y.preventDefault())}),onKeyDown:et(s.onKeyDown,y=>{const w=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(w&&y.key===" ")&&gye.includes(y.key)&&(S(),y.preventDefault())})})})});Kj.displayName=zj;var qj="SelectValue",Yj=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=e,l=Pl(qj,r),{onValueNodeHasChildrenChange:u}=l,f=i!==void 0,p=Gt(t,l.onValueNodeChange);return Yr(()=>{u(f)},[u,f]),d.jsx(Qs.span,{...a,ref:p,style:{pointerEvents:"none"},children:mB(l.value)?d.jsx(d.Fragment,{children:o}):i})});Yj.displayName=qj;var wye="SelectIcon",Qj=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return d.jsx(Qs.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});Qj.displayName=wye;var xye="SelectPortal",Xj=e=>d.jsx(Hd,{asChild:!0,...e});Xj.displayName=xye;var jc="SelectContent",Zj=m.forwardRef((e,t)=>{const r=Pl(jc,e.__scopeSelect),[n,s]=m.useState();if(Yr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Sl.createPortal(d.jsx(Jj,{scope:e.__scopeSelect,children:d.jsx(q0.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),i):null}return d.jsx(eB,{...e,ref:t})});Zj.displayName=jc;var ki=10,[Jj,Al]=eh(jc),bye="SelectContentImpl",Eye=$j("SelectContent.RemoveScroll"),eB=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:C,sticky:S,hideWhenDetached:y,avoidCollisions:w,...b}=e,F=Pl(jc,r),[R,E]=m.useState(null),[A,D]=m.useState(null),M=Gt(t,ae=>E(ae)),[I,_]=m.useState(null),[j,H]=m.useState(null),B=Y0(r),[oe,ye]=m.useState(!1),Re=m.useRef(!1);m.useEffect(()=>{if(R)return R0(R)},[R]),b0();const we=m.useCallback(ae=>{const[ge,...X]=B().map(Ae=>Ae.ref.current),[ne]=X.slice(-1),Ne=document.activeElement;for(const Ae of ae)if(Ae===Ne||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===ge&&A&&(A.scrollTop=0),Ae===ne&&A&&(A.scrollTop=A.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Ne))return},[B,A]),se=m.useCallback(()=>we([I,R]),[we,I,R]);m.useEffect(()=>{oe&&se()},[oe,se]);const{onOpenChange:ee,triggerPointerDownPosRef:re}=F;m.useEffect(()=>{if(R){let ae={x:0,y:0};const ge=ne=>{var Ne,Ae;ae={x:Math.abs(Math.round(ne.pageX)-(((Ne=re.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((Ae=re.current)==null?void 0:Ae.y)??0))}},X=ne=>{ae.x<=10&&ae.y<=10?ne.preventDefault():R.contains(ne.target)||ee(!1),document.removeEventListener("pointermove",ge),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",X,{capture:!0})}}},[R,ee,re]),m.useEffect(()=>{const ae=()=>ee(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[ee]);const[de,K]=vB(ae=>{const ge=B().filter(Ne=>!Ne.disabled),X=ge.find(Ne=>Ne.ref.current===document.activeElement),ne=CB(ge,ae,X);ne&&setTimeout(()=>ne.ref.current.focus())}),N=m.useCallback((ae,ge,X)=>{const ne=!Re.current&&!X;(F.value!==void 0&&F.value===ge||ne)&&(_(ae),ne&&(Re.current=!0))},[F.value]),O=m.useCallback(()=>R==null?void 0:R.focus(),[R]),V=m.useCallback((ae,ge,X)=>{const ne=!Re.current&&!X;(F.value!==void 0&&F.value===ge||ne)&&H(ae)},[F.value]),G=n==="popper"?Nx:tB,J=G===Nx?{side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:C,sticky:S,hideWhenDetached:y,avoidCollisions:w}:{};return d.jsx(Jj,{scope:r,content:R,viewport:A,onViewportChange:D,itemRefCallback:N,selectedItem:I,onItemLeave:O,itemTextRefCallback:V,focusSelectedItem:se,selectedItemText:j,position:n,isPositioned:oe,searchRef:de,children:d.jsx(wp,{as:Eye,allowPinchZoom:!0,children:d.jsx(Cp,{asChild:!0,trapped:F.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:et(s,ae=>{var ge;(ge=F.trigger)==null||ge.focus({preventScroll:!0}),ae.preventDefault()}),children:d.jsx(Bd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>F.onOpenChange(!1),children:d.jsx(G,{role:"listbox",id:F.contentId,"data-state":F.open?"open":"closed",dir:F.dir,onContextMenu:ae=>ae.preventDefault(),...b,...J,onPlaced:()=>ye(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:et(b.onKeyDown,ae=>{const ge=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ge&&ae.key.length===1&&K(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let ne=B().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Ne=ae.target,Ae=ne.indexOf(Ne);ne=ne.slice(Ae+1)}setTimeout(()=>we(ne)),ae.preventDefault()}})})})})})})});eB.displayName=bye;var Rye="SelectItemAlignedPosition",tB=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Pl(jc,r),o=Al(jc,r),[a,l]=m.useState(null),[u,f]=m.useState(null),p=Gt(t,M=>f(M)),g=Y0(r),C=m.useRef(!1),S=m.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:b,focusSelectedItem:F}=o,R=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&y&&w&&b){const M=i.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),j=b.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=j.left-I.left,Ae=_.left-Ne,Qe=M.left-Ae,Ze=M.width+Qe,ft=Math.max(Ze,I.width),xt=window.innerWidth-ki,We=Mx(Ae,[ki,Math.max(ki,xt-ft)]);a.style.minWidth=Ze+"px",a.style.left=We+"px"}else{const Ne=I.right-j.right,Ae=window.innerWidth-_.right-Ne,Qe=window.innerWidth-M.right-Ae,Ze=M.width+Qe,ft=Math.max(Ze,I.width),xt=window.innerWidth-ki,We=Mx(Ae,[ki,Math.max(ki,xt-ft)]);a.style.minWidth=Ze+"px",a.style.right=We+"px"}const H=g(),B=window.innerHeight-ki*2,oe=y.scrollHeight,ye=window.getComputedStyle(u),Re=parseInt(ye.borderTopWidth,10),we=parseInt(ye.paddingTop,10),se=parseInt(ye.borderBottomWidth,10),ee=parseInt(ye.paddingBottom,10),re=Re+we+oe+ee+se,de=Math.min(w.offsetHeight*5,re),K=window.getComputedStyle(y),N=parseInt(K.paddingTop,10),O=parseInt(K.paddingBottom,10),V=M.top+M.height/2-ki,G=B-V,J=w.offsetHeight/2,ae=w.offsetTop+J,ge=Re+we+ae,X=re-ge;if(ge<=V){const Ne=H.length>0&&w===H[H.length-1].ref.current;a.style.bottom="0px";const Ae=u.clientHeight-y.offsetTop-y.offsetHeight,Qe=Math.max(G,J+(Ne?O:0)+Ae+se),Ze=ge+Qe;a.style.height=Ze+"px"}else{const Ne=H.length>0&&w===H[0].ref.current;a.style.top="0px";const Qe=Math.max(V,Re+y.offsetTop+(Ne?N:0)+J)+X;a.style.height=Qe+"px",y.scrollTop=ge-V+y.offsetTop}a.style.margin=`${ki}px 0`,a.style.minHeight=de+"px",a.style.maxHeight=B+"px",n==null||n(),requestAnimationFrame(()=>C.current=!0)}},[g,i.trigger,i.valueNode,a,u,y,w,b,i.dir,n]);Yr(()=>R(),[R]);const[E,A]=m.useState();Yr(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const D=m.useCallback(M=>{M&&S.current===!0&&(R(),F==null||F(),S.current=!1)},[R,F]);return d.jsx(Tye,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:C,onScrollButtonChange:D,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:d.jsx(Qs.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});tB.displayName=Rye;var Fye="SelectPopperPosition",Nx=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ki,...i}=e,o=Q0(r);return d.jsx(y0,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Nx.displayName=Fye;var[Tye,RE]=eh(jc,{}),Ix="SelectViewport",rB=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Al(Ix,r),o=RE(Ix,r),a=Gt(t,i.onViewportChange),l=m.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(q0.Slot,{scope:r,children:d.jsx(Qs.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:et(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&p){const C=Math.abs(l.current-f.scrollTop);if(C>0){const S=window.innerHeight-ki*2,y=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),b=Math.max(y,w);if(b<S){const F=b+C,R=Math.min(S,F),E=F-R;p.style.height=R+"px",p.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,p.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});rB.displayName=Ix;var nB="SelectGroup",[Pye,Aye]=eh(nB),Dye=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=mn();return d.jsx(Pye,{scope:r,id:s,children:d.jsx(Qs.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Dye.displayName=nB;var sB="SelectLabel",iB=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Aye(sB,r);return d.jsx(Qs.div,{id:s.id,...n,ref:t})});iB.displayName=sB;var Yv="SelectItem",[Mye,oB]=eh(Yv),aB=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,a=Pl(Yv,r),l=Al(Yv,r),u=a.value===n,[f,p]=m.useState(i??""),[g,C]=m.useState(!1),S=Gt(t,F=>{var R;return(R=l.itemRefCallback)==null?void 0:R.call(l,F,n,s)}),y=mn(),w=m.useRef("touch"),b=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(Mye,{scope:r,value:n,disabled:s,textId:y,isSelected:u,onItemTextChange:m.useCallback(F=>{p(R=>R||((F==null?void 0:F.textContent)??"").trim())},[]),children:d.jsx(q0.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:d.jsx(Qs.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:et(o.onFocus,()=>C(!0)),onBlur:et(o.onBlur,()=>C(!1)),onClick:et(o.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:et(o.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:et(o.onPointerDown,F=>{w.current=F.pointerType}),onPointerMove:et(o.onPointerMove,F=>{var R;w.current=F.pointerType,s?(R=l.onItemLeave)==null||R.call(l):w.current==="mouse"&&F.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(o.onPointerLeave,F=>{var R;F.currentTarget===document.activeElement&&((R=l.onItemLeave)==null||R.call(l))}),onKeyDown:et(o.onKeyDown,F=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&F.key===" "||(mye.includes(F.key)&&b(),F.key===" "&&F.preventDefault())})})})})});aB.displayName=Yv;var af="SelectItemText",lB=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Pl(af,r),a=Al(af,r),l=oB(af,r),u=Sye(af,r),[f,p]=m.useState(null),g=Gt(t,b=>p(b),l.onItemTextChange,b=>{var F;return(F=a.itemTextRefCallback)==null?void 0:F.call(a,b,l.value,l.disabled)}),C=f==null?void 0:f.textContent,S=m.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:C},l.value),[l.disabled,l.value,C]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=u;return Yr(()=>(y(S),()=>w(S)),[y,w,S]),d.jsxs(d.Fragment,{children:[d.jsx(Qs.span,{id:l.textId,...i,ref:g}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Sl.createPortal(i.children,o.valueNode):null]})});lB.displayName=af;var cB="SelectItemIndicator",uB=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return oB(cB,r).isSelected?d.jsx(Qs.span,{"aria-hidden":!0,...n,ref:t}):null});uB.displayName=cB;var Ox="SelectScrollUpButton",dB=m.forwardRef((e,t)=>{const r=Al(Ox,e.__scopeSelect),n=RE(Ox,e.__scopeSelect),[s,i]=m.useState(!1),o=Gt(t,n.onScrollButtonChange);return Yr(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?d.jsx(fB,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});dB.displayName=Ox;var kx="SelectScrollDownButton",hB=m.forwardRef((e,t)=>{const r=Al(kx,e.__scopeSelect),n=RE(kx,e.__scopeSelect),[s,i]=m.useState(!1),o=Gt(t,n.onScrollButtonChange);return Yr(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<u;i(f)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?d.jsx(fB,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});hB.displayName=kx;var fB=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Al("SelectScrollButton",r),o=m.useRef(null),a=Y0(r),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Yr(()=>{var f;const u=a().find(p=>p.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),d.jsx(Qs.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:et(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:et(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:et(s.onPointerLeave,()=>{l()})})}),Nye="SelectSeparator",pB=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return d.jsx(Qs.div,{"aria-hidden":!0,...n,ref:t})});pB.displayName=Nye;var Lx="SelectArrow",Iye=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Q0(r),i=Pl(Lx,r),o=Al(Lx,r);return i.open&&o.position==="popper"?d.jsx(S0,{...s,...n,ref:t}):null});Iye.displayName=Lx;var Oye="SelectBubbleInput",gB=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),i=Gt(n,s),o=pye(t);return m.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&f){const p=new Event("change",{bubbles:!0});f.call(a,t),a.dispatchEvent(p)}},[o,t]),d.jsx(Qs.select,{...r,style:{...QO,...r.style},ref:i,defaultValue:t})});gB.displayName=Oye;function mB(e){return e===""||e===void 0}function vB(e){const t=hn(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const a=r.current+o;t(a),(function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(a)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function CB(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=kye(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function kye(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Lye=EE,yB=Kj,_ye=Yj,jye=Qj,Bye=Xj,SB=Zj,Gye=rB,wB=iB,xB=aB,Vye=lB,Hye=uB,bB=dB,EB=hB,RB=pB;const wt=Lye,St=_ye,Ct=m.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(yB,{ref:n,className:Lt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,d.jsx(jye,{asChild:!0,children:d.jsx(SL,{className:"h-4 w-4 opacity-50"})})]}));Ct.displayName=yB.displayName;const FB=m.forwardRef(({className:e,...t},r)=>d.jsx(bB,{ref:r,className:Lt("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(OJ,{className:"h-4 w-4"})}));FB.displayName=bB.displayName;const TB=m.forwardRef(({className:e,...t},r)=>d.jsx(EB,{ref:r,className:Lt("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(SL,{className:"h-4 w-4"})}));TB.displayName=EB.displayName;const yt=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>d.jsx(Bye,{children:d.jsxs(SB,{ref:s,className:Lt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[d.jsx(FB,{}),d.jsx(Gye,{className:Lt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(TB,{})]})}));yt.displayName=SB.displayName;const Wye=m.forwardRef(({className:e,...t},r)=>d.jsx(wB,{ref:r,className:Lt("px-2 py-1.5 text-sm font-semibold",e),...t}));Wye.displayName=wB.displayName;const Qt=m.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(xB,{ref:n,className:Lt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[d.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Hye,{children:d.jsx(kn,{className:"h-4 w-4"})})}),d.jsx(Vye,{children:t})]}));Qt.displayName=xB.displayName;const Uye=m.forwardRef(({className:e,...t},r)=>d.jsx(RB,{ref:r,className:Lt("-mx-1 my-1 h-px bg-muted",e),...t}));Uye.displayName=RB.displayName;const FE=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},TE=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},PE=()=>Rr({queryKey:["useGetSourceReference"],queryFn:()=>_e("/api/source-reference/v1/getAll")}),$ye=()=>Je({mutationFn:e=>_e("/api/source-reference/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:FE,onError:TE}),zye=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/source-reference/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{FE(r),t.invalidateQueries({queryKey:["useGetSourceReference"]})},onError:TE})},Kye=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/source-reference/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetSourceReference"]}),FE(r.message)},onError:TE})},AE=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},DE=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},PB=()=>Rr({queryKey:["useGetCustomerType"],queryFn:()=>_e("/api/customer-type/v1/getAll")}),qye=()=>Je({mutationFn:e=>_e("/api/customer-type/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:AE,onError:DE}),Yye=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/customer-type/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{AE(r),t.invalidateQueries({queryKey:["useGetCustomerType"]})},onError:DE})},Qye=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/customer-type/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetCustomerType"]}),AE(r.message)},onError:DE})},ME=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},NE=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},AB=()=>Rr({queryKey:["useGetCustomerStatus"],queryFn:()=>_e("/api/customer-status/v1/getAll")}),Xye=()=>Je({mutationFn:e=>_e("/api/customer-status/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:ME,onError:NE}),Zye=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/customer-status/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{ME(r),t.invalidateQueries({queryKey:["useGetCustomerStatus"]})},onError:NE})},Jye=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/customer-status/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetCustomerStatus"]}),ME(r.message)},onError:NE})},IE=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},OE=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},DB=()=>Rr({queryKey:["useGetReferenceDetail"],queryFn:()=>_e("/api/reference-detail/v1/getAll")}),eSe=()=>Je({mutationFn:e=>_e("/api/reference-detail/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:IE,onError:OE}),tSe=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/reference-detail/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{IE(r),t.invalidateQueries({queryKey:["useGetReferenceDetail"]})},onError:OE})},rSe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/reference-detail/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetReferenceDetail"]}),IE(r.message)},onError:OE})},kE=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},LE=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},MB=()=>Rr({queryKey:["useGetDesignation"],queryFn:()=>_e("/api/designation/v1/getAll")}),nSe=()=>Je({mutationFn:e=>_e("/api/designation/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:kE,onError:LE}),sSe=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/designation/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{kE(r),t.invalidateQueries({queryKey:["useGetDesignation"]})},onError:LE})},iSe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/designation/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetDesignation"]}),kE(r.message)},onError:LE})},_E=m.forwardRef(({className:e,...t},r)=>d.jsx("textarea",{className:Lt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));_E.displayName="Textarea";const oSe=({onSubmit:e,formId:t,defaultValues:r={},setIsModalOpen:n})=>{var M,I,_,j,H,B,oe,ye,Re,we;const[s,i]=m.useState({customerType:r.customerType||null,customerStatus:r.customerStatus||null,sourceReference:r.sourceReference||null,referenceDetail:r.referenceDetail||null,referenceRemark:r.referenceRemark||"",customerName:r.customerName||"",gstNo:r.gstNo||"",panNo:r.panNo||"",address1:r.address1||"",address2:r.address2||"",address3:r.address3||"",contactPerson:r.contactPerson||"",designation:r.designation||null,customerWeightage:r.customerWeightage||"",contactNumber:r.contactNumber||"",email:r.email||"",isActive:r.isActive||!1});m.useEffect(()=>{i({...s,...r})},[r]);const{data:o,isError:a}=PE(),{data:l,isError:u}=PB(),{data:f,isError:p}=AB(),{data:g,isError:C}=DB(),{data:S,isError:y}=MB(),w=se=>{se.preventDefault(),console.log("FormData",s),e(s)},b={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},F={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},R=se=>{console.log("clicked",se.target.value);const{name:ee,value:re}=se.target,de=se.target.value;console.log(de),i(K=>({...K,[ee]:re}))},E=(se,ee,re)=>{const de=re.find(K=>String(K.id)===ee);i(K=>({...K,[se]:de||null})),console.log(ee,de)},A=se=>{const{checked:ee}=se.target;i(re=>({...re,isActive:ee}))},D=()=>{n(!1)};return d.jsx(Gs.div,{className:"p-4 sm:p-6  min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsx(Gs.div,{className:"max-w-5xl mx-auto  p-4 sm:p-6 shadow-md rounded-md",variants:b,initial:"hidden",animate:"visible",children:d.jsxs(Gs.form,{onSubmit:w,variants:F,initial:"hidden",animate:"visible",children:[d.jsxs(Gs.div,{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 mb-6",variants:b,children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Customer Type"}),d.jsxs(wt,{required:!0,onValueChange:se=>E("customerType",se,l==null?void 0:l.data),value:((M=s==null?void 0:s.customerType)==null?void 0:M.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Customer Type",children:((I=s.customerType)==null?void 0:I.customerType)||"Select Customer Type"})}),d.jsx(yt,{children:!u&&(l==null?void 0:l.data.map(se=>d.jsx(Qt,{value:String(se.id),children:se.customerType},se.id)))})]})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Customer Status"}),d.jsxs(wt,{required:!0,onValueChange:se=>E("customerStatus",se,f==null?void 0:f.data),value:(_=s==null?void 0:s.customerStatus)==null?void 0:_.id,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Customer Status",children:((j=s.customerStatus)==null?void 0:j.customerStatus)||"Select Customer Status"})}),d.jsx(yt,{children:!p&&(f==null?void 0:f.data.map(se=>d.jsx(Qt,{value:se.id,children:se.customerStatus},se.id)))})]})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Reference Source"}),d.jsxs(wt,{required:!0,onValueChange:se=>E("sourceReference",se,o==null?void 0:o.data),value:(H=s.sourceReference)==null?void 0:H.id,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Source Reference",children:((B=s.sourceReference)==null?void 0:B.sourceReference)||"Select Source Reference"})}),d.jsx(yt,{children:!a&&(o==null?void 0:o.data.map(se=>d.jsx(Qt,{value:se.id,children:se.sourceReference},se.id)))})]})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(wt,{required:!0,onValueChange:se=>E("referenceDetail",se,g==null?void 0:g.data),value:(oe=s==null?void 0:s.referenceDetail)==null?void 0:oe.id,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Reference Detail",children:((ye=s.referenceDetail)==null?void 0:ye.referenceDetail)||"Select Reference Detail"})}),d.jsx(yt,{children:!C&&(g==null?void 0:g.data.map(se=>d.jsx(Qt,{value:se.id,children:se.referenceDetail},se.id)))})]})]}),d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(be,{type:"text",name:"referenceRemark",value:s==null?void 0:s.referenceRemark,onChange:R,className:"mt-1 w-full"})]})]}),d.jsx("hr",{}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 mb-6 mt-4",children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(be,{required:!0,type:"text",name:"customerName",value:s==null?void 0:s.customerName,onChange:R,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"GST No"}),d.jsx(be,{required:!0,type:"text",name:"gstNo",value:s==null?void 0:s.gstNo,onChange:R,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"PAN No"}),d.jsx(be,{required:!0,type:"text",name:"panNo",value:s==null?void 0:s.panNo,onChange:R,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(be,{required:!0,type:"text",name:"address1",value:s==null?void 0:s.address1,onChange:R,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(be,{type:"text",name:"address2",value:s==null?void 0:s.address2,onChange:R,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Address Line 3"}),d.jsx(be,{type:"text",name:"address3",value:s==null?void 0:s.address3,onChange:R,className:"mt-1 w-full "})]})]}),d.jsx("hr",{}),d.jsx("div",{className:"mb-6 mt-4 d-flex justify-content-between",children:d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Contact Persons"}),d.jsx(be,{required:!0,type:"text",placeholder:"Name",name:"contactPerson",value:s==null?void 0:s.contactPerson,className:"w-full",onChange:R})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Designation"}),d.jsxs(wt,{required:!0,onValueChange:se=>E("designation",se,S==null?void 0:S.data),value:(Re=s==null?void 0:s.designation)==null?void 0:Re.id,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Designation",children:((we=s.designation)==null?void 0:we.designation)||"Select Designation"})}),d.jsx(yt,{children:!y&&(S==null?void 0:S.data.map(se=>d.jsx(Qt,{value:se.id,children:se.designation},se.id)))})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(ce,{children:"Contact No"}),d.jsx(be,{type:"text",required:!0,placeholder:"Enter 10 digit contact No",name:"contactNumber",value:r==null?void 0:r.contactNumber,className:"w-full",pattern:"^\\d{10}$",onChange:R})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(ce,{children:"Email"}),d.jsx(be,{type:"email",required:!0,placeholder:"Email",name:"email",value:r==null?void 0:r.email,className:"w-full",onChange:R})]})]})}),d.jsxs("div",{className:"mb-6",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(_E,{required:!0,className:"mt-1 w-full border border-gray-300 rounded-md p-2",rows:3,onChange:R,name:"customerWeightage",value:r==null?void 0:r.customerWeightage})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mt-6 space-y-4 sm:space-y-0",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",checked:s==null?void 0:s.isActive,onChange:A,className:"mr-2",value:""}),d.jsx(ce,{htmlFor:"status",children:"Status (IsActive)"})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx(It,{type:"button",variant:"secondary",onClick:D,children:"Cancel"}),d.jsxs(It,{type:"submit",children:[r!=null&&r.id?"Edit":"Create"," "]})]})]})]})})})},jE=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},BE=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},X0=()=>Rr({queryKey:["useGetCustomerList"],queryFn:()=>_e("/api/customer-list/v1/getAll")}),aSe=()=>Je({mutationFn:e=>_e("/api/customer-list/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:jE,onError:BE}),lSe=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/customer-list/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{jE(r),t.invalidateQueries({queryKey:["useGetCustomerList"]})},onError:BE})},cSe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/customer-list/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetCustomerList"]}),jE(r.message)},onError:BE})},Nr=({isOpen:e,onClose:t,dialogTitle:r="Dialog Title",dialogDescription:n="Dialog Description",children:s,formId:i,width:o,height:a,showCloseButton:l=!0,showSaveButton:u=!0})=>d.jsx(r_,{open:e,onOpenChange:t,children:d.jsxs(vb,{className:`${o} ${a} `,children:[d.jsxs(Cb,{children:[d.jsx(i_,{children:r}),d.jsx(o_,{children:n})]}),d.jsx("div",{className:"modal-body",children:s}),d.jsxs(s_,{className:"sm:justify-start",children:[l&&d.jsx(yee,{asChild:!0,children:d.jsx(It,{type:"button",variant:"secondary",onClick:t,children:"Close"})}),u&&i&&d.jsx(It,{form:i,type:"submit",children:"Save"})]})]})}),NB=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=X0(),f=aSe(),p=lSe(r),g=cSe(r),C=(o==null?void 0:o.data)||[];Bn();const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"customerType.customerType",headerName:"Types"},{field:"customerName",headerName:"Customer Name"},{field:"address1",headerName:"Address"},{field:"contactNumber",headerName:"Contact No "},{field:"email",headerName:"Email"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:E=>E.value?"Active":"Inactive"},{field:"designation.designation",headerName:"Designation"},{field:"sourceReference.sourceReference",headerName:"Reference"},{field:"referenceDetail.referenceDetail",headerName:"Reference Detail"},{field:"referenceRemark",headerName:"Reference Remark"}],y=()=>{t(!0),i(""),n(null)},w=()=>{t(!1)},b=E=>{r?p.mutate(E,{onSuccess:()=>{u()}}):f.mutate(E,{onSuccess:()=>{u()}}),t(!1)},F=E=>{t(!0),n(E.id),console.log("edit",E.id),i(E)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Customer List"}),d.jsx("div",{className:"p-6 ",children:d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,exportFileName:"Customer_List",onDeleteClick:R})}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"service-form",width:"max-w-5xl",height:"min-h-[200px] max-h-[80vh] h-auto overflow-y-auto",showCloseButton:!1,showSaveButton:!1,children:d.jsx(oSe,{onSubmit:b,formId:"service-form",defaultValues:s,setIsModalOpen:t})})]})};function uSe(e){const t=dSe(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(fSe);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function dSe(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=gSe(s),a=pSe(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hSe=Symbol("radix.slottable");function fSe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hSe}function pSe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function gSe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lp=mSe.reduce((e,t)=>{const r=uSe(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function vSe(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const u=p=>{var b;const{scope:g,children:C,...S}=p,y=((b=g==null?void 0:g[e])==null?void 0:b[l])||a,w=m.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:w,children:C})};u.displayName=i+"Provider";function f(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,S=m.useContext(C);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,CSe(s,...t)]}function CSe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ySe(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var GE="ScrollArea",[IB]=vSe(GE),[SSe,bi]=IB(GE),OB=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,l]=m.useState(null),[u,f]=m.useState(null),[p,g]=m.useState(null),[C,S]=m.useState(null),[y,w]=m.useState(null),[b,F]=m.useState(0),[R,E]=m.useState(0),[A,D]=m.useState(!1),[M,I]=m.useState(!1),_=Gt(t,H=>l(H)),j=vp(s);return d.jsx(SSe,{scope:r,type:n,dir:j,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:f,content:p,onContentChange:g,scrollbarX:C,onScrollbarXChange:S,scrollbarXEnabled:A,onScrollbarXEnabledChange:D,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:M,onScrollbarYEnabledChange:I,onCornerWidthChange:F,onCornerHeightChange:E,children:d.jsx(Lp.div,{dir:j,...o,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":R+"px",...e.style}})})});OB.displayName=GE;var kB="ScrollAreaViewport",LB=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=bi(kB,r),a=m.useRef(null),l=Gt(t,a,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(Lp.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});LB.displayName=kB;var Fo="ScrollAreaScrollbar",VE=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=bi(Fo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return m.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?d.jsx(wSe,{...n,ref:t,forceMount:r}):s.type==="scroll"?d.jsx(xSe,{...n,ref:t,forceMount:r}):s.type==="auto"?d.jsx(_B,{...n,ref:t,forceMount:r}):s.type==="always"?d.jsx(HE,{...n,ref:t}):null});VE.displayName=Fo;var wSe=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=bi(Fo,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},f=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(Pn,{present:r||i,children:d.jsx(_B,{"data-state":i?"visible":"hidden",...n,ref:t})})}),xSe=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=bi(Fo,e.__scopeScrollArea),i=e.orientation==="horizontal",o=J0(()=>l("SCROLL_END"),100),[a,l]=ySe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),m.useEffect(()=>{const u=s.viewport,f=i?"scrollLeft":"scrollTop";if(u){let p=u[f];const g=()=>{const C=u[f];p!==C&&(l("SCROLL"),o()),p=C};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[s.viewport,i,l,o]),d.jsx(Pn,{present:r||a!=="hidden",children:d.jsx(HE,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:et(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:et(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),_B=m.forwardRef((e,t)=>{const r=bi(Fo,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=m.useState(!1),a=e.orientation==="horizontal",l=J0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?u:f)}},10);return Ad(r.viewport,l),Ad(r.content,l),d.jsx(Pn,{present:n||i,children:d.jsx(HE,{"data-state":i?"visible":"hidden",...s,ref:t})})}),HE=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=bi(Fo,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=HB(a.viewport,a.content),f={...n,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function p(g,C){return PSe(g,o.current,a,C)}return r==="horizontal"?d.jsx(bSe,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const g=s.viewport.scrollLeft,C=Z2(g,a,s.dir);i.current.style.transform=`translate3d(${C}px, 0, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=p(g,s.dir))}}):r==="vertical"?d.jsx(ESe,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const g=s.viewport.scrollTop,C=Z2(g,a);i.current.style.transform=`translate3d(0, ${C}px, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=p(g))}}):null}),bSe=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=bi(Fo,e.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),u=Gt(t,l,i.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(BB,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Z0(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(i.viewport){const g=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),UB(g,p)&&f.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Xv(o.paddingLeft),paddingEnd:Xv(o.paddingRight)}})}})}),ESe=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=bi(Fo,e.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),u=Gt(t,l,i.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(BB,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Z0(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(i.viewport){const g=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),UB(g,p)&&f.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Xv(o.paddingTop),paddingEnd:Xv(o.paddingBottom)}})}})}),[RSe,jB]=IB(Fo),BB=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:f,onResize:p,...g}=e,C=bi(Fo,r),[S,y]=m.useState(null),w=Gt(t,_=>y(_)),b=m.useRef(null),F=m.useRef(""),R=C.viewport,E=n.content-n.viewport,A=hn(f),D=hn(l),M=J0(p,10);function I(_){if(b.current){const j=_.clientX-b.current.left,H=_.clientY-b.current.top;u({x:j,y:H})}}return m.useEffect(()=>{const _=j=>{const H=j.target;(S==null?void 0:S.contains(H))&&A(j,E)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[R,S,E,A]),m.useEffect(D,[n,D]),Ad(S,M),Ad(C.content,M),d.jsx(RSe,{scope:r,scrollbar:S,hasThumb:s,onThumbChange:hn(i),onThumbPointerUp:hn(o),onThumbPositionChange:D,onThumbPointerDown:hn(a),children:d.jsx(Lp.div,{...g,ref:w,style:{position:"absolute",...g.style},onPointerDown:et(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),b.current=S.getBoundingClientRect(),F.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",C.viewport&&(C.viewport.style.scrollBehavior="auto"),I(_))}),onPointerMove:et(e.onPointerMove,I),onPointerUp:et(e.onPointerUp,_=>{const j=_.target;j.hasPointerCapture(_.pointerId)&&j.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=F.current,C.viewport&&(C.viewport.style.scrollBehavior=""),b.current=null})})})}),Qv="ScrollAreaThumb",GB=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=jB(Qv,e.__scopeScrollArea);return d.jsx(Pn,{present:r||s.hasThumb,children:d.jsx(FSe,{ref:t,...n})})}),FSe=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=bi(Qv,r),o=jB(Qv,r),{onThumbPositionChange:a}=o,l=Gt(t,p=>o.onThumbChange(p)),u=m.useRef(void 0),f=J0(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const p=i.viewport;if(p){const g=()=>{if(f(),!u.current){const C=ASe(p,a);u.current=C,a()}};return a(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[i.viewport,f,a]),d.jsx(Lp.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:et(e.onPointerDownCapture,p=>{const C=p.target.getBoundingClientRect(),S=p.clientX-C.left,y=p.clientY-C.top;o.onThumbPointerDown({x:S,y})}),onPointerUp:et(e.onPointerUp,o.onThumbPointerUp)})});GB.displayName=Qv;var WE="ScrollAreaCorner",VB=m.forwardRef((e,t)=>{const r=bi(WE,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(TSe,{...e,ref:t}):null});VB.displayName=WE;var TSe=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=bi(WE,r),[i,o]=m.useState(0),[a,l]=m.useState(0),u=!!(i&&a);return Ad(s.scrollbarX,()=>{var p;const f=((p=s.scrollbarX)==null?void 0:p.offsetHeight)||0;s.onCornerHeightChange(f),l(f)}),Ad(s.scrollbarY,()=>{var p;const f=((p=s.scrollbarY)==null?void 0:p.offsetWidth)||0;s.onCornerWidthChange(f),o(f)}),u?d.jsx(Lp.div,{...n,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Xv(e){return e?parseInt(e,10):0}function HB(e,t){const r=e/t;return isNaN(r)?0:r}function Z0(e){const t=HB(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function PSe(e,t,r,n="ltr"){const s=Z0(r),i=s/2,o=t||i,a=s-o,l=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-a,f=r.content-r.viewport,p=n==="ltr"?[0,f]:[f*-1,0];return WB([l,u],p)(e)}function Z2(e,t,r="ltr"){const n=Z0(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-n,l=r==="ltr"?[0,o]:[o*-1,0],u=Mx(e,l);return WB([0,o],[0,a])(u)}function WB(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function UB(e,t){return e>0&&e<t}var ASe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,a=r.top!==i.top;(o||a)&&t(),r=i,n=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(n)};function J0(e,t){const r=hn(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Ad(e,t){const r=hn(t);Yr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var $B=OB,DSe=LB,MSe=VB;const th=m.forwardRef(({className:e,children:t,...r},n)=>d.jsxs($B,{ref:n,className:Lt("relative overflow-hidden",e),...r,children:[d.jsx(DSe,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(zB,{}),d.jsx(MSe,{})]}));th.displayName=$B.displayName;const zB=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>d.jsx(VE,{ref:n,orientation:t,className:Lt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:d.jsx(GB,{className:"relative flex-1 rounded-full bg-border"})}));zB.displayName=VE.displayName;const NSe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});m.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(th,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(be,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(be,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(be,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(be,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(be,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(be,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(be,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(be,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(be,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(be,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(be,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},UE=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},rh=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},KB=()=>Rr({queryKey:["useGetSales"],queryFn:()=>_e("/api/sales/v1/getAll")}),qB=()=>(console.log("sales register"),Je({mutationFn:e=>_e("/api/sales/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:UE,onError:rh})),ISe=()=>Je({mutationFn:()=>_e("/api/sales/getNextInvoiceNo",{method:"GET"}),onError:rh}),YB=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/sales/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{UE(r),t.invalidateQueries({queryKey:["useGetSales"]})},onError:rh})},OSe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/sales/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetSales"]}),UE(r.message)},onError:rh})},kSe=()=>Je({mutationFn:()=>_e("/api/sales/getAllInVoiceNo",{method:"GET"}),onError:rh}),LSe=e=>(console.log("action in hook",e),Je({mutationFn:()=>_e(`/api/sales/getSalesByInvoiceNo?invoiceNo=${e}`,{method:"GET"}),onError:rh}));function _Se(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const u=p=>{var b;const{scope:g,children:C,...S}=p,y=((b=g==null?void 0:g[e])==null?void 0:b[l])||a,w=m.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:w,children:C})};u.displayName=i+"Provider";function f(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,S=m.useContext(C);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,jSe(s,...t)]}function jSe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function BSe(e){const t=GSe(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(HSe);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function GSe(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=USe(s),a=WSe(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VSe=Symbol("radix.slottable");function HSe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VSe}function WSe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function USe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $Se=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],eC=$Se.reduce((e,t)=>{const r=BSe(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),tC="Tabs",[zSe]=_Se(tC,[E0]),QB=E0(),[KSe,$E]=zSe(tC),XB=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=e,f=vp(a),[p,g]=hl({prop:n,onChange:s,defaultProp:i??"",caller:tC});return d.jsx(KSe,{scope:r,baseId:mn(),value:p,onValueChange:g,orientation:o,dir:f,activationMode:l,children:d.jsx(eC.div,{dir:f,"data-orientation":o,...u,ref:t})})});XB.displayName=tC;var ZB="TabsList",JB=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=$E(ZB,r),o=QB(r);return d.jsx(vk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:d.jsx(eC.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});JB.displayName=ZB;var e5="TabsTrigger",t5=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=$E(e5,r),a=QB(r),l=n5(o.baseId,n),u=s5(o.baseId,n),f=n===o.value;return d.jsx(Ck,{asChild:!0,...a,focusable:!s,active:f,children:d.jsx(eC.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:et(e.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:et(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:et(e.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!s&&p&&o.onValueChange(n)})})})});t5.displayName=e5;var r5="TabsContent",ju=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,a=$E(r5,r),l=n5(a.baseId,n),u=s5(a.baseId,n),f=n===a.value,p=m.useRef(f);return m.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),d.jsx(Pn,{present:s||f,children:({present:g})=>d.jsx(eC.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!g,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&i})})});ju.displayName=r5;function n5(e,t){return`${e}-trigger-${t}`}function s5(e,t){return`${e}-content-${t}`}const qSe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});m.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(th,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(be,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(be,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(be,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(be,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(be,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(be,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(be,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(be,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(be,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(be,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(be,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},zE=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},KE=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},rC=()=>Rr({queryKey:["useGetProducts"],queryFn:()=>_e("/api/product/v1/getAll")}),i5=()=>Je({mutationFn:e=>_e("/api/product/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:zE,onError:KE}),o5=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/product/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{zE(r),t.invalidateQueries({queryKey:["useGetProducts"]})},onError:KE})},YSe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/product/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetProducts"]}),zE(r.message)},onError:KE})},QSe=e=>Rr({queryKey:["products",e],queryFn:()=>_e(`/api/product/findByProductType?productType=${e}`),enabled:!!e}),a5=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=rC(),f=i5(),p=o5(r),g=YSe(r),C=(o==null?void 0:o.data)||[];console.log(C);const S=Bn(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:A=>A.node.rowIndex+1},{field:"productCode",headerName:"Product Code"},{field:"brandName.brandName",headerName:"Brand Name"},{field:"productName",headerName:"Product Name"},{field:"modelNo",headerName:"Model No"},{field:"itemCategory.categoryName",headerName:"Product Category"},{field:"itemType.typeName",headerName:"Product Type"},{field:"mrp",headerName:"MRP"},{field:"starRating.starRating",headerName:"Star Rating"},{field:"refGasType.gasTypeName",headerName:"Gas Type Name"},{field:"tonCapacity.tonCapacityName",headerName:"Ton Capacity"},{field:"salesUnitMeasurement.uom",headerName:"Sales Unit Measurement"},{field:"purchaseUnitMeasurement.uom",headerName:"Purchase Unit Measurement"},{field:"baseUnitMeasurement.uom",headerName:"Base Unit Measurement"},{field:"itemStatus.statusName",headerName:"Item Status"},{field:"reoderLevel",headerName:"ReoderLevel"},{field:"reoderLevel",headerName:"ReoderLevel"},{field:"minQuantity",headerName:"Min Quantity"},{field:"maxQuantity",headerName:"Max Quantity"},{field:"sizes",headerName:"Sizes"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:A=>A.value?"Active":"Inactive"}],w=()=>{i(""),n(null),S("/app/product-list/productform")},b=()=>{t(!1)},F=A=>{r?p.mutate(A,{onSuccess:()=>{u()}}):f.mutate(A,{onSuccess:()=>{u()}}),t(!1)},R=A=>{n(A.id),console.log("action",A.id),i(A),S(`/app/product-list/productform?id=${A.id}`)},E=A=>{n(A.id),g.mutate(A.id,{onSuccess:()=>{u()}})};return d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Product List"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:y,isLoading:a,onAddClick:w,onEditClick:R,onDeleteClick:E,exportFileName:"Product_List"})]}),d.jsx(Nr,{isOpen:e,onClose:b,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"service-form",width:"100%",height:"100%",children:d.jsx(qSe,{onSubmit:F,formId:"service-form",defaultValues:s})})]})},qE=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},YE=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},l5=()=>Rr({queryKey:["useGetMaterials"],queryFn:()=>_e("/api/materials/v1/getAll")}),XSe=()=>Je({mutationFn:e=>_e("/api/materials/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:qE,onError:YE}),ZSe=e=>{const t=Pt();return console.log(n0),Je({mutationFn:r=>_e(`/api/materials/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{qE(r),t.invalidateQueries({queryKey:["useGetMaterials"]})},onError:YE})},JSe=e=>{const t=Pt();return console.log(e),Je({mutationFn:()=>_e(`/api/materials/delete/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetMaterials"]}),qE(r.message)},onError:YE})};var ewe=function(t){return twe(t)&&!rwe(t)};function twe(e){return!!e&&typeof e=="object"}function rwe(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||iwe(e)}var nwe=typeof Symbol=="function"&&Symbol.for,swe=nwe?Symbol.for("react.element"):60103;function iwe(e){return e.$$typeof===swe}function owe(e){return Array.isArray(e)?[]:{}}function Zv(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Jf(owe(e),e,t):e}function awe(e,t,r){return e.concat(t).map(function(n){return Zv(n,r)})}function lwe(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(s){n[s]=Zv(e[s],r)}),Object.keys(t).forEach(function(s){!r.isMergeableObject(t[s])||!e[s]?n[s]=Zv(t[s],r):n[s]=Jf(e[s],t[s],r)}),n}function Jf(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||awe,r.isMergeableObject=r.isMergeableObject||ewe;var n=Array.isArray(t),s=Array.isArray(e),i=n===s;return i?n?r.arrayMerge(e,t,r):lwe(e,t,r):Zv(t,r)}Jf.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,s){return Jf(n,s,r)},{})};var _x=Jf,c5=typeof global=="object"&&global&&global.Object===Object&&global,cwe=typeof self=="object"&&self&&self.Object===Object&&self,To=c5||cwe||Function("return this")(),Cl=To.Symbol,u5=Object.prototype,uwe=u5.hasOwnProperty,dwe=u5.toString,Qh=Cl?Cl.toStringTag:void 0;function hwe(e){var t=uwe.call(e,Qh),r=e[Qh];try{e[Qh]=void 0;var n=!0}catch{}var s=dwe.call(e);return n&&(t?e[Qh]=r:delete e[Qh]),s}var fwe=Object.prototype,pwe=fwe.toString;function gwe(e){return pwe.call(e)}var mwe="[object Null]",vwe="[object Undefined]",J2=Cl?Cl.toStringTag:void 0;function eu(e){return e==null?e===void 0?vwe:mwe:J2&&J2 in Object(e)?hwe(e):gwe(e)}function d5(e,t){return function(r){return e(t(r))}}var QE=d5(Object.getPrototypeOf,Object);function tu(e){return e!=null&&typeof e=="object"}var Cwe="[object Object]",ywe=Function.prototype,Swe=Object.prototype,h5=ywe.toString,wwe=Swe.hasOwnProperty,xwe=h5.call(Object);function eM(e){if(!tu(e)||eu(e)!=Cwe)return!1;var t=QE(e);if(t===null)return!0;var r=wwe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&h5.call(r)==xwe}function bwe(){this.__data__=[],this.size=0}function f5(e,t){return e===t||e!==e&&t!==t}function nC(e,t){for(var r=e.length;r--;)if(f5(e[r][0],t))return r;return-1}var Ewe=Array.prototype,Rwe=Ewe.splice;function Fwe(e){var t=this.__data__,r=nC(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Rwe.call(t,r,1),--this.size,!0}function Twe(e){var t=this.__data__,r=nC(t,e);return r<0?void 0:t[r][1]}function Pwe(e){return nC(this.__data__,e)>-1}function Awe(e,t){var r=this.__data__,n=nC(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function ma(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ma.prototype.clear=bwe;ma.prototype.delete=Fwe;ma.prototype.get=Twe;ma.prototype.has=Pwe;ma.prototype.set=Awe;function Dwe(){this.__data__=new ma,this.size=0}function Mwe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Nwe(e){return this.__data__.get(e)}function Iwe(e){return this.__data__.has(e)}function _p(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Owe="[object AsyncFunction]",kwe="[object Function]",Lwe="[object GeneratorFunction]",_we="[object Proxy]";function p5(e){if(!_p(e))return!1;var t=eu(e);return t==kwe||t==Lwe||t==Owe||t==_we}var tw=To["__core-js_shared__"],tM=(function(){var e=/[^.]+$/.exec(tw&&tw.keys&&tw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function jwe(e){return!!tM&&tM in e}var Bwe=Function.prototype,Gwe=Bwe.toString;function ru(e){if(e!=null){try{return Gwe.call(e)}catch{}try{return e+""}catch{}}return""}var Vwe=/[\\^$.*+?()[\]{}|]/g,Hwe=/^\[object .+?Constructor\]$/,Wwe=Function.prototype,Uwe=Object.prototype,$we=Wwe.toString,zwe=Uwe.hasOwnProperty,Kwe=RegExp("^"+$we.call(zwe).replace(Vwe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qwe(e){if(!_p(e)||jwe(e))return!1;var t=p5(e)?Kwe:Hwe;return t.test(ru(e))}function Ywe(e,t){return e==null?void 0:e[t]}function nu(e,t){var r=Ywe(e,t);return qwe(r)?r:void 0}var ep=nu(To,"Map"),tp=nu(Object,"create");function Qwe(){this.__data__=tp?tp(null):{},this.size=0}function Xwe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Zwe="__lodash_hash_undefined__",Jwe=Object.prototype,exe=Jwe.hasOwnProperty;function txe(e){var t=this.__data__;if(tp){var r=t[e];return r===Zwe?void 0:r}return exe.call(t,e)?t[e]:void 0}var rxe=Object.prototype,nxe=rxe.hasOwnProperty;function sxe(e){var t=this.__data__;return tp?t[e]!==void 0:nxe.call(t,e)}var ixe="__lodash_hash_undefined__";function oxe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tp&&t===void 0?ixe:t,this}function Bc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bc.prototype.clear=Qwe;Bc.prototype.delete=Xwe;Bc.prototype.get=txe;Bc.prototype.has=sxe;Bc.prototype.set=oxe;function axe(){this.size=0,this.__data__={hash:new Bc,map:new(ep||ma),string:new Bc}}function lxe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function sC(e,t){var r=e.__data__;return lxe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function cxe(e){var t=sC(this,e).delete(e);return this.size-=t?1:0,t}function uxe(e){return sC(this,e).get(e)}function dxe(e){return sC(this,e).has(e)}function hxe(e,t){var r=sC(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Dl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Dl.prototype.clear=axe;Dl.prototype.delete=cxe;Dl.prototype.get=uxe;Dl.prototype.has=dxe;Dl.prototype.set=hxe;var fxe=200;function pxe(e,t){var r=this.__data__;if(r instanceof ma){var n=r.__data__;if(!ep||n.length<fxe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Dl(n)}return r.set(e,t),this.size=r.size,this}function nh(e){var t=this.__data__=new ma(e);this.size=t.size}nh.prototype.clear=Dwe;nh.prototype.delete=Mwe;nh.prototype.get=Nwe;nh.prototype.has=Iwe;nh.prototype.set=pxe;function gxe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var rM=(function(){try{var e=nu(Object,"defineProperty");return e({},"",{}),e}catch{}})();function g5(e,t,r){t=="__proto__"&&rM?rM(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var mxe=Object.prototype,vxe=mxe.hasOwnProperty;function m5(e,t,r){var n=e[t];(!(vxe.call(e,t)&&f5(n,r))||r===void 0&&!(t in e))&&g5(e,t,r)}function iC(e,t,r,n){var s=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],l=void 0;l===void 0&&(l=e[a]),s?g5(r,a,l):m5(r,a,l)}return r}function Cxe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var yxe="[object Arguments]";function nM(e){return tu(e)&&eu(e)==yxe}var v5=Object.prototype,Sxe=v5.hasOwnProperty,wxe=v5.propertyIsEnumerable,xxe=nM((function(){return arguments})())?nM:function(e){return tu(e)&&Sxe.call(e,"callee")&&!wxe.call(e,"callee")},jp=Array.isArray;function bxe(){return!1}var C5=typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,sM=C5&&typeof Ws=="object"&&Ws&&!Ws.nodeType&&Ws,Exe=sM&&sM.exports===C5,iM=Exe?To.Buffer:void 0,Rxe=iM?iM.isBuffer:void 0,y5=Rxe||bxe,Fxe=9007199254740991,Txe=/^(?:0|[1-9]\d*)$/;function Pxe(e,t){var r=typeof e;return t=t??Fxe,!!t&&(r=="number"||r!="symbol"&&Txe.test(e))&&e>-1&&e%1==0&&e<t}var Axe=9007199254740991;function S5(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Axe}var Dxe="[object Arguments]",Mxe="[object Array]",Nxe="[object Boolean]",Ixe="[object Date]",Oxe="[object Error]",kxe="[object Function]",Lxe="[object Map]",_xe="[object Number]",jxe="[object Object]",Bxe="[object RegExp]",Gxe="[object Set]",Vxe="[object String]",Hxe="[object WeakMap]",Wxe="[object ArrayBuffer]",Uxe="[object DataView]",$xe="[object Float32Array]",zxe="[object Float64Array]",Kxe="[object Int8Array]",qxe="[object Int16Array]",Yxe="[object Int32Array]",Qxe="[object Uint8Array]",Xxe="[object Uint8ClampedArray]",Zxe="[object Uint16Array]",Jxe="[object Uint32Array]",Cr={};Cr[$xe]=Cr[zxe]=Cr[Kxe]=Cr[qxe]=Cr[Yxe]=Cr[Qxe]=Cr[Xxe]=Cr[Zxe]=Cr[Jxe]=!0;Cr[Dxe]=Cr[Mxe]=Cr[Wxe]=Cr[Nxe]=Cr[Uxe]=Cr[Ixe]=Cr[Oxe]=Cr[kxe]=Cr[Lxe]=Cr[_xe]=Cr[jxe]=Cr[Bxe]=Cr[Gxe]=Cr[Vxe]=Cr[Hxe]=!1;function e1e(e){return tu(e)&&S5(e.length)&&!!Cr[eu(e)]}function XE(e){return function(t){return e(t)}}var w5=typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,bf=w5&&typeof Ws=="object"&&Ws&&!Ws.nodeType&&Ws,t1e=bf&&bf.exports===w5,rw=t1e&&c5.process,Dd=(function(){try{var e=bf&&bf.require&&bf.require("util").types;return e||rw&&rw.binding&&rw.binding("util")}catch{}})(),oM=Dd&&Dd.isTypedArray,r1e=oM?XE(oM):e1e,n1e=Object.prototype,s1e=n1e.hasOwnProperty;function x5(e,t){var r=jp(e),n=!r&&xxe(e),s=!r&&!n&&y5(e),i=!r&&!n&&!s&&r1e(e),o=r||n||s||i,a=o?Cxe(e.length,String):[],l=a.length;for(var u in e)(t||s1e.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Pxe(u,l)))&&a.push(u);return a}var i1e=Object.prototype;function ZE(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||i1e;return e===r}var o1e=d5(Object.keys,Object),a1e=Object.prototype,l1e=a1e.hasOwnProperty;function c1e(e){if(!ZE(e))return o1e(e);var t=[];for(var r in Object(e))l1e.call(e,r)&&r!="constructor"&&t.push(r);return t}function b5(e){return e!=null&&S5(e.length)&&!p5(e)}function JE(e){return b5(e)?x5(e):c1e(e)}function u1e(e,t){return e&&iC(t,JE(t),e)}function d1e(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var h1e=Object.prototype,f1e=h1e.hasOwnProperty;function p1e(e){if(!_p(e))return d1e(e);var t=ZE(e),r=[];for(var n in e)n=="constructor"&&(t||!f1e.call(e,n))||r.push(n);return r}function eR(e){return b5(e)?x5(e,!0):p1e(e)}function g1e(e,t){return e&&iC(t,eR(t),e)}var E5=typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,aM=E5&&typeof Ws=="object"&&Ws&&!Ws.nodeType&&Ws,m1e=aM&&aM.exports===E5,lM=m1e?To.Buffer:void 0,cM=lM?lM.allocUnsafe:void 0;function v1e(e,t){if(t)return e.slice();var r=e.length,n=cM?cM(r):new e.constructor(r);return e.copy(n),n}function R5(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function C1e(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}function F5(){return[]}var y1e=Object.prototype,S1e=y1e.propertyIsEnumerable,uM=Object.getOwnPropertySymbols,tR=uM?function(e){return e==null?[]:(e=Object(e),C1e(uM(e),function(t){return S1e.call(e,t)}))}:F5;function w1e(e,t){return iC(e,tR(e),t)}function T5(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var x1e=Object.getOwnPropertySymbols,P5=x1e?function(e){for(var t=[];e;)T5(t,tR(e)),e=QE(e);return t}:F5;function b1e(e,t){return iC(e,P5(e),t)}function A5(e,t,r){var n=t(e);return jp(e)?n:T5(n,r(e))}function E1e(e){return A5(e,JE,tR)}function R1e(e){return A5(e,eR,P5)}var jx=nu(To,"DataView"),Bx=nu(To,"Promise"),Gx=nu(To,"Set"),Vx=nu(To,"WeakMap"),dM="[object Map]",F1e="[object Object]",hM="[object Promise]",fM="[object Set]",pM="[object WeakMap]",gM="[object DataView]",T1e=ru(jx),P1e=ru(ep),A1e=ru(Bx),D1e=ru(Gx),M1e=ru(Vx),Wo=eu;(jx&&Wo(new jx(new ArrayBuffer(1)))!=gM||ep&&Wo(new ep)!=dM||Bx&&Wo(Bx.resolve())!=hM||Gx&&Wo(new Gx)!=fM||Vx&&Wo(new Vx)!=pM)&&(Wo=function(e){var t=eu(e),r=t==F1e?e.constructor:void 0,n=r?ru(r):"";if(n)switch(n){case T1e:return gM;case P1e:return dM;case A1e:return hM;case D1e:return fM;case M1e:return pM}return t});var N1e=Object.prototype,I1e=N1e.hasOwnProperty;function O1e(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&I1e.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var mM=To.Uint8Array;function rR(e){var t=new e.constructor(e.byteLength);return new mM(t).set(new mM(e)),t}function k1e(e,t){var r=t?rR(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var L1e=/\w*$/;function _1e(e){var t=new e.constructor(e.source,L1e.exec(e));return t.lastIndex=e.lastIndex,t}var vM=Cl?Cl.prototype:void 0,CM=vM?vM.valueOf:void 0;function j1e(e){return CM?Object(CM.call(e)):{}}function B1e(e,t){var r=t?rR(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var G1e="[object Boolean]",V1e="[object Date]",H1e="[object Map]",W1e="[object Number]",U1e="[object RegExp]",$1e="[object Set]",z1e="[object String]",K1e="[object Symbol]",q1e="[object ArrayBuffer]",Y1e="[object DataView]",Q1e="[object Float32Array]",X1e="[object Float64Array]",Z1e="[object Int8Array]",J1e="[object Int16Array]",ebe="[object Int32Array]",tbe="[object Uint8Array]",rbe="[object Uint8ClampedArray]",nbe="[object Uint16Array]",sbe="[object Uint32Array]";function ibe(e,t,r){var n=e.constructor;switch(t){case q1e:return rR(e);case G1e:case V1e:return new n(+e);case Y1e:return k1e(e,r);case Q1e:case X1e:case Z1e:case J1e:case ebe:case tbe:case rbe:case nbe:case sbe:return B1e(e,r);case H1e:return new n;case W1e:case z1e:return new n(e);case U1e:return _1e(e);case $1e:return new n;case K1e:return j1e(e)}}var yM=Object.create,obe=(function(){function e(){}return function(t){if(!_p(t))return{};if(yM)return yM(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();function abe(e){return typeof e.constructor=="function"&&!ZE(e)?obe(QE(e)):{}}var lbe="[object Map]";function cbe(e){return tu(e)&&Wo(e)==lbe}var SM=Dd&&Dd.isMap,ube=SM?XE(SM):cbe,dbe="[object Set]";function hbe(e){return tu(e)&&Wo(e)==dbe}var wM=Dd&&Dd.isSet,fbe=wM?XE(wM):hbe,pbe=1,gbe=2,mbe=4,D5="[object Arguments]",vbe="[object Array]",Cbe="[object Boolean]",ybe="[object Date]",Sbe="[object Error]",M5="[object Function]",wbe="[object GeneratorFunction]",xbe="[object Map]",bbe="[object Number]",N5="[object Object]",Ebe="[object RegExp]",Rbe="[object Set]",Fbe="[object String]",Tbe="[object Symbol]",Pbe="[object WeakMap]",Abe="[object ArrayBuffer]",Dbe="[object DataView]",Mbe="[object Float32Array]",Nbe="[object Float64Array]",Ibe="[object Int8Array]",Obe="[object Int16Array]",kbe="[object Int32Array]",Lbe="[object Uint8Array]",_be="[object Uint8ClampedArray]",jbe="[object Uint16Array]",Bbe="[object Uint32Array]",pr={};pr[D5]=pr[vbe]=pr[Abe]=pr[Dbe]=pr[Cbe]=pr[ybe]=pr[Mbe]=pr[Nbe]=pr[Ibe]=pr[Obe]=pr[kbe]=pr[xbe]=pr[bbe]=pr[N5]=pr[Ebe]=pr[Rbe]=pr[Fbe]=pr[Tbe]=pr[Lbe]=pr[_be]=pr[jbe]=pr[Bbe]=!0;pr[Sbe]=pr[M5]=pr[Pbe]=!1;function Ef(e,t,r,n,s,i){var o,a=t&pbe,l=t&gbe,u=t&mbe;if(o!==void 0)return o;if(!_p(e))return e;var f=jp(e);if(f){if(o=O1e(e),!a)return R5(e,o)}else{var p=Wo(e),g=p==M5||p==wbe;if(y5(e))return v1e(e,a);if(p==N5||p==D5||g&&!s){if(o=l||g?{}:abe(e),!a)return l?b1e(e,g1e(o,e)):w1e(e,u1e(o,e))}else{if(!pr[p])return s?e:{};o=ibe(e,p,a)}}i||(i=new nh);var C=i.get(e);if(C)return C;i.set(e,o),fbe(e)?e.forEach(function(w){o.add(Ef(w,t,r,w,e,i))}):ube(e)&&e.forEach(function(w,b){o.set(b,Ef(w,t,r,b,e,i))});var S=u?l?R1e:E1e:l?eR:JE,y=f?void 0:S(e);return gxe(y||e,function(w,b){y&&(b=w,w=e[b]),m5(o,b,Ef(w,t,r,b,e,i))}),o}var Gbe=1,Vbe=4;function Dm(e){return Ef(e,Gbe|Vbe)}var nw,xM;function Hbe(){if(xM)return nw;xM=1;var e=Array.isArray,t=Object.keys,r=Object.prototype.hasOwnProperty,n=typeof Element<"u";function s(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){var a=e(i),l=e(o),u,f,p;if(a&&l){if(f=i.length,f!=o.length)return!1;for(u=f;u--!==0;)if(!s(i[u],o[u]))return!1;return!0}if(a!=l)return!1;var g=i instanceof Date,C=o instanceof Date;if(g!=C)return!1;if(g&&C)return i.getTime()==o.getTime();var S=i instanceof RegExp,y=o instanceof RegExp;if(S!=y)return!1;if(S&&y)return i.toString()==o.toString();var w=t(i);if(f=w.length,f!==t(o).length)return!1;for(u=f;u--!==0;)if(!r.call(o,w[u]))return!1;if(n&&i instanceof Element&&o instanceof Element)return i===o;for(u=f;u--!==0;)if(p=w[u],!(p==="_owner"&&i.$$typeof)&&!s(i[p],o[p]))return!1;return!0}return i!==i&&o!==o}return nw=function(o,a){try{return s(o,a)}catch(l){if(l.message&&l.message.match(/stack|recursion/i)||l.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",l.name,l.message),!1;throw l}},nw}var Wbe=Hbe();const Jl=t0(Wbe);var Ube=4;function bM(e){return Ef(e,Ube)}function I5(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var $be="[object Symbol]";function nR(e){return typeof e=="symbol"||tu(e)&&eu(e)==$be}var zbe="Expected a function";function sR(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(zbe);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(sR.Cache||Dl),r}sR.Cache=Dl;var Kbe=500;function qbe(e){var t=sR(e,function(n){return r.size===Kbe&&r.clear(),n}),r=t.cache;return t}var Ybe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qbe=/\\(\\)?/g,Xbe=qbe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ybe,function(r,n,s,i){t.push(s?i.replace(Qbe,"$1"):n||r)}),t});function Zbe(e){if(typeof e=="string"||nR(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var EM=Cl?Cl.prototype:void 0,RM=EM?EM.toString:void 0;function O5(e){if(typeof e=="string")return e;if(jp(e))return I5(e,O5)+"";if(nR(e))return RM?RM.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Jbe(e){return e==null?"":O5(e)}function k5(e){return jp(e)?I5(e,Zbe):nR(e)?[e]:R5(Xbe(Jbe(e)))}var sw={exports:{}},er={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FM;function eEe(){if(FM)return er;FM=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,f=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,C=e?Symbol.for("react.memo"):60115,S=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,F=e?Symbol.for("react.scope"):60119;function R(A){if(typeof A=="object"&&A!==null){var D=A.$$typeof;switch(D){case t:switch(A=A.type,A){case l:case u:case n:case i:case s:case p:return A;default:switch(A=A&&A.$$typeof,A){case a:case f:case S:case C:case o:return A;default:return D}}case r:return D}}}function E(A){return R(A)===u}return er.AsyncMode=l,er.ConcurrentMode=u,er.ContextConsumer=a,er.ContextProvider=o,er.Element=t,er.ForwardRef=f,er.Fragment=n,er.Lazy=S,er.Memo=C,er.Portal=r,er.Profiler=i,er.StrictMode=s,er.Suspense=p,er.isAsyncMode=function(A){return E(A)||R(A)===l},er.isConcurrentMode=E,er.isContextConsumer=function(A){return R(A)===a},er.isContextProvider=function(A){return R(A)===o},er.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},er.isForwardRef=function(A){return R(A)===f},er.isFragment=function(A){return R(A)===n},er.isLazy=function(A){return R(A)===S},er.isMemo=function(A){return R(A)===C},er.isPortal=function(A){return R(A)===r},er.isProfiler=function(A){return R(A)===i},er.isStrictMode=function(A){return R(A)===s},er.isSuspense=function(A){return R(A)===p},er.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===u||A===i||A===s||A===p||A===g||typeof A=="object"&&A!==null&&(A.$$typeof===S||A.$$typeof===C||A.$$typeof===o||A.$$typeof===a||A.$$typeof===f||A.$$typeof===w||A.$$typeof===b||A.$$typeof===F||A.$$typeof===y)},er.typeOf=R,er}var TM;function tEe(){return TM||(TM=1,sw.exports=eEe()),sw.exports}var iw,PM;function rEe(){if(PM)return iw;PM=1;var e=tEe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=n,i[e.Memo]=s;function o(S){return e.isMemo(S)?s:i[S.$$typeof]||t}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function C(S,y,w){if(typeof y!="string"){if(g){var b=p(y);b&&b!==g&&C(S,b,w)}var F=l(y);u&&(F=F.concat(u(y)));for(var R=o(S),E=o(y),A=0;A<F.length;++A){var D=F[A];if(!r[D]&&!(w&&w[D])&&!(E&&E[D])&&!(R&&R[D])){var M=f(y,D);try{a(S,D,M)}catch{}}}}return S}return iw=C,iw}rEe();function dn(){return dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dn.apply(this,arguments)}function L5(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var oC=m.createContext(void 0);oC.displayName="FormikContext";oC.Provider;oC.Consumer;function nEe(){var e=m.useContext(oC);return e}var ci=function(t){return typeof t=="function"},aC=function(t){return t!==null&&typeof t=="object"},sEe=function(t){return String(Math.floor(Number(t)))===t},ow=function(t){return Object.prototype.toString.call(t)==="[object String]"},aw=function(t){return aC(t)&&ci(t.then)};function Cs(e,t,r,n){n===void 0&&(n=0);for(var s=k5(t);e&&n<s.length;)e=e[s[n++]];return n!==s.length&&!e||e===void 0?r:e}function Ec(e,t,r){for(var n=bM(e),s=n,i=0,o=k5(t);i<o.length-1;i++){var a=o[i],l=Cs(e,o.slice(0,i+1));if(l&&(aC(l)||Array.isArray(l)))s=s[a]=bM(l);else{var u=o[i+1];s=s[a]=sEe(u)&&Number(u)>=0?[]:{}}}return(i===0?e:s)[o[i]]===r?e:(r===void 0?delete s[o[i]]:s[o[i]]=r,i===0&&r===void 0&&delete n[o[i]],n)}function _5(e,t,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var s=0,i=Object.keys(e);s<i.length;s++){var o=i[s],a=e[o];aC(a)?r.get(a)||(r.set(a,!0),n[o]=Array.isArray(a)?[]:{},_5(a,t,r,n[o])):n[o]=t}return n}function iEe(e,t){switch(t.type){case"SET_VALUES":return dn({},e,{values:t.payload});case"SET_TOUCHED":return dn({},e,{touched:t.payload});case"SET_ERRORS":return Jl(e.errors,t.payload)?e:dn({},e,{errors:t.payload});case"SET_STATUS":return dn({},e,{status:t.payload});case"SET_ISSUBMITTING":return dn({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return dn({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return dn({},e,{values:Ec(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return dn({},e,{touched:Ec(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return dn({},e,{errors:Ec(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return dn({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return dn({},e,{touched:_5(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return dn({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return dn({},e,{isSubmitting:!1});default:return e}}var ql={},Mm={};function Bp(e){var t=e.validateOnChange,r=t===void 0?!0:t,n=e.validateOnBlur,s=n===void 0?!0:n,i=e.validateOnMount,o=i===void 0?!1:i,a=e.isInitialValid,l=e.enableReinitialize,u=l===void 0?!1:l,f=e.onSubmit,p=L5(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),g=dn({validateOnChange:r,validateOnBlur:s,validateOnMount:o,onSubmit:f},p),C=m.useRef(g.initialValues),S=m.useRef(g.initialErrors||ql),y=m.useRef(g.initialTouched||Mm),w=m.useRef(g.initialStatus),b=m.useRef(!1),F=m.useRef({});m.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var R=m.useState(0),E=R[1],A=m.useRef({values:Dm(g.initialValues),errors:Dm(g.initialErrors)||ql,touched:Dm(g.initialTouched)||Mm,status:Dm(g.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),D=A.current,M=m.useCallback(function(ue){var Ve=A.current;A.current=iEe(Ve,ue),Ve!==A.current&&E(function(Ue){return Ue+1})},[]),I=m.useCallback(function(ue,Ve){return new Promise(function(Ue,rt){var tt=g.validate(ue,Ve);tt==null?Ue(ql):aw(tt)?tt.then(function(gt){Ue(gt||ql)},function(gt){rt(gt)}):Ue(tt)})},[g.validate]),_=m.useCallback(function(ue,Ve){var Ue=g.validationSchema,rt=ci(Ue)?Ue(Ve):Ue,tt=Ve&&rt.validateAt?rt.validateAt(Ve,ue):aEe(ue,rt);return new Promise(function(gt,Vt){tt.then(function(){gt(ql)},function($r){$r.name==="ValidationError"?gt(oEe($r)):Vt($r)})})},[g.validationSchema]),j=m.useCallback(function(ue,Ve){return new Promise(function(Ue){return Ue(F.current[ue].validate(Ve))})},[]),H=m.useCallback(function(ue){var Ve=Object.keys(F.current).filter(function(rt){return ci(F.current[rt].validate)}),Ue=Ve.length>0?Ve.map(function(rt){return j(rt,Cs(ue,rt))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Ue).then(function(rt){return rt.reduce(function(tt,gt,Vt){return gt==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||gt&&(tt=Ec(tt,Ve[Vt],gt)),tt},{})})},[j]),B=m.useCallback(function(ue){return Promise.all([H(ue),g.validationSchema?_(ue):{},g.validate?I(ue):{}]).then(function(Ve){var Ue=Ve[0],rt=Ve[1],tt=Ve[2],gt=_x.all([Ue,rt,tt],{arrayMerge:lEe});return gt})},[g.validate,g.validationSchema,H,I,_]),oe=oi(function(ue){return ue===void 0&&(ue=D.values),M({type:"SET_ISVALIDATING",payload:!0}),B(ue).then(function(Ve){return b.current&&(M({type:"SET_ISVALIDATING",payload:!1}),M({type:"SET_ERRORS",payload:Ve})),Ve})});m.useEffect(function(){o&&b.current===!0&&Jl(C.current,g.initialValues)&&oe(C.current)},[o,oe]);var ye=m.useCallback(function(ue){var Ve=ue&&ue.values?ue.values:C.current,Ue=ue&&ue.errors?ue.errors:S.current?S.current:g.initialErrors||{},rt=ue&&ue.touched?ue.touched:y.current?y.current:g.initialTouched||{},tt=ue&&ue.status?ue.status:w.current?w.current:g.initialStatus;C.current=Ve,S.current=Ue,y.current=rt,w.current=tt;var gt=function(){M({type:"RESET_FORM",payload:{isSubmitting:!!ue&&!!ue.isSubmitting,errors:Ue,touched:rt,status:tt,values:Ve,isValidating:!!ue&&!!ue.isValidating,submitCount:ue&&ue.submitCount&&typeof ue.submitCount=="number"?ue.submitCount:0}})};if(g.onReset){var Vt=g.onReset(D.values,Qe);aw(Vt)?Vt.then(gt):gt()}else gt()},[g.initialErrors,g.initialStatus,g.initialTouched,g.onReset]);m.useEffect(function(){b.current===!0&&!Jl(C.current,g.initialValues)&&u&&(C.current=g.initialValues,ye(),o&&oe(C.current))},[u,g.initialValues,ye,o,oe]),m.useEffect(function(){u&&b.current===!0&&!Jl(S.current,g.initialErrors)&&(S.current=g.initialErrors||ql,M({type:"SET_ERRORS",payload:g.initialErrors||ql}))},[u,g.initialErrors]),m.useEffect(function(){u&&b.current===!0&&!Jl(y.current,g.initialTouched)&&(y.current=g.initialTouched||Mm,M({type:"SET_TOUCHED",payload:g.initialTouched||Mm}))},[u,g.initialTouched]),m.useEffect(function(){u&&b.current===!0&&!Jl(w.current,g.initialStatus)&&(w.current=g.initialStatus,M({type:"SET_STATUS",payload:g.initialStatus}))},[u,g.initialStatus,g.initialTouched]);var Re=oi(function(ue){if(F.current[ue]&&ci(F.current[ue].validate)){var Ve=Cs(D.values,ue),Ue=F.current[ue].validate(Ve);return aw(Ue)?(M({type:"SET_ISVALIDATING",payload:!0}),Ue.then(function(rt){return rt}).then(function(rt){M({type:"SET_FIELD_ERROR",payload:{field:ue,value:rt}}),M({type:"SET_ISVALIDATING",payload:!1})})):(M({type:"SET_FIELD_ERROR",payload:{field:ue,value:Ue}}),Promise.resolve(Ue))}else if(g.validationSchema)return M({type:"SET_ISVALIDATING",payload:!0}),_(D.values,ue).then(function(rt){return rt}).then(function(rt){M({type:"SET_FIELD_ERROR",payload:{field:ue,value:Cs(rt,ue)}}),M({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),we=m.useCallback(function(ue,Ve){var Ue=Ve.validate;F.current[ue]={validate:Ue}},[]),se=m.useCallback(function(ue){delete F.current[ue]},[]),ee=oi(function(ue,Ve){M({type:"SET_TOUCHED",payload:ue});var Ue=Ve===void 0?s:Ve;return Ue?oe(D.values):Promise.resolve()}),re=m.useCallback(function(ue){M({type:"SET_ERRORS",payload:ue})},[]),de=oi(function(ue,Ve){var Ue=ci(ue)?ue(D.values):ue;M({type:"SET_VALUES",payload:Ue});var rt=Ve===void 0?r:Ve;return rt?oe(Ue):Promise.resolve()}),K=m.useCallback(function(ue,Ve){M({type:"SET_FIELD_ERROR",payload:{field:ue,value:Ve}})},[]),N=oi(function(ue,Ve,Ue){var rt=ci(Ve)?Ve(Cs(D.values,ue)):Ve;M({type:"SET_FIELD_VALUE",payload:{field:ue,value:rt}});var tt=Ue===void 0?r:Ue;return tt?oe(Ec(D.values,ue,rt)):Promise.resolve()}),O=m.useCallback(function(ue,Ve){var Ue=Ve,rt=ue,tt;if(!ow(ue)){ue.persist&&ue.persist();var gt=ue.target?ue.target:ue.currentTarget,Vt=gt.type,$r=gt.name,Oe=gt.id,mt=gt.value,cr=gt.checked;gt.outerHTML;var sn=gt.options,Xs=gt.multiple;Ue=Ve||$r||Oe,rt=/number|range/.test(Vt)?(tt=parseFloat(mt),isNaN(tt)?"":tt):/checkbox/.test(Vt)?uEe(Cs(D.values,Ue),cr,mt):sn&&Xs?cEe(sn):mt}Ue&&N(Ue,rt)},[N,D.values]),V=oi(function(ue){if(ow(ue))return function(Ve){return O(Ve,ue)};O(ue)}),G=oi(function(ue,Ve,Ue){Ve===void 0&&(Ve=!0),M({type:"SET_FIELD_TOUCHED",payload:{field:ue,value:Ve}});var rt=Ue===void 0?s:Ue;return rt?oe(D.values):Promise.resolve()}),J=m.useCallback(function(ue,Ve){ue.persist&&ue.persist();var Ue=ue.target,rt=Ue.name,tt=Ue.id;Ue.outerHTML;var gt=Ve||rt||tt;G(gt,!0)},[G]),ae=oi(function(ue){if(ow(ue))return function(Ve){return J(Ve,ue)};J(ue)}),ge=m.useCallback(function(ue){ci(ue)?M({type:"SET_FORMIK_STATE",payload:ue}):M({type:"SET_FORMIK_STATE",payload:function(){return ue}})},[]),X=m.useCallback(function(ue){M({type:"SET_STATUS",payload:ue})},[]),ne=m.useCallback(function(ue){M({type:"SET_ISSUBMITTING",payload:ue})},[]),Ne=oi(function(){return M({type:"SUBMIT_ATTEMPT"}),oe().then(function(ue){var Ve=ue instanceof Error,Ue=!Ve&&Object.keys(ue).length===0;if(Ue){var rt;try{if(rt=Ze(),rt===void 0)return}catch(tt){throw tt}return Promise.resolve(rt).then(function(tt){return b.current&&M({type:"SUBMIT_SUCCESS"}),tt}).catch(function(tt){if(b.current)throw M({type:"SUBMIT_FAILURE"}),tt})}else if(b.current&&(M({type:"SUBMIT_FAILURE"}),Ve))throw ue})}),Ae=oi(function(ue){ue&&ue.preventDefault&&ci(ue.preventDefault)&&ue.preventDefault(),ue&&ue.stopPropagation&&ci(ue.stopPropagation)&&ue.stopPropagation(),Ne().catch(function(Ve){console.warn("Warning: An unhandled error was caught from submitForm()",Ve)})}),Qe={resetForm:ye,validateForm:oe,validateField:Re,setErrors:re,setFieldError:K,setFieldTouched:G,setFieldValue:N,setStatus:X,setSubmitting:ne,setTouched:ee,setValues:de,setFormikState:ge,submitForm:Ne},Ze=oi(function(){return f(D.values,Qe)}),ft=oi(function(ue){ue&&ue.preventDefault&&ci(ue.preventDefault)&&ue.preventDefault(),ue&&ue.stopPropagation&&ci(ue.stopPropagation)&&ue.stopPropagation(),ye()}),xt=m.useCallback(function(ue){return{value:Cs(D.values,ue),error:Cs(D.errors,ue),touched:!!Cs(D.touched,ue),initialValue:Cs(C.current,ue),initialTouched:!!Cs(y.current,ue),initialError:Cs(S.current,ue)}},[D.errors,D.touched,D.values]),We=m.useCallback(function(ue){return{setValue:function(Ue,rt){return N(ue,Ue,rt)},setTouched:function(Ue,rt){return G(ue,Ue,rt)},setError:function(Ue){return K(ue,Ue)}}},[N,G,K]),le=m.useCallback(function(ue){var Ve=aC(ue),Ue=Ve?ue.name:ue,rt=Cs(D.values,Ue),tt={name:Ue,value:rt,onChange:V,onBlur:ae};if(Ve){var gt=ue.type,Vt=ue.value,$r=ue.as,Oe=ue.multiple;gt==="checkbox"?Vt===void 0?tt.checked=!!rt:(tt.checked=!!(Array.isArray(rt)&&~rt.indexOf(Vt)),tt.value=Vt):gt==="radio"?(tt.checked=rt===Vt,tt.value=Vt):$r==="select"&&Oe&&(tt.value=tt.value||[],tt.multiple=!0)}return tt},[ae,V,D.values]),Ke=m.useMemo(function(){return!Jl(C.current,D.values)},[C.current,D.values]),ct=m.useMemo(function(){return typeof a<"u"?Ke?D.errors&&Object.keys(D.errors).length===0:a!==!1&&ci(a)?a(g):a:D.errors&&Object.keys(D.errors).length===0},[a,Ke,D.errors,g]),Mt=dn({},D,{initialValues:C.current,initialErrors:S.current,initialTouched:y.current,initialStatus:w.current,handleBlur:ae,handleChange:V,handleReset:ft,handleSubmit:Ae,resetForm:ye,setErrors:re,setFormikState:ge,setFieldTouched:G,setFieldValue:N,setFieldError:K,setStatus:X,setSubmitting:ne,setTouched:ee,setValues:de,submitForm:Ne,validateForm:oe,validateField:Re,isValid:ct,dirty:Ke,unregisterField:se,registerField:we,getFieldProps:le,getFieldMeta:xt,getFieldHelpers:We,validateOnBlur:s,validateOnChange:r,validateOnMount:o});return Mt}function oEe(e){var t={};if(e.inner){if(e.inner.length===0)return Ec(t,e.path,e.message);for(var s=e.inner,r=Array.isArray(s),n=0,s=r?s:s[Symbol.iterator]();;){var i;if(r){if(n>=s.length)break;i=s[n++]}else{if(n=s.next(),n.done)break;i=n.value}var o=i;Cs(t,o.path)||(t=Ec(t,o.path,o.message))}}return t}function aEe(e,t,r,n){r===void 0&&(r=!1);var s=Hx(e);return t[r?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function Hx(e){var t=Array.isArray(e)?[]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=String(r);Array.isArray(e[n])===!0?t[n]=e[n].map(function(s){return Array.isArray(s)===!0||eM(s)?Hx(s):s!==""?s:void 0}):eM(e[n])?t[n]=Hx(e[n]):t[n]=e[n]!==""?e[n]:void 0}return t}function lEe(e,t,r){var n=e.slice();return t.forEach(function(i,o){if(typeof n[o]>"u"){var a=r.clone!==!1,l=a&&r.isMergeableObject(i);n[o]=l?_x(Array.isArray(i)?[]:{},i,r):i}else r.isMergeableObject(i)?n[o]=_x(e[o],i,r):e.indexOf(i)===-1&&n.push(i)}),n}function cEe(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function uEe(e,t,r){if(typeof e=="boolean")return!!t;var n=[],s=!1,i=-1;if(Array.isArray(e))n=e,i=e.indexOf(r),s=i>=0;else if(!r||r=="true"||r=="false")return!!t;return t&&r&&!s?n.concat(r):s?n.slice(0,i).concat(n.slice(i+1)):n}var dEe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect;function oi(e){var t=m.useRef(e);return dEe(function(){t.current=e}),m.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current.apply(void 0,n)},[])}var hEe=m.forwardRef(function(e,t){var r=e.action,n=L5(e,["action"]),s=r??"#",i=nEe(),o=i.handleReset,a=i.handleSubmit;return m.createElement("form",dn({onSubmit:a,ref:t,onReset:o,action:s},n))});hEe.displayName="Form";var lw,AM;function fEe(){if(AM)return lw;AM=1;function e(b){this._maxSize=b,this.clear()}e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(b){return this._values[b]},e.prototype.set=function(b,F){return this._size>=this._maxSize&&this.clear(),b in this._values||this._size++,this._values[b]=F};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,n=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,o=512,a=new e(o),l=new e(o),u=new e(o);lw={Cache:e,split:p,normalizePath:f,setter:function(b){var F=f(b);return l.get(b)||l.set(b,function(E,A){for(var D=0,M=F.length,I=E;D<M-1;){var _=F[D];if(_==="__proto__"||_==="constructor"||_==="prototype")return E;I=I[F[D++]]}I[F[D]]=A})},getter:function(b,F){var R=f(b);return u.get(b)||u.set(b,function(A){for(var D=0,M=R.length;D<M;)if(A!=null||!F)A=A[R[D++]];else return;return A})},join:function(b){return b.reduce(function(F,R){return F+(C(R)||r.test(R)?"["+R+"]":(F?".":"")+R)},"")},forEach:function(b,F,R){g(Array.isArray(b)?b:p(b),F,R)}};function f(b){return a.get(b)||a.set(b,p(b).map(function(F){return F.replace(i,"$2")}))}function p(b){return b.match(t)||[""]}function g(b,F,R){var E=b.length,A,D,M,I;for(D=0;D<E;D++)A=b[D],A&&(w(A)&&(A='"'+A+'"'),I=C(A),M=!I&&/^\d+$/.test(A),F.call(R,A,I,M,D,b))}function C(b){return typeof b=="string"&&b&&["'",'"'].indexOf(b.charAt(0))!==-1}function S(b){return b.match(n)&&!b.match(r)}function y(b){return s.test(b)}function w(b){return!C(b)&&(S(b)||y(b))}return lw}var Rc=fEe(),cw,DM;function pEe(){if(DM)return cw;DM=1;const e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=f=>f.match(e)||[],r=f=>f[0].toUpperCase()+f.slice(1),n=(f,p)=>t(f).join(p).toLowerCase(),s=f=>t(f).reduce((p,g)=>`${p}${p?g[0].toUpperCase()+g.slice(1).toLowerCase():g.toLowerCase()}`,"");return cw={words:t,upperFirst:r,camelCase:s,pascalCase:f=>r(s(f)),snakeCase:f=>n(f,"_"),kebabCase:f=>n(f,"-"),sentenceCase:f=>r(n(f," ")),titleCase:f=>t(f).map(r).join(" ")},cw}var uw=pEe(),Nm={exports:{}},MM;function gEe(){if(MM)return Nm.exports;MM=1,Nm.exports=function(s){return e(t(s),s)},Nm.exports.array=e;function e(s,i){var o=s.length,a=new Array(o),l={},u=o,f=r(i),p=n(s);for(i.forEach(function(C){if(!p.has(C[0])||!p.has(C[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)l[u]||g(s[u],u,new Set);return a;function g(C,S,y){if(y.has(C)){var w;try{w=", node was:"+JSON.stringify(C)}catch{w=""}throw new Error("Cyclic dependency"+w)}if(!p.has(C))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(C));if(!l[S]){l[S]=!0;var b=f.get(C)||new Set;if(b=Array.from(b),S=b.length){y.add(C);do{var F=b[--S];g(F,p.get(F),y)}while(S);y.delete(C)}a[--o]=C}}}function t(s){for(var i=new Set,o=0,a=s.length;o<a;o++){var l=s[o];i.add(l[0]),i.add(l[1])}return Array.from(i)}function r(s){for(var i=new Map,o=0,a=s.length;o<a;o++){var l=s[o];i.has(l[0])||i.set(l[0],new Set),i.has(l[1])||i.set(l[1],new Set),i.get(l[0]).add(l[1])}return i}function n(s){for(var i=new Map,o=0,a=s.length;o<a;o++)i.set(s[o],o);return i}return Nm.exports}var mEe=gEe();const vEe=t0(mEe),CEe=Object.prototype.toString,yEe=Error.prototype.toString,SEe=RegExp.prototype.toString,wEe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",xEe=/^Symbol\((.*)\)(.*)$/;function bEe(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function NM(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const r=typeof e;if(r==="number")return bEe(e);if(r==="string")return t?`"${e}"`:e;if(r==="function")return"[Function "+(e.name||"anonymous")+"]";if(r==="symbol")return wEe.call(e).replace(xEe,"Symbol($1)");const n=CEe.call(e).slice(8,-1);return n==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):n==="Error"||e instanceof Error?"["+yEe.call(e)+"]":n==="RegExp"?SEe.call(e):null}function al(e,t){let r=NM(e,t);return r!==null?r:JSON.stringify(e,function(n,s){let i=NM(this[n],t);return i!==null?i:s},2)}function j5(e){return e==null?[]:[].concat(e)}let B5,G5,V5,EEe=/\$\{\s*(\w+)\s*\}/g;B5=Symbol.toStringTag;class IM{constructor(t,r,n,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[B5]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=s,this.errors=[],this.inner=[],j5(t).forEach(i=>{if(Qn.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}G5=Symbol.hasInstance;V5=Symbol.toStringTag;class Qn extends Error{static formatError(t,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof t=="string"?t.replace(EEe,(s,i)=>al(r[i])):typeof t=="function"?t(r):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,r,n,s,i){const o=new IM(t,r,n,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[V5]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Qn)}static[G5](t){return IM[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let no={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:n})=>{const s=n!=null&&n!==r?` (cast from the value \`${al(n,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${al(r,!0)}\``+s:`${e} must match the configured type. The validated value was: \`${al(r,!0)}\``+s}},vs={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},REe={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Wx={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},FEe={isValue:"${path} field must be ${value}"},Qm={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},TEe={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},PEe={notType:e=>{const{path:t,value:r,spec:n}=e,s=n.types.length;if(Array.isArray(r)){if(r.length<s)return`${t} tuple value has too few items, expected a length of ${s} but got ${r.length} for value: \`${al(r,!0)}\``;if(r.length>s)return`${t} tuple value has too many items, expected a length of ${s} but got ${r.length} for value: \`${al(r,!0)}\``}return Qn.formatError(no.notType,e)}};Object.assign(Object.create(null),{mixed:no,string:vs,number:REe,date:Wx,object:Qm,array:TEe,boolean:FEe,tuple:PEe});const iR=e=>e&&e.__isYupSchema__;class Jv{static fromOptions(t,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:s,otherwise:i}=r,o=typeof n=="function"?n:(...a)=>a.every(l=>l===n);return new Jv(t,(a,l)=>{var u;let f=o(...a)?s:i;return(u=f==null?void 0:f(l))!=null?u:l})}constructor(t,r){this.fn=void 0,this.refs=t,this.refs=t,this.fn=r}resolve(t,r){let n=this.refs.map(i=>i.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),s=this.fn(n,t,r);if(s===void 0||s===t)return t;if(!iR(s))throw new TypeError("conditions must return a schema object");return s.resolve(r)}}const Im={context:"$",value:"."};let su=class{constructor(t,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Im.context,this.isValue=this.key[0]===Im.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Im.context:this.isValue?Im.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Rc.getter(this.path,!0),this.map=r.map}getValue(t,r,n){let s=this.isContext?n:this.isValue?t:r;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(t,r){return this.getValue(t,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}};su.prototype.__isYupRef=!0;const ac=e=>e==null;function ku(e){function t({value:r,path:n="",options:s,originalValue:i,schema:o},a,l){const{name:u,test:f,params:p,message:g,skipAbsent:C}=e;let{parent:S,context:y,abortEarly:w=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=s;const F={value:r,parent:S,context:y};function R(H={}){const B=H5(Object.assign({value:r,originalValue:i,label:o.spec.label,path:H.path||n,spec:o.spec,disableStackTrace:H.disableStackTrace||b},p,H.params),F),oe=new Qn(Qn.formatError(H.message||g,B),r,B.path,H.type||u,B.disableStackTrace);return oe.params=B,oe}const E=w?a:l;let A={path:n,parent:S,type:u,from:s.from,createError:R,resolve(H){return W5(H,F)},options:s,originalValue:i,schema:o};const D=H=>{Qn.isError(H)?E(H):H?l(null):E(R())},M=H=>{Qn.isError(H)?E(H):a(H)};if(C&&ac(r))return D(!0);let _;try{var j;if(_=f.call(A,r,A),typeof((j=_)==null?void 0:j.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${A.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(_).then(D,M)}}catch(H){M(H);return}D(_)}return t.OPTIONS=e,t}function H5(e,t){if(!e)return e;for(const r of Object.keys(e))e[r]=W5(e[r],t);return e}function W5(e,t){return su.isRef(e)?e.getValue(t.value,t.parent,t.context):e}function AEe(e,t,r,n=r){let s,i,o;return t?(Rc.forEach(t,(a,l,u)=>{let f=l?a.slice(1,a.length-1):a;e=e.resolve({context:n,parent:s,value:r});let p=e.type==="tuple",g=u?parseInt(f,10):0;if(e.innerType||p){if(p&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&g>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);s=r,r=r&&r[g],e=p?e.spec.types[g]:e.innerType}if(!u){if(!e.fields||!e.fields[f])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);s=r,r=r&&r[f],e=e.fields[f]}i=f,o=l?"["+a+"]":"."+a}),{schema:e,parent:s,parentPath:i}):{parent:s,parentPath:t,schema:e}}class e0 extends Set{describe(){const t=[];for(const r of this.values())t.push(su.isRef(r)?r.describe():r);return t}resolveAll(t){let r=[];for(const n of this.values())r.push(t(n));return r}clone(){return new e0(this.values())}merge(t,r){const n=this.clone();return t.forEach(s=>n.add(s)),r.forEach(s=>n.delete(s)),n}}function qu(e,t=new Map){if(iR(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let r;if(e instanceof Date)r=new Date(e.getTime()),t.set(e,r);else if(e instanceof RegExp)r=new RegExp(e),t.set(e,r);else if(Array.isArray(e)){r=new Array(e.length),t.set(e,r);for(let n=0;n<e.length;n++)r[n]=qu(e[n],t)}else if(e instanceof Map){r=new Map,t.set(e,r);for(const[n,s]of e.entries())r.set(n,qu(s,t))}else if(e instanceof Set){r=new Set,t.set(e,r);for(const n of e)r.add(qu(n,t))}else if(e instanceof Object){r={},t.set(e,r);for(const[n,s]of Object.entries(e))r[n]=qu(s,t)}else throw Error(`Unable to clone ${e}`);return r}function DEe(e){if(!(e!=null&&e.length))return;const t=[];let r="",n=!1,s=!1;for(let i=0;i<e.length;i++){const o=e[i];if(o==="["&&!s){r&&(t.push(...r.split(".").filter(Boolean)),r=""),n=!0;continue}if(o==="]"&&!s){r&&(/^\d+$/.test(r)?t.push(r):t.push(r.replace(/^"|"$/g,"")),r=""),n=!1;continue}if(o==='"'){s=!s;continue}if(o==="."&&!n&&!s){r&&(t.push(r),r="");continue}r+=o}return r&&t.push(...r.split(".").filter(Boolean)),t}function MEe(e,t){const r=t?`${t}.${e.path}`:e.path;return e.errors.map(n=>({message:n,path:DEe(r)}))}function U5(e,t){var r;if(!((r=e.inner)!=null&&r.length)&&e.errors.length)return MEe(e,t);const n=t?`${t}.${e.path}`:e.path;return e.inner.flatMap(s=>U5(s,n))}class So{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new e0,this._blacklist=new e0,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(no.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=qu(Object.assign({},this.spec,t)),r}label(t){let r=this.clone();return r.spec.label=t,r}meta(...t){if(t.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},t[0]),r}withMutation(t){let r=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=r,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let r=this,n=t.clone();const s=Object.assign({},r.spec,n.spec);return n.spec=s,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=r._blacklist.merge(t._blacklist,t._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(i=>{t.tests.forEach(o=>{i.test(o.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((s,i)=>i.resolve(s,t),r),r=r.resolve(t)}return r}resolveOptions(t){var r,n,s,i;return Object.assign({},t,{from:t.from||[],strict:(r=t.strict)!=null?r:this.spec.strict,abortEarly:(n=t.abortEarly)!=null?n:this.spec.abortEarly,recursive:(s=t.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=t.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(t,r={}){let n=this.resolve(Object.assign({},r,{value:t})),s=r.assert==="ignore-optionality",i=n._cast(t,r);if(r.assert!==!1&&!n.isType(i)){if(s&&ac(i))return i;let o=al(t),a=al(i);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(t,r){let n=t===void 0?t:this.transforms.reduce((s,i)=>i.call(this,s,t,this,r),t);return n===void 0&&(n=this.getDefault(r)),n}_validate(t,r={},n,s){let{path:i,originalValue:o=t,strict:a=this.spec.strict}=r,l=t;a||(l=this._cast(l,Object.assign({assert:!1},r)));let u=[];for(let f of Object.values(this.internalTests))f&&u.push(f);this.runTests({path:i,value:l,originalValue:o,options:r,tests:u},n,f=>{if(f.length)return s(f,l);this.runTests({path:i,value:l,originalValue:o,options:r,tests:this.tests},n,s)})}runTests(t,r,n){let s=!1,{tests:i,value:o,originalValue:a,path:l,options:u}=t,f=y=>{s||(s=!0,r(y,o))},p=y=>{s||(s=!0,n(y,o))},g=i.length,C=[];if(!g)return p([]);let S={value:o,originalValue:a,path:l,options:u,schema:this};for(let y=0;y<i.length;y++){const w=i[y];w(S,f,function(F){F&&(Array.isArray(F)?C.push(...F):C.push(F)),--g<=0&&p(C)})}}asNestedTest({key:t,index:r,parent:n,parentPath:s,originalParent:i,options:o}){const a=t??r;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=n[a];const f=Object.assign({},o,{strict:!0,parent:n,value:u,originalValue:i[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${s||""}[${l?a:`"${a}"`}]`:(s?`${s}.`:"")+t});return(p,g,C)=>this.resolve(f)._validate(u,f,g,C)}validate(t,r){var n;let s=this.resolve(Object.assign({},r,{value:t})),i=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(t,r,(l,u)=>{Qn.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new Qn(l,u,void 0,void 0,i)):o(u)}))}validateSync(t,r){var n;let s=this.resolve(Object.assign({},r,{value:t})),i,o=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return s._validate(t,Object.assign({},r,{sync:!0}),(a,l)=>{throw Qn.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Qn(a,t,void 0,void 0,o);i=l}),i}isValid(t,r){return this.validate(t,r).then(()=>!0,n=>{if(Qn.isError(n))return!1;throw n})}isValidSync(t,r){try{return this.validateSync(t,r),!0}catch(n){if(Qn.isError(n))return!1;throw n}}_getDefault(t){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,t):qu(r)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,r){const n=this.clone({nullable:t});return n.internalTests.nullable=ku({message:r,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),n}optionality(t,r){const n=this.clone({optional:t});return n.internalTests.optionality=ku({message:r,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(t=no.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=no.notNull){return this.nullability(!1,t)}required(t=no.required){return this.clone().withMutation(r=>r.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let r=this.clone();return r.transforms.push(t),r}test(...t){let r;if(t.length===1?typeof t[0]=="function"?r={test:t[0]}:r=t[0]:t.length===2?r={name:t[0],test:t[1]}:r={name:t[0],message:t[1],test:t[2]},r.message===void 0&&(r.message=no.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),s=ku(r),i=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===r.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),n.tests.push(s),n}when(t,r){!Array.isArray(t)&&typeof t!="string"&&(r=t,t=".");let n=this.clone(),s=j5(t).map(i=>new su(i));return s.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof r=="function"?new Jv(s,r):Jv.fromOptions(s,r)),n}typeError(t){let r=this.clone();return r.internalTests.typeError=ku({message:t,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(t,r=no.oneOf){let n=this.clone();return t.forEach(s=>{n._whitelist.add(s),n._blacklist.delete(s)}),n.internalTests.whiteList=ku({message:r,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),n}notOneOf(t,r=no.notOneOf){let n=this.clone();return t.forEach(s=>{n._blacklist.add(s),n._whitelist.delete(s)}),n.internalTests.blacklist=ku({message:r,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),n}strip(t=!0){let r=this.clone();return r.spec.strip=t,r}describe(t){const r=(t?this.resolve(t):this).clone(),{label:n,meta:s,optional:i,nullable:o}=r.spec;return{meta:s,label:n,optional:i,nullable:o,default:r.getDefault(t),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.filter((l,u,f)=>f.findIndex(p=>p.OPTIONS.name===l.OPTIONS.name)===u).map(l=>{const u=l.OPTIONS.params&&t?H5(Object.assign({},l.OPTIONS.params),t):l.OPTIONS.params;return{name:l.OPTIONS.name,params:u}})}}get"~standard"(){const t=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await t.validate(n,{abortEarly:!1})}}catch(s){if(s instanceof Qn)return{issues:U5(s)};throw s}}}}}So.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])So.prototype[`${e}At`]=function(t,r,n={}){const{parent:s,parentPath:i,schema:o}=AEe(this,t,r,n.context);return o[e](s&&s[i],Object.assign({},n,{parent:s,path:t}))};for(const e of["equals","is"])So.prototype[e]=So.prototype.oneOf;for(const e of["not","nope"])So.prototype[e]=So.prototype.notOneOf;const NEe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function IEe(e){const t=Ux(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let r=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(r=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(r=0-r)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+r,t.second,t.millisecond)}function Ux(e){var t,r;const n=NEe.exec(e);return n?{year:Go(n[1]),month:Go(n[2],1)-1,day:Go(n[3],1),hour:Go(n[4]),minute:Go(n[5]),second:Go(n[6]),millisecond:n[7]?Go(n[7].substring(0,3)):0,precision:(t=(r=n[7])==null?void 0:r.length)!=null?t:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Go(n[10]),minuteOffset:Go(n[11])}:null}function Go(e,t=0){return Number(e)||t}let OEe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,kEe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,LEe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,_Ee="^\\d{4}-\\d{2}-\\d{2}",jEe="\\d{2}:\\d{2}:\\d{2}",BEe="(([+-]\\d{2}(:?\\d{2})?)|Z)",GEe=new RegExp(`${_Ee}T${jEe}(\\.\\d+)?${BEe}$`),VEe=e=>ac(e)||e===e.trim(),HEe={}.toString();function ot(){return new $5}class $5 extends So{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,r)=>{if(!this.spec.coerce||this.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===HEe?t:n})})}required(t){return super.required(t).withMutation(r=>r.test({message:t||no.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(r=>r.OPTIONS.name!=="required"),t))}length(t,r=vs.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,r=vs.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,r=vs.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}matches(t,r){let n=!1,s,i;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:s,name:i}=r:s=r),this.test({name:i||"matches",message:s||vs.matches,params:{regex:t},skipAbsent:!0,test:o=>o===""&&n||o.search(t)!==-1})}email(t=vs.email){return this.matches(OEe,{name:"email",message:t,excludeEmptyString:!0})}url(t=vs.url){return this.matches(kEe,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=vs.uuid){return this.matches(LEe,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let r="",n,s;return t&&(typeof t=="object"?{message:r="",allowOffset:n=!1,precision:s=void 0}=t:r=t),this.matches(GEe,{name:"datetime",message:r||vs.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||vs.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const o=Ux(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:r||vs.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=Ux(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=vs.trim){return this.transform(r=>r!=null?r.trim():r).test({message:t,name:"trim",test:VEe})}lowercase(t=vs.lowercase){return this.transform(r=>ac(r)?r:r.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>ac(r)||r===r.toLowerCase()})}uppercase(t=vs.uppercase){return this.transform(r=>ac(r)?r:r.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>ac(r)||r===r.toUpperCase()})}}ot.prototype=$5.prototype;let z5=new Date(""),WEe=e=>Object.prototype.toString.call(e)==="[object Date]";function Gc(){return new Gp}class Gp extends So{constructor(){super({type:"date",check(t){return WEe(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,r)=>!this.spec.coerce||this.isType(t)||t===null?t:(t=IEe(t),isNaN(t)?Gp.INVALID_DATE:new Date(t)))})}prepareParam(t,r){let n;if(su.isRef(t))n=t;else{let s=this.cast(t);if(!this._typeCheck(s))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=s}return n}min(t,r=Wx.min){let n=this.prepareParam(t,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(s){return s>=this.resolve(n)}})}max(t,r=Wx.max){let n=this.prepareParam(t,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(s){return s<=this.resolve(n)}})}}Gp.INVALID_DATE=z5;Gc.prototype=Gp.prototype;Gc.INVALID_DATE=z5;function UEe(e,t=[]){let r=[],n=new Set,s=new Set(t.map(([o,a])=>`${o}-${a}`));function i(o,a){let l=Rc.split(o)[0];n.add(l),s.has(`${a}-${l}`)||r.push([a,l])}for(const o of Object.keys(e)){let a=e[o];n.add(o),su.isRef(a)&&a.isSibling?i(a.path,o):iR(a)&&"deps"in a&&a.deps.forEach(l=>i(l,o))}return vEe.array(Array.from(n),r).reverse()}function OM(e,t){let r=1/0;return e.some((n,s)=>{var i;if((i=t.path)!=null&&i.includes(n))return r=s,!0}),r}function K5(e){return(t,r)=>OM(e,t)-OM(e,r)}const $Ee=(e,t,r)=>{if(typeof e!="string")return e;let n=e;try{n=JSON.parse(e)}catch{}return r.isType(n)?n:e};function Xm(e){if("fields"in e){const t={};for(const[r,n]of Object.entries(e.fields))t[r]=Xm(n);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=Xm(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(Xm)}):"optional"in e?e.optional():e}const zEe=(e,t)=>{const r=[...Rc.normalizePath(t)];if(r.length===1)return r[0]in e;let n=r.pop(),s=Rc.getter(Rc.join(r),!0)(e);return!!(s&&n in s)};let kM=e=>Object.prototype.toString.call(e)==="[object Object]";function LM(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(n=>r.indexOf(n)===-1)}const KEe=K5([]);function lr(e){return new q5(e)}class q5 extends So{constructor(t){super({type:"object",check(r){return kM(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=KEe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,r={}){var n;let s=super._cast(t,r);if(s===void 0)return this.getDefault(r);if(!this._typeCheck(s))return s;let i=this.fields,o=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(p=>!this._nodes.includes(p))),l={},u=Object.assign({},r,{parent:l,__validating:r.__validating||!1}),f=!1;for(const p of a){let g=i[p],C=p in s,S=s[p];if(g){let y;u.path=(r.path?`${r.path}.`:"")+p,g=g.resolve({value:S,context:r.context,parent:l});let w=g instanceof So?g.spec:void 0,b=w==null?void 0:w.strict;if(w!=null&&w.strip){f=f||p in s;continue}y=!r.__validating||!b?g.cast(S,u):S,y!==void 0&&(l[p]=y)}else C&&!o&&(l[p]=S);(C!==p in l||l[p]!==S)&&(f=!0)}return f?l:s}_validate(t,r={},n,s){let{from:i=[],originalValue:o=t,recursive:a=this.spec.recursive}=r;r.from=[{schema:this,value:o},...i],r.__validating=!0,r.originalValue=o,super._validate(t,r,n,(l,u)=>{if(!a||!kM(u)){s(l,u);return}o=o||u;let f=[];for(let p of this._nodes){let g=this.fields[p];!g||su.isRef(g)||f.push(g.asNestedTest({options:r,key:p,parent:u,parentPath:r.path,originalParent:o}))}this.runTests({tests:f,value:u,originalValue:o,options:r},n,p=>{s(p.sort(this._sortErrors).concat(l),u)})})}clone(t){const r=super.clone(t);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(t){let r=super.concat(t),n=r.fields;for(let[s,i]of Object.entries(this.fields)){const o=n[s];n[s]=o===void 0?i:o}return r.withMutation(s=>s.setFields(n,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var s;const i=this.fields[n];let o=t;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=i&&"getDefault"in i?i.getDefault(o):void 0}),r}setFields(t,r){let n=this.clone();return n.fields=t,n._nodes=UEe(t,r),n._sortErrors=K5(Object.keys(t)),r&&(n._excludedEdges=r),n}shape(t,r=[]){return this.clone().withMutation(n=>{let s=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),s=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,t),s)})}partial(){const t={};for(const[r,n]of Object.entries(this.fields))t[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(t)}deepPartial(){return Xm(this)}pick(t){const r={};for(const n of t)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,s])=>t.includes(n)&&t.includes(s)))}omit(t){const r=[];for(const n of Object.keys(this.fields))t.includes(n)||r.push(n);return this.pick(r)}from(t,r,n){let s=Rc.getter(t,!0);return this.transform(i=>{if(!i)return i;let o=i;return zEe(i,t)&&(o=Object.assign({},i),n||delete o[t],o[r]=s(i)),o})}json(){return this.transform($Ee)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||Qm.exact,test(r){if(r==null)return!0;const n=LM(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,r=Qm.noUnknown){typeof t!="boolean"&&(r=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(s){if(s==null)return!0;const i=LM(this.schema,s);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,r=Qm.noUnknown){return this.noUnknown(!t,r)}transformKeys(t){return this.transform(r=>{if(!r)return r;const n={};for(const s of Object.keys(r))n[t(s)]=r[s];return n})}camelCase(){return this.transformKeys(uw.camelCase)}snakeCase(){return this.transformKeys(uw.snakeCase)}constantCase(){return this.transformKeys(t=>uw.snakeCase(t).toUpperCase())}describe(t){const r=(t?this.resolve(t):this).clone(),n=super.describe(t);n.fields={};for(const[i,o]of Object.entries(r.fields)){var s;let a=t;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n.fields[i]=o.describe(a)}return n}}lr.prototype=q5.prototype;const oR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},aR=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},lR=()=>Rr({queryKey:["useGetUnitMeasurements"],queryFn:()=>_e("/api/unit-measurement/v1/getAll")}),qEe=()=>Je({mutationFn:e=>_e("/api/unit-measurement/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:oR,onError:aR}),YEe=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/unit-measurement/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{oR(r),t.invalidateQueries({queryKey:["useGetUnitMeasurements"]})},onError:aR})},QEe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/unit-measurement/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetUnitMeasurements"]}),oR(r.message)},onError:aR})},XEe=({onSubmit:e,formId:t,defaultValues:r={}})=>{var i;const{data:n}=lR(),s=Bp({initialValues:{materialName:r.materialName||"",materialQuantityUOM:r.materialQuantityUOM||null},validationSchema:lr({materialName:ot().required("Material Name is required"),materialQuantityUOM:lr().nullable().required("Unit Measurement is required")}),onSubmit:o=>{e(o),console.log("value",o)}});return d.jsx("form",{id:t,onSubmit:s.handleSubmit,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Material Name"}),d.jsx(be,{type:"text",name:"materialName",placeholder:"Enter Material Name",value:s.values.materialName,onChange:s.handleChange,onBlur:s.handleBlur}),typeof s.touched.materialName&&typeof s.errors.materialName=="string"&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.errors.materialName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Unit Measurement"}),d.jsxs(wt,{onValueChange:o=>{const a=n==null?void 0:n.data.find(l=>l.id==o);s.setFieldValue("materialQuantityUOM",a)},value:((i=s.values.materialQuantityUOM)==null?void 0:i.id)||"",children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:n==null?void 0:n.data.map(o=>d.jsx(Qt,{value:o.id,children:o.uom},o.id))})]}),s.touched.materialQuantityUOM&&typeof s.errors.materialQuantityUOM=="string"&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.errors.materialQuantityUOM})]})]})})})},Y5=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(0),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=l5(),f=XSe(),p=ZSe(r),g=JSe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"materialName",headerName:"Material Name"},{field:"materialQuantityUOM.uom",headerName:"Unit MeasureMaterial "}],y=()=>{i(""),n(0),t(!0)},w=()=>{t(!1)},b=E=>{console.log(r),r?(console.log("true"),p.mutate(E,{onSuccess:()=>{u()}})):(console.log("false"),console.log(E),f.mutate(E,{onSuccess:()=>{u()}})),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Material"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Material":"Create Material",dialogDescription:r?"Edit Material here...":"Create Material here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(XEe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},ZEe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});m.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(th,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(be,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(be,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(be,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(be,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(be,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(be,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(be,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(be,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(be,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(be,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(be,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},cR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},Vp=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},JEe=()=>Rr({queryKey:["useGetServices"],queryFn:()=>_e("/api/services/getAll")}),Q5=()=>Je({mutationFn:e=>_e("/api/services/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:cR,onError:Vp}),X5=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/services/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{cR(r),t.invalidateQueries({queryKey:["useGetServices"]})},onError:Vp})},eRe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/services/delete/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetServices"]}),cR(r.message)},onError:Vp})},tRe=()=>Je({mutationFn:()=>_e("/api/services/getNextServiceNo",{method:"GET"}),onError:Vp}),rRe=e=>Je({mutationFn:()=>_e(`/api/services/getById/${e}`,{method:"GET"}),onError:Vp}),Z5=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=JEe(),f=Q5(),p=X5(r),g=eRe(r),C=(o==null?void 0:o.data)||[],S=Bn(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:A=>A.node.rowIndex+1},{field:"product.productName",headerName:"Product Name"},{field:"serviceNo",headerName:"Service No"},{field:"client.customerName",headerName:"Customer Name"},{field:"serviceManager.firstName",headerName:"Service Manager"},{field:"supportedBy.firstName",headerName:"Supporter"},{field:"serviceProvidedBy.firstName",headerName:"Provider BY"},{field:"natureOfService.natureOfService",headerName:"Nature"},{field:"natureOfComplaint.natureOfComplaint",headerName:"Complaint Nature"}],w=()=>{i(""),n(null),S("/app/services/services-form")},b=()=>{S("/app/services")},F=A=>{r?p.mutate(A,{onSuccess:()=>{u()}}):f.mutate(A,{onSuccess:()=>{u()}}),t(!1)},R=A=>{n(A.service_id),console.log("id",A.service_id),i(A),S(`/app/services/services-form?id=${A.service_id}`)},E=A=>{n(A.service_id),g.mutate(A.service_id,{onSuccess:()=>{u()}})};return d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Services"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:y,isLoading:a,onAddClick:w,onEditClick:R,onDeleteClick:E,exportFileName:"Services"})]}),d.jsx(Nr,{isOpen:e,onClose:b,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"form",width:"100%",height:"100%",children:d.jsx(ZEe,{onSubmit:F,formId:"form",defaultValues:s})})]})},nRe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=KB(),f=qB(),p=YB(r),g=OSe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=Bn(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:A=>A.node.rowIndex+1},{field:"inVoiceNo",headerName:"Invoice No"},{field:"orderType.name",headerName:"Types"},{field:"customer.customerName",headerName:"Customer Name"},{field:"billingAddress",headerName:"Address"},{field:"deliveryAddress",headerName:"Delivery Address"},{field:"contactNumber",headerName:"Contact No "},{field:"email",headerName:"Email"},{field:"purchaseOrderDate",headerName:"Purchase OrderDate"},{field:"salesOrderDate",headerName:"Sales OrderDate"},{field:"company",headerName:"Company"}],w=()=>{i(""),n(null),S("/app/sales/createform")},b=()=>{S("/app/sales")},F=A=>{r?p.mutate(A,{onSuccess:()=>{u()}}):f.mutate(A,{onSuccess:()=>{u()}}),t(!1)},R=A=>{n(A.id),i(A),S(`/app/sales/createform?id=${A.id}`)},E=A=>{n(A.id),g.mutate(A.id,{onSuccess:()=>{u()}})};return d.jsx("div",{children:d.jsx(XB,{defaultValue:"sales",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("div",{className:"self-start",children:d.jsx(JB,{className:"inline-flex gap-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 p-1 shadow-sm",children:[{value:"sales",label:"Sales"},{value:"productList",label:"Product List"},{value:"material",label:"Material"},{value:"customerList",label:"Customer List"},{value:"services",label:"Services"}].map(A=>d.jsx(t5,{value:A.value,className:`px-2.5 py-1 text-xs font-medium rounded border border-transparent transition-colors\r
    hover:bg-gray-100 dark:hover:bg-gray-800 \r
    data-[state=active]:bg-primary data-[state=active]:text-white \r
    dark:data-[state=active]:text-black \r
    data-[state=active]:border-primary`,children:A.label},A.value))})}),d.jsxs("div",{children:[d.jsxs(ju,{value:"sales",children:[d.jsx("h1",{className:"heading-primary",children:"Sales"}),d.jsx("div",{className:"p-6",children:d.jsx(Mr,{rowData:C,colDefs:y,isLoading:a,onAddClick:w,onEditClick:R,onDeleteClick:E,exportFileName:"Sales"})}),d.jsx(Nr,{isOpen:e,onClose:b,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"service-form",width:"100%",height:"100%",children:d.jsx(NSe,{onSubmit:F,formId:"service-form",defaultValues:s})})]}),d.jsx(ju,{value:"productList",children:d.jsx(a5,{})}),d.jsx(ju,{value:"material",children:d.jsx(Y5,{})}),d.jsx(ju,{value:"customerList",children:d.jsx(NB,{})}),d.jsx(ju,{value:"services",children:d.jsx(Z5,{})})]})]})})})};function sRe(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const u=p=>{var b;const{scope:g,children:C,...S}=p,y=((b=g==null?void 0:g[e])==null?void 0:b[l])||a,w=m.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:w,children:C})};u.displayName=i+"Provider";function f(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,S=m.useContext(C);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,iRe(s,...t)]}function iRe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function J5(e){const t=oRe(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(lRe);if(l){const u=l.props.children,f=a.map(p=>p===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function oRe(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=uRe(s),a=cRe(i,s.props);return s.type!==m.Fragment&&(a.ref=n?wr(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var aRe=Symbol("radix.slottable");function lRe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===aRe}function cRe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function uRe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dRe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],eG=dRe.reduce((e,t)=>{const r=J5(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),lC="Popover",[tG]=sRe(lC,[bl]),Hp=bl(),[hRe,Ml]=tG(lC),rG=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,a=Hp(t),l=m.useRef(null),[u,f]=m.useState(!1),[p,g]=hl({prop:n,defaultProp:s??!1,onChange:i,caller:lC});return d.jsx(C0,{...a,children:d.jsx(hRe,{scope:t,contentId:mn(),triggerRef:l,open:p,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(C=>!C),[g]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>f(!0),[]),onCustomAnchorRemove:m.useCallback(()=>f(!1),[]),modal:o,children:r})})};rG.displayName=lC;var nG="PopoverAnchor",fRe=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ml(nG,r),i=Hp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return m.useEffect(()=>(o(),()=>a()),[o,a]),d.jsx(gp,{...i,...n,ref:t})});fRe.displayName=nG;var sG="PopoverTrigger",iG=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ml(sG,r),i=Hp(r),o=Gt(t,s.triggerRef),a=d.jsx(eG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":uG(s.open),...n,ref:o,onClick:et(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:d.jsx(gp,{asChild:!0,...i,children:a})});iG.displayName=sG;var uR="PopoverPortal",[pRe,gRe]=tG(uR,{forceMount:void 0}),oG=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=Ml(uR,t);return d.jsx(pRe,{scope:t,forceMount:r,children:d.jsx(Pn,{present:r||i.open,children:d.jsx(Hd,{asChild:!0,container:s,children:n})})})};oG.displayName=uR;var Md="PopoverContent",aG=m.forwardRef((e,t)=>{const r=gRe(Md,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=Ml(Md,e.__scopePopover);return d.jsx(Pn,{present:n||i.open,children:i.modal?d.jsx(vRe,{...s,ref:t}):d.jsx(CRe,{...s,ref:t})})});aG.displayName=Md;var mRe=J5("PopoverContent.RemoveScroll"),vRe=m.forwardRef((e,t)=>{const r=Ml(Md,e.__scopePopover),n=m.useRef(null),s=Gt(t,n),i=m.useRef(!1);return m.useEffect(()=>{const o=n.current;if(o)return R0(o)},[]),d.jsx(wp,{as:mRe,allowPinchZoom:!0,children:d.jsx(lG,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:et(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),CRe=m.forwardRef((e,t)=>{const r=Ml(Md,e.__scopePopover),n=m.useRef(!1),s=m.useRef(!1);return d.jsx(lG,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),lG=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:f,...p}=e,g=Ml(Md,r),C=Hp(r);return b0(),d.jsx(Cp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Bd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:d.jsx(y0,{"data-state":uG(g.open),role:"dialog",id:g.contentId,...C,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),cG="PopoverClose",yRe=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ml(cG,r);return d.jsx(eG.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>s.onOpenChange(!1))})});yRe.displayName=cG;var SRe="PopoverArrow",wRe=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Hp(r);return d.jsx(S0,{...s,...n,ref:t})});wRe.displayName=SRe;function uG(e){return e?"open":"closed"}var xRe=rG,bRe=iG,ERe=oG,dG=aG;const xs=xRe,bs=bRe,Zn=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>d.jsx(ERe,{children:d.jsx(dG,{ref:s,align:t,sideOffset:r,className:Lt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Zn.displayName=dG.displayName;var _M=1,RRe=.9,FRe=.8,TRe=.17,dw=.1,hw=.999,PRe=.9999,ARe=.99,DRe=/[\\\/_+.#"@\[\(\{&]/,MRe=/[\\\/_+.#"@\[\(\{&]/g,NRe=/[\s-]/,hG=/[\s-]/g;function $x(e,t,r,n,s,i,o){if(i===t.length)return s===e.length?_M:ARe;var a=`${s},${i}`;if(o[a]!==void 0)return o[a];for(var l=n.charAt(i),u=r.indexOf(l,s),f=0,p,g,C,S;u>=0;)p=$x(e,t,r,n,u+1,i+1,o),p>f&&(u===s?p*=_M:DRe.test(e.charAt(u-1))?(p*=FRe,C=e.slice(s,u-1).match(MRe),C&&s>0&&(p*=Math.pow(hw,C.length))):NRe.test(e.charAt(u-1))?(p*=RRe,S=e.slice(s,u-1).match(hG),S&&s>0&&(p*=Math.pow(hw,S.length))):(p*=TRe,s>0&&(p*=Math.pow(hw,u-s))),e.charAt(u)!==t.charAt(i)&&(p*=PRe)),(p<dw&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(g=$x(e,t,r,n,u+1,i+2,o),g*dw>p&&(p=g*dw)),p>f&&(f=p),u=r.indexOf(l,u+1);return o[a]=f,f}function jM(e){return e.toLowerCase().replace(hG," ")}function IRe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,$x(e,t,jM(e),jM(t),0,0,{})}var Xh='[cmdk-group=""]',fw='[cmdk-group-items=""]',ORe='[cmdk-group-heading=""]',fG='[cmdk-item=""]',BM=`${fG}:not([aria-disabled="true"])`,zx="cmdk-item-select",Bu="data-value",kRe=(e,t,r)=>IRe(e,t,r),pG=m.createContext(void 0),Wp=()=>m.useContext(pG),gG=m.createContext(void 0),dR=()=>m.useContext(gG),mG=m.createContext(void 0),vG=m.forwardRef((e,t)=>{let r=Gu(()=>{var N,O;return{search:"",value:(O=(N=e.value)!=null?N:e.defaultValue)!=null?O:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Gu(()=>new Set),s=Gu(()=>new Map),i=Gu(()=>new Map),o=Gu(()=>new Set),a=CG(e),{label:l,children:u,value:f,onValueChange:p,filter:g,shouldFilter:C,loop:S,disablePointerSelection:y=!1,vimBindings:w=!0,...b}=e,F=mn(),R=mn(),E=mn(),A=m.useRef(null),D=zRe();Vc(()=>{if(f!==void 0){let N=f.trim();r.current.value=N,M.emit()}},[f]),Vc(()=>{D(6,oe)},[]);let M=m.useMemo(()=>({subscribe:N=>(o.current.add(N),()=>o.current.delete(N)),snapshot:()=>r.current,setState:(N,O,V)=>{var G,J,ae,ge;if(!Object.is(r.current[N],O)){if(r.current[N]=O,N==="search")B(),j(),D(1,H);else if(N==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let X=document.getElementById(E);X?X.focus():(G=document.getElementById(F))==null||G.focus()}if(D(7,()=>{var X;r.current.selectedItemId=(X=ye())==null?void 0:X.id,M.emit()}),V||D(5,oe),((J=a.current)==null?void 0:J.value)!==void 0){let X=O??"";(ge=(ae=a.current).onValueChange)==null||ge.call(ae,X);return}}M.emit()}},emit:()=>{o.current.forEach(N=>N())}}),[]),I=m.useMemo(()=>({value:(N,O,V)=>{var G;O!==((G=i.current.get(N))==null?void 0:G.value)&&(i.current.set(N,{value:O,keywords:V}),r.current.filtered.items.set(N,_(O,V)),D(2,()=>{j(),M.emit()}))},item:(N,O)=>(n.current.add(N),O&&(s.current.has(O)?s.current.get(O).add(N):s.current.set(O,new Set([N]))),D(3,()=>{B(),j(),r.current.value||H(),M.emit()}),()=>{i.current.delete(N),n.current.delete(N),r.current.filtered.items.delete(N);let V=ye();D(4,()=>{B(),(V==null?void 0:V.getAttribute("id"))===N&&H(),M.emit()})}),group:N=>(s.current.has(N)||s.current.set(N,new Set),()=>{i.current.delete(N),s.current.delete(N)}),filter:()=>a.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:F,inputId:E,labelId:R,listInnerRef:A}),[]);function _(N,O){var V,G;let J=(G=(V=a.current)==null?void 0:V.filter)!=null?G:kRe;return N?J(N,r.current.search,O):0}function j(){if(!r.current.search||a.current.shouldFilter===!1)return;let N=r.current.filtered.items,O=[];r.current.filtered.groups.forEach(G=>{let J=s.current.get(G),ae=0;J.forEach(ge=>{let X=N.get(ge);ae=Math.max(X,ae)}),O.push([G,ae])});let V=A.current;Re().sort((G,J)=>{var ae,ge;let X=G.getAttribute("id"),ne=J.getAttribute("id");return((ae=N.get(ne))!=null?ae:0)-((ge=N.get(X))!=null?ge:0)}).forEach(G=>{let J=G.closest(fw);J?J.appendChild(G.parentElement===J?G:G.closest(`${fw} > *`)):V.appendChild(G.parentElement===V?G:G.closest(`${fw} > *`))}),O.sort((G,J)=>J[1]-G[1]).forEach(G=>{var J;let ae=(J=A.current)==null?void 0:J.querySelector(`${Xh}[${Bu}="${encodeURIComponent(G[0])}"]`);ae==null||ae.parentElement.appendChild(ae)})}function H(){let N=Re().find(V=>V.getAttribute("aria-disabled")!=="true"),O=N==null?void 0:N.getAttribute(Bu);M.setState("value",O||void 0)}function B(){var N,O,V,G;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let J=0;for(let ae of n.current){let ge=(O=(N=i.current.get(ae))==null?void 0:N.value)!=null?O:"",X=(G=(V=i.current.get(ae))==null?void 0:V.keywords)!=null?G:[],ne=_(ge,X);r.current.filtered.items.set(ae,ne),ne>0&&J++}for(let[ae,ge]of s.current)for(let X of ge)if(r.current.filtered.items.get(X)>0){r.current.filtered.groups.add(ae);break}r.current.filtered.count=J}function oe(){var N,O,V;let G=ye();G&&(((N=G.parentElement)==null?void 0:N.firstChild)===G&&((V=(O=G.closest(Xh))==null?void 0:O.querySelector(ORe))==null||V.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function ye(){var N;return(N=A.current)==null?void 0:N.querySelector(`${fG}[aria-selected="true"]`)}function Re(){var N;return Array.from(((N=A.current)==null?void 0:N.querySelectorAll(BM))||[])}function we(N){let O=Re()[N];O&&M.setState("value",O.getAttribute(Bu))}function se(N){var O;let V=ye(),G=Re(),J=G.findIndex(ge=>ge===V),ae=G[J+N];(O=a.current)!=null&&O.loop&&(ae=J+N<0?G[G.length-1]:J+N===G.length?G[0]:G[J+N]),ae&&M.setState("value",ae.getAttribute(Bu))}function ee(N){let O=ye(),V=O==null?void 0:O.closest(Xh),G;for(;V&&!G;)V=N>0?URe(V,Xh):$Re(V,Xh),G=V==null?void 0:V.querySelector(BM);G?M.setState("value",G.getAttribute(Bu)):se(N)}let re=()=>we(Re().length-1),de=N=>{N.preventDefault(),N.metaKey?re():N.altKey?ee(1):se(1)},K=N=>{N.preventDefault(),N.metaKey?we(0):N.altKey?ee(-1):se(-1)};return m.createElement(wi.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:N=>{var O;(O=b.onKeyDown)==null||O.call(b,N);let V=N.nativeEvent.isComposing||N.keyCode===229;if(!(N.defaultPrevented||V))switch(N.key){case"n":case"j":{w&&N.ctrlKey&&de(N);break}case"ArrowDown":{de(N);break}case"p":case"k":{w&&N.ctrlKey&&K(N);break}case"ArrowUp":{K(N);break}case"Home":{N.preventDefault(),we(0);break}case"End":{N.preventDefault(),re();break}case"Enter":{N.preventDefault();let G=ye();if(G){let J=new Event(zx);G.dispatchEvent(J)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:I.inputId,id:I.labelId,style:qRe},l),cC(e,N=>m.createElement(gG.Provider,{value:M},m.createElement(pG.Provider,{value:I},N))))}),LRe=m.forwardRef((e,t)=>{var r,n;let s=mn(),i=m.useRef(null),o=m.useContext(mG),a=Wp(),l=CG(e),u=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Vc(()=>{if(!u)return a.item(s,o==null?void 0:o.id)},[u]);let f=yG(s,i,[e.value,e.children,i],e.keywords),p=dR(),g=yl(D=>D.value&&D.value===f.current),C=yl(D=>u||a.filter()===!1?!0:D.search?D.filtered.items.get(s)>0:!0);m.useEffect(()=>{let D=i.current;if(!(!D||e.disabled))return D.addEventListener(zx,S),()=>D.removeEventListener(zx,S)},[C,e.onSelect,e.disabled]);function S(){var D,M;y(),(M=(D=l.current).onSelect)==null||M.call(D,f.current)}function y(){p.setState("value",f.current,!0)}if(!C)return null;let{disabled:w,value:b,onSelect:F,forceMount:R,keywords:E,...A}=e;return m.createElement(wi.div,{ref:wr(i,t),...A,id:s,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!g,"data-disabled":!!w,"data-selected":!!g,onPointerMove:w||a.getDisablePointerSelection()?void 0:y,onClick:w?void 0:S},e.children)}),_Re=m.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...i}=e,o=mn(),a=m.useRef(null),l=m.useRef(null),u=mn(),f=Wp(),p=yl(C=>s||f.filter()===!1?!0:C.search?C.filtered.groups.has(o):!0);Vc(()=>f.group(o),[]),yG(o,a,[e.value,e.heading,l]);let g=m.useMemo(()=>({id:o,forceMount:s}),[s]);return m.createElement(wi.div,{ref:wr(a,t),...i,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},r&&m.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),cC(e,C=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},m.createElement(mG.Provider,{value:g},C))))}),jRe=m.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=m.useRef(null),i=yl(o=>!o.search);return!r&&!i?null:m.createElement(wi.div,{ref:wr(s,t),...n,"cmdk-separator":"",role:"separator"})}),BRe=m.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,i=dR(),o=yl(u=>u.search),a=yl(u=>u.selectedItemId),l=Wp();return m.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),m.createElement(wi.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:s?e.value:o,onChange:u=>{s||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),GRe=m.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,i=m.useRef(null),o=m.useRef(null),a=yl(u=>u.selectedItemId),l=Wp();return m.useEffect(()=>{if(o.current&&i.current){let u=o.current,f=i.current,p,g=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let C=u.offsetHeight;f.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return g.observe(u),()=>{cancelAnimationFrame(p),g.unobserve(u)}}},[]),m.createElement(wi.div,{ref:wr(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:l.listId},cC(e,u=>m.createElement("div",{ref:wr(o,l.listInnerRef),"cmdk-list-sizer":""},u)))}),VRe=m.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:o,...a}=e;return m.createElement(XL,{open:r,onOpenChange:n},m.createElement(ZL,{container:o},m.createElement(gb,{"cmdk-overlay":"",className:s}),m.createElement(mb,{"aria-label":e.label,"cmdk-dialog":"",className:i},m.createElement(vG,{ref:t,...a}))))}),HRe=m.forwardRef((e,t)=>yl(r=>r.filtered.count===0)?m.createElement(wi.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),WRe=m.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...i}=e;return m.createElement(wi.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},cC(e,o=>m.createElement("div",{"aria-hidden":!0},o)))}),As=Object.assign(vG,{List:GRe,Item:LRe,Input:BRe,Group:_Re,Separator:jRe,Dialog:VRe,Empty:HRe,Loading:WRe});function URe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function $Re(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function CG(e){let t=m.useRef(e);return Vc(()=>{t.current=e}),t}var Vc=typeof window>"u"?m.useEffect:m.useLayoutEffect;function Gu(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function yl(e){let t=dR(),r=()=>e(t.snapshot());return m.useSyncExternalStore(t.subscribe,r,r)}function yG(e,t,r,n=[]){let s=m.useRef(),i=Wp();return Vc(()=>{var o;let a=(()=>{var u;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():s.current}})(),l=n.map(u=>u.trim());i.value(e,a,l),(o=t.current)==null||o.setAttribute(Bu,a),s.current=a}),s}var zRe=()=>{let[e,t]=m.useState(),r=Gu(()=>new Map);return Vc(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function KRe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function cC({asChild:e,children:t},r){return e&&m.isValidElement(t)?m.cloneElement(KRe(t),{ref:t.ref},r(t.props.children)):r(t)}var qRe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Jn=m.forwardRef(({className:e,...t},r)=>d.jsx(As,{ref:r,className:Lt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Jn.displayName=As.displayName;const es=m.forwardRef(({className:e,...t},r)=>d.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[d.jsx(LJ,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),d.jsx(As.Input,{ref:r,className:Lt("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));es.displayName=As.Input.displayName;const ts=m.forwardRef(({className:e,...t},r)=>d.jsx(As.List,{ref:r,className:Lt("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));ts.displayName=As.List.displayName;const rs=m.forwardRef((e,t)=>d.jsx(As.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));rs.displayName=As.Empty.displayName;const ns=m.forwardRef(({className:e,...t},r)=>d.jsx(As.Group,{ref:r,className:Lt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));ns.displayName=As.Group.displayName;const YRe=m.forwardRef(({className:e,...t},r)=>d.jsx(As.Separator,{ref:r,className:Lt("-mx-1 h-px bg-border",e),...t}));YRe.displayName=As.Separator.displayName;const ss=m.forwardRef(({className:e,...t},r)=>d.jsx(As.Item,{ref:r,className:Lt("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));ss.displayName=As.Item.displayName;var hR=(e=>(e.PRODUCT="PRODUCT",e.MATERIAL="MATERIAL",e.AMC="AMC",e.REPAIR="REPAIR",e.SALE="SALE",e))(hR||{}),SG=(e=>(e.VRV="VRV",e.NON_VRV="NON_VRV",e))(SG||{}),wG=(e=>(e.AIRTECH="AIRTECH",e.VAKHARIA_AIRTECH="VAKHARIA_AIRTECH",e))(wG||{}),xG=(e=>(e.ARCHITECT="ARCHITECT",e.INTERIOR_DESIGN_DETAIL="INTERIOR_DESIGN_DETAIL",e.PMC="PMC",e))(xG||{}),bG=(e=>(e.MEASUREMENT="MEASUREMENT",e.LUM_SUM="LUM_SUM",e))(bG||{});const fR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},pR=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},Up=()=>Rr({queryKey:["useGetUsers"],queryFn:()=>_e("/api/user/getAlluser")}),QRe=()=>Je({mutationFn:e=>_e("/api/user/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:fR,onError:pR}),XRe=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/user/edit/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{fR(r),t.invalidateQueries({queryKey:["useGetUsers"]})},onError:pR})},ZRe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/user/deleteUser/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetUsers"]}),fR(r.message)},onError:pR})},JRe=({salesProductQuantities:e,products:t=[],onRowsChange:r})=>{const[n,s]=m.useState([{id:Date.now(),product:{id:"",productName:"",hsnCode:""},quantity:1,mrp:0,gst:0}]);m.useEffect(()=>{e&&s(e)},[e]);const i=()=>{const l=[...n,{id:Date.now(),product:{id:"",productName:"",hsnCode:""},quantity:1,mrp:0,gst:0}];s(l),r(l)},o=(l,u,f)=>{const p=n.map(g=>g.id===l?{...g,product:u==="product"?{id:f.id,productName:f.productName,hsnCode:f.hsnCode}:g.product,quantity:u==="quantity"?Number(f):g.quantity,mrp:u==="product"?f.mrp:u==="mrp"?Number(f):g.mrp,gst:u==="product"?f.cgst:u==="gst"?Number(f):g.gst}:g);s(p),r(p)},a=l=>{const u=n.filter(f=>f.id!==l);s(u),r(u)};return d.jsx(d.Fragment,{children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Products"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200 mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2",children:"Product"}),d.jsx("th",{className:"border px-4 py-2",children:"Quantity"}),d.jsx("th",{className:"border px-4 py-2",children:"HSN Code"}),d.jsx("th",{className:"border px-4 py-2",children:"MRP"}),d.jsx("th",{className:"border px-4 py-2",children:"GST"}),d.jsx("th",{className:"border px-4 py-2",children:"Actions"})]})}),d.jsx("tbody",{children:n.map((l,u)=>{var f,p;return d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:u+1}),d.jsx("td",{className:"border px-4 py-2",children:d.jsxs("select",{className:"bg-transparent border border-gray-300 dark:border-gray-600 rounded-md px-2 py-1 w-full focus:outline-none focus:ring-1 focus:ring-primary placeholder:text-gray-400",value:((f=l.product)==null?void 0:f.id)||"",onChange:g=>{const C=t.find(S=>S.id.toString()===g.target.value);C&&o(l.id,"product",C)},children:[d.jsx("option",{value:"",children:"Select Product"}),t.map(g=>d.jsx("option",{value:g.id,children:g.productName},g.id))]})}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",className:"bg-transparent border rounded-md px-2 py-1 w-20",min:1,value:l.quantity,onChange:g=>o(l.id,"quantity",Number(g.target.value))})}),d.jsx("td",{className:"border px-4 py-2",children:((p=l.product)==null?void 0:p.hsnCode)||"-"}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",min:0,className:"bg-transparent border rounded-md px-2 py-1 w-40",value:l.mrp||"",onChange:g=>o(l.id,"mrp",Number(g.target.value))})}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",min:0,className:"bg-transparent border rounded-md px-2 py-1 w-20",value:l.gst||"",onChange:g=>o(l.id,"gst",Number(g.target.value))})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:n.length>1&&d.jsx("button",{onClick:()=>a(l.id),className:"text-red-500 hover:underline",children:"Remove"})})]},l.id)})})]})}),d.jsx("button",{type:"button",onClick:i,className:"bg-gray-300 hover:bg-gray-400 text-gray-600 px-4 py-2 rounded-md",children:"Add Product"})]})})},gR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},mR=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},EG=()=>Rr({queryKey:["useGetOrderTypes"],queryFn:()=>_e("/api/order-type/v1/getAll")}),eFe=()=>Je({mutationFn:e=>_e("/api/order-type/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:gR,onError:mR}),tFe=e=>{const t=Pt();return console.log(n0),Je({mutationFn:r=>_e(`/api/order-type/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{gR(r),t.invalidateQueries({queryKey:["useGetOrderTypes"]})},onError:mR})},rFe=e=>{const t=Pt();return console.log(e),Je({mutationFn:()=>_e(`/api/order-type/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetOrderTypes"]}),gR(r.message)},onError:mR})},nFe=()=>{var We,le,Ke,ct,Mt,ue,Ve,Ue,rt,tt,gt,Vt,$r,Oe,mt,cr,sn,Xs;let[e,t]=m.useState(null);const[r,n]=m.useState(!1),[s,i]=m.useState([]),{data:o,refetch:a}=KB(),[l,u]=m.useState(""),{data:f}=X0(),{data:p}=Up(),{data:g}=EG(),{data:C}=QSe(l),S=qB(),y=YB(e),w=Ps(),b=new URLSearchParams(w.search),F=Object.values(hR),R=Object.values(SG),E=Object.values(xG),A=Object.values(wG),D=Object.values(bG),M=Bn(),[I,_]=m.useState(0),[j,H]=m.useState(0),[B,oe]=m.useState(0),[ye,Re]=m.useState([]),{mutate:we,data:se}=ISe();m.useEffect(()=>{we()},[]);const ee=()=>{M("/app/sales")},re=Me=>{const bt=ye.filter(Ht=>Ht.id!==Me);Re(bt),O.setFieldValue("salesAttachments",bt)},de=Me=>{const bt=Me.reduce((Zs,Ds)=>Zs+Ds.mrp*Ds.quantity,0);_(bt);const vn=bt-bt*5/100,Ei=Me.reduce((Zs,Ds)=>{const Po=vn*Ds.gst/100;return Zs+Po},0);H(Ei);const Ri=bt+Ei;oe(Ri)},[K,N]=m.useState({id:"",inVoiceNo:""});m.useEffect(()=>{let Me=b.get("id");if(t(Me),Me&&o&&!r){const bt=o==null?void 0:o.data.find(Ht=>Ht.id.toString()===Me);bt&&(N(bt),i(bt==null?void 0:bt.salesProductQuantities),Re(bt==null?void 0:bt.salesAttachments),de(bt==null?void 0:bt.salesProductQuantities),O.setValues({...O.initialValues,...bt}),n(!0)),console.log(bt)}},[o,b,s]);const O=Bp({initialValues:{inVoiceNo:"",orderType:{id:"",name:""},jobType:"",customer:{id:"",customerName:"",address1:"",contactNumber:"",contactPerson:"",email:""},contactPerson:"",email:"",contactNumber:"",poNo:"",company:"",reference:"",billingAddress:"",deliveryAddress:"",salesOrderDate:"",purchaseOrderDate:"",orderPreparedBy:{user_id:"",firstName:""},orderVerifiedBy:{user_id:"",firstName:""},salesPerson:{user_id:"",firstName:""},projectEngineer:{user_id:"",firstName:""},projectType:"",warrantyPeriod:"",termsAndCondition:"",salesAttachments:[],salesProductQuantities:[],productType:""},validationSchema:lr({orderType:lr().shape({id:ot().required("Order Type is required"),name:ot().required("Order Type  is required")}),productType:ot().required("Product Type is required"),jobType:ot().required("Job Type is required"),projectType:ot().required("Job Type is required"),customer:lr().shape({id:ot().required("Customer is required"),customerName:ot().required("Customer  is required")}),email:ot().email("Invalid email").required("Email is required"),contactNumber:ot().required("Contact Number is required").matches(/^\d+$/,"Contact Number must be a valid number"),poNo:ot().required("Purchase order no. is required"),billingAddress:ot().required("Billing Address is required"),deliveryAddress:ot().required("Delivery Address is required"),salesOrderDate:Gc().required("Sales Order Date is required"),purchaseOrderDate:Gc().required("Purchase Order Date is required"),orderPreparedBy:lr().shape({user_id:ot().required("Person detail is required"),firstName:ot().required("Person detail  is required")}),orderVerifiedBy:lr().shape({user_id:ot().required("Person detail is required"),firstName:ot().required("Person detail  is required")}),salesPerson:lr().shape({user_id:ot().required("Person detail is required"),firstName:ot().required("Person detail  is required")}),projectEngineer:lr().shape({user_id:ot().required("Person detail is required"),firstName:ot().required("Person detail  is required")}),warrantyPeriod:ot().required("Warranty Period is required"),termsAndCondition:ot().required("Terms & conditions is required"),contactPerson:ot().required("Contact Person is required"),company:ot().required("Company Name is required"),reference:ot().required("Reference is required")}),onSubmit:Me=>{e?(y.mutate(Me,{onSuccess:()=>{a(),M("/app/sales")}}),e=null):(console.log("Form submitted:",Me),S.mutate(Me,{onSuccess:()=>{a(),M("/app/sales")}}))}});m.useEffect(()=>{console.log("productType"),O.values.productType&&u(O.values.productType)},[O.values.productType]),m.useEffect(()=>{e?(O.setFieldValue("inVoiceNo",K.inVoiceNo),console.log("invoice",K.inVoiceNo)):se!=null&&se.data&&O.setFieldValue("inVoiceNo",se.data)},[e,se,K]);const V={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},G={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},J=Me=>{console.log("Updated Rows:",Me),O.setFieldValue("salesProductQuantities",Me),de(Me)},[ae,ge]=m.useState(null),[X,ne]=m.useState(!1),[Ne,Ae]=m.useState(0),Qe=Me=>{var Ht;const bt=(Ht=Me.target.files)==null?void 0:Ht[0];bt&&ge(bt)},Ze=async()=>{if(!ae){st.error("Please select a file to upload.");return}console.log("upload successful"),ne(!0),Ae(0);const Me=new FormData;Me.append("file",ae);try{const bt=await fetch(`${Fc}/api/sales/uploadFile`,{method:"POST",body:Me});if(bt.ok){const Ht=await bt.json();st.success("File uploaded successfully.");const vn=[...O.values.salesAttachments||[],Ht==null?void 0:Ht.data];Re(vn),O.setFieldValue("salesAttachments",vn),console.log("Updated Formik salesAttachments:",O.values.salesAttachments),console.log("Updated local uploadedData:",ye)}else{const Ht=await bt.json();st.error(`Upload failed: ${Ht.message||"Unknown error"}`)}}catch(bt){console.error("Error uploading file:",bt),st.error("An error occurred while uploading the file.")}finally{ne(!1),Ae(0)}};m.useEffect(()=>{console.log("Updated Formik salesAttachments:",O.values.salesAttachments),console.log("Updated local uploadedData:",ye)},[O.values.salesAttachments,ye]);const ft=Me=>{Me.preventDefault(),console.log("action handle submit"),O.handleSubmit()},xt=async(Me,bt)=>{Me.preventDefault();try{const Ht=`${Fc}/api/resources/serveFile?filePath=${encodeURIComponent(bt)}`,vn=await fetch(Ht,{method:"GET"});if(vn.ok){const Ei=await vn.blob(),Ri=URL.createObjectURL(Ei);window.open(Ri,"_blank"),setTimeout(()=>URL.revokeObjectURL(Ri),6e4)}else st.error("API Error: "+vn.statusText)}catch(Ht){st.error("Fetch Error: "+Ht.message)}};return d.jsxs(Gs.div,{className:"max-w-5xl mx-auto p-4 sm:p-6 shadow-md rounded-md border border-gray-300 dark:border-gray-700",variants:V,initial:"hidden",animate:"visible",children:[d.jsx(Gs.h1,{variants:G,initial:"hidden",animate:"visible",className:"text-xl font-bold mb-4",children:"Sales Order"}),d.jsxs("form",{onSubmit:ft,className:"grid gap-4",children:[d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Invoice No"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1 bg-transparent",disabled:!0,value:O.values.inVoiceNo||""})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Order Type"}),d.jsxs(wt,{onValueChange:Me=>{const bt=g==null?void 0:g.data.find(Ht=>Ht.id==Me);O.setFieldValue("orderType",bt)},value:(We=O.values.orderType)==null?void 0:We.id,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:g==null?void 0:g.data.map(Me=>d.jsx(Qt,{value:Me.id,children:Me.name},Me.id))})]}),O.touched.orderType&&((le=O.errors.orderType)==null?void 0:le.name)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(Ke=O.errors.orderType)==null?void 0:Ke.name})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Job Type"}),d.jsxs(wt,{onValueChange:Me=>O.setFieldValue("jobType",Me),value:O.values.jobType,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:R.map(Me=>d.jsx(Qt,{value:Me,children:Me},Me))})]}),O.touched.jobType&&O.errors.jobType&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:O.errors.jobType})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Reference"}),d.jsxs(wt,{onValueChange:Me=>{O.setFieldValue("reference",Me)},value:O.values.reference,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:E.map(Me=>d.jsx(Qt,{value:Me,children:Me},Me))})]}),O.touched.reference&&O.errors.reference&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:O.errors.reference})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Company"}),d.jsxs(wt,{onValueChange:Me=>{O.setFieldValue("company",Me)},value:O.values.company,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:A.map(Me=>d.jsx(Qt,{value:Me,children:Me},Me))})]}),O.touched.company&&O.errors.company&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:O.errors.company})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{children:"Customer"}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent hover:bg-transparent shadow-none border border-gray-300 dark:border-gray-700",children:[((ct=O.values.customer)==null?void 0:ct.customerName)||"Select Customer...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Customer..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No Customer Found"}),d.jsx(ns,{children:f==null?void 0:f.data.map(Me=>{var bt;return d.jsxs(ss,{value:Me.customerName,onSelect:()=>{O.setFieldValue("customer",Me),O.setFieldValue("contactPerson",Me.contactPerson||""),O.setFieldValue("email",Me.email||""),O.setFieldValue("contactNumber",Me.contactNumber||""),O.setFieldValue("billingAddress",Me.address1||""),O.setFieldValue("deliveryAddress",Me.address1||"")},children:[Me.customerName,d.jsx(kn,{className:((bt=O.values.customer)==null?void 0:bt.id)===Me.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Me.id)})})]})]})})]}),((Mt=O.touched.customer)==null?void 0:Mt.id)&&((ue=O.errors.customer)==null?void 0:ue.id)&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.customer.id})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Contact Person"}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"contactPerson",value:O.values.contactPerson,onChange:O.handleChange,onBlur:O.handleBlur,readOnly:!0}),O.touched.contactPerson&&O.errors.contactPerson&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.contactPerson})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Email"}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"email",value:O.values.email,onChange:O.handleChange,onBlur:O.handleBlur,readOnly:!0}),O.touched.email&&O.errors.email&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Contact No."}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"contactNumber",value:O.values.contactNumber,onChange:O.handleChange,onBlur:O.handleBlur,readOnly:!0}),O.touched.contactNumber&&O.errors.contactNumber&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.contactNumber})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Purchase Order No."}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"poNo",onChange:O.handleChange,value:O.values.poNo,onBlur:O.handleBlur}),O.touched.poNo&&O.errors.poNo&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.poNo})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Billing Address"}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"billingAddress",value:O.values.billingAddress,onChange:O.handleChange,onBlur:O.handleBlur}),O.touched.billingAddress&&O.errors.billingAddress&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.billingAddress})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Delivery Address"}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"deliveryAddress",value:O.values.deliveryAddress,onChange:O.handleChange,onBlur:O.handleBlur}),O.touched.deliveryAddress&&O.errors.deliveryAddress&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.deliveryAddress})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Sales order date"}),d.jsx(be,{type:"date",className:"w-full border rounded-md px-2 py-1",name:"salesOrderDate",value:O.values.salesOrderDate,onChange:O.handleChange,onBlur:O.handleBlur}),O.touched.salesOrderDate&&O.errors.salesOrderDate&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.salesOrderDate})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Purchase order date"}),d.jsx(be,{type:"date",className:"w-full border rounded-md px-2 py-1",name:"purchaseOrderDate",value:O.values.purchaseOrderDate,onChange:O.handleChange,onBlur:O.handleBlur}),O.touched.purchaseOrderDate&&O.errors.purchaseOrderDate&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.purchaseOrderDate})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Order Prepared By"}),d.jsxs(wt,{onValueChange:Me=>{const bt=p==null?void 0:p.data.find(Ht=>Ht.user_id==Me);O.setFieldValue("orderPreparedBy",bt)},value:(Ve=O.values.orderPreparedBy)==null?void 0:Ve.user_id,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:p==null?void 0:p.data.map(Me=>d.jsx(Qt,{value:Me.user_id,children:Me.firstName},Me.user_id))})]}),O.touched.orderPreparedBy&&((Ue=O.errors.orderPreparedBy)==null?void 0:Ue.firstName)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(rt=O.errors.orderPreparedBy)==null?void 0:rt.firstName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Order Verified By"}),d.jsxs(wt,{onValueChange:Me=>{const bt=p==null?void 0:p.data.find(Ht=>Ht.user_id==Me);O.setFieldValue("orderVerifiedBy",bt)},value:((tt=O.values.orderVerifiedBy)==null?void 0:tt.user_id)||"",children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:p==null?void 0:p.data.map(Me=>d.jsx(Qt,{value:Me.user_id,children:Me.firstName},Me.user_id))})]}),O.touched.orderVerifiedBy&&((gt=O.errors.orderVerifiedBy)==null?void 0:gt.firstName)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(Vt=O.errors.orderVerifiedBy)==null?void 0:Vt.firstName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Sales Person"}),d.jsxs(wt,{onValueChange:Me=>{const bt=p==null?void 0:p.data.find(Ht=>Ht.user_id==Me);O.setFieldValue("salesPerson",bt)},value:($r=O.values.salesPerson)==null?void 0:$r.user_id,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:p==null?void 0:p.data.map(Me=>d.jsx(Qt,{value:Me.user_id,children:Me.firstName},Me.user_id))})]}),O.touched.salesPerson&&((Oe=O.errors.salesPerson)==null?void 0:Oe.firstName)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(mt=O.errors.salesPerson)==null?void 0:mt.firstName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Project Engineer"}),d.jsxs(wt,{onValueChange:Me=>{const bt=p==null?void 0:p.data.find(Ht=>Ht.user_id==Me);O.setFieldValue("projectEngineer",bt)},value:(cr=O.values.projectEngineer)==null?void 0:cr.user_id,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:p==null?void 0:p.data.map(Me=>d.jsx(Qt,{value:Me.user_id,children:Me.firstName},Me.user_id))})]}),O.touched.projectEngineer&&((sn=O.errors.projectEngineer)==null?void 0:sn.firstName)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(Xs=O.errors.projectEngineer)==null?void 0:Xs.firstName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Project Type"}),d.jsxs(wt,{onValueChange:Me=>{O.setFieldValue("projectType",Me)},value:O.values.projectType,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:D.map(Me=>d.jsx(Qt,{value:Me,children:Me},Me))})]}),O.touched.projectType&&O.errors.projectType&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:O.errors.projectType})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Warranty Period"}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"warrantyPeriod",value:O.values.warrantyPeriod,onChange:O.handleChange,onBlur:O.handleBlur}),O.touched.warrantyPeriod&&O.errors.warrantyPeriod&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.warrantyPeriod})]})]}),d.jsx("div",{className:"grid grid-cols-3 gap-4 ",children:d.jsxs("div",{className:"col-span-3 mb-6",children:[d.jsx(ce,{children:"Terms and Conditions"}),d.jsx(_E,{className:"mt-1 w-full border border-gray-300 rounded-md p-2",rows:2,name:"termsAndCondition",value:O.values.termsAndCondition,onChange:O.handleChange,onBlur:O.handleBlur}),O.touched.termsAndCondition&&O.errors.termsAndCondition&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.termsAndCondition})]})}),d.jsx("div",{children:d.jsxs("div",{className:" border-none outline-none w-40",children:[d.jsx(ce,{children:"Product Type"}),d.jsxs(wt,{onValueChange:Me=>O.setFieldValue("productType",Me),value:O.values.productType,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select ProductType"})}),d.jsx(yt,{children:F.map(Me=>d.jsx(Qt,{value:Me,children:Me},Me))})]}),O.touched.productType&&O.errors.productType&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:O.errors.productType})]})}),d.jsx(JRe,{salesProductQuantities:e?s:null,products:C==null?void 0:C.data,onRowsChange:J}),d.jsxs("div",{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Upload Files"}),d.jsx("input",{type:"file",className:"flex-1 p-2 text-xs border-none outline-none",onChange:Qe,disabled:X})]}),X&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{children:"Uploading..."}),d.jsx("progress",{value:Ne,max:"100",className:"w-full"})]}),d.jsx(It,{onClick:Ze,disabled:X,className:"h-[35px] text-sm px-10 py-2 rounded-md",children:X?"Uploading...":"Upload"})]}),d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h2",{className:"text-lg font-bold",children:"File Details"})}),d.jsx("div",{className:"overflow-x-auto ",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200   mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100  dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2",children:"File Name"}),d.jsx("th",{className:"border px-4 py-2",children:"Doctype"}),d.jsx("th",{className:"border px-4 py-2",children:"Actions"})]})}),d.jsx("tbody",{children:ye.map((Me,bt)=>{var Ht;return d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:bt+1}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("a",{href:Me.location,target:"_blank",rel:"noopener noreferrer",className:"text-green-500 hover:underline",onClick:vn=>xt(vn,Me.location),children:Me.location})}),d.jsx("td",{className:"border px-4 py-2",children:(Ht=Me.docType)==null?void 0:Ht.docType}),d.jsx("td",{className:"border px-2 py-2 text-center",children:d.jsx("button",{type:"button",className:"text-red-500",onClick:()=>re(Me.id),children:"Remove"})})]},Me.id)})})]})}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 mb-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium ",children:"Total Amount"}),d.jsx("input",{type:"text",value:I,readOnly:!0,className:"w-full border rounded-md px-2 py-1 bg-transparent mt-2 "})]}),d.jsxs("div",{children:[d.jsx(ce,{className:"block font-medium mt-2",children:"Total GST"}),d.jsx(be,{type:"text",value:j,readOnly:!0,className:"w-full border rounded-md px-2 py-1 bg-transparent mt-2"})]}),d.jsxs("div",{children:[d.jsx(ce,{className:"block font-medium",children:"Net Total Amount"}),d.jsx(be,{type:"text",value:B,readOnly:!0,className:"w-full border rounded-md px-2 py-1 bg-transparent mt-2"})]})]}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx(It,{type:"button",variant:"secondary",onClick:ee,children:"Cancel"}),d.jsx(It,{type:"submit",children:e?"Update Sales Order":"Create Sales Order"})]})]})]})},vR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},CR=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},RG=()=>Rr({queryKey:["useGetBrandNames"],queryFn:()=>_e("/api/brand-name/v1/getAll")}),sFe=()=>Je({mutationFn:e=>_e("/api/brand-name/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:vR,onError:CR}),iFe=e=>{const t=Pt();return console.log(n0),Je({mutationFn:r=>_e(`/api/brand-name/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{vR(r),t.invalidateQueries({queryKey:["useGetBrandNames"]})},onError:CR})},oFe=e=>{const t=Pt();return console.log(e),Je({mutationFn:()=>_e(`/api/brand-name/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetBrandNames"]}),vR(r.message)},onError:CR})},yR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},SR=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},FG=()=>Rr({queryKey:["useGetItemCategories"],queryFn:()=>_e("/api/item-category/v1/getAll")}),aFe=()=>Je({mutationFn:e=>_e("/api/item-category/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:yR,onError:SR}),lFe=e=>{const t=Pt();return console.log(n0),Je({mutationFn:r=>_e(`/api/item-category/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{yR(r),t.invalidateQueries({queryKey:["useGetItemCategories"]})},onError:SR})},cFe=e=>{const t=Pt();return console.log(e),Je({mutationFn:()=>_e(`/api/item-category/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetItemCategories"]}),yR(r.message)},onError:SR})},wR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},xR=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},TG=()=>Rr({queryKey:["useGetItemType"],queryFn:()=>_e("/api/item-type/v1/getAll")}),uFe=()=>Je({mutationFn:e=>_e("/api/item-type/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:wR,onError:xR}),dFe=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/item-type/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{wR(r),t.invalidateQueries({queryKey:["useGetItemType"]})},onError:xR})},hFe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/item-type/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetItemType"]}),wR(r.message)},onError:xR})},bR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},ER=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},PG=()=>Rr({queryKey:["useGetServices"],queryFn:()=>_e("/api/star-rating/v1/getAll")}),fFe=()=>Je({mutationFn:e=>_e("/api/star-rating/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:bR,onError:ER}),pFe=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/star-rating/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{bR(r),t.invalidateQueries({queryKey:["useGetStarRatings"]})},onError:ER})},gFe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/star-rating/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetStarRatings"]}),bR(r.message)},onError:ER})},RR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},FR=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},AG=()=>Rr({queryKey:["useGetRefGasType"],queryFn:()=>_e("/api/ref-gasType/v1/getAll")}),mFe=()=>Je({mutationFn:e=>_e("/api/ref-gasType/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:RR,onError:FR}),vFe=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/ref-gasType/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{RR(r),t.invalidateQueries({queryKey:["useGetRefGasType"]})},onError:FR})},CFe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/ref-gasType/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetRefGasType"]}),RR(r.message)},onError:FR})},TR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},PR=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},DG=()=>Rr({queryKey:["useGetTonCapacitys"],queryFn:()=>_e("/api/ton-capacity/v1/getAll")}),yFe=()=>Je({mutationFn:e=>_e("/api/ton-capacity/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:TR,onError:PR}),SFe=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/ton-capacity/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{TR(r),t.invalidateQueries({queryKey:["useGetTonCapacitys"]})},onError:PR})},wFe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/ton-capacity/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetTonCapacitys"]}),TR(r.message)},onError:PR})},AR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},DR=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},MG=()=>Rr({queryKey:["useGetItemStatus"],queryFn:()=>_e("/api/item-status/v1/getAll")}),xFe=()=>Je({mutationFn:e=>_e("/api/item-status/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:AR,onError:DR}),bFe=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/item-status/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{AR(r),t.invalidateQueries({queryKey:["useGetItemStatus"]})},onError:DR})},EFe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/item-status/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetItemStatus"]}),AR(r.message)},onError:DR})},RFe=()=>{var ee,re,de,K,N,O,V,G,J,ae,ge,X,ne,Ne,Ae,Qe,Ze,ft,xt,We;const e=Bn(),{data:t,refetch:r}=rC(),n=Ps(),s=new URLSearchParams(n.search);let[i,o]=m.useState(null);const a=m.useRef(!1);m.useEffect(()=>{let le=s.get("id");if(o(le),le&&t&&!a.current){const Ke=t==null?void 0:t.data.find(ct=>(console.log("Item ID:",ct.id),ct.id.toString()===le));Ke&&(u(Ke),a.current=!0),console.log(Ke)}},[t,s]);const[l,u]=m.useState({productCode:"",modelNo:"",productName:"",sizes:"",brandName:{id:"",brandName:""},itemCategory:{id:"",categoryName:""},itemType:{id:"",typeName:""},starRating:{id:"",starRating:""},refGasType:{id:"",gasTypeName:""},tonCapacity:{id:"",tonCapacityName:""},isGSTApllicable:!1,salesUnitMeasurement:{id:"",uom:""},purchaseUnitMeasurement:{id:"",uom:""},baseUnitMeasurement:{id:"",uom:""},itemStatus:{id:"",statusName:""},reoderLevel:"",minQuantity:0,maxQuantity:0,purchasePrice:0,salesPrice:0,hsnCode:"",yearOfIntroduction:"",nameInvoice:"",isStockable:!1,isKit:!1,isActive:!1,mrp:0,sgst:"",igst:"",cgst:"",productType:""}),f=le=>{console.log("clicked",le.target.value);const{name:Ke,value:ct}=le.target,Mt=le.target.value;console.log(Mt),u(ue=>({...ue,[Ke]:ct}))},p=le=>{const{id:Ke,checked:ct}=le.target;u(Mt=>({...Mt,[Ke]:ct}))},{data:g,isError:C}=FG(),{data:S,isError:y}=RG(),{data:w,isError:b}=TG(),{data:F,isError:R}=MG(),{data:E,isError:A}=PG(),{data:D,isError:M}=AG(),{data:I,isError:_}=DG(),{data:j,isError:H}=lR(),B=Object.values(hR),oe=i5(),ye=o5(i),Re=()=>{var ue,Ve;console.log("IN SUBMIT");const le=["productCode","modelNo","productName","sizes","reoderLevel","hsnCode","yearOfIntroduction","nameInvoice","productType"],Ke=["minQuantity","maxQuantity","purchasePrice","salesPrice","mrp"],ct=["sgst","igst","cgst"],Mt=["brandName","itemCategory","itemType","starRating","refGasType","tonCapacity","salesUnitMeasurement","purchaseUnitMeasurement","baseUnitMeasurement","itemStatus"];for(const Ue of le)if(!((ue=l[Ue])!=null&&ue.toString().trim())){st.error(`${Ue.replace(/([A-Z])/g," $1")} is required.`);return}for(const Ue of Mt){const rt=l[Ue];if(!(rt!=null&&rt.id)){st.error(`${Ue.replace(/([A-Z])/g," $1")} selection is required.`);return}}for(const Ue of Ke)if(l[Ue]<=0){st.error(`${Ue.replace(/([A-Z])/g," $1")} must be greater than 0.`);return}for(const Ue of ct)if(!((Ve=l[Ue])!=null&&Ve.toString().trim())){st.error(`${Ue.replace(/([A-Z])/g," $1")} is required.`);return}i?(ye.mutate(l,{onSuccess:()=>{st.success("Product updated successfully!"),r(),e("/app/product-list")}}),i=null):oe.mutate(l,{onSuccess:()=>{st.success("Product added successfully!"),r(),e("/app/product-list")}})},we=(le,Ke,ct)=>{const Mt=ct.find(ue=>String(ue.id)===Ke);u(ue=>({...ue,[le]:Mt||null})),console.log(Ke,Mt)},se=()=>{e("/app/product-list")};return d.jsx("div",{className:"p-6 bg-gray-100 dark:bg-gray-900  min-h-screen",children:d.jsxs("div",{className:"max-w-5xl mx-auto p-6 shadow-md rounded-md border border-gray-300 dark:border-gray-600",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Product Code"}),d.jsx(be,{required:!0,type:"text",name:"productCode",placeholder:"Enter Product Code",value:l==null?void 0:l.productCode,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Model No"}),d.jsx(be,{required:!0,type:"text",name:"modelNo",placeholder:"Enter Model No",value:l==null?void 0:l.modelNo,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Product Name"}),d.jsx(be,{required:!0,type:"text",name:"productName",placeholder:"Enter Product Name",value:l==null?void 0:l.productName,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Brand Name"}),d.jsxs(wt,{required:!0,onValueChange:le=>we("brandName",le,S==null?void 0:S.data),value:((ee=l==null?void 0:l.brandName)==null?void 0:ee.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Customer Type",children:((re=l.brandName)==null?void 0:re.brandName)||"Select Brand name"})}),d.jsx(yt,{children:!y&&(S==null?void 0:S.data.map(le=>d.jsx(Qt,{value:String(le.id),children:le.brandName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Sizes"}),d.jsx(be,{required:!0,type:"number",name:"sizes",placeholder:"Enter Sizes",value:l==null?void 0:l.sizes,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Item Category"}),d.jsxs(wt,{required:!0,onValueChange:le=>we("itemCategory",le,g==null?void 0:g.data),value:((de=l==null?void 0:l.itemCategory)==null?void 0:de.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Item Category",children:((K=l.itemCategory)==null?void 0:K.categoryName)||"Select Item Category"})}),d.jsx(yt,{children:!C&&(g==null?void 0:g.data.map(le=>d.jsx(Qt,{value:String(le.id),children:le.categoryName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Product Types"}),d.jsxs(wt,{required:!0,onValueChange:le=>u(Ke=>({...Ke,productType:le})),value:l.productType,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Product Type",children:(l==null?void 0:l.productType)||"Select Product Type"})}),d.jsx(yt,{children:B.map(le=>d.jsx(Qt,{value:le,children:le},le))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Item Types"}),d.jsxs(wt,{required:!0,onValueChange:le=>we("itemType",le,w==null?void 0:w.data),value:((N=l==null?void 0:l.itemType)==null?void 0:N.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Item Type",children:((O=l.itemType)==null?void 0:O.typeName)||"Select Item Type"})}),d.jsx(yt,{children:!b&&(w==null?void 0:w.data.map(le=>d.jsx(Qt,{value:String(le.id),children:le.typeName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Star Ratings"}),d.jsxs(wt,{required:!0,onValueChange:le=>we("starRating",le,E==null?void 0:E.data),value:((V=l==null?void 0:l.starRating)==null?void 0:V.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Star Rating",children:((G=l.starRating)==null?void 0:G.starRating)||"Select Star Rating"})}),d.jsx(yt,{children:!A&&(E==null?void 0:E.data.map(le=>d.jsx(Qt,{value:String(le.id),children:le.starRating},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Ref. Gas Type"}),d.jsxs(wt,{required:!0,onValueChange:le=>we("refGasType",le,D==null?void 0:D.data),value:((J=l==null?void 0:l.refGasType)==null?void 0:J.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select refGasType",children:((ae=l.refGasType)==null?void 0:ae.gasTypeName)||"Select refGasType"})}),d.jsx(yt,{children:!M&&(D==null?void 0:D.data.map(le=>d.jsx(Qt,{value:String(le.id),children:le.gasTypeName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Ton Capacity"}),d.jsxs(wt,{required:!0,onValueChange:le=>we("tonCapacity",le,I==null?void 0:I.data),value:((ge=l==null?void 0:l.tonCapacity)==null?void 0:ge.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select tonCapacity",children:((X=l.tonCapacity)==null?void 0:X.tonCapacityName)||"Select tonCapacity"})}),d.jsx(yt,{children:!_&&(I==null?void 0:I.data.map(le=>d.jsx(Qt,{value:String(le.id),children:le.tonCapacityName},le.id)))})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"isGSTApllicable",className:"mr-2",checked:l.isGSTApllicable,onChange:p}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is GST Applicable"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium",children:"IGST"}),d.jsx(be,{type:"text",name:"igst",value:l==null?void 0:l.igst,onChange:f,placeholder:"Enter IGST",className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium",children:"CGST"}),d.jsx(be,{type:"text",name:"cgst",placeholder:"Enter CGST",value:l==null?void 0:l.cgst,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium",children:"SGST"}),d.jsx(be,{type:"text",name:"sgst",placeholder:"Enter SGST",value:l==null?void 0:l.sgst,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]})]}),d.jsx("hr",{}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Purchase UoM"}),d.jsxs(wt,{onValueChange:le=>we("purchaseUnitMeasurement",le,j==null?void 0:j.data),value:((ne=l==null?void 0:l.purchaseUnitMeasurement)==null?void 0:ne.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Sales Unit Measurement",children:((Ne=l.purchaseUnitMeasurement)==null?void 0:Ne.uom)||"Select Sales Unit Measurement"})}),d.jsx(yt,{children:!H&&(j==null?void 0:j.data.map(le=>d.jsx(Qt,{value:String(le.id),children:le.uom},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Sales UoM"}),d.jsxs(wt,{onValueChange:le=>we("salesUnitMeasurement",le,j==null?void 0:j.data),value:((Ae=l==null?void 0:l.salesUnitMeasurement)==null?void 0:Ae.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Purchase Unit Measurement",children:((Qe=l.salesUnitMeasurement)==null?void 0:Qe.uom)||"Select Purchase Unit Measurement"})}),d.jsx(yt,{children:!H&&(j==null?void 0:j.data.map(le=>d.jsx(Qt,{value:String(le.id),children:le.uom},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Base UoM"}),d.jsxs(wt,{onValueChange:le=>we("baseUnitMeasurement",le,j==null?void 0:j.data),value:((Ze=l==null?void 0:l.baseUnitMeasurement)==null?void 0:Ze.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Base Unit Measurement",children:((ft=l.baseUnitMeasurement)==null?void 0:ft.uom)||"Select Base Unit Measurement"})}),d.jsx(yt,{children:!H&&(j==null?void 0:j.data.map(le=>d.jsx(Qt,{value:String(le.id),children:le.uom},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Reorder Level"}),d.jsx(be,{required:!0,type:"text",name:"reoderLevel",placeholder:"Enter Reorder Level",value:l==null?void 0:l.reoderLevel,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Min Quantity"}),d.jsx(be,{required:!0,type:"number",min:0,placeholder:"Enter Min Quantity",name:"minQuantity",value:l==null?void 0:l.minQuantity,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Max Quantity"}),d.jsx(be,{required:!0,min:0,type:"number",name:"maxQuantity",placeholder:"Enter Max Quantity",value:l==null?void 0:l.maxQuantity,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Purchase Price"}),d.jsx(be,{type:"number",min:0,required:!0,name:"purchasePrice",placeholder:"Enter Purchase Price",value:l==null?void 0:l.purchasePrice,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"MRP"}),d.jsx(be,{type:"number",min:0,required:!0,name:"mrp",value:l==null?void 0:l.mrp,onChange:f,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Sales Price"}),d.jsx(be,{type:"number",name:"salesPrice",min:0,required:!0,value:l==null?void 0:l.salesPrice,onChange:f,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"HSN Code"}),d.jsx(be,{required:!0,type:"text",name:"hsnCode",value:l==null?void 0:l.hsnCode,placeholder:"Enter HSN Code",onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Year Of Introduction"}),d.jsx(be,{type:"text",required:!0,name:"yearOfIntroduction",placeholder:"Enter Year Of Introduction",value:l==null?void 0:l.yearOfIntroduction,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Item Status"}),d.jsxs(wt,{onValueChange:le=>we("itemStatus",le,F==null?void 0:F.data),value:((xt=l==null?void 0:l.itemStatus)==null?void 0:xt.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Item Status",children:((We=l.itemStatus)==null?void 0:We.statusName)||"Select Item Status"})}),d.jsx(yt,{children:!R&&(F==null?void 0:F.data.map(le=>d.jsx(Qt,{value:String(le.id),children:le.statusName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Name Of Invoice"}),d.jsx(be,{type:"text",name:"nameInvoice",placeholder:"Enter Name Of Invoice",value:l==null?void 0:l.nameInvoice,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500",required:!0})]})]}),d.jsx("hr",{}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 mt-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"isStockable",className:"mr-2",checked:l.isStockable,onChange:p}),d.jsx("label",{htmlFor:"isStockable",className:"text-sm font-medium",children:"Is Stockable"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"isKit",className:"mr-2",checked:l.isKit,onChange:p}),d.jsx("label",{htmlFor:"isKit",className:"text-sm font-medium",children:"Is Kit"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"isActive",className:"mr-2",checked:l.isActive,onChange:p}),d.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium",children:"Is Active"})]})]}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx(It,{type:"button",onClick:Re,children:i?"Update Product":"Create Product"}),d.jsx(It,{variant:"secondary",onClick:se,children:"Cancel"})]})]})})},FFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({customerType:r.customerType||"",isActive:r.isActive||!1});m.useEffect(()=>{s({customerType:r.customerType||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({customerType:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Type"}),d.jsx(be,{required:!0,value:n.customerType,placeholder:"Enter Customer Type",onChange:o=>s({...n,customerType:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},TFe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=PB(),f=qye(),p=Yye(r),g=Qye(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"customerType",headerName:"Customer Type"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:E=>E.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{a||t(!1)},b=E=>{r?p.mutate(E,{onSuccess:()=>{u()}}):f.mutate(E,{onSuccess:()=>{u()}}),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Customer Type"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R,exportFileName:"Customer_Type"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Customer Type":"Create Customer Type",dialogDescription:r?"Edit Customer Type here...":"Create Customer Type here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(FFe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},PFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({code:r.code||"",sourceReference:r.ssourceReference||"",isActive:r.isActive||!1});m.useEffect(()=>{s({code:r.code||"",sourceReference:r.sourceReference||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({code:"",sourceReference:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.code,placeholder:"Enter Code",onChange:o=>s({...n,code:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsx(be,{required:!0,value:n.sourceReference,placeholder:"Enter Source of Reference",onChange:o=>s({...n,sourceReference:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},AFe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=PE(),f=$ye(),p=zye(r),g=Kye(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"code",headerName:"Code"},{field:"sourceReference",headerName:"Source Of Reference"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:E=>E.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=E=>{r?p.mutate(E,{onSuccess:()=>{u()}}):f.mutate(E,{onSuccess:()=>{u()}}),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Source of Reference"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R,exportFileName:"Source_of_Reference"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit SourceOfReference":"Create SourceOfReference",dialogDescription:r?"Edit SourceOfReference here...":"Create SourceOfReference here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(PFe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},DFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{var f;const[n,s]=m.useState({referenceDetail:r.referenceDetail||"",sourceReference:r.sourceReference||null,isActive:r.isActive||!1}),{data:i,isError:o,isLoading:a}=PE(),l=(i==null?void 0:i.data)||[];console.log(l),m.useEffect(()=>{s({referenceDetail:r.referenceDetail||"",sourceReference:r.sourceReference||null,isActive:r.isActive||!1})},[r]);const u=p=>{p.preventDefault(),console.log("Form Data Submitted:",n),e(n),s({referenceDetail:"",sourceReference:null,isActive:!1})};return d.jsx("form",{id:t,onSubmit:u,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsx(be,{required:!0,value:n.referenceDetail,placeholder:"Enter Reference Detail",onChange:p=>s({...n,referenceDetail:p.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs("select",{required:!0,className:"mt-1 w-full border border-gray-300 rounded-md p-2",value:((f=n.sourceReference)==null?void 0:f.id)||"",onChange:p=>{const g=l==null?void 0:l.find(C=>String(C.id)===p.target.value);s({...n,sourceReference:g||null})},disabled:a||o,children:[d.jsx("option",{value:"",children:"-- Select Source of Reference --"}),l==null?void 0:l.map(p=>d.jsx("option",{value:p.id,children:p.sourceReference},p.id))]}),o&&d.jsx("p",{className:"text-red-500",children:"Failed to load options"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:p=>s({...n,isActive:p.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},MFe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=DB(),f=eSe(),p=tSe(r),g=rSe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"referenceDetail",headerName:"Reference Detail"},{field:"sourceReference.sourceReference",headerName:"Source Of Reference"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:E=>E.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=E=>{r?p.mutate(E,{onSuccess:()=>{u()}}):f.mutate(E,{onSuccess:()=>{u()}}),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Reference Details"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R,exportFileName:"Reference_Details"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Reference Detail":"Create Reference Detail",dialogDescription:r?"Edit Reference Detail here...":"Create Reference Detail here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(DFe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},NFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({customerStatus:r.customerStatus||"",isActive:r.isActive||!1});m.useEffect(()=>{s({customerStatus:r.customerStatus||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({customerStatus:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Status"}),d.jsx(be,{required:!0,value:n.customerStatus,placeholder:"Enter Customer Status",onChange:o=>s({...n,customerStatus:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},IFe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=AB(),f=Xye(),p=Zye(r),g=Jye(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"customerStatus",headerName:"Customer Status"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:E=>E.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=E=>{r?p.mutate(E,{onSuccess:()=>{u()}}):f.mutate(E,{onSuccess:()=>{u()}}),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Customer Status"}),d.jsx("div",{className:"p-6 ",children:d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R,exportFileName:"Customer_Status"})}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Customer Status":"Create Customer Status",dialogDescription:r?"Edit Customer Status here...":"Create Customer Status here...",formId:"form",width:"max-w-4xl",height:"h-auto",children:d.jsx(NFe,{onSubmit:b,formId:"form",defaultValues:s})})]})},OFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({code:r.code||"",designation:r.designation||"",isActive:r.isActive||!1});m.useEffect(()=>{s({code:r.code||"",designation:r.designation||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({code:"",designation:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.code,placeholder:"Enter Code",onChange:o=>s({...n,code:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Designation"}),d.jsx(be,{required:!0,value:n.designation,placeholder:"Enter Designation",onChange:o=>s({...n,designation:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},kFe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=MB(),f=nSe(),p=sSe(r),g=iSe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"code",headerName:"Code"},{field:"designation",headerName:"Designation"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:E=>E.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=E=>{r?p.mutate(E,{onSuccess:()=>{u()}}):f.mutate(E,{onSuccess:()=>{u()}}),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Designation"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,exportFileName:"Designation",onAddClick:y,onEditClick:F,onDeleteClick:R})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Designation":"Create Designation",dialogDescription:r?"Edit Designation here...":"Create Designation here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(OFe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},LFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({code:r.code||"",categoryName:r.categoryName||"",isActive:r.isActive||!1});m.useEffect(()=>{s({code:r.code||"",categoryName:r.categoryName||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({code:"",categoryName:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.code,placeholder:"Enter Code",onChange:o=>s({...n,code:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Category Name"}),d.jsx(be,{required:!0,value:n.categoryName,placeholder:"Enter Category Name",onChange:o=>s({...n,categoryName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},_Fe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(0),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=FG(),f=aFe(),p=lFe(r),g=cFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"code",headerName:"Code"},{field:"categoryName",headerName:"Category Name"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:E=>E.value?"Active":"Inactive"}],y=()=>{i(""),n(0),t(!0)},w=()=>{t(!1)},b=E=>{console.log(r),r?(console.log("true"),p.mutate(E,{onSuccess:()=>{u()}})):(console.log("false"),console.log(E),f.mutate(E,{onSuccess:()=>{u()}})),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Item Category"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R,exportFileName:"Item_Category"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Item Category":"Create Item Category",dialogDescription:r?"Edit Item Category here...":"Create Item Category here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(LFe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},jFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({typeCode:r.typeCode||"",typeName:r.typeName||"",isActive:r.isActive||!1});m.useEffect(()=>{s({typeCode:r.typeCode||"",typeName:r.typeName||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({typeCode:"",typeName:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.typeCode,placeholder:"Enter Code",onChange:o=>s({...n,typeCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Item Type"}),d.jsx(be,{required:!0,value:n.typeName,placeholder:"Enter Item Type",onChange:o=>s({...n,typeName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},BFe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=TG(),f=uFe(),p=dFe(r),g=hFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"typeCode",headerName:"Item Code"},{field:"typeName",headerName:"Item Type"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:E=>E.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=E=>{r?p.mutate(E,{onSuccess:()=>{u()}}):f.mutate(E,{onSuccess:()=>{u()}}),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Item Type"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R,exportFileName:"Item_Type"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Item Type":"Create Item Type",dialogDescription:r?"Edit Item Type here...":"Create Item Type here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(jFe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},GFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({statusCode:r.statusCode||"",statusName:r.statusName||"",isActive:r.isActive||!1});m.useEffect(()=>{s({statusCode:r.statusCode||"",statusName:r.statusName||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({statusCode:"",statusName:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.statusCode,placeholder:"Enter Code",onChange:o=>s({...n,statusCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Item Status"}),d.jsx(be,{required:!0,value:n.statusName,placeholder:"Enter Item Status",onChange:o=>s({...n,statusName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},VFe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=MG(),f=xFe(),p=bFe(r),g=EFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"statusCode",headerName:"Code"},{field:"statusName",headerName:"Status Name"},{field:"isActive",headerName:"Active Status",cellRenderer:E=>E.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=E=>{r?p.mutate(E,{onSuccess:()=>{u()}}):f.mutate(E,{onSuccess:()=>{u()}}),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Item Status"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R,exportFileName:"Item_Status"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Item Status":"Create Item Status",dialogDescription:r?"Edit Item Status here...":"Create Item Status here...",formId:"service-form",width:"70%",height:"100%",children:d.jsx(GFe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},HFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({typeCode:r.typeCode||"",starRating:r.starRating||"",isActive:r.isActive||!1});m.useEffect(()=>{s({typeCode:r.typeCode||"",starRating:r.starRating||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({typeCode:"",starRating:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.typeCode,placeholder:"Enter Code",onChange:o=>s({...n,typeCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Star Rating"}),d.jsx(be,{value:n.starRating,placeholder:"Enter Star Rating",required:!0,onChange:o=>s({...n,starRating:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},WFe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=PG(),f=fFe(),p=pFe(r),g=gFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"typeCode",headerName:"Type Code"},{field:"starRating",headerName:"Star Rating"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:E=>E.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=E=>{r?p.mutate(E,{onSuccess:()=>{u()}}):f.mutate(E,{onSuccess:()=>{u()}}),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Star Rating"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R,exportFileName:"Star_Rating"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Star Rating":"Create Star Rating",dialogDescription:r?"Edit Star Rating here...":"Create Star Rating here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(HFe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},UFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({typeCode:r.typeCode||"",gasTypeName:r.gasTypeName||"",isActive:r.status||!1});m.useEffect(()=>{s({typeCode:r.typeCode||"",gasTypeName:r.gasTypeName||"",isActive:r.status||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({typeCode:"",gasTypeName:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.typeCode,placeholder:"Enter Code",onChange:o=>s({...n,typeCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Ref Gas Type"}),d.jsx(be,{required:!0,value:n.gasTypeName,placeholder:"Enter Ref Gas Type",onChange:o=>s({...n,gasTypeName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},$Fe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=AG(),f=mFe(),p=vFe(r),g=CFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"typeCode",headerName:"Type Code"},{field:"gasTypeName",headerName:"Gas Type Name"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:E=>E.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=E=>{r?p.mutate(E,{onSuccess:()=>{u()}}):f.mutate(E,{onSuccess:()=>{u()}}),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Ref Gas Type"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R,exportFileName:"RefGasType"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Ref Gas Type":"Create Ref Gas Type",dialogDescription:r?"Edit Ref Gas Type here...":"Create Ref Gas Type here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(UFe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},zFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({tonCode:r.tonCode||"",tonCapacityName:r.tonCapacityName||"",isActive:r.status||!1});m.useEffect(()=>{s({tonCode:r.tonCode||"",tonCapacityName:r.tonCapacityName||"",isActive:r.status||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({tonCode:"",tonCapacityName:"",isActive:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.tonCode,placeholder:"Enter Code",onChange:o=>s({...n,tonCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Ton Capacity"}),d.jsx(be,{required:!0,value:n.tonCapacityName,placeholder:"Enter Ton Capacity",onChange:o=>s({...n,tonCapacityName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},KFe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=DG(),f=yFe(),p=SFe(r),g=wFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"tonCode",headerName:"Ton Code"},{field:"tonCapacityName",headerName:"Ton Capacity Name"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:E=>E.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=E=>{r?p.mutate(E,{onSuccess:()=>{u()}}):f.mutate(E,{onSuccess:()=>{u()}}),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Ton Capacity"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Ton Capacity":"Create Ton Capacity",dialogDescription:r?"Edit Ton Capacity here...":"Create Ton Capacity here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(zFe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},qFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({symbol:r.symbol||"",uom:r.uom||"",isActive:r.status||!1});m.useEffect(()=>{s({symbol:r.symbol||"",uom:r.uom||"",isActive:r.status||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({symbol:"",uom:"",isActive:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Symbol"}),d.jsx(be,{required:!0,value:n.symbol,placeholder:"Enter Symbol",onChange:o=>s({...n,symbol:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Unit Of Measurements"}),d.jsx(be,{required:!0,value:n.uom,placeholder:"Enter Unit Of Measurements",onChange:o=>s({...n,uom:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,onChange:o=>s({...n,isActive:o.target.value})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},YFe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=lR(),f=qEe(),p=YEe(r),g=QEe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"symbol",headerName:"Symbol"},{field:"uom",headerName:"UoM Name"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:E=>E.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=E=>{r?p.mutate(E,{onSuccess:()=>{u()}}):f.mutate(E,{onSuccess:()=>{u()}}),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Unit Of Measurements"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit UoM":"Create UoM",dialogDescription:r?"Edit UoM here...":"Create UoM here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(qFe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},QFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({firstName:r.firstName||"",lastName:r.lastName||"",gender:r.gender||"",contactNo:r.contactNo||"",emailId:r.emailId||"",password:r.password||"",userName:r.userName||""});m.useEffect(()=>{s({firstName:r.firstName||"",lastName:r.lastName||"",gender:r.gender||"",contactNo:r.contactNo||"",emailId:r.emailId||"",password:r.password||"",userName:r.userName||""})},[r]);const i=o=>{o.preventDefault(),e(n),s({firstName:"",lastName:"",gender:"",contactNo:"",emailId:"",password:"",userName:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"First Name"}),d.jsx(be,{required:!0,value:n.firstName,placeholder:"Enter first Name",onChange:o=>s({...n,firstName:o.target.value}),className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"last Name"}),d.jsx(be,{required:!0,value:n.lastName,placeholder:"Enter last Name",onChange:o=>s({...n,lastName:o.target.value}),className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Mobile No"}),d.jsx(be,{required:!0,value:n.contactNo,placeholder:"Enter 10 digit Mobile No",pattern:"^\\d{10}$",onChange:o=>s({...n,contactNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Email"}),d.jsx(be,{type:"email",required:!0,value:n.emailId,placeholder:"Enter Email",onChange:o=>s({...n,emailId:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"User Name"}),d.jsx(be,{required:!0,value:n.userName,placeholder:"Enter User Name",onChange:o=>s({...n,userName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Password"}),d.jsx(be,{type:"password",required:!0,value:n.password,placeholder:"Enter Password",onChange:o=>s({...n,password:o.target.value})})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"radio",id:"male",name:"gender",value:"male",className:"mr-2",checked:n.gender==="male",onChange:o=>s({...n,gender:o.target.value})}),d.jsx("label",{htmlFor:"male",className:"text-sm font-medium",children:"Male"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"radio",id:"female",name:"gender",value:"female",className:"mr-2",checked:n.gender==="female",onChange:o=>s({...n,gender:o.target.value})}),d.jsx("label",{htmlFor:"female",className:"text-sm font-medium",children:"Female"})]})]})]})})})},XFe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=Up(),f=QRe(),p=XRe(r),g=ZRe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"firstName",headerName:"First Name"},{field:"lastName",headerName:"Last Name"},{field:"gender",headerName:"Gender"},{field:"contactNo",headerName:"Mobile No"},{field:"emailId",headerName:"Email"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=E=>{console.log("formdata",E),r?p.mutate(E,{onSuccess:()=>{u(),t(!1)}}):f.mutate(E,{onSuccess:()=>{u(),t(!1)}})},F=E=>{n(E.user_id),i(E),t(!0)},R=E=>{n(E.user_id),g.mutate(E.user_id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"User"}),d.jsx("div",{className:"p-6 ",children:d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R,exportFileName:"User"})}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit User":"Create User",dialogDescription:r?"Edit User here...":"Create User here...",formId:"service-form",width:"max-w-5xl",height:"h-auto",children:d.jsx(QFe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},MR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},NR=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},IR=()=>Rr({queryKey:["useGetInstallationLocations"],queryFn:()=>_e("/api/installation-location/getAll")}),ZFe=()=>Je({mutationFn:e=>_e("/api/installation-location/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:MR,onError:NR}),JFe=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/installation-location/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{MR(r),t.invalidateQueries({queryKey:["useGetInstallationLocations"]})},onError:NR})},eTe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/installation-location/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetInstallationLocations"]}),MR(r.message)},onError:NR})},tTe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({installationLocationId:r.installationLocationId||"",locationDescription:r.LocationDescription||"",isActive:r.isActive||!1});m.useEffect(()=>{s({installationLocationId:r.installationLocationId||"",locationDescription:r.LocationDescription||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({installationLocationId:"",locationDescription:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"InstallationLocationId"}),d.jsx(be,{value:n.installationLocationId,placeholder:"Enter Code",onChange:o=>s({...n,installationLocationId:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Location Description"}),d.jsx(be,{value:n.locationDescription,placeholder:"Enter Category Name",onChange:o=>s({...n,locationDescription:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},rTe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=IR(),f=ZFe(),p=JFe(r),g=eTe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"installationLocationId",headerName:"InstallationLocationId"},{field:"locationDescription",headerName:"Location Description"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:E=>E.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=E=>{r?p.mutate(E,{onSuccess:()=>{u()}}):f.mutate(E,{onSuccess:()=>{u()}}),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Installation-Location"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R,exportFileName:"Installation_Location"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Installation Location":"Create Installation Location",dialogDescription:r?"Edit Installation Location here...":"Create Installation Location here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(tTe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},OR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},uC=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},NG=()=>Rr({queryKey:["useGetDeliveryChallans"],queryFn:()=>_e("/api/delivery-challan/v1/getAll")}),IG=()=>Je({mutationFn:e=>_e("/api/delivery-challan/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:OR,onError:uC}),OG=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/delivery-challan/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{OR(r),t.invalidateQueries({queryKey:["useGetDeliveryChallans"]})},onError:uC})},nTe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/delivery-challan/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetDeliveryChallans"]}),OR(r.message)},onError:uC})},sTe=()=>Je({mutationFn:()=>_e("/api/delivery-challan/getNextChallanNo",{method:"GET"}),onError:uC}),iTe=()=>{var Re,we,se,ee,re,de,K,N,O,V,G,J,ae,ge;const[e,t]=m.useState(null);let[r,n]=m.useState(null);const[s,i]=m.useState(!1),[o,a]=m.useState([]),[l,u]=m.useState([]),{mutate:f,data:p}=LSe(e),{mutate:g,data:C}=kSe(),{mutate:S,data:y}=sTe(),w=IG(),b=OG(r),{data:F,refetch:R}=NG(),E=Ps(),A=new URLSearchParams(E.search),[D,M]=m.useState({id:"",deliveryChallanNo:"",invoiceNo:""});m.useEffect(()=>{g(),S()},[]),m.useEffect(()=>{r?I.setFieldValue("deliveryChallanNo",D.deliveryChallanNo):y!=null&&y.data&&I.setFieldValue("deliveryChallanNo",y==null?void 0:y.data)},[y]),m.useEffect(()=>{e&&(console.log("in invoice"),f())},[e]),m.useEffect(()=>{var X;if((X=p==null?void 0:p.data)!=null&&X.salesProductQuantities)if(console.log("1in sales",p),!r)a(p.data.salesProductQuantities),u(p.data.salesProductQuantities);else{console.log("in sales",p);const ne=o.map(Ne=>{var Qe;const Ae=(Qe=p==null?void 0:p.data)==null?void 0:Qe.salesProductQuantities.find(Ze=>Ze.product.id===Ne.product.id);return console.log(Ae,"matchin"),Ae?{...Ne,dispatchedQuantity:Ae.dispatchedQuantity,quantity:Ae.quantity}:Ne});a(ne),u(ne)}},[p]),m.useEffect(()=>{var X,ne,Ne,Ae,Qe;o&&!r&&(I.setFieldValue("productQuantities",o),I.setFieldValue("customerPoNo",((X=p==null?void 0:p.data)==null?void 0:X.poNo)||""),I.setFieldValue("salesPerson",((ne=p==null?void 0:p.data)==null?void 0:ne.contactPerson)||""),I.setFieldValue("name",((Ae=(Ne=p==null?void 0:p.data)==null?void 0:Ne.customer)==null?void 0:Ae.customerName)||""),I.setFieldValue("address",((Qe=p==null?void 0:p.data)==null?void 0:Qe.deliveryAddress)||""))},[o]),m.useEffect(()=>{let X=A.get("id");if(n(X),X&&F&&!s){const ne=F==null?void 0:F.data.find(Ne=>Ne.id.toString()===X);ne&&(console.log("chlla",ne),M(ne),u(ne==null?void 0:ne.productQuantities),a(ne==null?void 0:ne.productQuantities),t(ne==null?void 0:ne.invoiceNo),I.setValues({...I.initialValues,...ne}),i(!0)),console.log(ne)}},[F,A]);const I=Bp({initialValues:{deliverBy:"",customerPoNo:"",name:"",address:"",jobId:"",invoiceNo:"",installationBy:"",salesPerson:"",deliveryChallanNo:"",localDateTime:"",storeInChargeId:{user_id:"",firstName:""},transporterId:{user_id:"",firstName:""},projectInChargeId:{user_id:"",firstName:""},authorizeDetailsById:{user_id:"",firstName:""},productQuantities:[{id:"",product:{id:"",productName:"",mrp:""},quantity:""}]},validationSchema:lr({deliverBy:ot().required("Required"),customerPoNo:ot().required("Required"),name:ot().required("Required"),address:ot().required("Required"),jobId:ot().required("Required"),invoiceNo:ot().required("Required"),installationBy:ot().required("Required"),salesPerson:ot().required("Required"),localDateTime:Gc().required("Date is required"),storeInChargeId:lr().shape({user_id:ot().required("Store Incharge ID is required."),firstName:ot().required("Store Incharge Name is required.")}).required("Store Incharge is required."),transporterId:lr().shape({user_id:ot().required("Transporter is required."),firstName:ot().required("Transporter Name is required.")}).required("Transporter is required."),projectInChargeId:lr().shape({user_id:ot().required("ProjectIncharge is required."),firstName:ot().required("ProjectIncharge Name is required.")}).required("ProjectIncharge is required."),authorizeDetailsById:lr().shape({user_id:ot().required("AuthorizedPerson ID is required."),firstName:ot().required("AuthorizedPerson is required.")}).required("AuthorizedPerson is required.")}),onSubmit:X=>{r?(console.log("in update",r,X),b.mutate(X,{onSuccess:()=>{R(),j("/app/delivery-challan")}}),r=null):(console.log("Form submitted:",X),w.mutate(X,{onSuccess:()=>{R(),j("/app/delivery-challan")}}))}});m.useEffect(()=>{I.setFieldValue("productQuantities",o)},[o]),m.useEffect(()=>{},[(Re=I.values)==null?void 0:Re.invoiceNo]);const{data:_}=Up(),j=Bn(),H=()=>{j("/app/delivery-challan")},B=X=>{console.log("Removing index:",X);const ne=o.filter((Ae,Qe)=>Qe!==X),Ne=l.filter((Ae,Qe)=>Qe!==X);a(ne),u(Ne),I.setFieldValue("productQuantities",ne),console.log("Updated Quantities:",ne)},oe={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},ye=X=>{X.preventDefault(),console.log("action handle submit"),I.handleSubmit()};return d.jsx("form",{onSubmit:ye,children:d.jsx(Gs.div,{className:"p-4 sm:p-6 bg-gray-100 dark:bg-gray-900 min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsxs(Gs.div,{className:"max-w-5xl mx-auto border p-4 sm:p-6 shadow-md rounded-md",variants:oe,initial:"hidden",animate:"visible",children:[d.jsx("h1",{className:"text-xl font-bold mb-4",children:"Delivery Challan"}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 mb-6",children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Invoice No"}),d.jsxs(EE,{onValueChange:X=>{I.setFieldValue("invoiceNo",X),t(X)},value:String((we=I.values)==null?void 0:we.invoiceNo),children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:C==null?void 0:C.data.map(X=>d.jsx(Qt,{value:String(X),children:X},X))})]}),I.touched.invoiceNo&&I.errors.invoiceNo&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:I.errors.invoiceNo})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Challan No"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1",disabled:!0,value:I.values.deliveryChallanNo||""}),I.touched.deliveryChallanNo&&I.errors.deliveryChallanNo&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.deliveryChallanNo})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Name"}),d.jsx(be,{type:"text",name:"name",value:I.values.name,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.name&&I.errors.name&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Sales Persons"}),d.jsx(be,{type:"text",name:"salesPerson",value:I.values.salesPerson,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.salesPerson&&I.errors.salesPerson&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.salesPerson})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Installed By"}),d.jsx(be,{type:"text",name:"installationBy",value:I.values.installationBy,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.installationBy&&I.errors.installationBy&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.installationBy})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Address"}),d.jsx("textarea",{name:"address",value:I.values.address,onChange:I.handleChange,className:"mt-1 w-full p-2 border rounded-md",rows:1}),I.touched.address&&I.errors.address&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.address})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Deliver By"}),d.jsx(be,{type:"text",name:"deliverBy",value:I.values.deliverBy,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.deliverBy&&I.errors.deliverBy&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.deliverBy})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Job Id"}),d.jsx(be,{type:"number",name:"jobId",min:0,value:I.values.jobId,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.jobId&&I.errors.jobId&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.jobId})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"CustomerPoNo"}),d.jsx(be,{type:"number",name:"customerPoNo",value:I.values.customerPoNo,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.customerPoNo&&I.errors.customerPoNo&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.customerPoNo})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Date"}),d.jsx(be,{type:"date",name:"localDateTime",value:I.values.localDateTime,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.localDateTime&&I.errors.localDateTime&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.localDateTime})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Store Incharge"}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((se=I.values.storeInChargeId)==null?void 0:se.firstName)||"Select Incharge...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Inch..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No data found."}),d.jsx(ns,{children:(ee=_==null?void 0:_.data)==null?void 0:ee.map(X=>{var ne;return d.jsxs(ss,{value:X.firstName,onSelect:()=>I.setFieldValue("storeInChargeId",X),children:[X.firstName,d.jsx(kn,{className:((ne=I.values.storeInChargeId)==null?void 0:ne.user_id)===X.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},X.user_id)})})]})]})})]}),I.touched.storeInChargeId&&d.jsx(d.Fragment,{children:((re=I.errors.storeInChargeId)==null?void 0:re.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.storeInChargeId.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Authorized By"}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((de=I.values.authorizeDetailsById)==null?void 0:de.firstName)||"Select Authorized Person Name...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Inch..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No data found."}),d.jsx(ns,{children:(K=_==null?void 0:_.data)==null?void 0:K.map(X=>{var ne;return d.jsxs(ss,{value:X.firstName,onSelect:()=>I.setFieldValue("authorizeDetailsById",X),children:[X.firstName,d.jsx(kn,{className:((ne=I.values.authorizeDetailsById)==null?void 0:ne.user_id)===X.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},X.user_id)})})]})]})})]}),I.touched.authorizeDetailsById&&d.jsx(d.Fragment,{children:((N=I.errors.authorizeDetailsById)==null?void 0:N.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.authorizeDetailsById.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Transporter Detail"}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((O=I.values.transporterId)==null?void 0:O.firstName)||"Select Transporter Person Name...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Transporter..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No data found."}),d.jsx(ns,{children:(V=_==null?void 0:_.data)==null?void 0:V.map(X=>{var ne;return d.jsxs(ss,{value:X.firstName,onSelect:()=>I.setFieldValue("transporterId",X),children:[X.firstName,d.jsx(kn,{className:((ne=I.values.transporterId)==null?void 0:ne.user_id)===X.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},X.user_id)})})]})]})})]}),I.touched.transporterId&&d.jsx(d.Fragment,{children:((G=I.errors.transporterId)==null?void 0:G.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.transporterId.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Project InCharge"}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((J=I.values.projectInChargeId)==null?void 0:J.firstName)||"Select Project Incharge  Name...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Inch..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No data found."}),d.jsx(ns,{children:(ae=_==null?void 0:_.data)==null?void 0:ae.map(X=>{var ne;return d.jsxs(ss,{value:X.firstName,onSelect:()=>I.setFieldValue("projectInChargeId",X),children:[X.firstName,d.jsx(kn,{className:((ne=I.values.projectInChargeId)==null?void 0:ne.user_id)===X.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},X.user_id)})})]})]})})]}),I.touched.projectInChargeId&&d.jsx(d.Fragment,{children:((ge=I.errors.projectInChargeId)==null?void 0:ge.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.projectInChargeId.firstName})})]})]}),d.jsx("div",{className:"overflow-x-auto ",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200   mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100  dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2",children:"Product Name"}),d.jsx("th",{className:"border px-4 py-2",children:"Total Quantity"}),d.jsx("th",{className:"border px-4 py-2",children:"Dispatched Quantity"}),d.jsx("th",{className:"border px-4 py-2",children:"Enter Quantity"}),d.jsx("th",{className:"border px-4 py-2",children:"Action"})]})}),d.jsx("tbody",{children:l==null?void 0:l.map((X,ne)=>{var Ne,Ae;return d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2 text-center",children:ne+1}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("div",{children:(Ne=X.product)==null?void 0:Ne.productName})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("div",{children:X.quantity})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("div",{children:X==null?void 0:X.dispatchedQuantity})}),d.jsx("td",{className:"border px-1 py-1 text-center",children:d.jsx("input",{min:0,max:r?"":Number(X==null?void 0:X.quantity)-(X==null?void 0:X.dispatchedQuantity),type:"number",className:"w-full border rounded-md px-2 py-1",value:((Ae=o[ne])==null?void 0:Ae.quantity)||0,onChange:Qe=>{const Ze=Qe.target.value,ft=[...o];ft[ne]={...X,quantity:Ze},a(ft),I.setFieldValue("productQuantities",ft)}})}),d.jsx("td",{className:"border px-2 py-2 text-center",children:d.jsx("button",{type:"button",className:"text-red-500",onClick:()=>B(ne),children:"Remove"})})]},X==null?void 0:X.id)})})]})}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx(It,{type:"button",variant:"secondary",onClick:H,children:"Cancel"}),d.jsx(It,{type:"submit",children:r?"Update Challan":"Create Challan"})]})]})})})},oTe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});m.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(th,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(be,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(be,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(be,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(be,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(be,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(be,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(be,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(be,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(be,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(be,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(be,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},aTe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=NG(),f=IG(),p=OG(r),g=nTe(r),C=(o==null?void 0:o.data)||[],S=Bn(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:A=>A.node.rowIndex+1},{field:"name",headerName:"Name"},{field:"address",headerName:"Address"},{field:"customerPoNo",headerName:"PoNo"},{field:"deliveryChallanNo",headerName:"ChallanNo"},{field:"invoiceNo",headerName:"Invoice No"},{field:"storeInChargeId.firstName",headerName:"Store Incharge"},{field:"authorizeDetailsById.firstName",headerName:"AuthorizedBy"},{field:"salesPerson",headerName:"Sales Person"},{field:"installationBy",headerName:"InstallationBy"},{field:"transporterId.firstName",headerName:"Transporter"}],w=()=>{i(""),n(null),S("/app/delivery-challan/delivery-challan-form")},b=()=>{S("/app/delivery-challan")},F=A=>{r?p.mutate(A,{onSuccess:()=>{u()}}):f.mutate(A,{onSuccess:()=>{u()}}),t(!1)},R=A=>{n(A.id),i(A),S(`/app/delivery-challan/delivery-challan-form?id=${A.id}`)},E=A=>{n(A.id),g.mutate(A.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Delivery Challan"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:y,isLoading:a,onAddClick:w,onEditClick:R,onDeleteClick:E,exportFileName:"Delivery_Challan"})]}),d.jsx(Nr,{isOpen:e,onClose:b,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"form",width:"100%",height:"100%",children:d.jsx(oTe,{onSubmit:F,formId:"form",defaultValues:s})})]})};var kG=(e=>(e.COMPLETE="COMPLETE",e.WIP="WIP",e))(kG||{});const lTe=({installationProductQuantities:e=[],products:t=[],onRowsChange:r})=>{const[n,s]=m.useState([{id:Date.now(),product:{id:"",productName:""},quantity:1}]);m.useEffect(()=>{e.length>0&&s(e)},[e]);const i=(l,u,f)=>{const p=n.map(g=>g.id===l?{...g,product:u==="product"?f:g.product,quantity:u==="quantity"?Number(f):g.quantity}:g);s(p),r(p)},o=()=>{const l={id:Date.now(),product:{id:"",productName:""},quantity:1};s(u=>{const f=[...u,l];return r(f),f})},a=l=>{s(u=>{const f=u.filter(p=>p.id!==l);return r(f),f})};return d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Products"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200 mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2 text-left",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2 text-left",children:"Product"}),d.jsx("th",{className:"border px-4 py-2 text-left",children:"Quantity"}),d.jsx("th",{className:"border px-4 py-2 text-center",children:"Actions"})]})}),d.jsx("tbody",{children:n.map((l,u)=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:u+1}),d.jsx("td",{className:"border px-4 py-2",children:d.jsxs("select",{className:"border rounded-md px-2 py-1 w-full bg-transparent",value:l.product.id||"",onChange:f=>{const p=t.find(g=>g.id.toString()===f.target.value);p&&i(l.id,"product",p)},children:[d.jsx("option",{value:"",children:"Select Product"}),t.map(f=>d.jsx("option",{value:f.id,children:f.productName},f.id))]})}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",className:"border rounded-md px-2 py-1 w-20 bg-transparent",min:1,value:l.quantity,onChange:f=>i(l.id,"quantity",Number(f.target.value))})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("button",{onClick:()=>a(l.id),className:"text-red-500 hover:underline",children:"Remove"})})]},l.id))})]})}),d.jsx("button",{type:"button",onClick:o,className:"bg-gray-300 hover:bg-gray-400 text-gray-600 px-4 py-2 rounded-md",children:"Add Product"})]})},LG=({columns:e,data:t})=>d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200 mb-6",children:[d.jsx("thead",{children:d.jsx("tr",{className:"bg-gray-100 dark:bg-gray-800",children:e.map(r=>d.jsx("th",{className:"border px-4 py-2",children:r.label},r.key))})}),d.jsx("tbody",{children:t.map((r,n)=>d.jsx("tr",{children:e.map(s=>d.jsx("td",{className:"border px-4 py-2",children:s.render?s.render(r,n):r[s.key]},s.key))},r.id))})]})}),kR=e=>{st.success((e==null?void 0:e.message)||"Operation Successful")},$p=e=>{st.error((e==null?void 0:e.message)||"Operation Failed")},cTe=()=>Rr({queryKey:["useGetInstallations"],queryFn:()=>_e("/api/installation/v1/getAll")}),_G=()=>Je({mutationFn:e=>_e("/api/installation/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:kR,onError:$p}),jG=e=>{const t=Pt();return Je({mutationFn:r=>_e(`/api/installation/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{kR(r),t.invalidateQueries({queryKey:["useGetInstallations"]})},onError:$p})},uTe=e=>{const t=Pt();return Je({mutationFn:()=>_e(`/api/installation/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetInstallations"]}),kR(r.message)},onError:$p})},dTe=()=>Je({mutationFn:()=>_e("/api/installation/getNextInstallationNo",{method:"GET"}),onError:$p}),hTe=e=>Je({mutationFn:()=>_e(`/api/installation/getById/${e}`,{method:"GET"}),onError:$p}),fTe=()=>{var O,V,G,J,ae,ge,X,ne,Ne,Ae,Qe,Ze,ft,xt,We;let[e,t]=m.useState(null);const[r,n]=m.useState(!1),[s,i]=m.useState(null),[o,a]=m.useState(!1),[l,u]=m.useState(0),f=Bn(),p=Object.values(kG),[g,C]=m.useState([]),{data:S}=rC(),{data:y}=X0(),{data:w}=IR(),{data:b}=Up(),{mutate:F,data:R}=dTe(),E=_G(),A=jG(e),{mutate:D,data:M}=hTe(e),I=Ps(),_=new URLSearchParams(I.search);m.useEffect(()=>{F()},[]),m.useEffect(()=>{e==null&&B.setFieldValue("installationReportNo",R==null?void 0:R.data)},[R,e]),m.useEffect(()=>{let le=_.get("id");console.log("idaaa",le),t(le),console.log("ida=",e),le&&n(!0)},[_]),m.useEffect(()=>{r&&D()},[r]),m.useEffect(()=>{if(M){console.log(M==null?void 0:M.data);const le=M==null?void 0:M.data,Ke=le==null?void 0:le.installationProduct,ct=le==null?void 0:le.attachments;B.setFieldValue("installationProduct",Ke),B.setFieldValue("attachments",ct),B.setFieldValue("installationReportNo",le==null?void 0:le.installationReportNo),C(Ke),se(ct),B.setValues({...B.initialValues,...M==null?void 0:M.data})}},[M]);const j={installationReportNo:"",installationDate:"",customer:{id:"",customerName:""},installationLocations:[],installationStatus:"",installationVerifiedBy:{user_id:"",firstName:""},installationDoneBy:{user_id:"",firstName:""},installationRemark:"",poId:"",installationProduct:[{product:{productName:"",id:""},quantity:""}],attachments:[],isAgainstPo:!1,isExtraActivitiesCarriedOut:!1},H=lr().shape({installationReportNo:ot().required("Service number is required"),installationDate:Gc().required("Service date is required"),installationRemark:ot().required("Remark is required"),installationStatus:ot().required("Status is required"),poId:ot().required("Order Id is required"),customer:lr().shape({id:ot().required("Client is required."),customerName:ot().required("Client is required.")}).required("Client  is required."),installationDoneBy:lr().shape({user_id:ot().required("User ID is required."),firstName:ot().required("User Name is required.")}).required("User is required."),installationVerifiedBy:lr().shape({user_id:ot().required("User Verifier is required."),firstName:ot().required("User Verifier Name is required.")}).required("User Verifier is required.")}),B=Bp({initialValues:j,validationSchema:H,onSubmit:le=>{e?(console.log("update",le),A.mutate(le,{onSuccess:()=>{f("/app/installation")}}),e=null):(console.log("Form submitted:",le),E.mutate(le,{onSuccess:()=>{f("/app/installation")}}))}});m.useEffect(()=>{console.log("instllation",B.values.installationLocations)},[B.values.installationLocations]);const oe=le=>{console.log("Updated Rows:",le),B.setFieldValue("installationProduct",le)},ye=async()=>{if(!s){st.error("Please select a file to upload.");return}console.log("upload successful"),a(!0),u(0);const le=new FormData;le.append("file",s);try{const Ke=await fetch(`${Fc}/api/installation/uploadFile`,{method:"POST",body:le});if(Ke.ok){const ct=await Ke.json();st.success("File uploaded successfully.");const Mt=[...B.values.attachments||[],ct==null?void 0:ct.data];se(Mt),B.setFieldValue("attachments",Mt),console.log("Updated Formik Attachments:",B.values.attachments),console.log("Updated local uploadedData:",we)}else{const ct=await Ke.json();st.error(`Upload failed: ${ct.message||"Unknown error"}`)}}catch(Ke){console.error("Error uploading file:",Ke),st.error("An error occurred while uploading the file.")}finally{a(!1),u(0)}},Re=async(le,Ke)=>{le.preventDefault();try{const ct=`${Fc}/api/resources/serveFile?filePath=${encodeURIComponent(Ke)}`,Mt=await fetch(ct,{method:"GET"});if(Mt.ok){const ue=await Mt.blob(),Ve=URL.createObjectURL(ue);window.open(Ve,"_blank"),setTimeout(()=>URL.revokeObjectURL(Ve),6e4)}else st.error("API Error: "+Mt.statusText)}catch(ct){st.error("Fetch Error: "+ct.message)}},[we,se]=m.useState([]),ee=le=>{var ct;const Ke=(ct=le.target.files)==null?void 0:ct[0];Ke&&i(Ke)},re=le=>{const Ke=we.filter(ct=>ct.id!==le);se(Ke),console.log(""),B.setFieldValue("attachments",Ke)},de=()=>{f("/app/installation")},K={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},N=le=>{le.preventDefault(),console.log("action handle submit"),B.handleSubmit(),console.log(B.errors)};return d.jsx("form",{onSubmit:N,children:d.jsx(Gs.div,{className:"p-4 sm:p-6 bg-gray-100 dark:bg-gray-900 min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsxs(Gs.div,{className:"max-w-5xl mx-auto border p-4 sm:p-6 shadow-md rounded-md",variants:K,initial:"hidden",animate:"visible",children:[d.jsx("h1",{className:"text-xl font-bold mb-4",children:"Installation Form"}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-2 mb-6",children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Date"}),d.jsx(be,{type:"date",className:"w-full",name:"installationDate",onChange:B.handleChange,value:B.values.installationDate}),B.touched.installationDate&&B.errors.installationDate&&d.jsx("p",{className:"text-red-500 text-sm",children:B.errors.installationDate})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Report No"}),d.jsx(be,{type:"text",className:"w-full",placeholder:"Enter Report No",name:"installationReportNo",readOnly:!0,value:B.values.installationReportNo}),B.touched.installationReportNo&&typeof B.errors.installationReportNo&&d.jsx("p",{className:"text-red-500 text-sm",children:B.errors.installationReportNo})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Customer"}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((O=B.values.customer)==null?void 0:O.customerName)||"Select Option...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Inch..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No data found."}),d.jsx(ns,{children:(V=y==null?void 0:y.data)==null?void 0:V.map(le=>{var Ke;return d.jsxs(ss,{value:le==null?void 0:le.customerName,onSelect:()=>B.setFieldValue("customer",le),children:[le==null?void 0:le.customerName,d.jsx(kn,{className:((Ke=B.values.customer)==null?void 0:Ke.id)===le.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},le.id)})})]})]})})]}),B.touched.customer&&d.jsx(d.Fragment,{children:((G=B.errors.customer)==null?void 0:G.customerName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(J=B.errors.customer)==null?void 0:J.customerName})})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-sm font-medium text-700",children:"Installation Locations"}),d.jsxs(Cv,{children:[d.jsx(yv,{asChild:!0,children:d.jsx(It,{variant:"outline",className:"bg-transparent",children:((ae=B.values.installationLocations)==null?void 0:ae.length)>0?B.values.installationLocations.map(le=>le.installationLocationId).join(" , "):"Select Locations..."})}),d.jsxs(_f,{className:"w-56",children:[d.jsx(wL,{children:"Installation Locations"}),d.jsx(xL,{}),(ge=w==null?void 0:w.data)==null?void 0:ge.map(le=>{const Ke=Array.isArray(B.values.installationLocations)?B.values.installationLocations:[],ct=Ke.some(ue=>ue.id===le.id),Mt=()=>{const ue=ct?Ke.filter(Ve=>Ve.id!==le.id):[...Ke,le];B.setFieldValue("installationLocations",ue)};return d.jsx(ub,{checked:ct,onCheckedChange:Mt,children:le.installationLocationId},le.id)})]})]})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Verified By"}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((X=B.values.installationVerifiedBy)==null?void 0:X.firstName)||"Select Option...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Name..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No data found."}),d.jsx(ns,{children:(ne=b==null?void 0:b.data)==null?void 0:ne.map(le=>{var Ke;return d.jsxs(ss,{value:le.firstName,onSelect:()=>B.setFieldValue("installationVerifiedBy",le),children:[le.firstName,d.jsx(kn,{className:((Ke=B.values.installationVerifiedBy)==null?void 0:Ke.user_id)===le.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},le.user_id)})})]})]})})]}),B.touched.installationVerifiedBy&&d.jsx(d.Fragment,{children:((Ne=B.errors.installationVerifiedBy)==null?void 0:Ne.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(Ae=B.errors.installationVerifiedBy)==null?void 0:Ae.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Done By"}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((Qe=B.values.installationDoneBy)==null?void 0:Qe.firstName)||"Select Option...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Name..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No data found."}),d.jsx(ns,{children:(Ze=b==null?void 0:b.data)==null?void 0:Ze.map(le=>{var Ke;return d.jsxs(ss,{value:le.firstName,onSelect:()=>B.setFieldValue("installationDoneBy",le),children:[le.firstName,d.jsx(kn,{className:((Ke=B.values.installationDoneBy)==null?void 0:Ke.user_id)===le.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},le.user_id)})})]})]})})]}),B.touched.installationDoneBy&&d.jsx(d.Fragment,{children:((ft=B.errors.installationDoneBy)==null?void 0:ft.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(xt=B.errors.installationDoneBy)==null?void 0:xt.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Status"}),d.jsxs(wt,{onValueChange:le=>{B.setFieldValue("installationStatus",le)},value:(We=B.values)==null?void 0:We.installationStatus,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:p.map(le=>d.jsx(Qt,{value:le,children:le},le))})]}),B.touched.installationStatus&&B.errors.installationStatus&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:B.errors.installationStatus})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Remarks"}),d.jsx(be,{type:"text",className:"w-full",onChange:B.handleChange,value:B.values.installationRemark,name:"installationRemark",placeholder:"Enter Installation Remarks"}),B.touched.installationRemark&&B.errors.installationRemark&&d.jsx("p",{className:"text-red-500 text-sm",children:B.errors.installationRemark})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"PO Id"}),d.jsx(be,{type:"text",className:"w-full",placeholder:"Enter PO ID",value:B.values.poId,onChange:B.handleChange,name:"poId"}),B.touched.poId&&B.errors.poId&&d.jsx("p",{className:"text-red-500 text-sm",children:B.errors.poId})]})]}),d.jsx(lTe,{installationProductQuantities:e?g:[],products:S==null?void 0:S.data,onRowsChange:oe}),d.jsxs("div",{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Upload Files"}),d.jsx("input",{type:"file",className:"flex-1 p-2 text-xs border-none outline-none",onChange:ee,disabled:o})]}),o&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{children:"Uploading..."}),d.jsx("progress",{value:l,max:"100",className:"w-full"})]}),d.jsxs(It,{onClick:ye,disabled:o,className:"h-[35px] text-sm px-10 py-2 rounded-md mt-2 mb-4",children:[" ",o?"Uploading...":"Upload"]})]}),d.jsx(LG,{columns:[{key:"index",label:"Sr.No",render:(le,Ke)=>Ke+1},{key:"location",label:"File Name",render:le=>d.jsx("a",{href:le.location,target:"_blank",rel:"noopener noreferrer",className:"text-green-500 hover:underline",onClick:Ke=>Re&&Re(Ke,le.location),children:le.location})},{key:"docType",label:"Doctype",render:le=>{var Ke;return(Ke=le.docType)==null?void 0:Ke.docType}},{key:"actions",label:"Actions",render:le=>d.jsx("button",{className:"text-red-500",onClick:()=>re&&re(le.id),children:"Remove"})}],data:we}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",name:"isExtraActivitiesCarriedOut",className:"mr-2",checked:B.values.isExtraActivitiesCarriedOut,onChange:B.handleChange}),d.jsxs("label",{htmlFor:"status",className:"text-sm font-medium",children:[" ","Is Extra Activities Carried Out"," "]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",name:"isAgainstPo",className:"mr-2",checked:B.values.isAgainstPo,onChange:()=>B.setFieldValue("isAgainstPo",!B.values.isAgainstPo)}),d.jsxs("label",{htmlFor:"status",className:"text-sm font-medium",children:["Is Against Po"," "]})]}),d.jsxs(It,{type:"button",variant:"secondary",onClick:de,children:[" ","Cancel"]}),d.jsx(It,{type:"submit",children:e?"Update":"Create"})]})]})})})},pTe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});m.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(th,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(be,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(be,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(be,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(be,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(be,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(be,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(be,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(be,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(be,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(be,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(be,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},gTe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=cTe(),f=_G(),p=jG(r),g=uTe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=Bn(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:A=>A.node.rowIndex+1},{field:"installationReportNo",headerName:"Report No."},{field:"installationDate",headerName:"Date"},{field:"poId",headerName:"PoId"},{field:"customer.customerName",headerName:"Customer"},{field:"installationDoneBy.firstName",headerName:"Inst Done By"},{field:"installationVerifiedBy.firstName",headerName:"Verified By"},{field:"installationStatus",headerName:"Status"},{field:"installationRemark",headerName:"Remark"}],w=()=>{i(""),n(null),S("/app/installation/installation-form")},b=()=>{S("/app/installation")},F=A=>{r?p.mutate(A,{onSuccess:()=>{u()}}):f.mutate(A,{onSuccess:()=>{u()}}),t(!1)},R=A=>{n(A.id),i(A),S(`/app/installation/installation-form?id=${A.id}`)},E=A=>{n(A.id),g.mutate(A.id,{onSuccess:()=>{u()}})};return d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Installation"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:y,isLoading:a,onAddClick:w,onEditClick:R,onDeleteClick:E,exportFileName:"Installation"})]}),d.jsx(Nr,{isOpen:e,onClose:b,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"form",width:"100%",height:"100%",children:d.jsx(pTe,{onSubmit:F,formId:"form",defaultValues:s})})]})},mTe=({materialQuantities:e=[],materials:t=[],onRowsChange:r})=>{const[n,s]=m.useState([{id:Date.now(),material:{id:"",materialName:""},quantity:1}]);m.useEffect(()=>{e.length>0&&s(e)},[e]);const i=(l,u,f)=>{const p=n.map(g=>g.id===l?{...g,material:u==="material"?f:g.material,quantity:u==="quantity"?Number(f):g.quantity}:g);s(p),r(p)},o=()=>{const l={id:Date.now(),material:{id:"",materialName:""},quantity:1};s(u=>{const f=[...u,l];return r(f),f})},a=l=>{s(u=>{const f=u.filter(p=>p.id!==l);return r(f),f})};return d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Materials"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200 mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2 text-left",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2 text-left",children:"Material"}),d.jsx("th",{className:"border px-4 py-2 text-left",children:"Quantity"}),d.jsx("th",{className:"border px-4 py-2 text-center",children:"Actions"})]})}),d.jsx("tbody",{children:n.map((l,u)=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:u+1}),d.jsx("td",{className:"border px-4 py-2",children:d.jsxs("select",{className:"border rounded-md px-2 py-1 w-full bg-transparent",value:l.material.id||"",onChange:f=>{const p=t.find(g=>g.id.toString()===f.target.value);p&&i(l.id,"material",p)},children:[d.jsx("option",{value:"",children:"Select Material"}),t.map(f=>d.jsx("option",{value:f.id,children:f.materialName},f.id))]})}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",className:"border rounded-md px-2 py-1 w-20 bg-transparent",min:1,value:l.quantity,onChange:f=>i(l.id,"quantity",Number(f.target.value))})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("button",{onClick:()=>a(l.id),className:"text-red-500 hover:underline",children:"Remove"})})]},l.id))})]})}),d.jsx(It,{type:"button",onClick:o,className:"h-[35px] text-sm px-10 py-2 rounded-md",children:"Add Material"})]})},vTe=()=>{var O,V,G,J,ae,ge,X,ne,Ne,Ae,Qe,Ze,ft,xt,We,le,Ke,ct,Mt,ue,Ve,Ue,rt,tt,gt,Vt,$r;let[e,t]=m.useState(null);const[r,n]=m.useState(!1),[s,i]=m.useState([]),o=Bn(),{data:a}=IR(),{data:l}=X0(),{data:u}=Up(),{data:f}=rC(),{data:p}=l5(),{mutate:g,data:C}=tRe(),{mutate:S,data:y}=rRe(e),w=Q5(),b=X5(e),F=Ps(),R=new URLSearchParams(F.search);m.useEffect(()=>{g()},[]),m.useEffect(()=>{(e||C!=null&&C.data)&&D.setFieldValue("serviceNo",C==null?void 0:C.data)},[C]),m.useEffect(()=>{let Oe=R.get("id");console.log("idaaa",Oe),t(Oe),console.log("ida=",e),Oe&&n(!0)},[R]),m.useEffect(()=>{r&&S()},[r]),m.useEffect(()=>{if(y){console.log(y==null?void 0:y.data);const Oe=y==null?void 0:y.data,mt=Oe==null?void 0:Oe.materialQuantity,cr=Oe==null?void 0:Oe.attachments;D.setFieldValue("materialQuantity",mt),D.setFieldValue("attachments",cr),D.setFieldValue("serviceDate",Oe==null?void 0:Oe.serviceDate),i(mt),Re(cr),D.setValues({...D.initialValues,...y==null?void 0:y.data})}},[y]);const E={serviceNo:"",contactPerson:"",serviceDate:"",client:{id:"",customerName:""},product:{id:"",productName:""},installationLocation:{id:"",installationLocationId:""},problem:"",actionTaken:"",serviceManager:{user_id:"",firstName:""},serviceProvidedBy:{user_id:"",firstName:""},supportedBy:{user_id:"",firstName:""},natureOfService:{natureOfService:""},natureOfComplaint:{natureOfComplaint:""},materialQuantity:[{material:{materialName:"",id:""},quantity:""}],attachments:[],isApproved:!1},A=lr().shape({serviceNo:ot().required("Service number is required"),contactPerson:ot().required("Contact person is required"),serviceDate:Gc().required("Service date is required"),client:lr().shape({id:ot().required("Client is required."),customerName:ot().required("Client is required.")}).required("Client  is required."),product:lr().shape({id:ot().required("Product is required."),productName:ot().required("Product is required.")}).required("Product is required."),problem:ot().required("Problem description is required"),actionTaken:ot().required("Action taken is required"),installationLocation:lr().shape({installationLocationId:ot().required("InstallationId  is required.")}).required("InstallationId  is required."),serviceManager:lr().shape({user_id:ot().required("Manager ID is required."),firstName:ot().required("Manager Name is required.")}).required("Manager is required."),serviceProvidedBy:lr().shape({user_id:ot().required("Service Provider is required."),firstName:ot().required("Service Provider Name is required.")}).required("Service Provider is required."),supportedBy:lr().shape({user_id:ot().required("Support Person is required."),firstName:ot().required("Support Person Name is required.")}).required("Support Person is required."),natureOfService:lr().shape({natureOfService:ot().required("Nature of service is required")}).required("Nature of service is required"),natureOfComplaint:lr().shape({natureOfComplaint:ot().required("Nature of complaint is required")}).required("Nature of complaint is required")}),D=Bp({initialValues:E,validationSchema:A,onSubmit:Oe=>{e?(b.mutate(Oe,{onSuccess:()=>{o("/app/services")}}),e=null):(console.log("Form submitted:",Oe),w.mutate(Oe,{onSuccess:()=>{o("/app/services")}}))}}),[M,I]=m.useState(null),[_,j]=m.useState(!1),[H,B]=m.useState(0),oe=Oe=>{var cr;const mt=(cr=Oe.target.files)==null?void 0:cr[0];mt&&I(mt)},[ye,Re]=m.useState([]),we=async()=>{if(!M){st.error("Please select a file to upload.");return}console.log("upload successful"),j(!0),B(0);const Oe=new FormData;Oe.append("file",M);try{const mt=await fetch(`${Fc}/api/services/uploadFile`,{method:"POST",body:Oe});if(mt.ok){const cr=await mt.json();st.success("File uploaded successfully.");const sn=[...D.values.attachments||[],cr==null?void 0:cr.data];Re(sn),D.setFieldValue("attachments",sn),console.log("Updated Formik Attachments:",D.values.attachments),console.log("Updated local uploadedData:",ye)}else{const cr=await mt.json();st.error(`Upload failed: ${cr.message||"Unknown error"}`)}}catch(mt){console.error("Error uploading file:",mt),st.error("An error occurred while uploading the file.")}finally{j(!1),B(0)}},se=Oe=>{const mt=ye.filter(cr=>cr.id!==Oe);Re(mt),console.log(),D.setFieldValue("attachments",mt)},ee=Oe=>{console.log("Updated Rows:",Oe),D.setFieldValue("materialQuantity",Oe)},re=async(Oe,mt)=>{Oe.preventDefault();try{const cr=`${Fc}/api/resources/serveFile?filePath=${encodeURIComponent(mt)}`,sn=await fetch(cr,{method:"GET"});if(sn.ok){const Xs=await sn.blob(),Me=URL.createObjectURL(Xs);window.open(Me,"_blank"),setTimeout(()=>URL.revokeObjectURL(Me),6e4)}else st.error("API Error: "+sn.statusText)}catch(cr){st.error("Fetch Error: "+cr.message)}},de=()=>{o("/app/services")},K={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},N=Oe=>{Oe.preventDefault(),console.log("action handle submit"),D.handleSubmit(),console.log("Formik Errors:",D.errors),console.log("Formik Touched:",D.touched)};return d.jsx(Gs.div,{className:"p-4 sm:p-6 bg-gray-100 dark:bg-gray-900 min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsx(Gs.div,{className:"max-w-5xl mx-auto border p-4 sm:p-6 shadow-md rounded-md",variants:K,initial:"hidden",animate:"visible",children:d.jsxs("form",{onSubmit:N,className:"grid gap-4",children:[d.jsx("h1",{className:"text-xl font-bold mb-4",children:"Service Form"}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-2 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Services No"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1 bg-transparent",disabled:!0,name:"serviceNo",value:D.values.serviceNo||""}),D.touched.serviceNo&&D.errors.serviceNo&&d.jsx("p",{className:"text-red-500 text-sm",children:D.errors.serviceNo})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"ServiceDate"}),d.jsx(be,{type:"date",name:"serviceDate",className:"w-full",onChange:D.handleChange,onBlur:D.handleBlur,value:D.values.serviceDate}),D.touched.serviceDate&&D.errors.serviceDate&&d.jsx("p",{className:"text-red-500 text-sm",children:D.errors.serviceDate})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Client"}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((O=D.values.client)==null?void 0:O.customerName)||"Select Option...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Inch..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No data found."}),d.jsx(ns,{children:(V=l==null?void 0:l.data)==null?void 0:V.map(Oe=>{var mt;return d.jsxs(ss,{value:Oe==null?void 0:Oe.customerName,onSelect:()=>D.setFieldValue("client",Oe),children:[Oe==null?void 0:Oe.customerName,d.jsx(kn,{className:((mt=D.values.client)==null?void 0:mt.id)===Oe.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.id)})})]})]})})]}),D.touched.client&&d.jsx(d.Fragment,{children:((G=D.errors.client)==null?void 0:G.customerName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(J=D.errors.client)==null?void 0:J.customerName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Contact Person"}),d.jsx(be,{type:"text",name:"contactPerson",className:"w-full",placeholder:"Enter Contact Person",onChange:D.handleChange,onBlur:D.handleBlur,value:D.values.contactPerson}),D.touched.contactPerson&&d.jsx("p",{className:"text-red-500 text-sm",children:D.errors.contactPerson})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Service Provided By"}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((ae=D.values.serviceProvidedBy)==null?void 0:ae.firstName)||"Select Option...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Inch..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No data found."}),d.jsx(ns,{children:(ge=u==null?void 0:u.data)==null?void 0:ge.map(Oe=>{var mt;return d.jsxs(ss,{value:Oe.firstName,onSelect:()=>D.setFieldValue("serviceProvidedBy",Oe),children:[Oe.firstName,d.jsx(kn,{className:((mt=D.values.serviceProvidedBy)==null?void 0:mt.user_id)===Oe.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.user_id)})})]})]})})]}),D.touched.serviceProvidedBy&&d.jsx(d.Fragment,{children:((X=D.errors.serviceProvidedBy)==null?void 0:X.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(ne=D.errors.serviceProvidedBy)==null?void 0:ne.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Supported By"}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((Ne=D.values.supportedBy)==null?void 0:Ne.firstName)||"Select Option...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Inch..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No data found."}),d.jsx(ns,{children:(Ae=u==null?void 0:u.data)==null?void 0:Ae.map(Oe=>{var mt;return d.jsxs(ss,{value:Oe.firstName,onSelect:()=>D.setFieldValue("supportedBy",Oe),children:[Oe.firstName,d.jsx(kn,{className:((mt=D.values.supportedBy)==null?void 0:mt.user_id)===Oe.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.user_id)})})]})]})})]}),D.touched.supportedBy&&d.jsx(d.Fragment,{children:((Qe=D.errors.supportedBy)==null?void 0:Qe.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(Ze=D.errors.supportedBy)==null?void 0:Ze.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Service Manager"}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((ft=D.values.serviceManager)==null?void 0:ft.firstName)||"Select Option...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Inch..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No data found."}),d.jsx(ns,{children:(xt=u==null?void 0:u.data)==null?void 0:xt.map(Oe=>{var mt;return d.jsxs(ss,{value:Oe.firstName,onSelect:()=>D.setFieldValue("serviceManager",Oe),children:[Oe.firstName,d.jsx(kn,{className:((mt=D.values.serviceManager)==null?void 0:mt.user_id)===Oe.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.user_id)})})]})]})})]}),D.touched.serviceManager&&d.jsx(d.Fragment,{children:((We=D.errors.serviceManager)==null?void 0:We.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(le=D.errors.serviceManager)==null?void 0:le.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Nature Of Service"}),d.jsx(be,{type:"text",name:"natureOfService.natureOfService",className:"w-full",placeholder:"Enter Nature Of Service",value:D.values.natureOfService.natureOfService,onChange:D.handleChange}),D.touched.natureOfService&&typeof D.errors.natureOfService&&d.jsx("p",{className:"text-red-500 text-sm",children:(Ke=D.errors.natureOfService)==null?void 0:Ke.natureOfService})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Nature Of Complaint"}),d.jsx(be,{type:"text",name:"natureOfComplaint.natureOfComplaint",className:"w-full",placeholder:"Enter Nature Of Complaint",value:D.values.natureOfComplaint.natureOfComplaint,onChange:D.handleChange}),D.touched.natureOfComplaint&&typeof D.errors.natureOfComplaint&&d.jsx("p",{className:"text-red-500 text-sm",children:(ct=D.errors.natureOfComplaint)==null?void 0:ct.natureOfComplaint})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Item "}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((Mt=D.values.product)==null?void 0:Mt.productName)||"Select Option...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Opti..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No data found."}),d.jsx(ns,{children:(ue=f==null?void 0:f.data)==null?void 0:ue.map(Oe=>{var mt;return d.jsxs(ss,{value:Oe==null?void 0:Oe.id,onSelect:()=>D.setFieldValue("product",Oe),children:[Oe==null?void 0:Oe.productName,d.jsx(kn,{className:((mt=D.values.product)==null?void 0:mt.productName)===Oe.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.id)})})]})]})})]}),D.touched.product&&d.jsx(d.Fragment,{children:((Ve=D.errors.product)==null?void 0:Ve.productName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(Ue=D.errors.product)==null?void 0:Ue.productName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation ID"}),d.jsxs(xs,{children:[d.jsx(bs,{asChild:!0,children:d.jsxs(It,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((rt=D.values.installationLocation)==null?void 0:rt.installationLocationId)||"Select Option...",d.jsx(ws,{className:"opacity-50"})]})}),d.jsx(Zn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(es,{placeholder:"Search Opti..."}),d.jsxs(ts,{children:[d.jsx(rs,{children:"No data found."}),d.jsx(ns,{children:(tt=a==null?void 0:a.data)==null?void 0:tt.map(Oe=>{var mt;return d.jsxs(ss,{value:Oe==null?void 0:Oe.installationLocationId,onSelect:()=>D.setFieldValue("installationLocation",Oe),children:[Oe==null?void 0:Oe.installationLocationId,d.jsx(kn,{className:((mt=D.values.installationLocation)==null?void 0:mt.installationLocationId)===Oe.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.id)})})]})]})})]}),D.touched.installationLocation&&d.jsx(d.Fragment,{children:((gt=D.errors.installationLocation)==null?void 0:gt.installationLocationId)&&d.jsxs("p",{className:"text-red-500 text-sm",children:[(Vt=D.errors.installationLocation)==null?void 0:Vt.installationLocationId,($r=D.errors.installationLocation)==null?void 0:$r.id]})})]})]}),d.jsx(mTe,{materialQuantities:s,materials:p==null?void 0:p.data,onRowsChange:ee}),d.jsxs("div",{children:[d.jsx(ce,{children:"Problem"}),d.jsx("textarea",{className:"w-full p-2 bg-transparent border rounded-md",name:"problem",placeholder:"Enter Problem",value:D.values.problem,onChange:D.handleChange}),D.touched.problem&&D.errors.problem&&d.jsx("p",{className:"text-red-500 text-sm",children:D.errors.problem})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Action Taken"}),d.jsx("textarea",{className:"w-full p-2 bg-transparent border rounded-md",name:"actionTaken",placeholder:"Enter ActionTaken",value:D.values.actionTaken,onChange:D.handleChange}),D.touched.actionTaken&&D.errors.actionTaken&&d.jsx("p",{className:"text-red-500 text-sm",children:D.errors.actionTaken})]}),d.jsxs("div",{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Upload Files"}),d.jsx("input",{type:"file",className:"flex-1 p-2 text-xs border-none outline-none",onChange:oe,disabled:_})]}),_&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{children:"Uploading..."}),d.jsx("progress",{value:H,max:"100",className:"w-full"})]}),d.jsxs(It,{onClick:we,disabled:_,className:"h-[35px] text-sm px-10 py-2 rounded-md",children:[" ",_?"Uploading...":"Upload"]})]}),d.jsx(LG,{columns:[{key:"index",label:"Sr.No",render:(Oe,mt)=>mt+1},{key:"location",label:"File Name",render:Oe=>d.jsx("a",{href:Oe.location,target:"_blank",rel:"noopener noreferrer",className:"text-green-500 hover:underline",onClick:mt=>re&&re(mt,Oe.location),children:Oe.location})},{key:"docType",label:"Doctype",render:Oe=>{var mt;return(mt=Oe.docType)==null?void 0:mt.docType}},{key:"actions",label:"Actions",render:Oe=>d.jsx("button",{className:"text-red-500",onClick:()=>se&&se(Oe.id),children:"Remove"})}],data:ye}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",name:"isApproved",className:"mr-2",checked:D.values.isApproved,onChange:D.handleChange}),d.jsxs("label",{htmlFor:"status",className:"text-sm font-medium",children:[" ","Is Aprroved"," "]})]}),d.jsx(It,{className:"bg-gray-300 hover:bg-gray-400 text-gray-600 px-4 py-2 rounded-md",type:"button",onClick:de,children:"Cancel"}),d.jsx(It,{type:"submit",children:e?"Update":"Create"})]})]})})})},CTe=({text:e})=>d.jsxs(cb,{className:"text-red-500 text-sm",children:[e," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),yTe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({brandName:r.brandName||""});m.useEffect(()=>{s({brandName:r.brandName||""})},[r]);const i=o=>{o.preventDefault(),e(n),s({brandName:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Brand Name"}),d.jsx(CTe,{text:"Required"}),d.jsx(be,{required:!0,value:n.brandName,placeholder:"Enter Brand Name",onChange:o=>s({...n,brandName:o.target.value})})]})})})})},STe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(0),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=RG(),f=sFe(),p=iFe(r),g=oFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"brandName",headerName:"Brand Name"}],y=()=>{i(""),n(0),t(!0)},w=()=>{t(!1)},b=E=>{console.log(r),r?(console.log("true"),p.mutate(E,{onSuccess:()=>{u(),t(!1)}})):(console.log("false"),console.log(E),f.mutate(E,{onSuccess:()=>{u(),t(!1)}}))},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Brand Names"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Brand Name":"Create Brand Name",dialogDescription:r?"Edit Brand Name here...":"Create Brand Name here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(yTe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},wTe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({name:r.name||""});m.useEffect(()=>{s({name:r.name||""})},[r]);const i=o=>{o.preventDefault(),e(n),s({name:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Order Type"}),d.jsx(be,{required:!0,value:n.name,placeholder:"Enter Order Type",onChange:o=>s({...n,name:o.target.value})})]})})})})},xTe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(0),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=EG(),f=eFe(),p=tFe(r),g=rFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:E=>E.node.rowIndex+1},{field:"name",headerName:"Name"}],y=()=>{i(""),n(0),t(!0)},w=()=>{t(!1)},b=E=>{console.log(r),r?(console.log("true"),p.mutate(E,{onSuccess:()=>{u()}})):(console.log("false"),console.log(E),f.mutate(E,{onSuccess:()=>{u()}})),t(!1)},F=E=>{n(E.id),i(E),t(!0)},R=E=>{n(E.id),g.mutate(E.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Order Type"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:R})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Order Type":"Create Order Type",dialogDescription:r?"Edit Order Type here...":"Create Order Type here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(wTe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},GM=[{name:"Manrope",class:"font-manrope",css:"Manrope, sans-serif"},{name:"Inter",class:"font-inter",css:"Inter, sans-serif"},{name:"Poppins",class:"font-poppins",css:"Poppins, sans-serif"},{name:"Roboto",class:"font-roboto",css:"Roboto, sans-serif"},{name:"Raleway",class:"font-raleway",css:"Raleway, sans-serif"}],VM=[{name:"Blue",color:"#3b82f6",value:"theme-blue"},{name:"Green",color:"#10b981",value:"theme-green"},{name:"Purple",color:"#8b5cf6",value:"theme-purple"},{name:"Red",color:"#ef4444",value:"theme-red"}],bTe=()=>{const{theme:e,setTheme:t}=eb(),[r,n]=m.useState("font-manrope"),[s,i]=m.useState("theme-blue");m.useEffect(()=>{const u=localStorage.getItem("font-class")||"font-manrope",f=localStorage.getItem("color-theme")||"theme-blue";o(u),a(f)},[]);const o=u=>{GM.forEach(f=>{document.documentElement.classList.remove(f.class)}),document.documentElement.classList.add(u),localStorage.setItem("font-class",u),n(u)},a=u=>{VM.forEach(f=>{document.documentElement.classList.remove(f.value)}),document.documentElement.classList.add(u),localStorage.setItem("color-theme",u),i(u)},l=u=>{t(u),localStorage.setItem("theme-mode",u)};return d.jsxs("div",{className:"p-8 max-w-4xl mx-auto bg-background text-foreground",children:[d.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Appearance"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"Customize the appearance of the app. Automatically switch between day and night themes."}),d.jsx("hr",{className:"border-border mb-6"}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Font"}),d.jsx("p",{className:"text-muted-foreground mb-3",children:"Set the font you want to use in the dashboard."}),d.jsxs(wt,{value:r,onValueChange:o,children:[d.jsx(Ct,{className:"w-64",children:d.jsx(St,{placeholder:"Select font"})}),d.jsx(yt,{children:GM.map(u=>d.jsx(Qt,{value:u.class,style:{fontFamily:u.css},children:u.name},u.class))})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Theme"}),d.jsx("p",{className:"text-muted-foreground mb-3",children:"Select the theme for the dashboard."}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{onClick:()=>l("light"),className:`border-2 p-2 rounded-lg cursor-pointer transition-all ${e==="light"?"border-foreground":"border-border"}`,children:[d.jsxs("div",{className:"w-32 h-20 bg-white rounded-md p-2 space-y-2",children:[d.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]}),d.jsx("p",{className:"text-sm mt-2 text-center",children:"Light"})]}),d.jsxs("div",{onClick:()=>l("dark"),className:`border-2 p-2 rounded-lg cursor-pointer transition-all ${e==="dark"?"border-foreground":"border-border"}`,children:[d.jsxs("div",{className:"w-32 h-20 bg-[#0f172a] rounded-md p-2 space-y-2",children:[d.jsx("div",{className:"h-3 bg-slate-500 rounded w-3/4"}),d.jsx("div",{className:"h-3 bg-slate-500 rounded w-full"}),d.jsx("div",{className:"h-3 bg-slate-500 rounded w-5/6"})]}),d.jsx("p",{className:"text-sm mt-2 text-center",children:"Dark"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Color Theme"}),d.jsx("p",{className:"text-muted-foreground mb-3",children:"Choose the primary accent color for the dashboard."}),d.jsx("div",{className:"flex gap-4 flex-wrap",children:VM.map(u=>d.jsx("div",{onClick:()=>a(u.value),className:`w-10 h-10 rounded-full cursor-pointer border-2 transition-all ${s===u.value?"border-foreground scale-110":"border-border"}`,style:{backgroundColor:u.color}},u.value))})]}),d.jsx("button",{className:"mt-4 px-6 py-2 rounded-md bg-primary text-primary-foreground font-semibold shadow hover:opacity-90 transition-all",children:"Update preferences"})]})]})},ETe=()=>d.jsx(iH,{children:d.jsx(YV,{children:d.jsxs(FV,{children:[d.jsx(zt,{path:"/",element:d.jsx(DW,{})}),d.jsx(zt,{path:"/app/home",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(MW,{})})})}),d.jsx(zt,{path:"/app/customer-list",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(NB,{})})})}),d.jsx(zt,{path:"/app/sales",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(nRe,{})})})}),d.jsx(zt,{path:"/app/sales/createform",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(nFe,{})})})}),d.jsx(zt,{path:"/app/product-list",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(a5,{})})})}),d.jsx(zt,{path:"/app/customer-type",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(TFe,{})})})}),d.jsx(zt,{path:"/app/product-list/productform",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(RFe,{})})})}),d.jsx(zt,{path:"/app/SourceOfReference",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(AFe,{})})})}),d.jsx(zt,{path:"/app/reference-details",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(MFe,{})})})}),d.jsx(zt,{path:"/app/customer-status",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(IFe,{})})})}),d.jsx(zt,{path:"/app/designation",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(kFe,{})})})}),d.jsx(zt,{path:"/app/item-category",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(_Fe,{})})})}),d.jsx(zt,{path:"/app/item-type",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(BFe,{})})})}),d.jsx(zt,{path:"/app/order-type",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(xTe,{})})})}),d.jsx(zt,{path:"/app/item-status",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(VFe,{})})})}),d.jsx(zt,{path:"/app/star-rating",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(WFe,{})})})}),d.jsx(zt,{path:"/app/ref-gas-type",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx($Fe,{})})})}),d.jsx(zt,{path:"/app/ton-capacity",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(KFe,{})})})}),d.jsx(zt,{path:"/app/material",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(Y5,{})})})}),d.jsx(zt,{path:"/app/unit-of-measurements",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(YFe,{})})})}),d.jsx(zt,{path:"/app/brand-name",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(STe,{})})})}),d.jsx(zt,{path:"/app/user",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(XFe,{})})})}),d.jsx(zt,{path:"/app/installation-location",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(rTe,{})})})}),d.jsx(zt,{path:"/app/delivery-challan",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(aTe,{})})})}),d.jsx(zt,{path:"/app/delivery-challan/delivery-challan-form",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(iTe,{})})})}),d.jsx(zt,{path:"/app/installation",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(gTe,{})})})}),d.jsx(zt,{path:"/app/installation/installation-form",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(fTe,{})})})}),d.jsx(zt,{path:"/app/services",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(Z5,{})})})}),d.jsx(zt,{path:"/app/services/services-form",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(vTe,{})})})}),d.jsx(zt,{path:"/app/appearance",element:d.jsx(Zt,{children:d.jsx(Jt,{children:d.jsx(bTe,{})})})})]})})}),RTe=new pW;N8.createRoot(document.getElementById("root")).render(d.jsx(m.StrictMode,{children:d.jsxs(xQ,{attribute:"class",enableSystem:!1,defaultTheme:"dark",children:[d.jsx(s9,{}),d.jsx(gW,{client:RTe,children:d.jsx(ETe,{})})]})}))});export default FTe();
