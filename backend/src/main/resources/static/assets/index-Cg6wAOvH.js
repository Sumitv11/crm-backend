var pA=e=>{throw TypeError(e)};var AV=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var lw=(e,t,r)=>t.has(e)||pA("Cannot "+r);var te=(e,t,r)=>(lw(e,t,"read from private field"),r?r.call(e):t.get(e)),Tt=(e,t,r)=>t.has(e)?pA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ot=(e,t,r,n)=>(lw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),It=(e,t,r)=>(lw(e,t,"access private method"),r);var dm=(e,t,r,n)=>({set _(s){ot(e,t,s,r)},get _(){return te(e,t,n)}});var pAe=AV(($s,Us)=>{function DV(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function w0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cw={exports:{}},rf={},uw={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA;function MV(){if(gA)return kt;gA=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function S(z,I,L){this.props=z,this.context=I,this.refs=y,this.updater=L||C}S.prototype.isReactComponent={},S.prototype.setState=function(z,I){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,I,"setState")},S.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function E(){}E.prototype=S.prototype;function b(z,I,L){this.props=z,this.context=I,this.refs=y,this.updater=L||C}var T=b.prototype=new E;T.constructor=b,w(T,S.prototype),T.isPureReactComponent=!0;var R=Array.isArray,P=Object.prototype.hasOwnProperty,M={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function N(z,I,L){var H,G={},J=null,ie=null;if(I!=null)for(H in I.ref!==void 0&&(ie=I.ref),I.key!==void 0&&(J=""+I.key),I)P.call(I,H)&&!D.hasOwnProperty(H)&&(G[H]=I[H]);var fe=arguments.length-2;if(fe===1)G.children=L;else if(1<fe){for(var Q=Array(fe),re=0;re<fe;re++)Q[re]=arguments[re+2];G.children=Q}if(z&&z.defaultProps)for(H in fe=z.defaultProps,fe)G[H]===void 0&&(G[H]=fe[H]);return{$$typeof:e,type:z,key:J,ref:ie,props:G,_owner:M.current}}function O(z,I){return{$$typeof:e,type:z.type,key:I,ref:z.ref,props:z.props,_owner:z._owner}}function j(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function W(z){var I={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(L){return I[L]})}var B=/\/+/g;function oe(z,I){return typeof z=="object"&&z!==null&&z.key!=null?W(""+z.key):I.toString(36)}function pe(z,I,L,H,G){var J=typeof z;(J==="undefined"||J==="boolean")&&(z=null);var ie=!1;if(z===null)ie=!0;else switch(J){case"string":case"number":ie=!0;break;case"object":switch(z.$$typeof){case e:case t:ie=!0}}if(ie)return ie=z,G=G(ie),z=H===""?"."+oe(ie,0):H,R(G)?(L="",z!=null&&(L=z.replace(B,"$&/")+"/"),pe(G,I,L,"",function(re){return re})):G!=null&&(j(G)&&(G=O(G,L+(!G.key||ie&&ie.key===G.key?"":(""+G.key).replace(B,"$&/")+"/")+z)),I.push(G)),1;if(ie=0,H=H===""?".":H+":",R(z))for(var fe=0;fe<z.length;fe++){J=z[fe];var Q=H+oe(J,fe);ie+=pe(J,I,L,Q,G)}else if(Q=g(z),typeof Q=="function")for(z=Q.call(z),fe=0;!(J=z.next()).done;)J=J.value,Q=H+oe(J,fe++),ie+=pe(J,I,L,Q,G);else if(J==="object")throw I=String(z),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return ie}function Se(z,I,L){if(z==null)return z;var H=[],G=0;return pe(z,H,"","",function(J){return I.call(L,J,G++)}),H}function we(z){if(z._status===-1){var I=z._result;I=I(),I.then(function(L){(z._status===0||z._status===-1)&&(z._status=1,z._result=L)},function(L){(z._status===0||z._status===-1)&&(z._status=2,z._result=L)}),z._status===-1&&(z._status=0,z._result=I)}if(z._status===1)return z._result.default;throw z._result}var se={current:null},Z={transition:null},ne={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:Z,ReactCurrentOwner:M};function de(){throw Error("act(...) is not supported in production builds of React.")}return kt.Children={map:Se,forEach:function(z,I,L){Se(z,function(){I.apply(this,arguments)},L)},count:function(z){var I=0;return Se(z,function(){I++}),I},toArray:function(z){return Se(z,function(I){return I})||[]},only:function(z){if(!j(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},kt.Component=S,kt.Fragment=r,kt.Profiler=s,kt.PureComponent=b,kt.StrictMode=n,kt.Suspense=l,kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,kt.act=de,kt.cloneElement=function(z,I,L){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var H=w({},z.props),G=z.key,J=z.ref,ie=z._owner;if(I!=null){if(I.ref!==void 0&&(J=I.ref,ie=M.current),I.key!==void 0&&(G=""+I.key),z.type&&z.type.defaultProps)var fe=z.type.defaultProps;for(Q in I)P.call(I,Q)&&!D.hasOwnProperty(Q)&&(H[Q]=I[Q]===void 0&&fe!==void 0?fe[Q]:I[Q])}var Q=arguments.length-2;if(Q===1)H.children=L;else if(1<Q){fe=Array(Q);for(var re=0;re<Q;re++)fe[re]=arguments[re+2];H.children=fe}return{$$typeof:e,type:z.type,key:G,ref:J,props:H,_owner:ie}},kt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:i,_context:z},z.Consumer=z},kt.createElement=N,kt.createFactory=function(z){var I=N.bind(null,z);return I.type=z,I},kt.createRef=function(){return{current:null}},kt.forwardRef=function(z){return{$$typeof:a,render:z}},kt.isValidElement=j,kt.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:we}},kt.memo=function(z,I){return{$$typeof:u,type:z,compare:I===void 0?null:I}},kt.startTransition=function(z){var I=Z.transition;Z.transition={};try{z()}finally{Z.transition=I}},kt.unstable_act=de,kt.useCallback=function(z,I){return se.current.useCallback(z,I)},kt.useContext=function(z){return se.current.useContext(z)},kt.useDebugValue=function(){},kt.useDeferredValue=function(z){return se.current.useDeferredValue(z)},kt.useEffect=function(z,I){return se.current.useEffect(z,I)},kt.useId=function(){return se.current.useId()},kt.useImperativeHandle=function(z,I,L){return se.current.useImperativeHandle(z,I,L)},kt.useInsertionEffect=function(z,I){return se.current.useInsertionEffect(z,I)},kt.useLayoutEffect=function(z,I){return se.current.useLayoutEffect(z,I)},kt.useMemo=function(z,I){return se.current.useMemo(z,I)},kt.useReducer=function(z,I,L){return se.current.useReducer(z,I,L)},kt.useRef=function(z){return se.current.useRef(z)},kt.useState=function(z){return se.current.useState(z)},kt.useSyncExternalStore=function(z,I,L){return se.current.useSyncExternalStore(z,I,L)},kt.useTransition=function(){return se.current.useTransition()},kt.version="18.3.1",kt}var mA;function N1(){return mA||(mA=1,uw.exports=MV()),uw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA;function NV(){if(vA)return rf;vA=1;var e=N1(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var h,p={},g=null,C=null;u!==void 0&&(g=""+u),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(C=l.ref);for(h in l)n.call(l,h)&&!i.hasOwnProperty(h)&&(p[h]=l[h]);if(a&&a.defaultProps)for(h in l=a.defaultProps,l)p[h]===void 0&&(p[h]=l[h]);return{$$typeof:t,type:a,key:g,ref:C,props:p,_owner:s.current}}return rf.Fragment=r,rf.jsx=o,rf.jsxs=o,rf}var CA;function IV(){return CA||(CA=1,cw.exports=NV()),cw.exports}var d=IV(),m=N1();const De=w0(m),DI=DV({__proto__:null,default:De},[m]);var hm={},dw={exports:{}},ps={},hw={exports:{}},fw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yA;function OV(){return yA||(yA=1,function(e){function t(Z,ne){var de=Z.length;Z.push(ne);e:for(;0<de;){var z=de-1>>>1,I=Z[z];if(0<s(I,ne))Z[z]=ne,Z[de]=I,de=z;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var ne=Z[0],de=Z.pop();if(de!==ne){Z[0]=de;e:for(var z=0,I=Z.length,L=I>>>1;z<L;){var H=2*(z+1)-1,G=Z[H],J=H+1,ie=Z[J];if(0>s(G,de))J<I&&0>s(ie,G)?(Z[z]=ie,Z[J]=de,z=J):(Z[z]=G,Z[H]=de,z=H);else if(J<I&&0>s(ie,de))Z[z]=ie,Z[J]=de,z=J;else break e}}return ne}function s(Z,ne){var de=Z.sortIndex-ne.sortIndex;return de!==0?de:Z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,p=null,g=3,C=!1,w=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Z){for(var ne=r(u);ne!==null;){if(ne.callback===null)n(u);else if(ne.startTime<=Z)n(u),ne.sortIndex=ne.expirationTime,t(l,ne);else break;ne=r(u)}}function R(Z){if(y=!1,T(Z),!w)if(r(l)!==null)w=!0,we(P);else{var ne=r(u);ne!==null&&se(R,ne.startTime-Z)}}function P(Z,ne){w=!1,y&&(y=!1,E(N),N=-1),C=!0;var de=g;try{for(T(ne),p=r(l);p!==null&&(!(p.expirationTime>ne)||Z&&!W());){var z=p.callback;if(typeof z=="function"){p.callback=null,g=p.priorityLevel;var I=z(p.expirationTime<=ne);ne=e.unstable_now(),typeof I=="function"?p.callback=I:p===r(l)&&n(l),T(ne)}else n(l);p=r(l)}if(p!==null)var L=!0;else{var H=r(u);H!==null&&se(R,H.startTime-ne),L=!1}return L}finally{p=null,g=de,C=!1}}var M=!1,D=null,N=-1,O=5,j=-1;function W(){return!(e.unstable_now()-j<O)}function B(){if(D!==null){var Z=e.unstable_now();j=Z;var ne=!0;try{ne=D(!0,Z)}finally{ne?oe():(M=!1,D=null)}}else M=!1}var oe;if(typeof b=="function")oe=function(){b(B)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Se=pe.port2;pe.port1.onmessage=B,oe=function(){Se.postMessage(null)}}else oe=function(){S(B,0)};function we(Z){D=Z,M||(M=!0,oe())}function se(Z,ne){N=S(function(){Z(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){w||C||(w=!0,we(P))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var de=g;g=ne;try{return Z()}finally{g=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,ne){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=g;g=Z;try{return ne()}finally{g=de}},e.unstable_scheduleCallback=function(Z,ne,de){var z=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?z+de:z):de=z,Z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=de+I,Z={id:h++,callback:ne,priorityLevel:Z,startTime:de,expirationTime:I,sortIndex:-1},de>z?(Z.sortIndex=de,t(u,Z),r(l)===null&&Z===r(u)&&(y?(E(N),N=-1):y=!0,se(R,de-z))):(Z.sortIndex=I,t(l,Z),w||C||(w=!0,we(P))),Z},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(Z){var ne=g;return function(){var de=g;g=ne;try{return Z.apply(this,arguments)}finally{g=de}}}}(fw)),fw}var wA;function LV(){return wA||(wA=1,hw.exports=OV()),hw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SA;function kV(){if(SA)return ps;SA=1;var e=N1(),t=LV();function r(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(c,f){o(c,f),o(c+"Capture",f)}function o(c,f){for(s[c]=f,c=0;c<f.length;c++)n.add(f[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(c){return l.call(p,c)?!0:l.call(h,c)?!1:u.test(c)?p[c]=!0:(h[c]=!0,!1)}function C(c,f,v,x){if(v!==null&&v.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return x?!1:v!==null?!v.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function w(c,f,v,x){if(f===null||typeof f>"u"||C(c,f,v,x))return!0;if(x)return!1;if(v!==null)switch(v.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function y(c,f,v,x,F,A,k){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=x,this.attributeNamespace=F,this.mustUseProperty=v,this.propertyName=c,this.type=f,this.sanitizeURL=A,this.removeEmptyString=k}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){S[c]=new y(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var f=c[0];S[f]=new y(f,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){S[c]=new y(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){S[c]=new y(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){S[c]=new y(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){S[c]=new y(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){S[c]=new y(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){S[c]=new y(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){S[c]=new y(c,5,!1,c.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function b(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var f=c.replace(E,b);S[f]=new y(f,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var f=c.replace(E,b);S[f]=new y(f,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var f=c.replace(E,b);S[f]=new y(f,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){S[c]=new y(c,1,!1,c.toLowerCase(),null,!1,!1)}),S.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){S[c]=new y(c,1,!1,c.toLowerCase(),null,!0,!0)});function T(c,f,v,x){var F=S.hasOwnProperty(f)?S[f]:null;(F!==null?F.type!==0:x||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(w(f,v,F,x)&&(v=null),x||F===null?g(f)&&(v===null?c.removeAttribute(f):c.setAttribute(f,""+v)):F.mustUseProperty?c[F.propertyName]=v===null?F.type===3?!1:"":v:(f=F.attributeName,x=F.attributeNamespace,v===null?c.removeAttribute(f):(F=F.type,v=F===3||F===4&&v===!0?"":""+v,x?c.setAttributeNS(x,f,v):c.setAttribute(f,v))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),W=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ne(c){return c===null||typeof c!="object"?null:(c=Z&&c[Z]||c["@@iterator"],typeof c=="function"?c:null)}var de=Object.assign,z;function I(c){if(z===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);z=f&&f[1]||""}return`
`+z+c}var L=!1;function H(c,f){if(!c||L)return"";L=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ee){var x=Ee}Reflect.construct(c,[],f)}else{try{f.call()}catch(Ee){x=Ee}c.call(f.prototype)}else{try{throw Error()}catch(Ee){x=Ee}c()}}catch(Ee){if(Ee&&x&&typeof Ee.stack=="string"){for(var F=Ee.stack.split(`
`),A=x.stack.split(`
`),k=F.length-1,X=A.length-1;1<=k&&0<=X&&F[k]!==A[X];)X--;for(;1<=k&&0<=X;k--,X--)if(F[k]!==A[X]){if(k!==1||X!==1)do if(k--,X--,0>X||F[k]!==A[X]){var ee=`
`+F[k].replace(" at new "," at ");return c.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",c.displayName)),ee}while(1<=k&&0<=X);break}}}finally{L=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?I(c):""}function G(c){switch(c.tag){case 5:return I(c.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return c=H(c.type,!1),c;case 11:return c=H(c.type.render,!1),c;case 1:return c=H(c.type,!0),c;default:return""}}function J(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case D:return"Fragment";case M:return"Portal";case O:return"Profiler";case N:return"StrictMode";case oe:return"Suspense";case pe:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case W:return(c.displayName||"Context")+".Consumer";case j:return(c._context.displayName||"Context")+".Provider";case B:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Se:return f=c.displayName||null,f!==null?f:J(c.type)||"Memo";case we:f=c._payload,c=c._init;try{return J(c(f))}catch{}}return null}function ie(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(f);case 8:return f===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function fe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Q(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function re(c){var f=Q(c)?"checked":"value",v=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),x=""+c[f];if(!c.hasOwnProperty(f)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var F=v.get,A=v.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return F.call(this)},set:function(k){x=""+k,A.call(this,k)}}),Object.defineProperty(c,f,{enumerable:v.enumerable}),{getValue:function(){return x},setValue:function(k){x=""+k},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function Me(c){c._valueTracker||(c._valueTracker=re(c))}function Fe(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var v=f.getValue(),x="";return c&&(x=Q(c)?c.checked?"true":"false":c.value),c=x,c!==v?(f.setValue(c),!0):!1}function We(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ye(c,f){var v=f.checked;return de({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??c._wrapperState.initialChecked})}function ut(c,f){var v=f.defaultValue==null?"":f.defaultValue,x=f.checked!=null?f.checked:f.defaultChecked;v=fe(f.value!=null?f.value:v),c._wrapperState={initialChecked:x,initialValue:v,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function gt(c,f){f=f.checked,f!=null&&T(c,"checked",f,!1)}function Ve(c,f){gt(c,f);var v=fe(f.value),x=f.type;if(v!=null)x==="number"?(v===0&&c.value===""||c.value!=v)&&(c.value=""+v):c.value!==""+v&&(c.value=""+v);else if(x==="submit"||x==="reset"){c.removeAttribute("value");return}f.hasOwnProperty("value")?Be(c,f.type,v):f.hasOwnProperty("defaultValue")&&Be(c,f.type,fe(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(c.defaultChecked=!!f.defaultChecked)}function le(c,f,v){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var x=f.type;if(!(x!=="submit"&&x!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+c._wrapperState.initialValue,v||f===c.value||(c.value=f),c.defaultValue=f}v=c.name,v!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,v!==""&&(c.name=v)}function Be(c,f,v){(f!=="number"||We(c.ownerDocument)!==c)&&(v==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+v&&(c.defaultValue=""+v))}var lt=Array.isArray;function Mt(c,f,v,x){if(c=c.options,f){f={};for(var F=0;F<v.length;F++)f["$"+v[F]]=!0;for(v=0;v<c.length;v++)F=f.hasOwnProperty("$"+c[v].value),c[v].selected!==F&&(c[v].selected=F),F&&x&&(c[v].defaultSelected=!0)}else{for(v=""+fe(v),f=null,F=0;F<c.length;F++){if(c[F].value===v){c[F].selected=!0,x&&(c[F].defaultSelected=!0);return}f!==null||c[F].disabled||(f=c[F])}f!==null&&(f.selected=!0)}}function ue(c,f){if(f.dangerouslySetInnerHTML!=null)throw Error(r(91));return de({},f,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function $e(c,f){var v=f.value;if(v==null){if(v=f.children,f=f.defaultValue,v!=null){if(f!=null)throw Error(r(92));if(lt(v)){if(1<v.length)throw Error(r(93));v=v[0]}f=v}f==null&&(f=""),v=f}c._wrapperState={initialValue:fe(v)}}function ze(c,f){var v=fe(f.value),x=fe(f.defaultValue);v!=null&&(v=""+v,v!==c.value&&(c.value=v),f.defaultValue==null&&c.defaultValue!==v&&(c.defaultValue=v)),x!=null&&(c.defaultValue=""+x)}function et(c){var f=c.textContent;f===c._wrapperState.initialValue&&f!==""&&f!==null&&(c.value=f)}function tt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(c,f){return c==null||c==="http://www.w3.org/1999/xhtml"?tt(f):c==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Lt,qr=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,v,x,F){MSApp.execUnsafeLocalFunction(function(){return c(f,v,x,F)})}:c}(function(c,f){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=f;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=Lt.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;f.firstChild;)c.appendChild(f.firstChild)}});function Oe(c,f){if(f){var v=c.firstChild;if(v&&v===c.lastChild&&v.nodeType===3){v.nodeValue=f;return}}c.textContent=f}var vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fr=["Webkit","ms","Moz","O"];Object.keys(vt).forEach(function(c){fr.forEach(function(f){f=f+c.charAt(0).toUpperCase()+c.substring(1),vt[f]=vt[c]})});function bn(c,f,v){return f==null||typeof f=="boolean"||f===""?"":v||typeof f!="number"||f===0||vt.hasOwnProperty(c)&&vt[c]?(""+f).trim():f+"px"}function As(c,f){c=c.style;for(var v in f)if(f.hasOwnProperty(v)){var x=v.indexOf("--")===0,F=bn(v,f[v],x);v==="float"&&(v="cssFloat"),x?c.setProperty(v,F):c[v]=F}}var Ne=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(c,f){if(f){if(Ne[c]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(r(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(r(61))}if(f.style!=null&&typeof f.style!="object")throw Error(r(62))}}function Ht(c,f){if(c.indexOf("-")===-1)return typeof f.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fn=null;function Si(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var xi=null,Qs=null,Ds=null;function Ao(c){if(c=Hh(c)){if(typeof xi!="function")throw Error(r(280));var f=c.stateNode;f&&(f=Tg(f),xi(c.stateNode,c.type,f))}}function ng(c){Qs?Ds?Ds.push(c):Ds=[c]:Qs=c}function sg(){if(Qs){var c=Qs,f=Ds;if(Ds=Qs=null,Ao(c),f)for(c=0;c<f.length;c++)Ao(f[c])}}function ig(c,f){return c(f)}function og(){}var wh=!1;function ag(c,f,v){if(wh)return c(f,v);wh=!0;try{return ig(c,f,v)}finally{wh=!1,(Qs!==null||Ds!==null)&&(og(),sg())}}function Gl(c,f){var v=c.stateNode;if(v===null)return null;var x=Tg(v);if(x===null)return null;v=x[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(c=c.type,x=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!x;break e;default:c=!1}if(c)return null;if(v&&typeof v!="function")throw Error(r(231,f,typeof v));return v}var Sh=!1;if(a)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){Sh=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Sh=!1}function PC(c,f,v,x,F,A,k,X,ee){var Ee=Array.prototype.slice.call(arguments,3);try{f.apply(v,Ee)}catch(je){this.onError(je)}}var Hl=!1,Cu=null,_=!1,K=null,V={onError:function(c){Hl=!0,Cu=c}};function U(c,f,v,x,F,A,k,X,ee){Hl=!1,Cu=null,PC.apply(V,arguments)}function q(c,f,v,x,F,A,k,X,ee){if(U.apply(this,arguments),Hl){if(Hl){var Ee=Cu;Hl=!1,Cu=null}else throw Error(r(198));_||(_=!0,K=Ee)}}function Y(c){var f=c,v=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,f.flags&4098&&(v=f.return),c=f.return;while(c)}return f.tag===3?v:null}function ve(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function Ae(c){if(Y(c)!==c)throw Error(r(188))}function me(c){var f=c.alternate;if(!f){if(f=Y(c),f===null)throw Error(r(188));return f!==c?null:c}for(var v=c,x=f;;){var F=v.return;if(F===null)break;var A=F.alternate;if(A===null){if(x=F.return,x!==null){v=x;continue}break}if(F.child===A.child){for(A=F.child;A;){if(A===v)return Ae(F),c;if(A===x)return Ae(F),f;A=A.sibling}throw Error(r(188))}if(v.return!==x.return)v=F,x=A;else{for(var k=!1,X=F.child;X;){if(X===v){k=!0,v=F,x=A;break}if(X===x){k=!0,x=F,v=A;break}X=X.sibling}if(!k){for(X=A.child;X;){if(X===v){k=!0,v=A,x=F;break}if(X===x){k=!0,x=A,v=F;break}X=X.sibling}if(!k)throw Error(r(189))}}if(v.alternate!==x)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?c:f}function ye(c){return c=me(c),c!==null?xe(c):null}function xe(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=xe(c);if(f!==null)return f;c=c.sibling}return null}var Ge=t.unstable_scheduleCallback,Je=t.unstable_cancelCallback,it=t.unstable_shouldYield,Ke=t.unstable_requestPaint,Ue=t.unstable_now,Dt=t.unstable_getCurrentPriorityLevel,pr=t.unstable_ImmediatePriority,mr=t.unstable_UserBlockingPriority,Wr=t.unstable_NormalPriority,Vl=t.unstable_LowPriority,Ca=t.unstable_IdlePriority,Xi=null,sn=null;function xh(c){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Xi,c,void 0,(c.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:KG,UG=Math.log,zG=Math.LN2;function KG(c){return c>>>=0,c===0?32:31-(UG(c)/zG|0)|0}var lg=64,cg=4194304;function Eh(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function ug(c,f){var v=c.pendingLanes;if(v===0)return 0;var x=0,F=c.suspendedLanes,A=c.pingedLanes,k=v&268435455;if(k!==0){var X=k&~F;X!==0?x=Eh(X):(A&=k,A!==0&&(x=Eh(A)))}else k=v&~F,k!==0?x=Eh(k):A!==0&&(x=Eh(A));if(x===0)return 0;if(f!==0&&f!==x&&!(f&F)&&(F=x&-x,A=f&-f,F>=A||F===16&&(A&4194240)!==0))return f;if(x&4&&(x|=v&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=x;0<f;)v=31-$r(f),F=1<<v,x|=c[v],f&=~F;return x}function qG(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YG(c,f){for(var v=c.suspendedLanes,x=c.pingedLanes,F=c.expirationTimes,A=c.pendingLanes;0<A;){var k=31-$r(A),X=1<<k,ee=F[k];ee===-1?(!(X&v)||X&x)&&(F[k]=qG(X,f)):ee<=f&&(c.expiredLanes|=X),A&=~X}}function AC(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function UT(){var c=lg;return lg<<=1,!(lg&4194240)&&(lg=64),c}function DC(c){for(var f=[],v=0;31>v;v++)f.push(c);return f}function bh(c,f,v){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-$r(f),c[f]=v}function XG(c,f){var v=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var x=c.eventTimes;for(c=c.expirationTimes;0<v;){var F=31-$r(v),A=1<<F;f[F]=0,x[F]=-1,c[F]=-1,v&=~A}}function MC(c,f){var v=c.entangledLanes|=f;for(c=c.entanglements;v;){var x=31-$r(v),F=1<<x;F&f|c[x]&f&&(c[x]|=f),v&=~F}}var nr=0;function zT(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var KT,NC,qT,YT,XT,IC=!1,dg=[],ya=null,wa=null,Sa=null,Rh=new Map,Th=new Map,xa=[],QG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QT(c,f){switch(c){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Rh.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Th.delete(f.pointerId)}}function Fh(c,f,v,x,F,A){return c===null||c.nativeEvent!==A?(c={blockedOn:f,domEventName:v,eventSystemFlags:x,nativeEvent:A,targetContainers:[F]},f!==null&&(f=Hh(f),f!==null&&NC(f)),c):(c.eventSystemFlags|=x,f=c.targetContainers,F!==null&&f.indexOf(F)===-1&&f.push(F),c)}function JG(c,f,v,x,F){switch(f){case"focusin":return ya=Fh(ya,c,f,v,x,F),!0;case"dragenter":return wa=Fh(wa,c,f,v,x,F),!0;case"mouseover":return Sa=Fh(Sa,c,f,v,x,F),!0;case"pointerover":var A=F.pointerId;return Rh.set(A,Fh(Rh.get(A)||null,c,f,v,x,F)),!0;case"gotpointercapture":return A=F.pointerId,Th.set(A,Fh(Th.get(A)||null,c,f,v,x,F)),!0}return!1}function JT(c){var f=Wl(c.target);if(f!==null){var v=Y(f);if(v!==null){if(f=v.tag,f===13){if(f=ve(v),f!==null){c.blockedOn=f,XT(c.priority,function(){qT(v)});return}}else if(f===3&&v.stateNode.current.memoizedState.isDehydrated){c.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}c.blockedOn=null}function hg(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var v=LC(c.domEventName,c.eventSystemFlags,f[0],c.nativeEvent);if(v===null){v=c.nativeEvent;var x=new v.constructor(v.type,v);fn=x,v.target.dispatchEvent(x),fn=null}else return f=Hh(v),f!==null&&NC(f),c.blockedOn=v,!1;f.shift()}return!0}function ZT(c,f,v){hg(c)&&v.delete(f)}function ZG(){IC=!1,ya!==null&&hg(ya)&&(ya=null),wa!==null&&hg(wa)&&(wa=null),Sa!==null&&hg(Sa)&&(Sa=null),Rh.forEach(ZT),Th.forEach(ZT)}function Ph(c,f){c.blockedOn===f&&(c.blockedOn=null,IC||(IC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZG)))}function Ah(c){function f(F){return Ph(F,c)}if(0<dg.length){Ph(dg[0],c);for(var v=1;v<dg.length;v++){var x=dg[v];x.blockedOn===c&&(x.blockedOn=null)}}for(ya!==null&&Ph(ya,c),wa!==null&&Ph(wa,c),Sa!==null&&Ph(Sa,c),Rh.forEach(f),Th.forEach(f),v=0;v<xa.length;v++)x=xa[v],x.blockedOn===c&&(x.blockedOn=null);for(;0<xa.length&&(v=xa[0],v.blockedOn===null);)JT(v),v.blockedOn===null&&xa.shift()}var yu=R.ReactCurrentBatchConfig,fg=!0;function eH(c,f,v,x){var F=nr,A=yu.transition;yu.transition=null;try{nr=1,OC(c,f,v,x)}finally{nr=F,yu.transition=A}}function tH(c,f,v,x){var F=nr,A=yu.transition;yu.transition=null;try{nr=4,OC(c,f,v,x)}finally{nr=F,yu.transition=A}}function OC(c,f,v,x){if(fg){var F=LC(c,f,v,x);if(F===null)JC(c,f,x,pg,v),QT(c,x);else if(JG(F,c,f,v,x))x.stopPropagation();else if(QT(c,x),f&4&&-1<QG.indexOf(c)){for(;F!==null;){var A=Hh(F);if(A!==null&&KT(A),A=LC(c,f,v,x),A===null&&JC(c,f,x,pg,v),A===F)break;F=A}F!==null&&x.stopPropagation()}else JC(c,f,x,null,v)}}var pg=null;function LC(c,f,v,x){if(pg=null,c=Si(x),c=Wl(c),c!==null)if(f=Y(c),f===null)c=null;else if(v=f.tag,v===13){if(c=ve(f),c!==null)return c;c=null}else if(v===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null);return pg=c,null}function eF(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dt()){case pr:return 1;case mr:return 4;case Wr:case Vl:return 16;case Ca:return 536870912;default:return 16}default:return 16}}var Ea=null,kC=null,gg=null;function tF(){if(gg)return gg;var c,f=kC,v=f.length,x,F="value"in Ea?Ea.value:Ea.textContent,A=F.length;for(c=0;c<v&&f[c]===F[c];c++);var k=v-c;for(x=1;x<=k&&f[v-x]===F[A-x];x++);return gg=F.slice(c,1<x?1-x:void 0)}function mg(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function vg(){return!0}function rF(){return!1}function Ms(c){function f(v,x,F,A,k){this._reactName=v,this._targetInst=F,this.type=x,this.nativeEvent=A,this.target=k,this.currentTarget=null;for(var X in c)c.hasOwnProperty(X)&&(v=c[X],this[X]=v?v(A):A[X]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?vg:rF,this.isPropagationStopped=rF,this}return de(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=vg)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=vg)},persist:function(){},isPersistent:vg}),f}var wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_C=Ms(wu),Dh=de({},wu,{view:0,detail:0}),rH=Ms(Dh),jC,BC,Mh,Cg=de({},Dh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:HC,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Mh&&(Mh&&c.type==="mousemove"?(jC=c.screenX-Mh.screenX,BC=c.screenY-Mh.screenY):BC=jC=0,Mh=c),jC)},movementY:function(c){return"movementY"in c?c.movementY:BC}}),nF=Ms(Cg),nH=de({},Cg,{dataTransfer:0}),sH=Ms(nH),iH=de({},Dh,{relatedTarget:0}),GC=Ms(iH),oH=de({},wu,{animationName:0,elapsedTime:0,pseudoElement:0}),aH=Ms(oH),lH=de({},wu,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),cH=Ms(lH),uH=de({},wu,{data:0}),sF=Ms(uH),dH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pH(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=fH[c])?!!f[c]:!1}function HC(){return pH}var gH=de({},Dh,{key:function(c){if(c.key){var f=dH[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=mg(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?hH[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:HC,charCode:function(c){return c.type==="keypress"?mg(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?mg(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),mH=Ms(gH),vH=de({},Cg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iF=Ms(vH),CH=de({},Dh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:HC}),yH=Ms(CH),wH=de({},wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),SH=Ms(wH),xH=de({},Cg,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),EH=Ms(xH),bH=[9,13,27,32],VC=a&&"CompositionEvent"in window,Nh=null;a&&"documentMode"in document&&(Nh=document.documentMode);var RH=a&&"TextEvent"in window&&!Nh,oF=a&&(!VC||Nh&&8<Nh&&11>=Nh),aF=" ",lF=!1;function cF(c,f){switch(c){case"keyup":return bH.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uF(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Su=!1;function TH(c,f){switch(c){case"compositionend":return uF(f);case"keypress":return f.which!==32?null:(lF=!0,aF);case"textInput":return c=f.data,c===aF&&lF?null:c;default:return null}}function FH(c,f){if(Su)return c==="compositionend"||!VC&&cF(c,f)?(c=tF(),gg=kC=Ea=null,Su=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return oF&&f.locale!=="ko"?null:f.data;default:return null}}var PH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dF(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!PH[c.type]:f==="textarea"}function hF(c,f,v,x){ng(x),f=Eg(f,"onChange"),0<f.length&&(v=new _C("onChange","change",null,v,x),c.push({event:v,listeners:f}))}var Ih=null,Oh=null;function AH(c){DF(c,0)}function yg(c){var f=Tu(c);if(Fe(f))return c}function DH(c,f){if(c==="change")return f}var fF=!1;if(a){var WC;if(a){var $C="oninput"in document;if(!$C){var pF=document.createElement("div");pF.setAttribute("oninput","return;"),$C=typeof pF.oninput=="function"}WC=$C}else WC=!1;fF=WC&&(!document.documentMode||9<document.documentMode)}function gF(){Ih&&(Ih.detachEvent("onpropertychange",mF),Oh=Ih=null)}function mF(c){if(c.propertyName==="value"&&yg(Oh)){var f=[];hF(f,Oh,c,Si(c)),ag(AH,f)}}function MH(c,f,v){c==="focusin"?(gF(),Ih=f,Oh=v,Ih.attachEvent("onpropertychange",mF)):c==="focusout"&&gF()}function NH(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return yg(Oh)}function IH(c,f){if(c==="click")return yg(f)}function OH(c,f){if(c==="input"||c==="change")return yg(f)}function LH(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Ei=typeof Object.is=="function"?Object.is:LH;function Lh(c,f){if(Ei(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var v=Object.keys(c),x=Object.keys(f);if(v.length!==x.length)return!1;for(x=0;x<v.length;x++){var F=v[x];if(!l.call(f,F)||!Ei(c[F],f[F]))return!1}return!0}function vF(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function CF(c,f){var v=vF(c);c=0;for(var x;v;){if(v.nodeType===3){if(x=c+v.textContent.length,c<=f&&x>=f)return{node:v,offset:f-c};c=x}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=vF(v)}}function yF(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?yF(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function wF(){for(var c=window,f=We();f instanceof c.HTMLIFrameElement;){try{var v=typeof f.contentWindow.location.href=="string"}catch{v=!1}if(v)c=f.contentWindow;else break;f=We(c.document)}return f}function UC(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}function kH(c){var f=wF(),v=c.focusedElem,x=c.selectionRange;if(f!==v&&v&&v.ownerDocument&&yF(v.ownerDocument.documentElement,v)){if(x!==null&&UC(v)){if(f=x.start,c=x.end,c===void 0&&(c=f),"selectionStart"in v)v.selectionStart=f,v.selectionEnd=Math.min(c,v.value.length);else if(c=(f=v.ownerDocument||document)&&f.defaultView||window,c.getSelection){c=c.getSelection();var F=v.textContent.length,A=Math.min(x.start,F);x=x.end===void 0?A:Math.min(x.end,F),!c.extend&&A>x&&(F=x,x=A,A=F),F=CF(v,A);var k=CF(v,x);F&&k&&(c.rangeCount!==1||c.anchorNode!==F.node||c.anchorOffset!==F.offset||c.focusNode!==k.node||c.focusOffset!==k.offset)&&(f=f.createRange(),f.setStart(F.node,F.offset),c.removeAllRanges(),A>x?(c.addRange(f),c.extend(k.node,k.offset)):(f.setEnd(k.node,k.offset),c.addRange(f)))}}for(f=[],c=v;c=c.parentNode;)c.nodeType===1&&f.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<f.length;v++)c=f[v],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var _H=a&&"documentMode"in document&&11>=document.documentMode,xu=null,zC=null,kh=null,KC=!1;function SF(c,f,v){var x=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;KC||xu==null||xu!==We(x)||(x=xu,"selectionStart"in x&&UC(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),kh&&Lh(kh,x)||(kh=x,x=Eg(zC,"onSelect"),0<x.length&&(f=new _C("onSelect","select",null,f,v),c.push({event:f,listeners:x}),f.target=xu)))}function wg(c,f){var v={};return v[c.toLowerCase()]=f.toLowerCase(),v["Webkit"+c]="webkit"+f,v["Moz"+c]="moz"+f,v}var Eu={animationend:wg("Animation","AnimationEnd"),animationiteration:wg("Animation","AnimationIteration"),animationstart:wg("Animation","AnimationStart"),transitionend:wg("Transition","TransitionEnd")},qC={},xF={};a&&(xF=document.createElement("div").style,"AnimationEvent"in window||(delete Eu.animationend.animation,delete Eu.animationiteration.animation,delete Eu.animationstart.animation),"TransitionEvent"in window||delete Eu.transitionend.transition);function Sg(c){if(qC[c])return qC[c];if(!Eu[c])return c;var f=Eu[c],v;for(v in f)if(f.hasOwnProperty(v)&&v in xF)return qC[c]=f[v];return c}var EF=Sg("animationend"),bF=Sg("animationiteration"),RF=Sg("animationstart"),TF=Sg("transitionend"),FF=new Map,PF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(c,f){FF.set(c,f),i(f,[c])}for(var YC=0;YC<PF.length;YC++){var XC=PF[YC],jH=XC.toLowerCase(),BH=XC[0].toUpperCase()+XC.slice(1);ba(jH,"on"+BH)}ba(EF,"onAnimationEnd"),ba(bF,"onAnimationIteration"),ba(RF,"onAnimationStart"),ba("dblclick","onDoubleClick"),ba("focusin","onFocus"),ba("focusout","onBlur"),ba(TF,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GH=new Set("cancel close invalid load scroll toggle".split(" ").concat(_h));function AF(c,f,v){var x=c.type||"unknown-event";c.currentTarget=v,q(x,f,void 0,c),c.currentTarget=null}function DF(c,f){f=(f&4)!==0;for(var v=0;v<c.length;v++){var x=c[v],F=x.event;x=x.listeners;e:{var A=void 0;if(f)for(var k=x.length-1;0<=k;k--){var X=x[k],ee=X.instance,Ee=X.currentTarget;if(X=X.listener,ee!==A&&F.isPropagationStopped())break e;AF(F,X,Ee),A=ee}else for(k=0;k<x.length;k++){if(X=x[k],ee=X.instance,Ee=X.currentTarget,X=X.listener,ee!==A&&F.isPropagationStopped())break e;AF(F,X,Ee),A=ee}}}if(_)throw c=K,_=!1,K=null,c}function yr(c,f){var v=f[sy];v===void 0&&(v=f[sy]=new Set);var x=c+"__bubble";v.has(x)||(MF(f,c,2,!1),v.add(x))}function QC(c,f,v){var x=0;f&&(x|=4),MF(v,c,x,f)}var xg="_reactListening"+Math.random().toString(36).slice(2);function jh(c){if(!c[xg]){c[xg]=!0,n.forEach(function(v){v!=="selectionchange"&&(GH.has(v)||QC(v,!1,c),QC(v,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[xg]||(f[xg]=!0,QC("selectionchange",!1,f))}}function MF(c,f,v,x){switch(eF(f)){case 1:var F=eH;break;case 4:F=tH;break;default:F=OC}v=F.bind(null,f,v,c),F=void 0,!Sh||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(F=!0),x?F!==void 0?c.addEventListener(f,v,{capture:!0,passive:F}):c.addEventListener(f,v,!0):F!==void 0?c.addEventListener(f,v,{passive:F}):c.addEventListener(f,v,!1)}function JC(c,f,v,x,F){var A=x;if(!(f&1)&&!(f&2)&&x!==null)e:for(;;){if(x===null)return;var k=x.tag;if(k===3||k===4){var X=x.stateNode.containerInfo;if(X===F||X.nodeType===8&&X.parentNode===F)break;if(k===4)for(k=x.return;k!==null;){var ee=k.tag;if((ee===3||ee===4)&&(ee=k.stateNode.containerInfo,ee===F||ee.nodeType===8&&ee.parentNode===F))return;k=k.return}for(;X!==null;){if(k=Wl(X),k===null)return;if(ee=k.tag,ee===5||ee===6){x=A=k;continue e}X=X.parentNode}}x=x.return}ag(function(){var Ee=A,je=Si(v),He=[];e:{var Le=FF.get(c);if(Le!==void 0){var nt=_C,ct=c;switch(c){case"keypress":if(mg(v)===0)break e;case"keydown":case"keyup":nt=mH;break;case"focusin":ct="focus",nt=GC;break;case"focusout":ct="blur",nt=GC;break;case"beforeblur":case"afterblur":nt=GC;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=nF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=sH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=yH;break;case EF:case bF:case RF:nt=aH;break;case TF:nt=SH;break;case"scroll":nt=rH;break;case"wheel":nt=EH;break;case"copy":case"cut":case"paste":nt=cH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=iF}var dt=(f&4)!==0,Ur=!dt&&c==="scroll",he=dt?Le!==null?Le+"Capture":null:Le;dt=[];for(var ae=Ee,ge;ae!==null;){ge=ae;var qe=ge.stateNode;if(ge.tag===5&&qe!==null&&(ge=qe,he!==null&&(qe=Gl(ae,he),qe!=null&&dt.push(Bh(ae,qe,ge)))),Ur)break;ae=ae.return}0<dt.length&&(Le=new nt(Le,ct,null,v,je),He.push({event:Le,listeners:dt}))}}if(!(f&7)){e:{if(Le=c==="mouseover"||c==="pointerover",nt=c==="mouseout"||c==="pointerout",Le&&v!==fn&&(ct=v.relatedTarget||v.fromElement)&&(Wl(ct)||ct[Mo]))break e;if((nt||Le)&&(Le=je.window===je?je:(Le=je.ownerDocument)?Le.defaultView||Le.parentWindow:window,nt?(ct=v.relatedTarget||v.toElement,nt=Ee,ct=ct?Wl(ct):null,ct!==null&&(Ur=Y(ct),ct!==Ur||ct.tag!==5&&ct.tag!==6)&&(ct=null)):(nt=null,ct=Ee),nt!==ct)){if(dt=nF,qe="onMouseLeave",he="onMouseEnter",ae="mouse",(c==="pointerout"||c==="pointerover")&&(dt=iF,qe="onPointerLeave",he="onPointerEnter",ae="pointer"),Ur=nt==null?Le:Tu(nt),ge=ct==null?Le:Tu(ct),Le=new dt(qe,ae+"leave",nt,v,je),Le.target=Ur,Le.relatedTarget=ge,qe=null,Wl(je)===Ee&&(dt=new dt(he,ae+"enter",ct,v,je),dt.target=ge,dt.relatedTarget=Ur,qe=dt),Ur=qe,nt&&ct)t:{for(dt=nt,he=ct,ae=0,ge=dt;ge;ge=bu(ge))ae++;for(ge=0,qe=he;qe;qe=bu(qe))ge++;for(;0<ae-ge;)dt=bu(dt),ae--;for(;0<ge-ae;)he=bu(he),ge--;for(;ae--;){if(dt===he||he!==null&&dt===he.alternate)break t;dt=bu(dt),he=bu(he)}dt=null}else dt=null;nt!==null&&NF(He,Le,nt,dt,!1),ct!==null&&Ur!==null&&NF(He,Ur,ct,dt,!0)}}e:{if(Le=Ee?Tu(Ee):window,nt=Le.nodeName&&Le.nodeName.toLowerCase(),nt==="select"||nt==="input"&&Le.type==="file")var ht=DH;else if(dF(Le))if(fF)ht=OH;else{ht=NH;var Et=MH}else(nt=Le.nodeName)&&nt.toLowerCase()==="input"&&(Le.type==="checkbox"||Le.type==="radio")&&(ht=IH);if(ht&&(ht=ht(c,Ee))){hF(He,ht,v,je);break e}Et&&Et(c,Le,Ee),c==="focusout"&&(Et=Le._wrapperState)&&Et.controlled&&Le.type==="number"&&Be(Le,"number",Le.value)}switch(Et=Ee?Tu(Ee):window,c){case"focusin":(dF(Et)||Et.contentEditable==="true")&&(xu=Et,zC=Ee,kh=null);break;case"focusout":kh=zC=xu=null;break;case"mousedown":KC=!0;break;case"contextmenu":case"mouseup":case"dragend":KC=!1,SF(He,v,je);break;case"selectionchange":if(_H)break;case"keydown":case"keyup":SF(He,v,je)}var bt;if(VC)e:{switch(c){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else Su?cF(c,v)&&(At="onCompositionEnd"):c==="keydown"&&v.keyCode===229&&(At="onCompositionStart");At&&(oF&&v.locale!=="ko"&&(Su||At!=="onCompositionStart"?At==="onCompositionEnd"&&Su&&(bt=tF()):(Ea=je,kC="value"in Ea?Ea.value:Ea.textContent,Su=!0)),Et=Eg(Ee,At),0<Et.length&&(At=new sF(At,c,null,v,je),He.push({event:At,listeners:Et}),bt?At.data=bt:(bt=uF(v),bt!==null&&(At.data=bt)))),(bt=RH?TH(c,v):FH(c,v))&&(Ee=Eg(Ee,"onBeforeInput"),0<Ee.length&&(je=new sF("onBeforeInput","beforeinput",null,v,je),He.push({event:je,listeners:Ee}),je.data=bt))}DF(He,f)})}function Bh(c,f,v){return{instance:c,listener:f,currentTarget:v}}function Eg(c,f){for(var v=f+"Capture",x=[];c!==null;){var F=c,A=F.stateNode;F.tag===5&&A!==null&&(F=A,A=Gl(c,v),A!=null&&x.unshift(Bh(c,A,F)),A=Gl(c,f),A!=null&&x.push(Bh(c,A,F))),c=c.return}return x}function bu(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function NF(c,f,v,x,F){for(var A=f._reactName,k=[];v!==null&&v!==x;){var X=v,ee=X.alternate,Ee=X.stateNode;if(ee!==null&&ee===x)break;X.tag===5&&Ee!==null&&(X=Ee,F?(ee=Gl(v,A),ee!=null&&k.unshift(Bh(v,ee,X))):F||(ee=Gl(v,A),ee!=null&&k.push(Bh(v,ee,X)))),v=v.return}k.length!==0&&c.push({event:f,listeners:k})}var HH=/\r\n?/g,VH=/\u0000|\uFFFD/g;function IF(c){return(typeof c=="string"?c:""+c).replace(HH,`
`).replace(VH,"")}function bg(c,f,v){if(f=IF(f),IF(c)!==f&&v)throw Error(r(425))}function Rg(){}var ZC=null,ey=null;function ty(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var ry=typeof setTimeout=="function"?setTimeout:void 0,WH=typeof clearTimeout=="function"?clearTimeout:void 0,OF=typeof Promise=="function"?Promise:void 0,$H=typeof queueMicrotask=="function"?queueMicrotask:typeof OF<"u"?function(c){return OF.resolve(null).then(c).catch(UH)}:ry;function UH(c){setTimeout(function(){throw c})}function ny(c,f){var v=f,x=0;do{var F=v.nextSibling;if(c.removeChild(v),F&&F.nodeType===8)if(v=F.data,v==="/$"){if(x===0){c.removeChild(F),Ah(f);return}x--}else v!=="$"&&v!=="$?"&&v!=="$!"||x++;v=F}while(v);Ah(f)}function Ra(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return c}function LF(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var v=c.data;if(v==="$"||v==="$!"||v==="$?"){if(f===0)return c;f--}else v==="/$"&&f++}c=c.previousSibling}return null}var Ru=Math.random().toString(36).slice(2),Qi="__reactFiber$"+Ru,Gh="__reactProps$"+Ru,Mo="__reactContainer$"+Ru,sy="__reactEvents$"+Ru,zH="__reactListeners$"+Ru,KH="__reactHandles$"+Ru;function Wl(c){var f=c[Qi];if(f)return f;for(var v=c.parentNode;v;){if(f=v[Mo]||v[Qi]){if(v=f.alternate,f.child!==null||v!==null&&v.child!==null)for(c=LF(c);c!==null;){if(v=c[Qi])return v;c=LF(c)}return f}c=v,v=c.parentNode}return null}function Hh(c){return c=c[Qi]||c[Mo],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Tu(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function Tg(c){return c[Gh]||null}var iy=[],Fu=-1;function Ta(c){return{current:c}}function wr(c){0>Fu||(c.current=iy[Fu],iy[Fu]=null,Fu--)}function vr(c,f){Fu++,iy[Fu]=c.current,c.current=f}var Fa={},Rn=Ta(Fa),cs=Ta(!1),$l=Fa;function Pu(c,f){var v=c.type.contextTypes;if(!v)return Fa;var x=c.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===f)return x.__reactInternalMemoizedMaskedChildContext;var F={},A;for(A in v)F[A]=f[A];return x&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=F),F}function us(c){return c=c.childContextTypes,c!=null}function Fg(){wr(cs),wr(Rn)}function kF(c,f,v){if(Rn.current!==Fa)throw Error(r(168));vr(Rn,f),vr(cs,v)}function _F(c,f,v){var x=c.stateNode;if(f=f.childContextTypes,typeof x.getChildContext!="function")return v;x=x.getChildContext();for(var F in x)if(!(F in f))throw Error(r(108,ie(c)||"Unknown",F));return de({},v,x)}function Pg(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Fa,$l=Rn.current,vr(Rn,c),vr(cs,cs.current),!0}function jF(c,f,v){var x=c.stateNode;if(!x)throw Error(r(169));v?(c=_F(c,f,$l),x.__reactInternalMemoizedMergedChildContext=c,wr(cs),wr(Rn),vr(Rn,c)):wr(cs),vr(cs,v)}var No=null,Ag=!1,oy=!1;function BF(c){No===null?No=[c]:No.push(c)}function qH(c){Ag=!0,BF(c)}function Pa(){if(!oy&&No!==null){oy=!0;var c=0,f=nr;try{var v=No;for(nr=1;c<v.length;c++){var x=v[c];do x=x(!0);while(x!==null)}No=null,Ag=!1}catch(F){throw No!==null&&(No=No.slice(c+1)),Ge(pr,Pa),F}finally{nr=f,oy=!1}}return null}var Au=[],Du=0,Dg=null,Mg=0,Js=[],Zs=0,Ul=null,Io=1,Oo="";function zl(c,f){Au[Du++]=Mg,Au[Du++]=Dg,Dg=c,Mg=f}function GF(c,f,v){Js[Zs++]=Io,Js[Zs++]=Oo,Js[Zs++]=Ul,Ul=c;var x=Io;c=Oo;var F=32-$r(x)-1;x&=~(1<<F),v+=1;var A=32-$r(f)+F;if(30<A){var k=F-F%5;A=(x&(1<<k)-1).toString(32),x>>=k,F-=k,Io=1<<32-$r(f)+F|v<<F|x,Oo=A+c}else Io=1<<A|v<<F|x,Oo=c}function ay(c){c.return!==null&&(zl(c,1),GF(c,1,0))}function ly(c){for(;c===Dg;)Dg=Au[--Du],Au[Du]=null,Mg=Au[--Du],Au[Du]=null;for(;c===Ul;)Ul=Js[--Zs],Js[Zs]=null,Oo=Js[--Zs],Js[Zs]=null,Io=Js[--Zs],Js[Zs]=null}var Ns=null,Is=null,Rr=!1,bi=null;function HF(c,f){var v=ni(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=c,f=c.deletions,f===null?(c.deletions=[v],c.flags|=16):f.push(v)}function VF(c,f){switch(c.tag){case 5:var v=c.type;return f=f.nodeType!==1||v.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(c.stateNode=f,Ns=c,Is=Ra(f.firstChild),!0):!1;case 6:return f=c.pendingProps===""||f.nodeType!==3?null:f,f!==null?(c.stateNode=f,Ns=c,Is=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(v=Ul!==null?{id:Io,overflow:Oo}:null,c.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=ni(18,null,null,0),v.stateNode=f,v.return=c,c.child=v,Ns=c,Is=null,!0):!1;default:return!1}}function cy(c){return(c.mode&1)!==0&&(c.flags&128)===0}function uy(c){if(Rr){var f=Is;if(f){var v=f;if(!VF(c,f)){if(cy(c))throw Error(r(418));f=Ra(v.nextSibling);var x=Ns;f&&VF(c,f)?HF(x,v):(c.flags=c.flags&-4097|2,Rr=!1,Ns=c)}}else{if(cy(c))throw Error(r(418));c.flags=c.flags&-4097|2,Rr=!1,Ns=c}}}function WF(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ns=c}function Ng(c){if(c!==Ns)return!1;if(!Rr)return WF(c),Rr=!0,!1;var f;if((f=c.tag!==3)&&!(f=c.tag!==5)&&(f=c.type,f=f!=="head"&&f!=="body"&&!ty(c.type,c.memoizedProps)),f&&(f=Is)){if(cy(c))throw $F(),Error(r(418));for(;f;)HF(c,f),f=Ra(f.nextSibling)}if(WF(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8){var v=c.data;if(v==="/$"){if(f===0){Is=Ra(c.nextSibling);break e}f--}else v!=="$"&&v!=="$!"&&v!=="$?"||f++}c=c.nextSibling}Is=null}}else Is=Ns?Ra(c.stateNode.nextSibling):null;return!0}function $F(){for(var c=Is;c;)c=Ra(c.nextSibling)}function Mu(){Is=Ns=null,Rr=!1}function dy(c){bi===null?bi=[c]:bi.push(c)}var YH=R.ReactCurrentBatchConfig;function Vh(c,f,v){if(c=v.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(r(309));var x=v.stateNode}if(!x)throw Error(r(147,c));var F=x,A=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===A?f.ref:(f=function(k){var X=F.refs;k===null?delete X[A]:X[A]=k},f._stringRef=A,f)}if(typeof c!="string")throw Error(r(284));if(!v._owner)throw Error(r(290,c))}return c}function Ig(c,f){throw c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function UF(c){var f=c._init;return f(c._payload)}function zF(c){function f(he,ae){if(c){var ge=he.deletions;ge===null?(he.deletions=[ae],he.flags|=16):ge.push(ae)}}function v(he,ae){if(!c)return null;for(;ae!==null;)f(he,ae),ae=ae.sibling;return null}function x(he,ae){for(he=new Map;ae!==null;)ae.key!==null?he.set(ae.key,ae):he.set(ae.index,ae),ae=ae.sibling;return he}function F(he,ae){return he=ka(he,ae),he.index=0,he.sibling=null,he}function A(he,ae,ge){return he.index=ge,c?(ge=he.alternate,ge!==null?(ge=ge.index,ge<ae?(he.flags|=2,ae):ge):(he.flags|=2,ae)):(he.flags|=1048576,ae)}function k(he){return c&&he.alternate===null&&(he.flags|=2),he}function X(he,ae,ge,qe){return ae===null||ae.tag!==6?(ae=rw(ge,he.mode,qe),ae.return=he,ae):(ae=F(ae,ge),ae.return=he,ae)}function ee(he,ae,ge,qe){var ht=ge.type;return ht===D?je(he,ae,ge.props.children,qe,ge.key):ae!==null&&(ae.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===we&&UF(ht)===ae.type)?(qe=F(ae,ge.props),qe.ref=Vh(he,ae,ge),qe.return=he,qe):(qe=nm(ge.type,ge.key,ge.props,null,he.mode,qe),qe.ref=Vh(he,ae,ge),qe.return=he,qe)}function Ee(he,ae,ge,qe){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ge.containerInfo||ae.stateNode.implementation!==ge.implementation?(ae=nw(ge,he.mode,qe),ae.return=he,ae):(ae=F(ae,ge.children||[]),ae.return=he,ae)}function je(he,ae,ge,qe,ht){return ae===null||ae.tag!==7?(ae=ec(ge,he.mode,qe,ht),ae.return=he,ae):(ae=F(ae,ge),ae.return=he,ae)}function He(he,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=rw(""+ae,he.mode,ge),ae.return=he,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case P:return ge=nm(ae.type,ae.key,ae.props,null,he.mode,ge),ge.ref=Vh(he,null,ae),ge.return=he,ge;case M:return ae=nw(ae,he.mode,ge),ae.return=he,ae;case we:var qe=ae._init;return He(he,qe(ae._payload),ge)}if(lt(ae)||ne(ae))return ae=ec(ae,he.mode,ge,null),ae.return=he,ae;Ig(he,ae)}return null}function Le(he,ae,ge,qe){var ht=ae!==null?ae.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ht!==null?null:X(he,ae,""+ge,qe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case P:return ge.key===ht?ee(he,ae,ge,qe):null;case M:return ge.key===ht?Ee(he,ae,ge,qe):null;case we:return ht=ge._init,Le(he,ae,ht(ge._payload),qe)}if(lt(ge)||ne(ge))return ht!==null?null:je(he,ae,ge,qe,null);Ig(he,ge)}return null}function nt(he,ae,ge,qe,ht){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return he=he.get(ge)||null,X(ae,he,""+qe,ht);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case P:return he=he.get(qe.key===null?ge:qe.key)||null,ee(ae,he,qe,ht);case M:return he=he.get(qe.key===null?ge:qe.key)||null,Ee(ae,he,qe,ht);case we:var Et=qe._init;return nt(he,ae,ge,Et(qe._payload),ht)}if(lt(qe)||ne(qe))return he=he.get(ge)||null,je(ae,he,qe,ht,null);Ig(ae,qe)}return null}function ct(he,ae,ge,qe){for(var ht=null,Et=null,bt=ae,At=ae=0,ln=null;bt!==null&&At<ge.length;At++){bt.index>At?(ln=bt,bt=null):ln=bt.sibling;var Ut=Le(he,bt,ge[At],qe);if(Ut===null){bt===null&&(bt=ln);break}c&&bt&&Ut.alternate===null&&f(he,bt),ae=A(Ut,ae,At),Et===null?ht=Ut:Et.sibling=Ut,Et=Ut,bt=ln}if(At===ge.length)return v(he,bt),Rr&&zl(he,At),ht;if(bt===null){for(;At<ge.length;At++)bt=He(he,ge[At],qe),bt!==null&&(ae=A(bt,ae,At),Et===null?ht=bt:Et.sibling=bt,Et=bt);return Rr&&zl(he,At),ht}for(bt=x(he,bt);At<ge.length;At++)ln=nt(bt,he,At,ge[At],qe),ln!==null&&(c&&ln.alternate!==null&&bt.delete(ln.key===null?At:ln.key),ae=A(ln,ae,At),Et===null?ht=ln:Et.sibling=ln,Et=ln);return c&&bt.forEach(function(_a){return f(he,_a)}),Rr&&zl(he,At),ht}function dt(he,ae,ge,qe){var ht=ne(ge);if(typeof ht!="function")throw Error(r(150));if(ge=ht.call(ge),ge==null)throw Error(r(151));for(var Et=ht=null,bt=ae,At=ae=0,ln=null,Ut=ge.next();bt!==null&&!Ut.done;At++,Ut=ge.next()){bt.index>At?(ln=bt,bt=null):ln=bt.sibling;var _a=Le(he,bt,Ut.value,qe);if(_a===null){bt===null&&(bt=ln);break}c&&bt&&_a.alternate===null&&f(he,bt),ae=A(_a,ae,At),Et===null?ht=_a:Et.sibling=_a,Et=_a,bt=ln}if(Ut.done)return v(he,bt),Rr&&zl(he,At),ht;if(bt===null){for(;!Ut.done;At++,Ut=ge.next())Ut=He(he,Ut.value,qe),Ut!==null&&(ae=A(Ut,ae,At),Et===null?ht=Ut:Et.sibling=Ut,Et=Ut);return Rr&&zl(he,At),ht}for(bt=x(he,bt);!Ut.done;At++,Ut=ge.next())Ut=nt(bt,he,At,Ut.value,qe),Ut!==null&&(c&&Ut.alternate!==null&&bt.delete(Ut.key===null?At:Ut.key),ae=A(Ut,ae,At),Et===null?ht=Ut:Et.sibling=Ut,Et=Ut);return c&&bt.forEach(function(PV){return f(he,PV)}),Rr&&zl(he,At),ht}function Ur(he,ae,ge,qe){if(typeof ge=="object"&&ge!==null&&ge.type===D&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case P:e:{for(var ht=ge.key,Et=ae;Et!==null;){if(Et.key===ht){if(ht=ge.type,ht===D){if(Et.tag===7){v(he,Et.sibling),ae=F(Et,ge.props.children),ae.return=he,he=ae;break e}}else if(Et.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===we&&UF(ht)===Et.type){v(he,Et.sibling),ae=F(Et,ge.props),ae.ref=Vh(he,Et,ge),ae.return=he,he=ae;break e}v(he,Et);break}else f(he,Et);Et=Et.sibling}ge.type===D?(ae=ec(ge.props.children,he.mode,qe,ge.key),ae.return=he,he=ae):(qe=nm(ge.type,ge.key,ge.props,null,he.mode,qe),qe.ref=Vh(he,ae,ge),qe.return=he,he=qe)}return k(he);case M:e:{for(Et=ge.key;ae!==null;){if(ae.key===Et)if(ae.tag===4&&ae.stateNode.containerInfo===ge.containerInfo&&ae.stateNode.implementation===ge.implementation){v(he,ae.sibling),ae=F(ae,ge.children||[]),ae.return=he,he=ae;break e}else{v(he,ae);break}else f(he,ae);ae=ae.sibling}ae=nw(ge,he.mode,qe),ae.return=he,he=ae}return k(he);case we:return Et=ge._init,Ur(he,ae,Et(ge._payload),qe)}if(lt(ge))return ct(he,ae,ge,qe);if(ne(ge))return dt(he,ae,ge,qe);Ig(he,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,ae!==null&&ae.tag===6?(v(he,ae.sibling),ae=F(ae,ge),ae.return=he,he=ae):(v(he,ae),ae=rw(ge,he.mode,qe),ae.return=he,he=ae),k(he)):v(he,ae)}return Ur}var Nu=zF(!0),KF=zF(!1),Og=Ta(null),Lg=null,Iu=null,hy=null;function fy(){hy=Iu=Lg=null}function py(c){var f=Og.current;wr(Og),c._currentValue=f}function gy(c,f,v){for(;c!==null;){var x=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,x!==null&&(x.childLanes|=f)):x!==null&&(x.childLanes&f)!==f&&(x.childLanes|=f),c===v)break;c=c.return}}function Ou(c,f){Lg=c,hy=Iu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&f&&(ds=!0),c.firstContext=null)}function ei(c){var f=c._currentValue;if(hy!==c)if(c={context:c,memoizedValue:f,next:null},Iu===null){if(Lg===null)throw Error(r(308));Iu=c,Lg.dependencies={lanes:0,firstContext:c}}else Iu=Iu.next=c;return f}var Kl=null;function my(c){Kl===null?Kl=[c]:Kl.push(c)}function qF(c,f,v,x){var F=f.interleaved;return F===null?(v.next=v,my(f)):(v.next=F.next,F.next=v),f.interleaved=v,Lo(c,x)}function Lo(c,f){c.lanes|=f;var v=c.alternate;for(v!==null&&(v.lanes|=f),v=c,c=c.return;c!==null;)c.childLanes|=f,v=c.alternate,v!==null&&(v.childLanes|=f),v=c,c=c.return;return v.tag===3?v.stateNode:null}var Aa=!1;function vy(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YF(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function ko(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function Da(c,f,v){var x=c.updateQueue;if(x===null)return null;if(x=x.shared,$t&2){var F=x.pending;return F===null?f.next=f:(f.next=F.next,F.next=f),x.pending=f,Lo(c,v)}return F=x.interleaved,F===null?(f.next=f,my(x)):(f.next=F.next,F.next=f),x.interleaved=f,Lo(c,v)}function kg(c,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var x=f.lanes;x&=c.pendingLanes,v|=x,f.lanes=v,MC(c,v)}}function XF(c,f){var v=c.updateQueue,x=c.alternate;if(x!==null&&(x=x.updateQueue,v===x)){var F=null,A=null;if(v=v.firstBaseUpdate,v!==null){do{var k={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};A===null?F=A=k:A=A.next=k,v=v.next}while(v!==null);A===null?F=A=f:A=A.next=f}else F=A=f;v={baseState:x.baseState,firstBaseUpdate:F,lastBaseUpdate:A,shared:x.shared,effects:x.effects},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=f:c.next=f,v.lastBaseUpdate=f}function _g(c,f,v,x){var F=c.updateQueue;Aa=!1;var A=F.firstBaseUpdate,k=F.lastBaseUpdate,X=F.shared.pending;if(X!==null){F.shared.pending=null;var ee=X,Ee=ee.next;ee.next=null,k===null?A=Ee:k.next=Ee,k=ee;var je=c.alternate;je!==null&&(je=je.updateQueue,X=je.lastBaseUpdate,X!==k&&(X===null?je.firstBaseUpdate=Ee:X.next=Ee,je.lastBaseUpdate=ee))}if(A!==null){var He=F.baseState;k=0,je=Ee=ee=null,X=A;do{var Le=X.lane,nt=X.eventTime;if((x&Le)===Le){je!==null&&(je=je.next={eventTime:nt,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var ct=c,dt=X;switch(Le=f,nt=v,dt.tag){case 1:if(ct=dt.payload,typeof ct=="function"){He=ct.call(nt,He,Le);break e}He=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=dt.payload,Le=typeof ct=="function"?ct.call(nt,He,Le):ct,Le==null)break e;He=de({},He,Le);break e;case 2:Aa=!0}}X.callback!==null&&X.lane!==0&&(c.flags|=64,Le=F.effects,Le===null?F.effects=[X]:Le.push(X))}else nt={eventTime:nt,lane:Le,tag:X.tag,payload:X.payload,callback:X.callback,next:null},je===null?(Ee=je=nt,ee=He):je=je.next=nt,k|=Le;if(X=X.next,X===null){if(X=F.shared.pending,X===null)break;Le=X,X=Le.next,Le.next=null,F.lastBaseUpdate=Le,F.shared.pending=null}}while(!0);if(je===null&&(ee=He),F.baseState=ee,F.firstBaseUpdate=Ee,F.lastBaseUpdate=je,f=F.shared.interleaved,f!==null){F=f;do k|=F.lane,F=F.next;while(F!==f)}else A===null&&(F.shared.lanes=0);Xl|=k,c.lanes=k,c.memoizedState=He}}function QF(c,f,v){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var x=c[f],F=x.callback;if(F!==null){if(x.callback=null,x=v,typeof F!="function")throw Error(r(191,F));F.call(x)}}}var Wh={},Ji=Ta(Wh),$h=Ta(Wh),Uh=Ta(Wh);function ql(c){if(c===Wh)throw Error(r(174));return c}function Cy(c,f){switch(vr(Uh,f),vr($h,c),vr(Ji,Wh),c=f.nodeType,c){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:mt(null,"");break;default:c=c===8?f.parentNode:f,f=c.namespaceURI||null,c=c.tagName,f=mt(f,c)}wr(Ji),vr(Ji,f)}function Lu(){wr(Ji),wr($h),wr(Uh)}function JF(c){ql(Uh.current);var f=ql(Ji.current),v=mt(f,c.type);f!==v&&(vr($h,c),vr(Ji,v))}function yy(c){$h.current===c&&(wr(Ji),wr($h))}var Pr=Ta(0);function jg(c){for(var f=c;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var wy=[];function Sy(){for(var c=0;c<wy.length;c++)wy[c]._workInProgressVersionPrimary=null;wy.length=0}var Bg=R.ReactCurrentDispatcher,xy=R.ReactCurrentBatchConfig,Yl=0,Ar=null,en=null,on=null,Gg=!1,zh=!1,Kh=0,XH=0;function Tn(){throw Error(r(321))}function Ey(c,f){if(f===null)return!1;for(var v=0;v<f.length&&v<c.length;v++)if(!Ei(c[v],f[v]))return!1;return!0}function by(c,f,v,x,F,A){if(Yl=A,Ar=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Bg.current=c===null||c.memoizedState===null?eV:tV,c=v(x,F),zh){A=0;do{if(zh=!1,Kh=0,25<=A)throw Error(r(301));A+=1,on=en=null,f.updateQueue=null,Bg.current=rV,c=v(x,F)}while(zh)}if(Bg.current=Wg,f=en!==null&&en.next!==null,Yl=0,on=en=Ar=null,Gg=!1,f)throw Error(r(300));return c}function Ry(){var c=Kh!==0;return Kh=0,c}function Zi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Ar.memoizedState=on=c:on=on.next=c,on}function ti(){if(en===null){var c=Ar.alternate;c=c!==null?c.memoizedState:null}else c=en.next;var f=on===null?Ar.memoizedState:on.next;if(f!==null)on=f,en=c;else{if(c===null)throw Error(r(310));en=c,c={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},on===null?Ar.memoizedState=on=c:on=on.next=c}return on}function qh(c,f){return typeof f=="function"?f(c):f}function Ty(c){var f=ti(),v=f.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=c;var x=en,F=x.baseQueue,A=v.pending;if(A!==null){if(F!==null){var k=F.next;F.next=A.next,A.next=k}x.baseQueue=F=A,v.pending=null}if(F!==null){A=F.next,x=x.baseState;var X=k=null,ee=null,Ee=A;do{var je=Ee.lane;if((Yl&je)===je)ee!==null&&(ee=ee.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),x=Ee.hasEagerState?Ee.eagerState:c(x,Ee.action);else{var He={lane:je,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};ee===null?(X=ee=He,k=x):ee=ee.next=He,Ar.lanes|=je,Xl|=je}Ee=Ee.next}while(Ee!==null&&Ee!==A);ee===null?k=x:ee.next=X,Ei(x,f.memoizedState)||(ds=!0),f.memoizedState=x,f.baseState=k,f.baseQueue=ee,v.lastRenderedState=x}if(c=v.interleaved,c!==null){F=c;do A=F.lane,Ar.lanes|=A,Xl|=A,F=F.next;while(F!==c)}else F===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function Fy(c){var f=ti(),v=f.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=c;var x=v.dispatch,F=v.pending,A=f.memoizedState;if(F!==null){v.pending=null;var k=F=F.next;do A=c(A,k.action),k=k.next;while(k!==F);Ei(A,f.memoizedState)||(ds=!0),f.memoizedState=A,f.baseQueue===null&&(f.baseState=A),v.lastRenderedState=A}return[A,x]}function ZF(){}function eP(c,f){var v=Ar,x=ti(),F=f(),A=!Ei(x.memoizedState,F);if(A&&(x.memoizedState=F,ds=!0),x=x.queue,Py(nP.bind(null,v,x,c),[c]),x.getSnapshot!==f||A||on!==null&&on.memoizedState.tag&1){if(v.flags|=2048,Yh(9,rP.bind(null,v,x,F,f),void 0,null),an===null)throw Error(r(349));Yl&30||tP(v,f,F)}return F}function tP(c,f,v){c.flags|=16384,c={getSnapshot:f,value:v},f=Ar.updateQueue,f===null?(f={lastEffect:null,stores:null},Ar.updateQueue=f,f.stores=[c]):(v=f.stores,v===null?f.stores=[c]:v.push(c))}function rP(c,f,v,x){f.value=v,f.getSnapshot=x,sP(f)&&iP(c)}function nP(c,f,v){return v(function(){sP(f)&&iP(c)})}function sP(c){var f=c.getSnapshot;c=c.value;try{var v=f();return!Ei(c,v)}catch{return!0}}function iP(c){var f=Lo(c,1);f!==null&&Pi(f,c,1,-1)}function oP(c){var f=Zi();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qh,lastRenderedState:c},f.queue=c,c=c.dispatch=ZH.bind(null,Ar,c),[f.memoizedState,c]}function Yh(c,f,v,x){return c={tag:c,create:f,destroy:v,deps:x,next:null},f=Ar.updateQueue,f===null?(f={lastEffect:null,stores:null},Ar.updateQueue=f,f.lastEffect=c.next=c):(v=f.lastEffect,v===null?f.lastEffect=c.next=c:(x=v.next,v.next=c,c.next=x,f.lastEffect=c)),c}function aP(){return ti().memoizedState}function Hg(c,f,v,x){var F=Zi();Ar.flags|=c,F.memoizedState=Yh(1|f,v,void 0,x===void 0?null:x)}function Vg(c,f,v,x){var F=ti();x=x===void 0?null:x;var A=void 0;if(en!==null){var k=en.memoizedState;if(A=k.destroy,x!==null&&Ey(x,k.deps)){F.memoizedState=Yh(f,v,A,x);return}}Ar.flags|=c,F.memoizedState=Yh(1|f,v,A,x)}function lP(c,f){return Hg(8390656,8,c,f)}function Py(c,f){return Vg(2048,8,c,f)}function cP(c,f){return Vg(4,2,c,f)}function uP(c,f){return Vg(4,4,c,f)}function dP(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function hP(c,f,v){return v=v!=null?v.concat([c]):null,Vg(4,4,dP.bind(null,f,c),v)}function Ay(){}function fP(c,f){var v=ti();f=f===void 0?null:f;var x=v.memoizedState;return x!==null&&f!==null&&Ey(f,x[1])?x[0]:(v.memoizedState=[c,f],c)}function pP(c,f){var v=ti();f=f===void 0?null:f;var x=v.memoizedState;return x!==null&&f!==null&&Ey(f,x[1])?x[0]:(c=c(),v.memoizedState=[c,f],c)}function gP(c,f,v){return Yl&21?(Ei(v,f)||(v=UT(),Ar.lanes|=v,Xl|=v,c.baseState=!0),f):(c.baseState&&(c.baseState=!1,ds=!0),c.memoizedState=v)}function QH(c,f){var v=nr;nr=v!==0&&4>v?v:4,c(!0);var x=xy.transition;xy.transition={};try{c(!1),f()}finally{nr=v,xy.transition=x}}function mP(){return ti().memoizedState}function JH(c,f,v){var x=Oa(c);if(v={lane:x,action:v,hasEagerState:!1,eagerState:null,next:null},vP(c))CP(f,v);else if(v=qF(c,f,v,x),v!==null){var F=Hn();Pi(v,c,x,F),yP(v,f,x)}}function ZH(c,f,v){var x=Oa(c),F={lane:x,action:v,hasEagerState:!1,eagerState:null,next:null};if(vP(c))CP(f,F);else{var A=c.alternate;if(c.lanes===0&&(A===null||A.lanes===0)&&(A=f.lastRenderedReducer,A!==null))try{var k=f.lastRenderedState,X=A(k,v);if(F.hasEagerState=!0,F.eagerState=X,Ei(X,k)){var ee=f.interleaved;ee===null?(F.next=F,my(f)):(F.next=ee.next,ee.next=F),f.interleaved=F;return}}catch{}finally{}v=qF(c,f,F,x),v!==null&&(F=Hn(),Pi(v,c,x,F),yP(v,f,x))}}function vP(c){var f=c.alternate;return c===Ar||f!==null&&f===Ar}function CP(c,f){zh=Gg=!0;var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}function yP(c,f,v){if(v&4194240){var x=f.lanes;x&=c.pendingLanes,v|=x,f.lanes=v,MC(c,v)}}var Wg={readContext:ei,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},eV={readContext:ei,useCallback:function(c,f){return Zi().memoizedState=[c,f===void 0?null:f],c},useContext:ei,useEffect:lP,useImperativeHandle:function(c,f,v){return v=v!=null?v.concat([c]):null,Hg(4194308,4,dP.bind(null,f,c),v)},useLayoutEffect:function(c,f){return Hg(4194308,4,c,f)},useInsertionEffect:function(c,f){return Hg(4,2,c,f)},useMemo:function(c,f){var v=Zi();return f=f===void 0?null:f,c=c(),v.memoizedState=[c,f],c},useReducer:function(c,f,v){var x=Zi();return f=v!==void 0?v(f):f,x.memoizedState=x.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},x.queue=c,c=c.dispatch=JH.bind(null,Ar,c),[x.memoizedState,c]},useRef:function(c){var f=Zi();return c={current:c},f.memoizedState=c},useState:oP,useDebugValue:Ay,useDeferredValue:function(c){return Zi().memoizedState=c},useTransition:function(){var c=oP(!1),f=c[0];return c=QH.bind(null,c[1]),Zi().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,v){var x=Ar,F=Zi();if(Rr){if(v===void 0)throw Error(r(407));v=v()}else{if(v=f(),an===null)throw Error(r(349));Yl&30||tP(x,f,v)}F.memoizedState=v;var A={value:v,getSnapshot:f};return F.queue=A,lP(nP.bind(null,x,A,c),[c]),x.flags|=2048,Yh(9,rP.bind(null,x,A,v,f),void 0,null),v},useId:function(){var c=Zi(),f=an.identifierPrefix;if(Rr){var v=Oo,x=Io;v=(x&~(1<<32-$r(x)-1)).toString(32)+v,f=":"+f+"R"+v,v=Kh++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=XH++,f=":"+f+"r"+v.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},tV={readContext:ei,useCallback:fP,useContext:ei,useEffect:Py,useImperativeHandle:hP,useInsertionEffect:cP,useLayoutEffect:uP,useMemo:pP,useReducer:Ty,useRef:aP,useState:function(){return Ty(qh)},useDebugValue:Ay,useDeferredValue:function(c){var f=ti();return gP(f,en.memoizedState,c)},useTransition:function(){var c=Ty(qh)[0],f=ti().memoizedState;return[c,f]},useMutableSource:ZF,useSyncExternalStore:eP,useId:mP,unstable_isNewReconciler:!1},rV={readContext:ei,useCallback:fP,useContext:ei,useEffect:Py,useImperativeHandle:hP,useInsertionEffect:cP,useLayoutEffect:uP,useMemo:pP,useReducer:Fy,useRef:aP,useState:function(){return Fy(qh)},useDebugValue:Ay,useDeferredValue:function(c){var f=ti();return en===null?f.memoizedState=c:gP(f,en.memoizedState,c)},useTransition:function(){var c=Fy(qh)[0],f=ti().memoizedState;return[c,f]},useMutableSource:ZF,useSyncExternalStore:eP,useId:mP,unstable_isNewReconciler:!1};function Ri(c,f){if(c&&c.defaultProps){f=de({},f),c=c.defaultProps;for(var v in c)f[v]===void 0&&(f[v]=c[v]);return f}return f}function Dy(c,f,v,x){f=c.memoizedState,v=v(x,f),v=v==null?f:de({},f,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var $g={isMounted:function(c){return(c=c._reactInternals)?Y(c)===c:!1},enqueueSetState:function(c,f,v){c=c._reactInternals;var x=Hn(),F=Oa(c),A=ko(x,F);A.payload=f,v!=null&&(A.callback=v),f=Da(c,A,F),f!==null&&(Pi(f,c,F,x),kg(f,c,F))},enqueueReplaceState:function(c,f,v){c=c._reactInternals;var x=Hn(),F=Oa(c),A=ko(x,F);A.tag=1,A.payload=f,v!=null&&(A.callback=v),f=Da(c,A,F),f!==null&&(Pi(f,c,F,x),kg(f,c,F))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var v=Hn(),x=Oa(c),F=ko(v,x);F.tag=2,f!=null&&(F.callback=f),f=Da(c,F,x),f!==null&&(Pi(f,c,x,v),kg(f,c,x))}};function wP(c,f,v,x,F,A,k){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(x,A,k):f.prototype&&f.prototype.isPureReactComponent?!Lh(v,x)||!Lh(F,A):!0}function SP(c,f,v){var x=!1,F=Fa,A=f.contextType;return typeof A=="object"&&A!==null?A=ei(A):(F=us(f)?$l:Rn.current,x=f.contextTypes,A=(x=x!=null)?Pu(c,F):Fa),f=new f(v,A),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$g,c.stateNode=f,f._reactInternals=c,x&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=F,c.__reactInternalMemoizedMaskedChildContext=A),f}function xP(c,f,v,x){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,x),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,x),f.state!==c&&$g.enqueueReplaceState(f,f.state,null)}function My(c,f,v,x){var F=c.stateNode;F.props=v,F.state=c.memoizedState,F.refs={},vy(c);var A=f.contextType;typeof A=="object"&&A!==null?F.context=ei(A):(A=us(f)?$l:Rn.current,F.context=Pu(c,A)),F.state=c.memoizedState,A=f.getDerivedStateFromProps,typeof A=="function"&&(Dy(c,f,A,v),F.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(f=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),f!==F.state&&$g.enqueueReplaceState(F,F.state,null),_g(c,v,F,x),F.state=c.memoizedState),typeof F.componentDidMount=="function"&&(c.flags|=4194308)}function ku(c,f){try{var v="",x=f;do v+=G(x),x=x.return;while(x);var F=v}catch(A){F=`
Error generating stack: `+A.message+`
`+A.stack}return{value:c,source:f,stack:F,digest:null}}function Ny(c,f,v){return{value:c,source:null,stack:v??null,digest:f??null}}function Iy(c,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var nV=typeof WeakMap=="function"?WeakMap:Map;function EP(c,f,v){v=ko(-1,v),v.tag=3,v.payload={element:null};var x=f.value;return v.callback=function(){Qg||(Qg=!0,qy=x),Iy(c,f)},v}function bP(c,f,v){v=ko(-1,v),v.tag=3;var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var F=f.value;v.payload=function(){return x(F)},v.callback=function(){Iy(c,f)}}var A=c.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(v.callback=function(){Iy(c,f),typeof x!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})}),v}function RP(c,f,v){var x=c.pingCache;if(x===null){x=c.pingCache=new nV;var F=new Set;x.set(f,F)}else F=x.get(f),F===void 0&&(F=new Set,x.set(f,F));F.has(v)||(F.add(v),c=vV.bind(null,c,f,v),f.then(c,c))}function TP(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function FP(c,f,v,x,F){return c.mode&1?(c.flags|=65536,c.lanes=F,c):(c===f?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=ko(-1,1),f.tag=2,Da(v,f,1))),v.lanes|=1),c)}var sV=R.ReactCurrentOwner,ds=!1;function Gn(c,f,v,x){f.child=c===null?KF(f,null,v,x):Nu(f,c.child,v,x)}function PP(c,f,v,x,F){v=v.render;var A=f.ref;return Ou(f,F),x=by(c,f,v,x,A,F),v=Ry(),c!==null&&!ds?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~F,_o(c,f,F)):(Rr&&v&&ay(f),f.flags|=1,Gn(c,f,x,F),f.child)}function AP(c,f,v,x,F){if(c===null){var A=v.type;return typeof A=="function"&&!tw(A)&&A.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=A,DP(c,f,A,x,F)):(c=nm(v.type,null,x,f,f.mode,F),c.ref=f.ref,c.return=f,f.child=c)}if(A=c.child,!(c.lanes&F)){var k=A.memoizedProps;if(v=v.compare,v=v!==null?v:Lh,v(k,x)&&c.ref===f.ref)return _o(c,f,F)}return f.flags|=1,c=ka(A,x),c.ref=f.ref,c.return=f,f.child=c}function DP(c,f,v,x,F){if(c!==null){var A=c.memoizedProps;if(Lh(A,x)&&c.ref===f.ref)if(ds=!1,f.pendingProps=x=A,(c.lanes&F)!==0)c.flags&131072&&(ds=!0);else return f.lanes=c.lanes,_o(c,f,F)}return Oy(c,f,v,x,F)}function MP(c,f,v){var x=f.pendingProps,F=x.children,A=c!==null?c.memoizedState:null;if(x.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null,transitions:null},vr(ju,Os),Os|=v;else{if(!(v&1073741824))return c=A!==null?A.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null,transitions:null},f.updateQueue=null,vr(ju,Os),Os|=c,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=A!==null?A.baseLanes:v,vr(ju,Os),Os|=x}else A!==null?(x=A.baseLanes|v,f.memoizedState=null):x=v,vr(ju,Os),Os|=x;return Gn(c,f,F,v),f.child}function NP(c,f){var v=f.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function Oy(c,f,v,x,F){var A=us(v)?$l:Rn.current;return A=Pu(f,A),Ou(f,F),v=by(c,f,v,x,A,F),x=Ry(),c!==null&&!ds?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~F,_o(c,f,F)):(Rr&&x&&ay(f),f.flags|=1,Gn(c,f,v,F),f.child)}function IP(c,f,v,x,F){if(us(v)){var A=!0;Pg(f)}else A=!1;if(Ou(f,F),f.stateNode===null)zg(c,f),SP(f,v,x),My(f,v,x,F),x=!0;else if(c===null){var k=f.stateNode,X=f.memoizedProps;k.props=X;var ee=k.context,Ee=v.contextType;typeof Ee=="object"&&Ee!==null?Ee=ei(Ee):(Ee=us(v)?$l:Rn.current,Ee=Pu(f,Ee));var je=v.getDerivedStateFromProps,He=typeof je=="function"||typeof k.getSnapshotBeforeUpdate=="function";He||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(X!==x||ee!==Ee)&&xP(f,k,x,Ee),Aa=!1;var Le=f.memoizedState;k.state=Le,_g(f,x,k,F),ee=f.memoizedState,X!==x||Le!==ee||cs.current||Aa?(typeof je=="function"&&(Dy(f,v,je,x),ee=f.memoizedState),(X=Aa||wP(f,v,X,x,Le,ee,Ee))?(He||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(f.flags|=4194308)):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=x,f.memoizedState=ee),k.props=x,k.state=ee,k.context=Ee,x=X):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),x=!1)}else{k=f.stateNode,YF(c,f),X=f.memoizedProps,Ee=f.type===f.elementType?X:Ri(f.type,X),k.props=Ee,He=f.pendingProps,Le=k.context,ee=v.contextType,typeof ee=="object"&&ee!==null?ee=ei(ee):(ee=us(v)?$l:Rn.current,ee=Pu(f,ee));var nt=v.getDerivedStateFromProps;(je=typeof nt=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(X!==He||Le!==ee)&&xP(f,k,x,ee),Aa=!1,Le=f.memoizedState,k.state=Le,_g(f,x,k,F);var ct=f.memoizedState;X!==He||Le!==ct||cs.current||Aa?(typeof nt=="function"&&(Dy(f,v,nt,x),ct=f.memoizedState),(Ee=Aa||wP(f,v,Ee,x,Le,ct,ee)||!1)?(je||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(x,ct,ee),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(x,ct,ee)),typeof k.componentDidUpdate=="function"&&(f.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof k.componentDidUpdate!="function"||X===c.memoizedProps&&Le===c.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&Le===c.memoizedState||(f.flags|=1024),f.memoizedProps=x,f.memoizedState=ct),k.props=x,k.state=ct,k.context=ee,x=Ee):(typeof k.componentDidUpdate!="function"||X===c.memoizedProps&&Le===c.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&Le===c.memoizedState||(f.flags|=1024),x=!1)}return Ly(c,f,v,x,A,F)}function Ly(c,f,v,x,F,A){NP(c,f);var k=(f.flags&128)!==0;if(!x&&!k)return F&&jF(f,v,!1),_o(c,f,A);x=f.stateNode,sV.current=f;var X=k&&typeof v.getDerivedStateFromError!="function"?null:x.render();return f.flags|=1,c!==null&&k?(f.child=Nu(f,c.child,null,A),f.child=Nu(f,null,X,A)):Gn(c,f,X,A),f.memoizedState=x.state,F&&jF(f,v,!0),f.child}function OP(c){var f=c.stateNode;f.pendingContext?kF(c,f.pendingContext,f.pendingContext!==f.context):f.context&&kF(c,f.context,!1),Cy(c,f.containerInfo)}function LP(c,f,v,x,F){return Mu(),dy(F),f.flags|=256,Gn(c,f,v,x),f.child}var ky={dehydrated:null,treeContext:null,retryLane:0};function _y(c){return{baseLanes:c,cachePool:null,transitions:null}}function kP(c,f,v){var x=f.pendingProps,F=Pr.current,A=!1,k=(f.flags&128)!==0,X;if((X=k)||(X=c!==null&&c.memoizedState===null?!1:(F&2)!==0),X?(A=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(F|=1),vr(Pr,F&1),c===null)return uy(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(f.mode&1?c.data==="$!"?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(k=x.children,c=x.fallback,A?(x=f.mode,A=f.child,k={mode:"hidden",children:k},!(x&1)&&A!==null?(A.childLanes=0,A.pendingProps=k):A=sm(k,x,0,null),c=ec(c,x,v,null),A.return=f,c.return=f,A.sibling=c,f.child=A,f.child.memoizedState=_y(v),f.memoizedState=ky,c):jy(f,k));if(F=c.memoizedState,F!==null&&(X=F.dehydrated,X!==null))return iV(c,f,k,x,X,F,v);if(A){A=x.fallback,k=f.mode,F=c.child,X=F.sibling;var ee={mode:"hidden",children:x.children};return!(k&1)&&f.child!==F?(x=f.child,x.childLanes=0,x.pendingProps=ee,f.deletions=null):(x=ka(F,ee),x.subtreeFlags=F.subtreeFlags&14680064),X!==null?A=ka(X,A):(A=ec(A,k,v,null),A.flags|=2),A.return=f,x.return=f,x.sibling=A,f.child=x,x=A,A=f.child,k=c.child.memoizedState,k=k===null?_y(v):{baseLanes:k.baseLanes|v,cachePool:null,transitions:k.transitions},A.memoizedState=k,A.childLanes=c.childLanes&~v,f.memoizedState=ky,x}return A=c.child,c=A.sibling,x=ka(A,{mode:"visible",children:x.children}),!(f.mode&1)&&(x.lanes=v),x.return=f,x.sibling=null,c!==null&&(v=f.deletions,v===null?(f.deletions=[c],f.flags|=16):v.push(c)),f.child=x,f.memoizedState=null,x}function jy(c,f){return f=sm({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function Ug(c,f,v,x){return x!==null&&dy(x),Nu(f,c.child,null,v),c=jy(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function iV(c,f,v,x,F,A,k){if(v)return f.flags&256?(f.flags&=-257,x=Ny(Error(r(422))),Ug(c,f,k,x)):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(A=x.fallback,F=f.mode,x=sm({mode:"visible",children:x.children},F,0,null),A=ec(A,F,k,null),A.flags|=2,x.return=f,A.return=f,x.sibling=A,f.child=x,f.mode&1&&Nu(f,c.child,null,k),f.child.memoizedState=_y(k),f.memoizedState=ky,A);if(!(f.mode&1))return Ug(c,f,k,null);if(F.data==="$!"){if(x=F.nextSibling&&F.nextSibling.dataset,x)var X=x.dgst;return x=X,A=Error(r(419)),x=Ny(A,x,void 0),Ug(c,f,k,x)}if(X=(k&c.childLanes)!==0,ds||X){if(x=an,x!==null){switch(k&-k){case 4:F=2;break;case 16:F=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:F=32;break;case 536870912:F=268435456;break;default:F=0}F=F&(x.suspendedLanes|k)?0:F,F!==0&&F!==A.retryLane&&(A.retryLane=F,Lo(c,F),Pi(x,c,F,-1))}return ew(),x=Ny(Error(r(421))),Ug(c,f,k,x)}return F.data==="$?"?(f.flags|=128,f.child=c.child,f=CV.bind(null,c),F._reactRetry=f,null):(c=A.treeContext,Is=Ra(F.nextSibling),Ns=f,Rr=!0,bi=null,c!==null&&(Js[Zs++]=Io,Js[Zs++]=Oo,Js[Zs++]=Ul,Io=c.id,Oo=c.overflow,Ul=f),f=jy(f,x.children),f.flags|=4096,f)}function _P(c,f,v){c.lanes|=f;var x=c.alternate;x!==null&&(x.lanes|=f),gy(c.return,f,v)}function By(c,f,v,x,F){var A=c.memoizedState;A===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:x,tail:v,tailMode:F}:(A.isBackwards=f,A.rendering=null,A.renderingStartTime=0,A.last=x,A.tail=v,A.tailMode=F)}function jP(c,f,v){var x=f.pendingProps,F=x.revealOrder,A=x.tail;if(Gn(c,f,x.children,v),x=Pr.current,x&2)x=x&1|2,f.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&_P(c,v,f);else if(c.tag===19)_P(c,v,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}x&=1}if(vr(Pr,x),!(f.mode&1))f.memoizedState=null;else switch(F){case"forwards":for(v=f.child,F=null;v!==null;)c=v.alternate,c!==null&&jg(c)===null&&(F=v),v=v.sibling;v=F,v===null?(F=f.child,f.child=null):(F=v.sibling,v.sibling=null),By(f,!1,F,v,A);break;case"backwards":for(v=null,F=f.child,f.child=null;F!==null;){if(c=F.alternate,c!==null&&jg(c)===null){f.child=F;break}c=F.sibling,F.sibling=v,v=F,F=c}By(f,!0,v,null,A);break;case"together":By(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function zg(c,f){!(f.mode&1)&&c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2)}function _o(c,f,v){if(c!==null&&(f.dependencies=c.dependencies),Xl|=f.lanes,!(v&f.childLanes))return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,v=ka(c,c.pendingProps),f.child=v,v.return=f;c.sibling!==null;)c=c.sibling,v=v.sibling=ka(c,c.pendingProps),v.return=f;v.sibling=null}return f.child}function oV(c,f,v){switch(f.tag){case 3:OP(f),Mu();break;case 5:JF(f);break;case 1:us(f.type)&&Pg(f);break;case 4:Cy(f,f.stateNode.containerInfo);break;case 10:var x=f.type._context,F=f.memoizedProps.value;vr(Og,x._currentValue),x._currentValue=F;break;case 13:if(x=f.memoizedState,x!==null)return x.dehydrated!==null?(vr(Pr,Pr.current&1),f.flags|=128,null):v&f.child.childLanes?kP(c,f,v):(vr(Pr,Pr.current&1),c=_o(c,f,v),c!==null?c.sibling:null);vr(Pr,Pr.current&1);break;case 19:if(x=(v&f.childLanes)!==0,c.flags&128){if(x)return jP(c,f,v);f.flags|=128}if(F=f.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),vr(Pr,Pr.current),x)break;return null;case 22:case 23:return f.lanes=0,MP(c,f,v)}return _o(c,f,v)}var BP,Gy,GP,HP;BP=function(c,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)c.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Gy=function(){},GP=function(c,f,v,x){var F=c.memoizedProps;if(F!==x){c=f.stateNode,ql(Ji.current);var A=null;switch(v){case"input":F=Ye(c,F),x=Ye(c,x),A=[];break;case"select":F=de({},F,{value:void 0}),x=de({},x,{value:void 0}),A=[];break;case"textarea":F=ue(c,F),x=ue(c,x),A=[];break;default:typeof F.onClick!="function"&&typeof x.onClick=="function"&&(c.onclick=Rg)}St(v,x);var k;v=null;for(Ee in F)if(!x.hasOwnProperty(Ee)&&F.hasOwnProperty(Ee)&&F[Ee]!=null)if(Ee==="style"){var X=F[Ee];for(k in X)X.hasOwnProperty(k)&&(v||(v={}),v[k]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(s.hasOwnProperty(Ee)?A||(A=[]):(A=A||[]).push(Ee,null));for(Ee in x){var ee=x[Ee];if(X=F!=null?F[Ee]:void 0,x.hasOwnProperty(Ee)&&ee!==X&&(ee!=null||X!=null))if(Ee==="style")if(X){for(k in X)!X.hasOwnProperty(k)||ee&&ee.hasOwnProperty(k)||(v||(v={}),v[k]="");for(k in ee)ee.hasOwnProperty(k)&&X[k]!==ee[k]&&(v||(v={}),v[k]=ee[k])}else v||(A||(A=[]),A.push(Ee,v)),v=ee;else Ee==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,X=X?X.__html:void 0,ee!=null&&X!==ee&&(A=A||[]).push(Ee,ee)):Ee==="children"?typeof ee!="string"&&typeof ee!="number"||(A=A||[]).push(Ee,""+ee):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ee)?(ee!=null&&Ee==="onScroll"&&yr("scroll",c),A||X===ee||(A=[])):(A=A||[]).push(Ee,ee))}v&&(A=A||[]).push("style",v);var Ee=A;(f.updateQueue=Ee)&&(f.flags|=4)}},HP=function(c,f,v,x){v!==x&&(f.flags|=4)};function Xh(c,f){if(!Rr)switch(c.tailMode){case"hidden":f=c.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var x=null;v!==null;)v.alternate!==null&&(x=v),v=v.sibling;x===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:x.sibling=null}}function Fn(c){var f=c.alternate!==null&&c.alternate.child===c.child,v=0,x=0;if(f)for(var F=c.child;F!==null;)v|=F.lanes|F.childLanes,x|=F.subtreeFlags&14680064,x|=F.flags&14680064,F.return=c,F=F.sibling;else for(F=c.child;F!==null;)v|=F.lanes|F.childLanes,x|=F.subtreeFlags,x|=F.flags,F.return=c,F=F.sibling;return c.subtreeFlags|=x,c.childLanes=v,f}function aV(c,f,v){var x=f.pendingProps;switch(ly(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(f),null;case 1:return us(f.type)&&Fg(),Fn(f),null;case 3:return x=f.stateNode,Lu(),wr(cs),wr(Rn),Sy(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(c===null||c.child===null)&&(Ng(f)?f.flags|=4:c===null||c.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,bi!==null&&(Qy(bi),bi=null))),Gy(c,f),Fn(f),null;case 5:yy(f);var F=ql(Uh.current);if(v=f.type,c!==null&&f.stateNode!=null)GP(c,f,v,x,F),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!x){if(f.stateNode===null)throw Error(r(166));return Fn(f),null}if(c=ql(Ji.current),Ng(f)){x=f.stateNode,v=f.type;var A=f.memoizedProps;switch(x[Qi]=f,x[Gh]=A,c=(f.mode&1)!==0,v){case"dialog":yr("cancel",x),yr("close",x);break;case"iframe":case"object":case"embed":yr("load",x);break;case"video":case"audio":for(F=0;F<_h.length;F++)yr(_h[F],x);break;case"source":yr("error",x);break;case"img":case"image":case"link":yr("error",x),yr("load",x);break;case"details":yr("toggle",x);break;case"input":ut(x,A),yr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!A.multiple},yr("invalid",x);break;case"textarea":$e(x,A),yr("invalid",x)}St(v,A),F=null;for(var k in A)if(A.hasOwnProperty(k)){var X=A[k];k==="children"?typeof X=="string"?x.textContent!==X&&(A.suppressHydrationWarning!==!0&&bg(x.textContent,X,c),F=["children",X]):typeof X=="number"&&x.textContent!==""+X&&(A.suppressHydrationWarning!==!0&&bg(x.textContent,X,c),F=["children",""+X]):s.hasOwnProperty(k)&&X!=null&&k==="onScroll"&&yr("scroll",x)}switch(v){case"input":Me(x),le(x,A,!0);break;case"textarea":Me(x),et(x);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(x.onclick=Rg)}x=F,f.updateQueue=x,x!==null&&(f.flags|=4)}else{k=F.nodeType===9?F:F.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=tt(v)),c==="http://www.w3.org/1999/xhtml"?v==="script"?(c=k.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof x.is=="string"?c=k.createElement(v,{is:x.is}):(c=k.createElement(v),v==="select"&&(k=c,x.multiple?k.multiple=!0:x.size&&(k.size=x.size))):c=k.createElementNS(c,v),c[Qi]=f,c[Gh]=x,BP(c,f,!1,!1),f.stateNode=c;e:{switch(k=Ht(v,x),v){case"dialog":yr("cancel",c),yr("close",c),F=x;break;case"iframe":case"object":case"embed":yr("load",c),F=x;break;case"video":case"audio":for(F=0;F<_h.length;F++)yr(_h[F],c);F=x;break;case"source":yr("error",c),F=x;break;case"img":case"image":case"link":yr("error",c),yr("load",c),F=x;break;case"details":yr("toggle",c),F=x;break;case"input":ut(c,x),F=Ye(c,x),yr("invalid",c);break;case"option":F=x;break;case"select":c._wrapperState={wasMultiple:!!x.multiple},F=de({},x,{value:void 0}),yr("invalid",c);break;case"textarea":$e(c,x),F=ue(c,x),yr("invalid",c);break;default:F=x}St(v,F),X=F;for(A in X)if(X.hasOwnProperty(A)){var ee=X[A];A==="style"?As(c,ee):A==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&qr(c,ee)):A==="children"?typeof ee=="string"?(v!=="textarea"||ee!=="")&&Oe(c,ee):typeof ee=="number"&&Oe(c,""+ee):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(s.hasOwnProperty(A)?ee!=null&&A==="onScroll"&&yr("scroll",c):ee!=null&&T(c,A,ee,k))}switch(v){case"input":Me(c),le(c,x,!1);break;case"textarea":Me(c),et(c);break;case"option":x.value!=null&&c.setAttribute("value",""+fe(x.value));break;case"select":c.multiple=!!x.multiple,A=x.value,A!=null?Mt(c,!!x.multiple,A,!1):x.defaultValue!=null&&Mt(c,!!x.multiple,x.defaultValue,!0);break;default:typeof F.onClick=="function"&&(c.onclick=Rg)}switch(v){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Fn(f),null;case 6:if(c&&f.stateNode!=null)HP(c,f,c.memoizedProps,x);else{if(typeof x!="string"&&f.stateNode===null)throw Error(r(166));if(v=ql(Uh.current),ql(Ji.current),Ng(f)){if(x=f.stateNode,v=f.memoizedProps,x[Qi]=f,(A=x.nodeValue!==v)&&(c=Ns,c!==null))switch(c.tag){case 3:bg(x.nodeValue,v,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&bg(x.nodeValue,v,(c.mode&1)!==0)}A&&(f.flags|=4)}else x=(v.nodeType===9?v:v.ownerDocument).createTextNode(x),x[Qi]=f,f.stateNode=x}return Fn(f),null;case 13:if(wr(Pr),x=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Rr&&Is!==null&&f.mode&1&&!(f.flags&128))$F(),Mu(),f.flags|=98560,A=!1;else if(A=Ng(f),x!==null&&x.dehydrated!==null){if(c===null){if(!A)throw Error(r(318));if(A=f.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[Qi]=f}else Mu(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Fn(f),A=!1}else bi!==null&&(Qy(bi),bi=null),A=!0;if(!A)return f.flags&65536?f:null}return f.flags&128?(f.lanes=v,f):(x=x!==null,x!==(c!==null&&c.memoizedState!==null)&&x&&(f.child.flags|=8192,f.mode&1&&(c===null||Pr.current&1?tn===0&&(tn=3):ew())),f.updateQueue!==null&&(f.flags|=4),Fn(f),null);case 4:return Lu(),Gy(c,f),c===null&&jh(f.stateNode.containerInfo),Fn(f),null;case 10:return py(f.type._context),Fn(f),null;case 17:return us(f.type)&&Fg(),Fn(f),null;case 19:if(wr(Pr),A=f.memoizedState,A===null)return Fn(f),null;if(x=(f.flags&128)!==0,k=A.rendering,k===null)if(x)Xh(A,!1);else{if(tn!==0||c!==null&&c.flags&128)for(c=f.child;c!==null;){if(k=jg(c),k!==null){for(f.flags|=128,Xh(A,!1),x=k.updateQueue,x!==null&&(f.updateQueue=x,f.flags|=4),f.subtreeFlags=0,x=v,v=f.child;v!==null;)A=v,c=x,A.flags&=14680066,k=A.alternate,k===null?(A.childLanes=0,A.lanes=c,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=k.childLanes,A.lanes=k.lanes,A.child=k.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=k.memoizedProps,A.memoizedState=k.memoizedState,A.updateQueue=k.updateQueue,A.type=k.type,c=k.dependencies,A.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),v=v.sibling;return vr(Pr,Pr.current&1|2),f.child}c=c.sibling}A.tail!==null&&Ue()>Bu&&(f.flags|=128,x=!0,Xh(A,!1),f.lanes=4194304)}else{if(!x)if(c=jg(k),c!==null){if(f.flags|=128,x=!0,v=c.updateQueue,v!==null&&(f.updateQueue=v,f.flags|=4),Xh(A,!0),A.tail===null&&A.tailMode==="hidden"&&!k.alternate&&!Rr)return Fn(f),null}else 2*Ue()-A.renderingStartTime>Bu&&v!==1073741824&&(f.flags|=128,x=!0,Xh(A,!1),f.lanes=4194304);A.isBackwards?(k.sibling=f.child,f.child=k):(v=A.last,v!==null?v.sibling=k:f.child=k,A.last=k)}return A.tail!==null?(f=A.tail,A.rendering=f,A.tail=f.sibling,A.renderingStartTime=Ue(),f.sibling=null,v=Pr.current,vr(Pr,x?v&1|2:v&1),f):(Fn(f),null);case 22:case 23:return Zy(),x=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==x&&(f.flags|=8192),x&&f.mode&1?Os&1073741824&&(Fn(f),f.subtreeFlags&6&&(f.flags|=8192)):Fn(f),null;case 24:return null;case 25:return null}throw Error(r(156,f.tag))}function lV(c,f){switch(ly(f),f.tag){case 1:return us(f.type)&&Fg(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Lu(),wr(cs),wr(Rn),Sy(),c=f.flags,c&65536&&!(c&128)?(f.flags=c&-65537|128,f):null;case 5:return yy(f),null;case 13:if(wr(Pr),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Mu()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return wr(Pr),null;case 4:return Lu(),null;case 10:return py(f.type._context),null;case 22:case 23:return Zy(),null;case 24:return null;default:return null}}var Kg=!1,Pn=!1,cV=typeof WeakSet=="function"?WeakSet:Set,at=null;function _u(c,f){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(x){Lr(c,f,x)}else v.current=null}function Hy(c,f,v){try{v()}catch(x){Lr(c,f,x)}}var VP=!1;function uV(c,f){if(ZC=fg,c=wF(),UC(c)){if("selectionStart"in c)var v={start:c.selectionStart,end:c.selectionEnd};else e:{v=(v=c.ownerDocument)&&v.defaultView||window;var x=v.getSelection&&v.getSelection();if(x&&x.rangeCount!==0){v=x.anchorNode;var F=x.anchorOffset,A=x.focusNode;x=x.focusOffset;try{v.nodeType,A.nodeType}catch{v=null;break e}var k=0,X=-1,ee=-1,Ee=0,je=0,He=c,Le=null;t:for(;;){for(var nt;He!==v||F!==0&&He.nodeType!==3||(X=k+F),He!==A||x!==0&&He.nodeType!==3||(ee=k+x),He.nodeType===3&&(k+=He.nodeValue.length),(nt=He.firstChild)!==null;)Le=He,He=nt;for(;;){if(He===c)break t;if(Le===v&&++Ee===F&&(X=k),Le===A&&++je===x&&(ee=k),(nt=He.nextSibling)!==null)break;He=Le,Le=He.parentNode}He=nt}v=X===-1||ee===-1?null:{start:X,end:ee}}else v=null}v=v||{start:0,end:0}}else v=null;for(ey={focusedElem:c,selectionRange:v},fg=!1,at=f;at!==null;)if(f=at,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,at=c;else for(;at!==null;){f=at;try{var ct=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(ct!==null){var dt=ct.memoizedProps,Ur=ct.memoizedState,he=f.stateNode,ae=he.getSnapshotBeforeUpdate(f.elementType===f.type?dt:Ri(f.type,dt),Ur);he.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var ge=f.stateNode.containerInfo;ge.nodeType===1?ge.textContent="":ge.nodeType===9&&ge.documentElement&&ge.removeChild(ge.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(qe){Lr(f,f.return,qe)}if(c=f.sibling,c!==null){c.return=f.return,at=c;break}at=f.return}return ct=VP,VP=!1,ct}function Qh(c,f,v){var x=f.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var F=x=x.next;do{if((F.tag&c)===c){var A=F.destroy;F.destroy=void 0,A!==void 0&&Hy(f,v,A)}F=F.next}while(F!==x)}}function qg(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&c)===c){var x=v.create;v.destroy=x()}v=v.next}while(v!==f)}}function Vy(c){var f=c.ref;if(f!==null){var v=c.stateNode;switch(c.tag){case 5:c=v;break;default:c=v}typeof f=="function"?f(c):f.current=c}}function WP(c){var f=c.alternate;f!==null&&(c.alternate=null,WP(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&(delete f[Qi],delete f[Gh],delete f[sy],delete f[zH],delete f[KH])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function $P(c){return c.tag===5||c.tag===3||c.tag===4}function UP(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||$P(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Wy(c,f,v){var x=c.tag;if(x===5||x===6)c=c.stateNode,f?v.nodeType===8?v.parentNode.insertBefore(c,f):v.insertBefore(c,f):(v.nodeType===8?(f=v.parentNode,f.insertBefore(c,v)):(f=v,f.appendChild(c)),v=v._reactRootContainer,v!=null||f.onclick!==null||(f.onclick=Rg));else if(x!==4&&(c=c.child,c!==null))for(Wy(c,f,v),c=c.sibling;c!==null;)Wy(c,f,v),c=c.sibling}function $y(c,f,v){var x=c.tag;if(x===5||x===6)c=c.stateNode,f?v.insertBefore(c,f):v.appendChild(c);else if(x!==4&&(c=c.child,c!==null))for($y(c,f,v),c=c.sibling;c!==null;)$y(c,f,v),c=c.sibling}var pn=null,Ti=!1;function Ma(c,f,v){for(v=v.child;v!==null;)zP(c,f,v),v=v.sibling}function zP(c,f,v){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Xi,v)}catch{}switch(v.tag){case 5:Pn||_u(v,f);case 6:var x=pn,F=Ti;pn=null,Ma(c,f,v),pn=x,Ti=F,pn!==null&&(Ti?(c=pn,v=v.stateNode,c.nodeType===8?c.parentNode.removeChild(v):c.removeChild(v)):pn.removeChild(v.stateNode));break;case 18:pn!==null&&(Ti?(c=pn,v=v.stateNode,c.nodeType===8?ny(c.parentNode,v):c.nodeType===1&&ny(c,v),Ah(c)):ny(pn,v.stateNode));break;case 4:x=pn,F=Ti,pn=v.stateNode.containerInfo,Ti=!0,Ma(c,f,v),pn=x,Ti=F;break;case 0:case 11:case 14:case 15:if(!Pn&&(x=v.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){F=x=x.next;do{var A=F,k=A.destroy;A=A.tag,k!==void 0&&(A&2||A&4)&&Hy(v,f,k),F=F.next}while(F!==x)}Ma(c,f,v);break;case 1:if(!Pn&&(_u(v,f),x=v.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=v.memoizedProps,x.state=v.memoizedState,x.componentWillUnmount()}catch(X){Lr(v,f,X)}Ma(c,f,v);break;case 21:Ma(c,f,v);break;case 22:v.mode&1?(Pn=(x=Pn)||v.memoizedState!==null,Ma(c,f,v),Pn=x):Ma(c,f,v);break;default:Ma(c,f,v)}}function KP(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new cV),f.forEach(function(x){var F=yV.bind(null,c,x);v.has(x)||(v.add(x),x.then(F,F))})}}function Fi(c,f){var v=f.deletions;if(v!==null)for(var x=0;x<v.length;x++){var F=v[x];try{var A=c,k=f,X=k;e:for(;X!==null;){switch(X.tag){case 5:pn=X.stateNode,Ti=!1;break e;case 3:pn=X.stateNode.containerInfo,Ti=!0;break e;case 4:pn=X.stateNode.containerInfo,Ti=!0;break e}X=X.return}if(pn===null)throw Error(r(160));zP(A,k,F),pn=null,Ti=!1;var ee=F.alternate;ee!==null&&(ee.return=null),F.return=null}catch(Ee){Lr(F,f,Ee)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)qP(f,c),f=f.sibling}function qP(c,f){var v=c.alternate,x=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Fi(f,c),eo(c),x&4){try{Qh(3,c,c.return),qg(3,c)}catch(dt){Lr(c,c.return,dt)}try{Qh(5,c,c.return)}catch(dt){Lr(c,c.return,dt)}}break;case 1:Fi(f,c),eo(c),x&512&&v!==null&&_u(v,v.return);break;case 5:if(Fi(f,c),eo(c),x&512&&v!==null&&_u(v,v.return),c.flags&32){var F=c.stateNode;try{Oe(F,"")}catch(dt){Lr(c,c.return,dt)}}if(x&4&&(F=c.stateNode,F!=null)){var A=c.memoizedProps,k=v!==null?v.memoizedProps:A,X=c.type,ee=c.updateQueue;if(c.updateQueue=null,ee!==null)try{X==="input"&&A.type==="radio"&&A.name!=null&&gt(F,A),Ht(X,k);var Ee=Ht(X,A);for(k=0;k<ee.length;k+=2){var je=ee[k],He=ee[k+1];je==="style"?As(F,He):je==="dangerouslySetInnerHTML"?qr(F,He):je==="children"?Oe(F,He):T(F,je,He,Ee)}switch(X){case"input":Ve(F,A);break;case"textarea":ze(F,A);break;case"select":var Le=F._wrapperState.wasMultiple;F._wrapperState.wasMultiple=!!A.multiple;var nt=A.value;nt!=null?Mt(F,!!A.multiple,nt,!1):Le!==!!A.multiple&&(A.defaultValue!=null?Mt(F,!!A.multiple,A.defaultValue,!0):Mt(F,!!A.multiple,A.multiple?[]:"",!1))}F[Gh]=A}catch(dt){Lr(c,c.return,dt)}}break;case 6:if(Fi(f,c),eo(c),x&4){if(c.stateNode===null)throw Error(r(162));F=c.stateNode,A=c.memoizedProps;try{F.nodeValue=A}catch(dt){Lr(c,c.return,dt)}}break;case 3:if(Fi(f,c),eo(c),x&4&&v!==null&&v.memoizedState.isDehydrated)try{Ah(f.containerInfo)}catch(dt){Lr(c,c.return,dt)}break;case 4:Fi(f,c),eo(c);break;case 13:Fi(f,c),eo(c),F=c.child,F.flags&8192&&(A=F.memoizedState!==null,F.stateNode.isHidden=A,!A||F.alternate!==null&&F.alternate.memoizedState!==null||(Ky=Ue())),x&4&&KP(c);break;case 22:if(je=v!==null&&v.memoizedState!==null,c.mode&1?(Pn=(Ee=Pn)||je,Fi(f,c),Pn=Ee):Fi(f,c),eo(c),x&8192){if(Ee=c.memoizedState!==null,(c.stateNode.isHidden=Ee)&&!je&&c.mode&1)for(at=c,je=c.child;je!==null;){for(He=at=je;at!==null;){switch(Le=at,nt=Le.child,Le.tag){case 0:case 11:case 14:case 15:Qh(4,Le,Le.return);break;case 1:_u(Le,Le.return);var ct=Le.stateNode;if(typeof ct.componentWillUnmount=="function"){x=Le,v=Le.return;try{f=x,ct.props=f.memoizedProps,ct.state=f.memoizedState,ct.componentWillUnmount()}catch(dt){Lr(x,v,dt)}}break;case 5:_u(Le,Le.return);break;case 22:if(Le.memoizedState!==null){QP(He);continue}}nt!==null?(nt.return=Le,at=nt):QP(He)}je=je.sibling}e:for(je=null,He=c;;){if(He.tag===5){if(je===null){je=He;try{F=He.stateNode,Ee?(A=F.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(X=He.stateNode,ee=He.memoizedProps.style,k=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,X.style.display=bn("display",k))}catch(dt){Lr(c,c.return,dt)}}}else if(He.tag===6){if(je===null)try{He.stateNode.nodeValue=Ee?"":He.memoizedProps}catch(dt){Lr(c,c.return,dt)}}else if((He.tag!==22&&He.tag!==23||He.memoizedState===null||He===c)&&He.child!==null){He.child.return=He,He=He.child;continue}if(He===c)break e;for(;He.sibling===null;){if(He.return===null||He.return===c)break e;je===He&&(je=null),He=He.return}je===He&&(je=null),He.sibling.return=He.return,He=He.sibling}}break;case 19:Fi(f,c),eo(c),x&4&&KP(c);break;case 21:break;default:Fi(f,c),eo(c)}}function eo(c){var f=c.flags;if(f&2){try{e:{for(var v=c.return;v!==null;){if($P(v)){var x=v;break e}v=v.return}throw Error(r(160))}switch(x.tag){case 5:var F=x.stateNode;x.flags&32&&(Oe(F,""),x.flags&=-33);var A=UP(c);$y(c,A,F);break;case 3:case 4:var k=x.stateNode.containerInfo,X=UP(c);Wy(c,X,k);break;default:throw Error(r(161))}}catch(ee){Lr(c,c.return,ee)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function dV(c,f,v){at=c,YP(c)}function YP(c,f,v){for(var x=(c.mode&1)!==0;at!==null;){var F=at,A=F.child;if(F.tag===22&&x){var k=F.memoizedState!==null||Kg;if(!k){var X=F.alternate,ee=X!==null&&X.memoizedState!==null||Pn;X=Kg;var Ee=Pn;if(Kg=k,(Pn=ee)&&!Ee)for(at=F;at!==null;)k=at,ee=k.child,k.tag===22&&k.memoizedState!==null?JP(F):ee!==null?(ee.return=k,at=ee):JP(F);for(;A!==null;)at=A,YP(A),A=A.sibling;at=F,Kg=X,Pn=Ee}XP(c)}else F.subtreeFlags&8772&&A!==null?(A.return=F,at=A):XP(c)}}function XP(c){for(;at!==null;){var f=at;if(f.flags&8772){var v=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Pn||qg(5,f);break;case 1:var x=f.stateNode;if(f.flags&4&&!Pn)if(v===null)x.componentDidMount();else{var F=f.elementType===f.type?v.memoizedProps:Ri(f.type,v.memoizedProps);x.componentDidUpdate(F,v.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var A=f.updateQueue;A!==null&&QF(f,A,x);break;case 3:var k=f.updateQueue;if(k!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=f.child.stateNode;break;case 1:v=f.child.stateNode}QF(f,k,v)}break;case 5:var X=f.stateNode;if(v===null&&f.flags&4){v=X;var ee=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&v.focus();break;case"img":ee.src&&(v.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Ee=f.alternate;if(Ee!==null){var je=Ee.memoizedState;if(je!==null){var He=je.dehydrated;He!==null&&Ah(He)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Pn||f.flags&512&&Vy(f)}catch(Le){Lr(f,f.return,Le)}}if(f===c){at=null;break}if(v=f.sibling,v!==null){v.return=f.return,at=v;break}at=f.return}}function QP(c){for(;at!==null;){var f=at;if(f===c){at=null;break}var v=f.sibling;if(v!==null){v.return=f.return,at=v;break}at=f.return}}function JP(c){for(;at!==null;){var f=at;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{qg(4,f)}catch(ee){Lr(f,v,ee)}break;case 1:var x=f.stateNode;if(typeof x.componentDidMount=="function"){var F=f.return;try{x.componentDidMount()}catch(ee){Lr(f,F,ee)}}var A=f.return;try{Vy(f)}catch(ee){Lr(f,A,ee)}break;case 5:var k=f.return;try{Vy(f)}catch(ee){Lr(f,k,ee)}}}catch(ee){Lr(f,f.return,ee)}if(f===c){at=null;break}var X=f.sibling;if(X!==null){X.return=f.return,at=X;break}at=f.return}}var hV=Math.ceil,Yg=R.ReactCurrentDispatcher,Uy=R.ReactCurrentOwner,ri=R.ReactCurrentBatchConfig,$t=0,an=null,Yr=null,gn=0,Os=0,ju=Ta(0),tn=0,Jh=null,Xl=0,Xg=0,zy=0,Zh=null,hs=null,Ky=0,Bu=1/0,jo=null,Qg=!1,qy=null,Na=null,Jg=!1,Ia=null,Zg=0,ef=0,Yy=null,em=-1,tm=0;function Hn(){return $t&6?Ue():em!==-1?em:em=Ue()}function Oa(c){return c.mode&1?$t&2&&gn!==0?gn&-gn:YH.transition!==null?(tm===0&&(tm=UT()),tm):(c=nr,c!==0||(c=window.event,c=c===void 0?16:eF(c.type)),c):1}function Pi(c,f,v,x){if(50<ef)throw ef=0,Yy=null,Error(r(185));bh(c,v,x),(!($t&2)||c!==an)&&(c===an&&(!($t&2)&&(Xg|=v),tn===4&&La(c,gn)),fs(c,x),v===1&&$t===0&&!(f.mode&1)&&(Bu=Ue()+500,Ag&&Pa()))}function fs(c,f){var v=c.callbackNode;YG(c,f);var x=ug(c,c===an?gn:0);if(x===0)v!==null&&Je(v),c.callbackNode=null,c.callbackPriority=0;else if(f=x&-x,c.callbackPriority!==f){if(v!=null&&Je(v),f===1)c.tag===0?qH(eA.bind(null,c)):BF(eA.bind(null,c)),$H(function(){!($t&6)&&Pa()}),v=null;else{switch(zT(x)){case 1:v=pr;break;case 4:v=mr;break;case 16:v=Wr;break;case 536870912:v=Ca;break;default:v=Wr}v=lA(v,ZP.bind(null,c))}c.callbackPriority=f,c.callbackNode=v}}function ZP(c,f){if(em=-1,tm=0,$t&6)throw Error(r(327));var v=c.callbackNode;if(Gu()&&c.callbackNode!==v)return null;var x=ug(c,c===an?gn:0);if(x===0)return null;if(x&30||x&c.expiredLanes||f)f=rm(c,x);else{f=x;var F=$t;$t|=2;var A=rA();(an!==c||gn!==f)&&(jo=null,Bu=Ue()+500,Jl(c,f));do try{gV();break}catch(X){tA(c,X)}while(!0);fy(),Yg.current=A,$t=F,Yr!==null?f=0:(an=null,gn=0,f=tn)}if(f!==0){if(f===2&&(F=AC(c),F!==0&&(x=F,f=Xy(c,F))),f===1)throw v=Jh,Jl(c,0),La(c,x),fs(c,Ue()),v;if(f===6)La(c,x);else{if(F=c.current.alternate,!(x&30)&&!fV(F)&&(f=rm(c,x),f===2&&(A=AC(c),A!==0&&(x=A,f=Xy(c,A))),f===1))throw v=Jh,Jl(c,0),La(c,x),fs(c,Ue()),v;switch(c.finishedWork=F,c.finishedLanes=x,f){case 0:case 1:throw Error(r(345));case 2:Zl(c,hs,jo);break;case 3:if(La(c,x),(x&130023424)===x&&(f=Ky+500-Ue(),10<f)){if(ug(c,0)!==0)break;if(F=c.suspendedLanes,(F&x)!==x){Hn(),c.pingedLanes|=c.suspendedLanes&F;break}c.timeoutHandle=ry(Zl.bind(null,c,hs,jo),f);break}Zl(c,hs,jo);break;case 4:if(La(c,x),(x&4194240)===x)break;for(f=c.eventTimes,F=-1;0<x;){var k=31-$r(x);A=1<<k,k=f[k],k>F&&(F=k),x&=~A}if(x=F,x=Ue()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*hV(x/1960))-x,10<x){c.timeoutHandle=ry(Zl.bind(null,c,hs,jo),x);break}Zl(c,hs,jo);break;case 5:Zl(c,hs,jo);break;default:throw Error(r(329))}}}return fs(c,Ue()),c.callbackNode===v?ZP.bind(null,c):null}function Xy(c,f){var v=Zh;return c.current.memoizedState.isDehydrated&&(Jl(c,f).flags|=256),c=rm(c,f),c!==2&&(f=hs,hs=v,f!==null&&Qy(f)),c}function Qy(c){hs===null?hs=c:hs.push.apply(hs,c)}function fV(c){for(var f=c;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var x=0;x<v.length;x++){var F=v[x],A=F.getSnapshot;F=F.value;try{if(!Ei(A(),F))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function La(c,f){for(f&=~zy,f&=~Xg,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var v=31-$r(f),x=1<<v;c[v]=-1,f&=~x}}function eA(c){if($t&6)throw Error(r(327));Gu();var f=ug(c,0);if(!(f&1))return fs(c,Ue()),null;var v=rm(c,f);if(c.tag!==0&&v===2){var x=AC(c);x!==0&&(f=x,v=Xy(c,x))}if(v===1)throw v=Jh,Jl(c,0),La(c,f),fs(c,Ue()),v;if(v===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,Zl(c,hs,jo),fs(c,Ue()),null}function Jy(c,f){var v=$t;$t|=1;try{return c(f)}finally{$t=v,$t===0&&(Bu=Ue()+500,Ag&&Pa())}}function Ql(c){Ia!==null&&Ia.tag===0&&!($t&6)&&Gu();var f=$t;$t|=1;var v=ri.transition,x=nr;try{if(ri.transition=null,nr=1,c)return c()}finally{nr=x,ri.transition=v,$t=f,!($t&6)&&Pa()}}function Zy(){Os=ju.current,wr(ju)}function Jl(c,f){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==-1&&(c.timeoutHandle=-1,WH(v)),Yr!==null)for(v=Yr.return;v!==null;){var x=v;switch(ly(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Fg();break;case 3:Lu(),wr(cs),wr(Rn),Sy();break;case 5:yy(x);break;case 4:Lu();break;case 13:wr(Pr);break;case 19:wr(Pr);break;case 10:py(x.type._context);break;case 22:case 23:Zy()}v=v.return}if(an=c,Yr=c=ka(c.current,null),gn=Os=f,tn=0,Jh=null,zy=Xg=Xl=0,hs=Zh=null,Kl!==null){for(f=0;f<Kl.length;f++)if(v=Kl[f],x=v.interleaved,x!==null){v.interleaved=null;var F=x.next,A=v.pending;if(A!==null){var k=A.next;A.next=F,x.next=k}v.pending=x}Kl=null}return c}function tA(c,f){do{var v=Yr;try{if(fy(),Bg.current=Wg,Gg){for(var x=Ar.memoizedState;x!==null;){var F=x.queue;F!==null&&(F.pending=null),x=x.next}Gg=!1}if(Yl=0,on=en=Ar=null,zh=!1,Kh=0,Uy.current=null,v===null||v.return===null){tn=1,Jh=f,Yr=null;break}e:{var A=c,k=v.return,X=v,ee=f;if(f=gn,X.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Ee=ee,je=X,He=je.tag;if(!(je.mode&1)&&(He===0||He===11||He===15)){var Le=je.alternate;Le?(je.updateQueue=Le.updateQueue,je.memoizedState=Le.memoizedState,je.lanes=Le.lanes):(je.updateQueue=null,je.memoizedState=null)}var nt=TP(k);if(nt!==null){nt.flags&=-257,FP(nt,k,X,A,f),nt.mode&1&&RP(A,Ee,f),f=nt,ee=Ee;var ct=f.updateQueue;if(ct===null){var dt=new Set;dt.add(ee),f.updateQueue=dt}else ct.add(ee);break e}else{if(!(f&1)){RP(A,Ee,f),ew();break e}ee=Error(r(426))}}else if(Rr&&X.mode&1){var Ur=TP(k);if(Ur!==null){!(Ur.flags&65536)&&(Ur.flags|=256),FP(Ur,k,X,A,f),dy(ku(ee,X));break e}}A=ee=ku(ee,X),tn!==4&&(tn=2),Zh===null?Zh=[A]:Zh.push(A),A=k;do{switch(A.tag){case 3:A.flags|=65536,f&=-f,A.lanes|=f;var he=EP(A,ee,f);XF(A,he);break e;case 1:X=ee;var ae=A.type,ge=A.stateNode;if(!(A.flags&128)&&(typeof ae.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(Na===null||!Na.has(ge)))){A.flags|=65536,f&=-f,A.lanes|=f;var qe=bP(A,X,f);XF(A,qe);break e}}A=A.return}while(A!==null)}sA(v)}catch(ht){f=ht,Yr===v&&v!==null&&(Yr=v=v.return);continue}break}while(!0)}function rA(){var c=Yg.current;return Yg.current=Wg,c===null?Wg:c}function ew(){(tn===0||tn===3||tn===2)&&(tn=4),an===null||!(Xl&268435455)&&!(Xg&268435455)||La(an,gn)}function rm(c,f){var v=$t;$t|=2;var x=rA();(an!==c||gn!==f)&&(jo=null,Jl(c,f));do try{pV();break}catch(F){tA(c,F)}while(!0);if(fy(),$t=v,Yg.current=x,Yr!==null)throw Error(r(261));return an=null,gn=0,tn}function pV(){for(;Yr!==null;)nA(Yr)}function gV(){for(;Yr!==null&&!it();)nA(Yr)}function nA(c){var f=aA(c.alternate,c,Os);c.memoizedProps=c.pendingProps,f===null?sA(c):Yr=f,Uy.current=null}function sA(c){var f=c;do{var v=f.alternate;if(c=f.return,f.flags&32768){if(v=lV(v,f),v!==null){v.flags&=32767,Yr=v;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{tn=6,Yr=null;return}}else if(v=aV(v,f,Os),v!==null){Yr=v;return}if(f=f.sibling,f!==null){Yr=f;return}Yr=f=c}while(f!==null);tn===0&&(tn=5)}function Zl(c,f,v){var x=nr,F=ri.transition;try{ri.transition=null,nr=1,mV(c,f,v,x)}finally{ri.transition=F,nr=x}return null}function mV(c,f,v,x){do Gu();while(Ia!==null);if($t&6)throw Error(r(327));v=c.finishedWork;var F=c.finishedLanes;if(v===null)return null;if(c.finishedWork=null,c.finishedLanes=0,v===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var A=v.lanes|v.childLanes;if(XG(c,A),c===an&&(Yr=an=null,gn=0),!(v.subtreeFlags&2064)&&!(v.flags&2064)||Jg||(Jg=!0,lA(Wr,function(){return Gu(),null})),A=(v.flags&15990)!==0,v.subtreeFlags&15990||A){A=ri.transition,ri.transition=null;var k=nr;nr=1;var X=$t;$t|=4,Uy.current=null,uV(c,v),qP(v,c),kH(ey),fg=!!ZC,ey=ZC=null,c.current=v,dV(v),Ke(),$t=X,nr=k,ri.transition=A}else c.current=v;if(Jg&&(Jg=!1,Ia=c,Zg=F),A=c.pendingLanes,A===0&&(Na=null),xh(v.stateNode),fs(c,Ue()),f!==null)for(x=c.onRecoverableError,v=0;v<f.length;v++)F=f[v],x(F.value,{componentStack:F.stack,digest:F.digest});if(Qg)throw Qg=!1,c=qy,qy=null,c;return Zg&1&&c.tag!==0&&Gu(),A=c.pendingLanes,A&1?c===Yy?ef++:(ef=0,Yy=c):ef=0,Pa(),null}function Gu(){if(Ia!==null){var c=zT(Zg),f=ri.transition,v=nr;try{if(ri.transition=null,nr=16>c?16:c,Ia===null)var x=!1;else{if(c=Ia,Ia=null,Zg=0,$t&6)throw Error(r(331));var F=$t;for($t|=4,at=c.current;at!==null;){var A=at,k=A.child;if(at.flags&16){var X=A.deletions;if(X!==null){for(var ee=0;ee<X.length;ee++){var Ee=X[ee];for(at=Ee;at!==null;){var je=at;switch(je.tag){case 0:case 11:case 15:Qh(8,je,A)}var He=je.child;if(He!==null)He.return=je,at=He;else for(;at!==null;){je=at;var Le=je.sibling,nt=je.return;if(WP(je),je===Ee){at=null;break}if(Le!==null){Le.return=nt,at=Le;break}at=nt}}}var ct=A.alternate;if(ct!==null){var dt=ct.child;if(dt!==null){ct.child=null;do{var Ur=dt.sibling;dt.sibling=null,dt=Ur}while(dt!==null)}}at=A}}if(A.subtreeFlags&2064&&k!==null)k.return=A,at=k;else e:for(;at!==null;){if(A=at,A.flags&2048)switch(A.tag){case 0:case 11:case 15:Qh(9,A,A.return)}var he=A.sibling;if(he!==null){he.return=A.return,at=he;break e}at=A.return}}var ae=c.current;for(at=ae;at!==null;){k=at;var ge=k.child;if(k.subtreeFlags&2064&&ge!==null)ge.return=k,at=ge;else e:for(k=ae;at!==null;){if(X=at,X.flags&2048)try{switch(X.tag){case 0:case 11:case 15:qg(9,X)}}catch(ht){Lr(X,X.return,ht)}if(X===k){at=null;break e}var qe=X.sibling;if(qe!==null){qe.return=X.return,at=qe;break e}at=X.return}}if($t=F,Pa(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Xi,c)}catch{}x=!0}return x}finally{nr=v,ri.transition=f}}return!1}function iA(c,f,v){f=ku(v,f),f=EP(c,f,1),c=Da(c,f,1),f=Hn(),c!==null&&(bh(c,1,f),fs(c,f))}function Lr(c,f,v){if(c.tag===3)iA(c,c,v);else for(;f!==null;){if(f.tag===3){iA(f,c,v);break}else if(f.tag===1){var x=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Na===null||!Na.has(x))){c=ku(v,c),c=bP(f,c,1),f=Da(f,c,1),c=Hn(),f!==null&&(bh(f,1,c),fs(f,c));break}}f=f.return}}function vV(c,f,v){var x=c.pingCache;x!==null&&x.delete(f),f=Hn(),c.pingedLanes|=c.suspendedLanes&v,an===c&&(gn&v)===v&&(tn===4||tn===3&&(gn&130023424)===gn&&500>Ue()-Ky?Jl(c,0):zy|=v),fs(c,f)}function oA(c,f){f===0&&(c.mode&1?(f=cg,cg<<=1,!(cg&130023424)&&(cg=4194304)):f=1);var v=Hn();c=Lo(c,f),c!==null&&(bh(c,f,v),fs(c,v))}function CV(c){var f=c.memoizedState,v=0;f!==null&&(v=f.retryLane),oA(c,v)}function yV(c,f){var v=0;switch(c.tag){case 13:var x=c.stateNode,F=c.memoizedState;F!==null&&(v=F.retryLane);break;case 19:x=c.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(f),oA(c,v)}var aA;aA=function(c,f,v){if(c!==null)if(c.memoizedProps!==f.pendingProps||cs.current)ds=!0;else{if(!(c.lanes&v)&&!(f.flags&128))return ds=!1,oV(c,f,v);ds=!!(c.flags&131072)}else ds=!1,Rr&&f.flags&1048576&&GF(f,Mg,f.index);switch(f.lanes=0,f.tag){case 2:var x=f.type;zg(c,f),c=f.pendingProps;var F=Pu(f,Rn.current);Ou(f,v),F=by(null,f,x,c,F,v);var A=Ry();return f.flags|=1,typeof F=="object"&&F!==null&&typeof F.render=="function"&&F.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,us(x)?(A=!0,Pg(f)):A=!1,f.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,vy(f),F.updater=$g,f.stateNode=F,F._reactInternals=f,My(f,x,c,v),f=Ly(null,f,x,!0,A,v)):(f.tag=0,Rr&&A&&ay(f),Gn(null,f,F,v),f=f.child),f;case 16:x=f.elementType;e:{switch(zg(c,f),c=f.pendingProps,F=x._init,x=F(x._payload),f.type=x,F=f.tag=SV(x),c=Ri(x,c),F){case 0:f=Oy(null,f,x,c,v);break e;case 1:f=IP(null,f,x,c,v);break e;case 11:f=PP(null,f,x,c,v);break e;case 14:f=AP(null,f,x,Ri(x.type,c),v);break e}throw Error(r(306,x,""))}return f;case 0:return x=f.type,F=f.pendingProps,F=f.elementType===x?F:Ri(x,F),Oy(c,f,x,F,v);case 1:return x=f.type,F=f.pendingProps,F=f.elementType===x?F:Ri(x,F),IP(c,f,x,F,v);case 3:e:{if(OP(f),c===null)throw Error(r(387));x=f.pendingProps,A=f.memoizedState,F=A.element,YF(c,f),_g(f,x,null,v);var k=f.memoizedState;if(x=k.element,A.isDehydrated)if(A={element:x,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},f.updateQueue.baseState=A,f.memoizedState=A,f.flags&256){F=ku(Error(r(423)),f),f=LP(c,f,x,v,F);break e}else if(x!==F){F=ku(Error(r(424)),f),f=LP(c,f,x,v,F);break e}else for(Is=Ra(f.stateNode.containerInfo.firstChild),Ns=f,Rr=!0,bi=null,v=KF(f,null,x,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Mu(),x===F){f=_o(c,f,v);break e}Gn(c,f,x,v)}f=f.child}return f;case 5:return JF(f),c===null&&uy(f),x=f.type,F=f.pendingProps,A=c!==null?c.memoizedProps:null,k=F.children,ty(x,F)?k=null:A!==null&&ty(x,A)&&(f.flags|=32),NP(c,f),Gn(c,f,k,v),f.child;case 6:return c===null&&uy(f),null;case 13:return kP(c,f,v);case 4:return Cy(f,f.stateNode.containerInfo),x=f.pendingProps,c===null?f.child=Nu(f,null,x,v):Gn(c,f,x,v),f.child;case 11:return x=f.type,F=f.pendingProps,F=f.elementType===x?F:Ri(x,F),PP(c,f,x,F,v);case 7:return Gn(c,f,f.pendingProps,v),f.child;case 8:return Gn(c,f,f.pendingProps.children,v),f.child;case 12:return Gn(c,f,f.pendingProps.children,v),f.child;case 10:e:{if(x=f.type._context,F=f.pendingProps,A=f.memoizedProps,k=F.value,vr(Og,x._currentValue),x._currentValue=k,A!==null)if(Ei(A.value,k)){if(A.children===F.children&&!cs.current){f=_o(c,f,v);break e}}else for(A=f.child,A!==null&&(A.return=f);A!==null;){var X=A.dependencies;if(X!==null){k=A.child;for(var ee=X.firstContext;ee!==null;){if(ee.context===x){if(A.tag===1){ee=ko(-1,v&-v),ee.tag=2;var Ee=A.updateQueue;if(Ee!==null){Ee=Ee.shared;var je=Ee.pending;je===null?ee.next=ee:(ee.next=je.next,je.next=ee),Ee.pending=ee}}A.lanes|=v,ee=A.alternate,ee!==null&&(ee.lanes|=v),gy(A.return,v,f),X.lanes|=v;break}ee=ee.next}}else if(A.tag===10)k=A.type===f.type?null:A.child;else if(A.tag===18){if(k=A.return,k===null)throw Error(r(341));k.lanes|=v,X=k.alternate,X!==null&&(X.lanes|=v),gy(k,v,f),k=A.sibling}else k=A.child;if(k!==null)k.return=A;else for(k=A;k!==null;){if(k===f){k=null;break}if(A=k.sibling,A!==null){A.return=k.return,k=A;break}k=k.return}A=k}Gn(c,f,F.children,v),f=f.child}return f;case 9:return F=f.type,x=f.pendingProps.children,Ou(f,v),F=ei(F),x=x(F),f.flags|=1,Gn(c,f,x,v),f.child;case 14:return x=f.type,F=Ri(x,f.pendingProps),F=Ri(x.type,F),AP(c,f,x,F,v);case 15:return DP(c,f,f.type,f.pendingProps,v);case 17:return x=f.type,F=f.pendingProps,F=f.elementType===x?F:Ri(x,F),zg(c,f),f.tag=1,us(x)?(c=!0,Pg(f)):c=!1,Ou(f,v),SP(f,x,F),My(f,x,F,v),Ly(null,f,x,!0,c,v);case 19:return jP(c,f,v);case 22:return MP(c,f,v)}throw Error(r(156,f.tag))};function lA(c,f){return Ge(c,f)}function wV(c,f,v,x){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(c,f,v,x){return new wV(c,f,v,x)}function tw(c){return c=c.prototype,!(!c||!c.isReactComponent)}function SV(c){if(typeof c=="function")return tw(c)?1:0;if(c!=null){if(c=c.$$typeof,c===B)return 11;if(c===Se)return 14}return 2}function ka(c,f){var v=c.alternate;return v===null?(v=ni(c.tag,f,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=f,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&14680064,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,f=c.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function nm(c,f,v,x,F,A){var k=2;if(x=c,typeof c=="function")tw(c)&&(k=1);else if(typeof c=="string")k=5;else e:switch(c){case D:return ec(v.children,F,A,f);case N:k=8,F|=8;break;case O:return c=ni(12,v,f,F|2),c.elementType=O,c.lanes=A,c;case oe:return c=ni(13,v,f,F),c.elementType=oe,c.lanes=A,c;case pe:return c=ni(19,v,f,F),c.elementType=pe,c.lanes=A,c;case se:return sm(v,F,A,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case j:k=10;break e;case W:k=9;break e;case B:k=11;break e;case Se:k=14;break e;case we:k=16,x=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return f=ni(k,v,f,F),f.elementType=c,f.type=x,f.lanes=A,f}function ec(c,f,v,x){return c=ni(7,c,x,f),c.lanes=v,c}function sm(c,f,v,x){return c=ni(22,c,x,f),c.elementType=se,c.lanes=v,c.stateNode={isHidden:!1},c}function rw(c,f,v){return c=ni(6,c,null,f),c.lanes=v,c}function nw(c,f,v){return f=ni(4,c.children!==null?c.children:[],c.key,f),f.lanes=v,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function xV(c,f,v,x,F){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=DC(0),this.expirationTimes=DC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=DC(0),this.identifierPrefix=x,this.onRecoverableError=F,this.mutableSourceEagerHydrationData=null}function sw(c,f,v,x,F,A,k,X,ee){return c=new xV(c,f,v,X,ee),f===1?(f=1,A===!0&&(f|=8)):f=0,A=ni(3,null,null,f),c.current=A,A.stateNode=c,A.memoizedState={element:x,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},vy(A),c}function EV(c,f,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:x==null?null:""+x,children:c,containerInfo:f,implementation:v}}function cA(c){if(!c)return Fa;c=c._reactInternals;e:{if(Y(c)!==c||c.tag!==1)throw Error(r(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(us(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(r(171))}if(c.tag===1){var v=c.type;if(us(v))return _F(c,v,f)}return f}function uA(c,f,v,x,F,A,k,X,ee){return c=sw(v,x,!0,c,F,A,k,X,ee),c.context=cA(null),v=c.current,x=Hn(),F=Oa(v),A=ko(x,F),A.callback=f??null,Da(v,A,F),c.current.lanes=F,bh(c,F,x),fs(c,x),c}function im(c,f,v,x){var F=f.current,A=Hn(),k=Oa(F);return v=cA(v),f.context===null?f.context=v:f.pendingContext=v,f=ko(A,k),f.payload={element:c},x=x===void 0?null:x,x!==null&&(f.callback=x),c=Da(F,f,k),c!==null&&(Pi(c,F,k,A),kg(c,F,k)),k}function om(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function dA(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<f?v:f}}function iw(c,f){dA(c,f),(c=c.alternate)&&dA(c,f)}function bV(){return null}var hA=typeof reportError=="function"?reportError:function(c){console.error(c)};function ow(c){this._internalRoot=c}am.prototype.render=ow.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(r(409));im(c,f,null,null)},am.prototype.unmount=ow.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;Ql(function(){im(null,c,null,null)}),f[Mo]=null}};function am(c){this._internalRoot=c}am.prototype.unstable_scheduleHydration=function(c){if(c){var f=YT();c={blockedOn:null,target:c,priority:f};for(var v=0;v<xa.length&&f!==0&&f<xa[v].priority;v++);xa.splice(v,0,c),v===0&&JT(c)}};function aw(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function lm(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function fA(){}function RV(c,f,v,x,F){if(F){if(typeof x=="function"){var A=x;x=function(){var Ee=om(k);A.call(Ee)}}var k=uA(f,x,c,0,null,!1,!1,"",fA);return c._reactRootContainer=k,c[Mo]=k.current,jh(c.nodeType===8?c.parentNode:c),Ql(),k}for(;F=c.lastChild;)c.removeChild(F);if(typeof x=="function"){var X=x;x=function(){var Ee=om(ee);X.call(Ee)}}var ee=sw(c,0,!1,null,null,!1,!1,"",fA);return c._reactRootContainer=ee,c[Mo]=ee.current,jh(c.nodeType===8?c.parentNode:c),Ql(function(){im(f,ee,v,x)}),ee}function cm(c,f,v,x,F){var A=v._reactRootContainer;if(A){var k=A;if(typeof F=="function"){var X=F;F=function(){var ee=om(k);X.call(ee)}}im(f,k,c,F)}else k=RV(v,f,c,F,x);return om(k)}KT=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var v=Eh(f.pendingLanes);v!==0&&(MC(f,v|1),fs(f,Ue()),!($t&6)&&(Bu=Ue()+500,Pa()))}break;case 13:Ql(function(){var x=Lo(c,1);if(x!==null){var F=Hn();Pi(x,c,1,F)}}),iw(c,1)}},NC=function(c){if(c.tag===13){var f=Lo(c,134217728);if(f!==null){var v=Hn();Pi(f,c,134217728,v)}iw(c,134217728)}},qT=function(c){if(c.tag===13){var f=Oa(c),v=Lo(c,f);if(v!==null){var x=Hn();Pi(v,c,f,x)}iw(c,f)}},YT=function(){return nr},XT=function(c,f){var v=nr;try{return nr=c,f()}finally{nr=v}},xi=function(c,f,v){switch(f){case"input":if(Ve(c,v),f=v.name,v.type==="radio"&&f!=null){for(v=c;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<v.length;f++){var x=v[f];if(x!==c&&x.form===c.form){var F=Tg(x);if(!F)throw Error(r(90));Fe(x),Ve(x,F)}}}break;case"textarea":ze(c,v);break;case"select":f=v.value,f!=null&&Mt(c,!!v.multiple,f,!1)}},ig=Jy,og=Ql;var TV={usingClientEntryPoint:!1,Events:[Hh,Tu,Tg,ng,sg,Jy]},tf={findFiberByHostInstance:Wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FV={bundleType:tf.bundleType,version:tf.version,rendererPackageName:tf.rendererPackageName,rendererConfig:tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=ye(c),c===null?null:c.stateNode},findFiberByHostInstance:tf.findFiberByHostInstance||bV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!um.isDisabled&&um.supportsFiber)try{Xi=um.inject(FV),sn=um}catch{}}return ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TV,ps.createPortal=function(c,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aw(f))throw Error(r(200));return EV(c,f,null,v)},ps.createRoot=function(c,f){if(!aw(c))throw Error(r(299));var v=!1,x="",F=hA;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onRecoverableError!==void 0&&(F=f.onRecoverableError)),f=sw(c,1,!1,null,null,v,!1,x,F),c[Mo]=f.current,jh(c.nodeType===8?c.parentNode:c),new ow(f)},ps.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=ye(f),c=c===null?null:c.stateNode,c},ps.flushSync=function(c){return Ql(c)},ps.hydrate=function(c,f,v){if(!lm(f))throw Error(r(200));return cm(null,c,f,!0,v)},ps.hydrateRoot=function(c,f,v){if(!aw(c))throw Error(r(405));var x=v!=null&&v.hydratedSources||null,F=!1,A="",k=hA;if(v!=null&&(v.unstable_strictMode===!0&&(F=!0),v.identifierPrefix!==void 0&&(A=v.identifierPrefix),v.onRecoverableError!==void 0&&(k=v.onRecoverableError)),f=uA(f,null,c,1,v??null,F,!1,A,k),c[Mo]=f.current,jh(c),x)for(c=0;c<x.length;c++)v=x[c],F=v._getVersion,F=F(v._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[v,F]:f.mutableSourceEagerHydrationData.push(v,F);return new am(f)},ps.render=function(c,f,v){if(!lm(f))throw Error(r(200));return cm(null,c,f,!1,v)},ps.unmountComponentAtNode=function(c){if(!lm(c))throw Error(r(40));return c._reactRootContainer?(Ql(function(){cm(null,null,c,!1,function(){c._reactRootContainer=null,c[Mo]=null})}),!0):!1},ps.unstable_batchedUpdates=Jy,ps.unstable_renderSubtreeIntoContainer=function(c,f,v,x){if(!lm(v))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return cm(c,f,v,!1,x)},ps.version="18.3.1-next-f1338f8080-20240426",ps}var xA;function MI(){if(xA)return dw.exports;xA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dw.exports=kV(),dw.exports}var EA;function _V(){if(EA)return hm;EA=1;var e=MI();return hm.createRoot=e.createRoot,hm.hydrateRoot=e.hydrateRoot,hm}var jV=_V(),nf={},bA;function BV(){if(bA)return nf;bA=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.parse=o,nf.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,C){const w=new i,y=g.length;if(y<2)return w;const S=(C==null?void 0:C.decode)||h;let E=0;do{const b=g.indexOf("=",E);if(b===-1)break;const T=g.indexOf(";",E),R=T===-1?y:T;if(b>R){E=g.lastIndexOf(";",b-1)+1;continue}const P=a(g,E,b),M=l(g,b,P),D=g.slice(P,M);if(w[D]===void 0){let N=a(g,b+1,R),O=l(g,R,N);const j=S(g.slice(N,O));w[D]=j}E=R+1}while(E<y);return w}function a(g,C,w){do{const y=g.charCodeAt(C);if(y!==32&&y!==9)return C}while(++C<w);return w}function l(g,C,w){for(;C>w;){const y=g.charCodeAt(--C);if(y!==32&&y!==9)return C+1}return w}function u(g,C,w){const y=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(g))throw new TypeError(`argument name is invalid: ${g}`);const S=y(C);if(!t.test(S))throw new TypeError(`argument val is invalid: ${C}`);let E=g+"="+S;if(!w)return E;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);E+="; Max-Age="+w.maxAge}if(w.domain){if(!r.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);E+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);E+="; Path="+w.path}if(w.expires){if(!p(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);E+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(E+="; HttpOnly"),w.secure&&(E+="; Secure"),w.partitioned&&(E+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return E}function h(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return s.call(g)==="[object Date]"}return nf}BV();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var RA="popstate";function GV(e={}){function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return _S("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Hf(s)}return VV(t,r,null,e)}function Tr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $i(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HV(){return Math.random().toString(36).substring(2,10)}function TA(e,t){return{usr:e.state,key:e.key,idx:t}}function _S(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xd(t):t,state:r,key:t&&t.key||n||HV()}}function Hf({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function VV(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function p(){a="POP";let S=h(),E=S==null?null:S-u;u=S,l&&l({action:a,location:y.location,delta:E})}function g(S,E){a="PUSH";let b=_S(y.location,S,E);u=h()+1;let T=TA(b,u),R=y.createHref(b);try{o.pushState(T,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(R)}i&&l&&l({action:a,location:y.location,delta:1})}function C(S,E){a="REPLACE";let b=_S(y.location,S,E);u=h();let T=TA(b,u),R=y.createHref(b);o.replaceState(T,"",R),i&&l&&l({action:a,location:y.location,delta:0})}function w(S){let E=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof S=="string"?S:Hf(S);return b=b.replace(/ $/,"%20"),Tr(E,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,E)}let y={get action(){return a},get location(){return e(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(RA,p),l=S,()=>{s.removeEventListener(RA,p),l=null}},createHref(S){return t(s,S)},createURL:w,encodeLocation(S){let E=w(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:C,go(S){return o.go(S)}};return y}function NI(e,t,r="/"){return WV(e,t,r,!1)}function WV(e,t,r,n){let s=typeof t=="string"?Xd(t):t,i=gl(s.pathname||"/",r);if(i==null)return null;let o=II(e);$V(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=t9(i);a=ZV(o[l],u,n)}return a}function II(e,t=[],r=[],n=""){let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Tr(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=qo([n,l.relativePath]),h=r.concat(l);i.children&&i.children.length>0&&(Tr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),II(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:QV(u,i.index),routesMeta:h})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of OI(i.path))s(i,o,l)}),t}function OI(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=OI(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function $V(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:JV(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var UV=/^:[\w-]+$/,zV=3,KV=2,qV=1,YV=10,XV=-2,FA=e=>e==="*";function QV(e,t){let r=e.split("/"),n=r.length;return r.some(FA)&&(n+=XV),t&&(n+=KV),r.filter(s=>!FA(s)).reduce((s,i)=>s+(UV.test(i)?zV:i===""?qV:YV),n)}function JV(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function ZV(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=Cv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),g=l.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=Cv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:qo([i,p.pathname]),pathnameBase:i9(qo([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=qo([i,p.pathnameBase]))}return o}function Cv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=e9(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:p},g)=>{if(h==="*"){let w=a[g]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const C=a[g];return p&&!C?u[h]=void 0:u[h]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function e9(e,t=!1,r=!0){$i(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function t9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $i(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function gl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function r9(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Xd(e):e;return{pathname:r?r.startsWith("/")?r:n9(r,t):t,search:o9(n),hash:a9(s)}}function n9(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function pw(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s9(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function I1(e){let t=s9(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function O1(e,t,r,n=!1){let s;typeof e=="string"?s=Xd(e):(s={...e},Tr(!s.pathname||!s.pathname.includes("?"),pw("?","pathname","search",s)),Tr(!s.pathname||!s.pathname.includes("#"),pw("#","pathname","hash",s)),Tr(!s.search||!s.search.includes("#"),pw("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}a=p>=0?t[p]:"/"}let l=r9(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var qo=e=>e.join("/").replace(/\/\/+/g,"/"),i9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),o9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,a9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,l9=class{constructor(e,t){this.type="DataWithResponseInit",this.data=e,this.init=t||null}};function S0(e,t){return new l9(e,typeof t=="number"?{status:t}:t)}function c9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var LI=["POST","PUT","PATCH","DELETE"];new Set(LI);var u9=["GET",...LI];new Set(u9);var Qd=m.createContext(null);Qd.displayName="DataRouter";var x0=m.createContext(null);x0.displayName="DataRouterState";var kI=m.createContext({isTransitioning:!1});kI.displayName="ViewTransition";var d9=m.createContext(new Map);d9.displayName="Fetchers";var h9=m.createContext(null);h9.displayName="Await";var qi=m.createContext(null);qi.displayName="Navigation";var xp=m.createContext(null);xp.displayName="Location";var So=m.createContext({outlet:null,matches:[],isDataRoute:!1});So.displayName="Route";var L1=m.createContext(null);L1.displayName="RouteError";function f9(e,{relative:t}={}){Tr(Jd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=m.useContext(qi),{hash:s,pathname:i,search:o}=Ep(e,{relative:t}),a=i;return r!=="/"&&(a=i==="/"?r:qo([r,i])),n.createHref({pathname:a,search:o,hash:s})}function Jd(){return m.useContext(xp)!=null}function Fs(){return Tr(Jd(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(xp).location}var _I="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jI(e){m.useContext(qi).static||m.useLayoutEffect(e)}function _n(){let{isDataRoute:e}=m.useContext(So);return e?T9():p9()}function p9(){Tr(Jd(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(Qd),{basename:t,navigator:r}=m.useContext(qi),{matches:n}=m.useContext(So),{pathname:s}=Fs(),i=JSON.stringify(I1(n)),o=m.useRef(!1);return jI(()=>{o.current=!0}),m.useCallback((l,u={})=>{if($i(o.current,_I),!o.current)return;if(typeof l=="number"){r.go(l);return}let h=O1(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:qo([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,i,s,e])}m.createContext(null);function Ep(e,{relative:t}={}){let{matches:r}=m.useContext(So),{pathname:n}=Fs(),s=JSON.stringify(I1(r));return m.useMemo(()=>O1(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function g9(e,t){return BI(e,t)}function BI(e,t,r,n){var E;Tr(Jd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=m.useContext(qi),{matches:i}=m.useContext(So),o=i[i.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let b=h&&h.path||"";GI(l,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let p=Fs(),g;if(t){let b=typeof t=="string"?Xd(t):t;Tr(u==="/"||((E=b.pathname)==null?void 0:E.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${b.pathname}" was given in the \`location\` prop.`),g=b}else g=p;let C=g.pathname||"/",w=C;if(u!=="/"){let b=u.replace(/^\//,"").split("/");w="/"+C.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=NI(e,{pathname:w});$i(h||y!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),$i(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=w9(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:qo([u,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:qo([u,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&S?m.createElement(xp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function m9(){let e=R9(),t=c9(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:i},"ErrorBoundary")," or"," ",m.createElement("code",{style:i},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,o)}var v9=m.createElement(m9,null),C9=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?m.createElement(So.Provider,{value:this.props.routeContext},m.createElement(L1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function y9({routeContext:e,match:t,children:r}){let n=m.useContext(Qd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(So.Provider,{value:e},r)}function w9(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r==null?void 0:r.errors;if(i!=null){let l=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);Tr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(r)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:h,errors:p}=r,g=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,u,h)=>{let p,g=!1,C=null,w=null;r&&(p=i&&u.route.id?i[u.route.id]:void 0,C=u.route.errorElement||v9,o&&(a<0&&h===0?(GI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):a===h&&(g=!0,w=u.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),S=()=>{let E;return p?E=C:g?E=w:u.route.Component?E=m.createElement(u.route.Component,null):u.route.element?E=u.route.element:E=l,m.createElement(y9,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:r!=null},children:E})};return r&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?m.createElement(C9,{location:r.location,revalidation:r.revalidation,component:C,error:p,children:S(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):S()},null)}function k1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S9(e){let t=m.useContext(Qd);return Tr(t,k1(e)),t}function x9(e){let t=m.useContext(x0);return Tr(t,k1(e)),t}function E9(e){let t=m.useContext(So);return Tr(t,k1(e)),t}function _1(e){let t=E9(e),r=t.matches[t.matches.length-1];return Tr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function b9(){return _1("useRouteId")}function R9(){var n;let e=m.useContext(L1),t=x9("useRouteError"),r=_1("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function T9(){let{router:e}=S9("useNavigate"),t=_1("useNavigate"),r=m.useRef(!1);return jI(()=>{r.current=!0}),m.useCallback(async(s,i={})=>{$i(r.current,_I),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var PA={};function GI(e,t,r){!t&&!PA[e]&&(PA[e]=!0,$i(!1,r))}m.memo(F9);function F9({routes:e,future:t,state:r}){return BI(e,void 0,r,t)}function P9({to:e,replace:t,state:r,relative:n}){Tr(Jd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=m.useContext(qi);$i(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=m.useContext(So),{pathname:o}=Fs(),a=_n(),l=O1(e,I1(i),o,n==="path"),u=JSON.stringify(l);return m.useEffect(()=>{a(JSON.parse(u),{replace:t,state:r,relative:n})},[a,u,n,t,r]),null}function Xt(e){Tr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A9({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){Tr(!Jd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=m.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=Xd(r));let{pathname:l="/",search:u="",hash:h="",state:p=null,key:g="default"}=r,C=m.useMemo(()=>{let w=gl(l,o);return w==null?null:{location:{pathname:w,search:u,hash:h,state:p,key:g},navigationType:n}},[o,l,u,h,p,g,n]);return $i(C!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:m.createElement(qi.Provider,{value:a},m.createElement(xp.Provider,{children:t,value:C}))}function D9({children:e,location:t}){return g9(jS(e),t)}function jS(e,t=[]){let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let i=[...t,s];if(n.type===m.Fragment){r.push.apply(r,jS(n.props.children,i));return}Tr(n.type===Xt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=jS(n.props.children,i)),r.push(o)}),r}var ev="get",tv="application/x-www-form-urlencoded";function E0(e){return e!=null&&typeof e.tagName=="string"}function M9(e){return E0(e)&&e.tagName.toLowerCase()==="button"}function N9(e){return E0(e)&&e.tagName.toLowerCase()==="form"}function I9(e){return E0(e)&&e.tagName.toLowerCase()==="input"}function O9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L9(e,t){return e.button===0&&(!t||t==="_self")&&!O9(e)}var fm=null;function k9(){if(fm===null)try{new FormData(document.createElement("form"),0),fm=!1}catch{fm=!0}return fm}var _9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gw(e){return e!=null&&!_9.has(e)?($i(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tv}"`),null):e}function j9(e,t){let r,n,s,i,o;if(N9(e)){let a=e.getAttribute("action");n=a?gl(a,t):null,r=e.getAttribute("method")||ev,s=gw(e.getAttribute("enctype"))||tv,i=new FormData(e)}else if(M9(e)||I9(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(n=l?gl(l,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||ev,s=gw(e.getAttribute("formenctype"))||gw(a.getAttribute("enctype"))||tv,i=new FormData(a,e),!k9()){let{name:u,type:h,value:p}=e;if(h==="image"){let g=u?`${u}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else u&&i.append(u,p)}}else{if(E0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ev,n=null,s=tv,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}function j1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function B9(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G9(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function H9(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await B9(i,r);return o.links?o.links():[]}return[]}));return U9(n.flat(1).filter(G9).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function AA(e,t,r,n,s,i){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,a=(l,u)=>{var h;return r[u].pathname!==l.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?t.filter((l,u)=>{var p;let h=n.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function V9(e,t){return W9(e.map(r=>{let n=t.routes[r.route.id];if(!n)return[];let s=[n.module];return n.imports&&(s=s.concat(n.imports)),s}).flat(1))}function W9(e){return[...new Set(e)]}function $9(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function U9(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify($9(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function z9(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function K9(){let e=m.useContext(Qd);return j1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function q9(){let e=m.useContext(x0);return j1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var B1=m.createContext(void 0);B1.displayName="FrameworkContext";function HI(){let e=m.useContext(B1);return j1(e,"You must render this element inside a <HydratedRouter> element"),e}function Y9(e,t){let r=m.useContext(B1),[n,s]=m.useState(!1),[i,o]=m.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:p}=t,g=m.useRef(null);m.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=E=>{E.forEach(b=>{o(b.isIntersecting)})},S=new IntersectionObserver(y,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),m.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let C=()=>{s(!0)},w=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:sf(a,C),onBlur:sf(l,w),onMouseEnter:sf(u,C),onMouseLeave:sf(h,w),onTouchStart:sf(p,C)}]:[!1,g,{}]}function sf(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function X9({page:e,...t}){let{router:r}=K9(),n=m.useMemo(()=>NI(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?m.createElement(J9,{page:e,matches:n,...t}):(console.warn(`Tried to prefetch ${e} but no routes matched.`),null)}function Q9(e){let{manifest:t,routeModules:r}=HI(),[n,s]=m.useState([]);return m.useEffect(()=>{let i=!1;return H9(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function J9({page:e,matches:t,...r}){let n=Fs(),{manifest:s,routeModules:i}=HI(),{loaderData:o,matches:a}=q9(),l=m.useMemo(()=>AA(e,t,a,s,n,"data"),[e,t,a,s,n]),u=m.useMemo(()=>AA(e,t,a,s,n,"assets"),[e,t,a,s,n]),h=m.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let C=new Set,w=!1;if(t.forEach(S=>{var b;let E=s.routes[S.route.id];!E||!E.hasLoader||(!l.some(T=>T.route.id===S.route.id)&&S.route.id in o&&((b=i[S.route.id])!=null&&b.shouldRevalidate)||E.hasClientLoader?w=!0:C.add(S.route.id))}),C.size===0)return[];let y=z9(e);return w&&C.size>0&&y.searchParams.set("_routes",t.filter(S=>C.has(S.route.id)).map(S=>S.route.id).join(",")),[y.pathname+y.search]},[o,n,s,l,t,e,i]),p=m.useMemo(()=>V9(u,s),[u,s]),g=Q9(u);return m.createElement(m.Fragment,null,h.map(C=>m.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),p.map(C=>m.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),g.map(({key:C,link:w})=>m.createElement("link",{key:C,...w})))}function Z9(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var VI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VI&&(window.__reactRouterVersion="7.0.2")}catch{}function eW({basename:e,children:t,window:r}){let n=m.useRef();n.current==null&&(n.current=GV({window:r,v5Compat:!0}));let s=n.current,[i,o]=m.useState({action:s.action,location:s.location}),a=m.useCallback(l=>{m.startTransition(()=>o(l))},[o]);return m.useLayoutEffect(()=>s.listen(a),[s,a]),m.createElement(A9,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var WI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$I=m.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:p,...g},C){let{basename:w}=m.useContext(qi),y=typeof u=="string"&&WI.test(u),S,E=!1;if(typeof u=="string"&&y&&(S=u,VI))try{let O=new URL(window.location.href),j=u.startsWith("//")?new URL(O.protocol+u):new URL(u),W=gl(j.pathname,w);j.origin===O.origin&&W!=null?u=W+j.search+j.hash:E=!0}catch{$i(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=f9(u,{relative:s}),[T,R,P]=Y9(n,g),M=sW(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:p});function D(O){t&&t(O),O.defaultPrevented||M(O)}let N=m.createElement("a",{...g,...P,href:S||b,onClick:E||i?t:D,ref:Z9(C,R),target:l,"data-discover":!y&&r==="render"?"true":void 0});return T&&!y?m.createElement(m.Fragment,null,N,m.createElement(X9,{page:b})):N});$I.displayName="Link";var tW=m.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},h){let p=Ep(o,{relative:u.relative}),g=Fs(),C=m.useContext(x0),{navigator:w,basename:y}=m.useContext(qi),S=C!=null&&cW(p)&&a===!0,E=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,b=g.pathname,T=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(b=b.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&y&&(T=gl(T,y)||T);const R=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let P=b===E||!s&&b.startsWith(E)&&b.charAt(R)==="/",M=T!=null&&(T===E||!s&&T.startsWith(E)&&T.charAt(E.length)==="/"),D={isActive:P,isPending:M,isTransitioning:S},N=P?t:void 0,O;typeof n=="function"?O=n(D):O=[n,P?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let j=typeof i=="function"?i(D):i;return m.createElement($I,{...u,"aria-current":N,className:O,ref:h,style:j,to:o,viewTransition:a},typeof l=="function"?l(D):l)});tW.displayName="NavLink";var rW=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=ev,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:p,...g},C)=>{let w=aW(),y=lW(a,{relative:u}),S=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&WI.test(a),b=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let R=T.nativeEvent.submitter,P=(R==null?void 0:R.getAttribute("formmethod"))||o;w(R||T.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:s,state:i,relative:u,preventScrollReset:h,viewTransition:p})};return m.createElement("form",{ref:C,method:S,action:y,onSubmit:n?l:b,...g,"data-discover":!E&&e==="render"?"true":void 0})});rW.displayName="Form";function nW(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UI(e){let t=m.useContext(Qd);return Tr(t,nW(e)),t}function sW(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=_n(),l=Fs(),u=Ep(e,{relative:i});return m.useCallback(h=>{if(L9(h,t)){h.preventDefault();let p=r!==void 0?r:Hf(l)===Hf(u);a(e,{replace:p,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,u,r,n,t,e,s,i,o])}var iW=0,oW=()=>`__${String(++iW)}__`;function aW(){let{router:e}=UI("useSubmit"),{basename:t}=m.useContext(qi),r=b9();return m.useCallback(async(n,s={})=>{let{action:i,method:o,encType:a,formData:l,body:u}=j9(n,t);if(s.navigate===!1){let h=s.fetcherKey||oW();await e.fetch(h,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function lW(e,{relative:t}={}){let{basename:r}=m.useContext(qi),n=m.useContext(So);Tr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Ep(e||".",{relative:t})},o=Fs();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let h=a.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:qo([r,i.pathname])),Hf(i)}function cW(e,t={}){let r=m.useContext(kI);Tr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=UI("useViewTransitionState"),s=Ep(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=gl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=gl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Cv(s.pathname,o)!=null||Cv(s.pathname,i)!=null}new TextEncoder;var vi=MI();const Zd=w0(vi),Jr=()=>d.jsx("div",{className:"flex h-screen/2 items-center justify-center ",children:d.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-solid border-primary border-t-transparent"})}),zI=m.createContext(null),G1=()=>{const e=m.useContext(zI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},uW=({children:e})=>{const[t,r]=m.useState(!1),[n,s]=m.useState(!0),i=()=>{r(!0)};m.useEffect(()=>{const a=localStorage.getItem("user");a&&(console.log(a),r(!0)),s(!1)},[]);const o=()=>{localStorage.removeItem("user"),r(!1)};return d.jsx(zI.Provider,{value:{isAuthenticated:t,login:i,logout:o,isLoading:n},children:e})},sr=({children:e})=>{const{isAuthenticated:t,isLoading:r}=G1();return r?d.jsx(Jr,{}):t?d.jsxs(d.Fragment,{children:[" ",e," "]}):d.jsx(P9,{to:"/",replace:!0})};var KI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DA=De.createContext&&De.createContext(KI),dW=["attr","size","title"];function hW(e,t){if(e==null)return{};var r=fW(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(this,arguments)}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){pW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pW(e,t,r){return t=gW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=mW(e,"string");return typeof t=="symbol"?t:t+""}function mW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qI(e){return e&&e.map((t,r)=>De.createElement(t.tag,wv({key:r},t.attr),qI(t.child)))}function jn(e){return t=>De.createElement(vW,yv({attr:wv({},e.attr)},t),qI(e.child))}function vW(e){var t=r=>{var{attr:n,size:s,title:i}=e,o=hW(e,dW),a=s||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),De.createElement("svg",yv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:wv(wv({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&De.createElement("title",null,i),e.children)};return DA!==void 0?De.createElement(DA.Consumer,null,r=>t(r)):t(KI)}function CW(e){return jn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function yW(e){return jn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function wW(e){return jn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function SW(e){return jn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}let xW={data:""},EW=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||xW,bW=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,RW=/\/\*[^]*?\*\/|  +/g,NA=/\n+/g,Qa=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Qa(o,i):i+"{"+Qa(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Qa(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Qa.p?Qa.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Bo={},YI=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+YI(e[r]);return t}return e},TW=(e,t,r,n,s)=>{let i=YI(e),o=Bo[i]||(Bo[i]=(l=>{let u=0,h=11;for(;u<l.length;)h=101*h+l.charCodeAt(u++)>>>0;return"go"+h})(i));if(!Bo[o]){let l=i!==e?e:(u=>{let h,p,g=[{}];for(;h=bW.exec(u.replace(RW,""));)h[4]?g.shift():h[3]?(p=h[3].replace(NA," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][h[1]]=h[2].replace(NA," ").trim();return g[0]})(e);Bo[o]=Qa(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&Bo.g?Bo.g:null;return r&&(Bo.g=Bo[o]),((l,u,h,p)=>{p?u.data=u.data.replace(p,l):u.data.indexOf(l)===-1&&(u.data=h?l+u.data:u.data+l)})(Bo[o],t,n,a),o},FW=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Qa(a,""):a===!1?"":a}return n+s+(o??"")},"");function b0(e){let t=this||{},r=e.call?e(t.p):e;return TW(r.unshift?r.raw?FW(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,EW(t.target),t.g,t.o,t.k)}let XI,BS,GS;b0.bind({g:1});let sa=b0.bind({k:1});function PW(e,t,r,n){Qa.p=t,XI=e,BS=r,GS=n}function Fl(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:BS&&BS()},a),r.o=/ *go\d+/.test(l),a.className=b0.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),GS&&u[0]&&GS(a),XI(u,a)}return s}}var AW=e=>typeof e=="function",Sv=(e,t)=>AW(e)?e(t):e,DW=(()=>{let e=0;return()=>(++e).toString()})(),QI=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),MW=20,rv=new Map,NW=1e3,IA=e=>{if(rv.has(e))return;let t=setTimeout(()=>{rv.delete(e),Xc({type:4,toastId:e})},NW);rv.set(e,t)},IW=e=>{let t=rv.get(e);t&&clearTimeout(t)},HS=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,MW)};case 1:return t.toast.id&&IW(t.toast.id),{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return e.toasts.find(i=>i.id===r.id)?HS(e,{type:1,toast:r}):HS(e,{type:0,toast:r});case 3:let{toastId:n}=t;return n?IA(n):e.toasts.forEach(i=>{IA(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},nv=[],sv={toasts:[],pausedAt:void 0},Xc=e=>{sv=HS(sv,e),nv.forEach(t=>{t(sv)})},OW={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},LW=(e={})=>{let[t,r]=m.useState(sv);m.useEffect(()=>(nv.push(r),()=>{let s=nv.indexOf(r);s>-1&&nv.splice(s,1)}),[t]);let n=t.toasts.map(s=>{var i,o;return{...e,...e[s.type],...s,duration:s.duration||((i=e[s.type])==null?void 0:i.duration)||(e==null?void 0:e.duration)||OW[s.type],style:{...e.style,...(o=e[s.type])==null?void 0:o.style,...s.style}}});return{...t,toasts:n}},kW=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||DW()}),bp=e=>(t,r)=>{let n=kW(t,e,r);return Xc({type:2,toast:n}),n.id},Vs=(e,t)=>bp("blank")(e,t);Vs.error=bp("error");Vs.success=bp("success");Vs.loading=bp("loading");Vs.custom=bp("custom");Vs.dismiss=e=>{Xc({type:3,toastId:e})};Vs.remove=e=>Xc({type:4,toastId:e});Vs.promise=(e,t,r)=>{let n=Vs.loading(t.loading,{...r,...r==null?void 0:r.loading});return e.then(s=>(Vs.success(Sv(t.success,s),{id:n,...r,...r==null?void 0:r.success}),s)).catch(s=>{Vs.error(Sv(t.error,s),{id:n,...r,...r==null?void 0:r.error})}),e};var _W=(e,t)=>{Xc({type:1,toast:{id:e,height:t}})},jW=()=>{Xc({type:5,time:Date.now()})},BW=e=>{let{toasts:t,pausedAt:r}=LW(e);m.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&Vs.dismiss(a.id);return}return setTimeout(()=>Vs.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,r]);let n=m.useCallback(()=>{r&&Xc({type:6,time:Date.now()})},[r]),s=m.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},h=t.filter(C=>(C.position||u)===(i.position||u)&&C.height),p=h.findIndex(C=>C.id===i.id),g=h.filter((C,w)=>w<p&&C.visible).length;return h.filter(C=>C.visible).slice(...a?[g+1]:[0,g]).reduce((C,w)=>C+(w.height||0)+l,0)},[t]);return{toasts:t,handlers:{updateHeight:_W,startPause:jW,endPause:n,calculateOffset:s}}},GW=sa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,HW=sa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VW=sa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,WW=Fl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${GW} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${HW} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${VW} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$W=sa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,UW=Fl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${$W} 1s linear infinite;
`,zW=sa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,KW=sa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,qW=Fl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zW} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${KW} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,YW=Fl("div")`
  position: absolute;
`,XW=Fl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,QW=sa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JW=Fl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${QW} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ZW=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?m.createElement(JW,null,t):t:r==="blank"?null:m.createElement(XW,null,m.createElement(UW,{...n}),r!=="loading"&&m.createElement(YW,null,r==="error"?m.createElement(WW,{...n}):m.createElement(qW,{...n})))},e7=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,t7=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,r7="0%{opacity:0;} 100%{opacity:1;}",n7="0%{opacity:1;} 100%{opacity:0;}",s7=Fl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,i7=Fl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,o7=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=QI()?[r7,n7]:[e7(r),t7(r)];return{animation:t?`${sa(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${sa(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},a7=m.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?o7(e.position||t||"top-center",e.visible):{opacity:0},i=m.createElement(ZW,{toast:e}),o=m.createElement(i7,{...e.ariaProps},Sv(e.message,e));return m.createElement(s7,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):m.createElement(m.Fragment,null,i,o))});PW(m.createElement);var l7=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=m.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return m.createElement("div",{ref:i,className:t,style:r},s)},c7=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:QI()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},u7=b0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,pm=16,d7=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=BW(r);return m.createElement("div",{style:{position:"fixed",zIndex:9999,top:pm,left:pm,right:pm,bottom:pm,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let h=u.position||t,p=l.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),g=c7(h,p);return m.createElement(l7,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?u7:"",style:g},u.type==="custom"?Sv(u.message,u):s?s(u):m.createElement(a7,{toast:u,position:h}))}))},rt=Vs;function JI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=JI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ZI(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=JI(e))&&(n&&(n+=" "),n+=t);return n}const H1="-",h7=e=>{const t=p7(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(H1);return a[0]===""&&a.length!==1&&a.shift(),eO(a,t)||f7(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},eO=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?eO(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(H1);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},OA=/^\[(.+)\]$/,f7=e=>{if(OA.test(e)){const t=OA.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},p7=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return m7(Object.entries(e.classGroups),r).forEach(([i,o])=>{VS(o,n,i,t)}),n},VS=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:LA(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(g7(s)){VS(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{VS(o,LA(t,i),r,n)})})},LA=(e,t)=>{let r=e;return t.split(H1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},g7=e=>e.isThemeGetter,m7=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,v7=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},tO="!",C7=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,h=0,p;for(let S=0;S<a.length;S++){let E=a[S];if(u===0){if(E===s&&(n||a.slice(S,S+i)===t)){l.push(a.slice(h,S)),h=S+i;continue}if(E==="/"){p=S;continue}}E==="["?u++:E==="]"&&u--}const g=l.length===0?a:a.substring(h),C=g.startsWith(tO),w=C?g.substring(1):g,y=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:C,baseClassName:w,maybePostfixModifierPosition:y}};return r?a=>r({className:a,parseClassName:o}):o},y7=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},w7=e=>({cache:v7(e.cacheSize),parseClassName:C7(e),...h7(e)}),S7=/\s+/,x7=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(S7);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:h,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:C}=r(u);let w=!!C,y=n(w?g.substring(0,C):g);if(!y){if(!w){a=u+(a.length>0?" "+a:a);continue}if(y=n(g),!y){a=u+(a.length>0?" "+a:a);continue}w=!1}const S=y7(h).join(":"),E=p?S+tO:S,b=E+y;if(i.includes(b))continue;i.push(b);const T=s(y,w);for(let R=0;R<T.length;++R){const P=T[R];i.push(E+P)}a=u+(a.length>0?" "+a:a)}return a};function E7(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=rO(t))&&(n&&(n+=" "),n+=r);return n}const rO=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=rO(e[n]))&&(r&&(r+=" "),r+=t);return r};function b7(e,...t){let r,n,s,i=o;function o(l){const u=t.reduce((h,p)=>p(h),e());return r=w7(u),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const h=x7(l,r);return s(l,h),h}return function(){return i(E7.apply(null,arguments))}}const Sr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},nO=/^\[(?:([a-z-]+):)?(.+)\]$/i,R7=/^\d+\/\d+$/,T7=new Set(["px","full","screen"]),F7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,D7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,M7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Go=e=>ud(e)||T7.has(e)||R7.test(e),ja=e=>eh(e,"length",B7),ud=e=>!!e&&!Number.isNaN(Number(e)),mw=e=>eh(e,"number",ud),of=e=>!!e&&Number.isInteger(Number(e)),N7=e=>e.endsWith("%")&&ud(e.slice(0,-1)),Nt=e=>nO.test(e),Ba=e=>F7.test(e),I7=new Set(["length","size","percentage"]),O7=e=>eh(e,I7,sO),L7=e=>eh(e,"position",sO),k7=new Set(["image","url"]),_7=e=>eh(e,k7,H7),j7=e=>eh(e,"",G7),af=()=>!0,eh=(e,t,r)=>{const n=nO.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},B7=e=>P7.test(e)&&!A7.test(e),sO=()=>!1,G7=e=>D7.test(e),H7=e=>M7.test(e),V7=()=>{const e=Sr("colors"),t=Sr("spacing"),r=Sr("blur"),n=Sr("brightness"),s=Sr("borderColor"),i=Sr("borderRadius"),o=Sr("borderSpacing"),a=Sr("borderWidth"),l=Sr("contrast"),u=Sr("grayscale"),h=Sr("hueRotate"),p=Sr("invert"),g=Sr("gap"),C=Sr("gradientColorStops"),w=Sr("gradientColorStopPositions"),y=Sr("inset"),S=Sr("margin"),E=Sr("opacity"),b=Sr("padding"),T=Sr("saturate"),R=Sr("scale"),P=Sr("sepia"),M=Sr("skew"),D=Sr("space"),N=Sr("translate"),O=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",Nt,t],B=()=>[Nt,t],oe=()=>["",Go,ja],pe=()=>["auto",ud,Nt],Se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],we=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",Nt],de=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[ud,Nt];return{cacheSize:500,separator:":",theme:{colors:[af],spacing:[Go,ja],blur:["none","",Ba,Nt],brightness:z(),borderColor:[e],borderRadius:["none","","full",Ba,Nt],borderSpacing:B(),borderWidth:oe(),contrast:z(),grayscale:ne(),hueRotate:z(),invert:ne(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[N7,ja],inset:W(),margin:W(),opacity:z(),padding:B(),saturate:z(),scale:z(),sepia:ne(),skew:z(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",Nt]}],container:["container"],columns:[{columns:[Ba]}],"break-after":[{"break-after":de()}],"break-before":[{"break-before":de()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Se(),Nt]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",of,Nt]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Nt]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",of,Nt]}],"grid-cols":[{"grid-cols":[af]}],"col-start-end":[{col:["auto",{span:["full",of,Nt]},Nt]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[af]}],"row-start-end":[{row:["auto",{span:[of,Nt]},Nt]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Nt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Nt,t]}],"min-w":[{"min-w":[Nt,t,"min","max","fit"]}],"max-w":[{"max-w":[Nt,t,"none","full","min","max","fit","prose",{screen:[Ba]},Ba]}],h:[{h:[Nt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Nt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Nt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Nt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ba,ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mw]}],"font-family":[{font:[af]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Nt]}],"line-clamp":[{"line-clamp":["none",ud,mw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Go,Nt]}],"list-image":[{"list-image":["none",Nt]}],"list-style-type":[{list:["none","disc","decimal",Nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Go,ja]}],"underline-offset":[{"underline-offset":["auto",Go,Nt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Se(),L7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",O7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...we(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:we()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...we()]}],"outline-offset":[{"outline-offset":[Go,Nt]}],"outline-w":[{outline:[Go,ja]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Go,ja]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ba,j7]}],"shadow-color":[{shadow:[af]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ba,Nt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[T]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Nt]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Nt]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[of,Nt]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Nt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Go,ja,mw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},W7=b7(V7);function jt(...e){return W7(ZI(e))}const Re=m.forwardRef(({className:e,type:t,...r},n)=>d.jsx("input",{type:t,className:jt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Re.displayName="Input";function kA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $7(...e){return t=>{let r=!1;const n=e.map(s=>{const i=kA(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():kA(e[s],null)}}}}var Pl=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),i=s.find(U7);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return d.jsx(WS,{...n,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return d.jsx(WS,{...n,ref:t,children:r})});Pl.displayName="Slot";var WS=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=K7(r);return m.cloneElement(r,{...z7(n,r.props),ref:t?$7(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});WS.displayName="SlotClone";var iO=({children:e})=>d.jsx(d.Fragment,{children:e});function U7(e){return m.isValidElement(e)&&e.type===iO}function z7(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function K7(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const _A=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,jA=ZI,oO=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return jA(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const h=r==null?void 0:r[u],p=i==null?void 0:i[u];if(h===null)return null;const g=_A(h)||_A(p);return s[u][g]}),a=r&&Object.entries(r).reduce((u,h)=>{let[p,g]=h;return g===void 0||(u[p]=g),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:p,className:g,...C}=h;return Object.entries(C).every(w=>{let[y,S]=w;return Array.isArray(S)?S.includes({...i,...a}[y]):{...i,...a}[y]===S})?[...u,p,g]:u},[]);return jA(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},q7=oO("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_t=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?Pl:"button";return d.jsx(o,{className:jt(q7({variant:t,size:r,className:e})),ref:i,...s})});_t.displayName="Button";const Ic="http://localhost:8081",_e=async(e,t={})=>{const r=localStorage.getItem("token"),n={"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{},...t.headers};try{const s=await fetch(`${Ic}${e}`,{...t,headers:n,cache:"no-cache"});if(!s.ok){const o=(await s.json()).message||s.statusText||"Something went wrong";throw new Error(o)}return await s.json()}catch(s){throw console.error("Error fetching data:",s),s}};var th=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oc=typeof window>"u"||"Deno"in globalThis;function ui(){}function Y7(e,t){return typeof e=="function"?e(t):e}function $S(e){return typeof e=="number"&&e>=0&&e!==1/0}function aO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function dd(e,t){return typeof e=="function"?e(t):e}function ki(e,t){return typeof e=="function"?e(t):e}function BA(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==V1(o,t.options))return!1}else if(!Vf(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function GA(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Lc(t.options.mutationKey)!==Lc(i))return!1}else if(!Vf(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function V1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Lc)(e)}function Lc(e){return JSON.stringify(e,(t,r)=>US(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Vf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Vf(e[r],t[r])):!1}function lO(e,t){if(e===t)return e;const r=HA(e)&&HA(t);if(r||US(e)&&US(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,a=r?[]:{};let l=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&n.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,l++):(a[h]=lO(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&l++)}return s===o&&l===s?e:a}return t}function xv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function HA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function US(e){if(!VA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!VA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function VA(e){return Object.prototype.toString.call(e)==="[object Object]"}function X7(e){return new Promise(t=>{setTimeout(t,e)})}function zS(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?lO(e,t):t}function Q7(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function J7(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var W1=Symbol();function cO(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===W1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var vc,Ja,bd,yI,Z7=(yI=class extends th{constructor(){super();Tt(this,vc);Tt(this,Ja);Tt(this,bd);ot(this,bd,t=>{if(!Oc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,Ja)||this.setEventListener(te(this,bd))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,Ja))==null||t.call(this),ot(this,Ja,void 0))}setEventListener(t){var r;ot(this,bd,t),(r=te(this,Ja))==null||r.call(this),ot(this,Ja,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){te(this,vc)!==t&&(ot(this,vc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof te(this,vc)=="boolean"?te(this,vc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},vc=new WeakMap,Ja=new WeakMap,bd=new WeakMap,yI),$1=new Z7,Rd,Za,Td,wI,e$=(wI=class extends th{constructor(){super();Tt(this,Rd,!0);Tt(this,Za);Tt(this,Td);ot(this,Td,t=>{if(!Oc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){te(this,Za)||this.setEventListener(te(this,Td))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,Za))==null||t.call(this),ot(this,Za,void 0))}setEventListener(t){var r;ot(this,Td,t),(r=te(this,Za))==null||r.call(this),ot(this,Za,t(this.setOnline.bind(this)))}setOnline(t){te(this,Rd)!==t&&(ot(this,Rd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return te(this,Rd)}},Rd=new WeakMap,Za=new WeakMap,Td=new WeakMap,wI),Ev=new e$;function KS(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function t$(e){return Math.min(1e3*2**e,3e4)}function uO(e){return(e??"online")==="online"?Ev.isOnline():!0}var dO=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function vw(e){return e instanceof dO}function hO(e){let t=!1,r=0,n=!1,s;const i=KS(),o=y=>{var S;n||(g(new dO(y)),(S=e.abort)==null||S.call(e))},a=()=>{t=!0},l=()=>{t=!1},u=()=>$1.isFocused()&&(e.networkMode==="always"||Ev.isOnline())&&e.canRun(),h=()=>uO(e.networkMode)&&e.canRun(),p=y=>{var S;n||(n=!0,(S=e.onSuccess)==null||S.call(e,y),s==null||s(),i.resolve(y))},g=y=>{var S;n||(n=!0,(S=e.onError)==null||S.call(e,y),s==null||s(),i.reject(y))},C=()=>new Promise(y=>{var S;s=E=>{(n||u())&&y(E)},(S=e.onPause)==null||S.call(e)}).then(()=>{var y;s=void 0,n||(y=e.onContinue)==null||y.call(e)}),w=()=>{if(n)return;let y;const S=r===0?e.initialPromise:void 0;try{y=S??e.fn()}catch(E){y=Promise.reject(E)}Promise.resolve(y).then(p).catch(E=>{var M;if(n)return;const b=e.retry??(Oc?0:3),T=e.retryDelay??t$,R=typeof T=="function"?T(r,E):T,P=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,E);if(t||!P){g(E);return}r++,(M=e.onFail)==null||M.call(e,r,E),X7(R).then(()=>u()?void 0:C()).then(()=>{t?g(E):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?w():C().then(w),i)}}function r$(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{t?e.push(a):s(()=>{r(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var nn=r$(),Cc,SI,fO=(SI=class{constructor(){Tt(this,Cc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$S(this.gcTime)&&ot(this,Cc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Oc?1/0:5*60*1e3))}clearGcTimeout(){te(this,Cc)&&(clearTimeout(te(this,Cc)),ot(this,Cc,void 0))}},Cc=new WeakMap,SI),Fd,Pd,ci,An,Cp,yc,Oi,Vo,xI,n$=(xI=class extends fO{constructor(t){super();Tt(this,Oi);Tt(this,Fd);Tt(this,Pd);Tt(this,ci);Tt(this,An);Tt(this,Cp);Tt(this,yc);ot(this,yc,!1),ot(this,Cp,t.defaultOptions),this.setOptions(t.options),this.observers=[],ot(this,ci,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ot(this,Fd,s$(this.options)),this.state=t.state??te(this,Fd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,An))==null?void 0:t.promise}setOptions(t){this.options={...te(this,Cp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,ci).remove(this)}setData(t,r){const n=zS(this.state.data,t,this.options);return It(this,Oi,Vo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){It(this,Oi,Vo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=te(this,An))==null?void 0:n.promise;return(s=te(this,An))==null||s.cancel(t),r?r.then(ui).catch(ui):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,Fd))}isActive(){return this.observers.some(t=>ki(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===W1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!aO(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,An))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,An))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,ci).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(te(this,An)&&(te(this,yc)?te(this,An).cancel({revert:!0}):te(this,An).cancelRetry()),this.scheduleGc()),te(this,ci).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||It(this,Oi,Vo).call(this,{type:"invalidate"})}fetch(t,r){var l,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,An))return te(this,An).continueRetry(),te(this,An).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(ot(this,yc,!0),n.signal)})},i=()=>{const p=cO(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return s(g),ot(this,yc,!1),this.options.persister?this.options.persister(p,g,this):p(g)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),ot(this,Pd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&It(this,Oi,Vo).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const a=p=>{var g,C,w,y;vw(p)&&p.silent||It(this,Oi,Vo).call(this,{type:"error",error:p}),vw(p)||((C=(g=te(this,ci).config).onError)==null||C.call(g,p,this),(y=(w=te(this,ci).config).onSettled)==null||y.call(w,this.state.data,p,this)),this.scheduleGc()};return ot(this,An,hO({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var g,C,w,y;if(p===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(S){a(S);return}(C=(g=te(this,ci).config).onSuccess)==null||C.call(g,p,this),(y=(w=te(this,ci).config).onSettled)==null||y.call(w,p,this.state.error,this),this.scheduleGc()},onError:a,onFail:(p,g)=>{It(this,Oi,Vo).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{It(this,Oi,Vo).call(this,{type:"pause"})},onContinue:()=>{It(this,Oi,Vo).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),te(this,An).start()}},Fd=new WeakMap,Pd=new WeakMap,ci=new WeakMap,An=new WeakMap,Cp=new WeakMap,yc=new WeakMap,Oi=new WeakSet,Vo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...pO(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return vw(s)&&s.revert&&te(this,Pd)?{...te(this,Pd),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),nn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),te(this,ci).notify({query:this,type:"updated",action:t})})},xI);function pO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uO(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function s$(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var io,EI,i$=(EI=class extends th{constructor(t={}){super();Tt(this,io);this.config=t,ot(this,io,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??V1(s,r);let o=this.get(i);return o||(o=new n$({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){te(this,io).has(t.queryHash)||(te(this,io).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=te(this,io).get(t.queryHash);r&&(t.destroy(),r===t&&te(this,io).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,io).get(t)}getAll(){return[...te(this,io).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>BA(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>BA(t,n)):r}notify(t){nn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},io=new WeakMap,EI),oo,$n,wc,ao,Wa,bI,o$=(bI=class extends fO{constructor(t){super();Tt(this,ao);Tt(this,oo);Tt(this,$n);Tt(this,wc);this.mutationId=t.mutationId,ot(this,$n,t.mutationCache),ot(this,oo,[]),this.state=t.state||gO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,oo).includes(t)||(te(this,oo).push(t),this.clearGcTimeout(),te(this,$n).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ot(this,oo,te(this,oo).filter(r=>r!==t)),this.scheduleGc(),te(this,$n).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,oo).length||(this.state.status==="pending"?this.scheduleGc():te(this,$n).remove(this))}continue(){var t;return((t=te(this,wc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,a,l,u,h,p,g,C,w,y,S,E,b,T,R,P,M,D;ot(this,wc,hO({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,O)=>{It(this,ao,Wa).call(this,{type:"failed",failureCount:N,error:O})},onPause:()=>{It(this,ao,Wa).call(this,{type:"pause"})},onContinue:()=>{It(this,ao,Wa).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,$n).canRun(this)}));const r=this.state.status==="pending",n=!te(this,wc).canStart();try{if(!r){It(this,ao,Wa).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=te(this,$n).config).onMutate)==null?void 0:i.call(s,t,this));const O=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t));O!==this.state.context&&It(this,ao,Wa).call(this,{type:"pending",context:O,variables:t,isPaused:n})}const N=await te(this,wc).start();return await((u=(l=te(this,$n).config).onSuccess)==null?void 0:u.call(l,N,t,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,N,t,this.state.context)),await((C=(g=te(this,$n).config).onSettled)==null?void 0:C.call(g,N,null,this.state.variables,this.state.context,this)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,N,null,t,this.state.context)),It(this,ao,Wa).call(this,{type:"success",data:N}),N}catch(N){try{throw await((E=(S=te(this,$n).config).onError)==null?void 0:E.call(S,N,t,this.state.context,this)),await((T=(b=this.options).onError)==null?void 0:T.call(b,N,t,this.state.context)),await((P=(R=te(this,$n).config).onSettled)==null?void 0:P.call(R,void 0,N,this.state.variables,this.state.context,this)),await((D=(M=this.options).onSettled)==null?void 0:D.call(M,void 0,N,t,this.state.context)),N}finally{It(this,ao,Wa).call(this,{type:"error",error:N})}}finally{te(this,$n).runNext(this)}}},oo=new WeakMap,$n=new WeakMap,wc=new WeakMap,ao=new WeakSet,Wa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),nn.batch(()=>{te(this,oo).forEach(n=>{n.onMutationUpdate(t)}),te(this,$n).notify({mutation:this,type:"updated",action:t})})},bI);function gO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ks,yp,RI,a$=(RI=class extends th{constructor(t={}){super();Tt(this,ks);Tt(this,yp);this.config=t,ot(this,ks,new Map),ot(this,yp,Date.now())}build(t,r,n){const s=new o$({mutationCache:this,mutationId:++dm(this,yp)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=gm(t),n=te(this,ks).get(r)??[];n.push(t),te(this,ks).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=gm(t);if(te(this,ks).has(r)){const s=(n=te(this,ks).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?te(this,ks).delete(r):te(this,ks).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=te(this,ks).get(gm(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=te(this,ks).get(gm(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...te(this,ks).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>GA(r,n))}findAll(t={}){return this.getAll().filter(r=>GA(t,r))}notify(t){nn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return nn.batch(()=>Promise.all(t.map(r=>r.continue().catch(ui))))}},ks=new WeakMap,yp=new WeakMap,RI);function gm(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function WA(e){return{onFetch:(t,r)=>{var h,p,g,C,w;const n=t.options,s=(g=(p=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,i=((C=t.state.data)==null?void 0:C.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const S=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},E=cO(t.options,t.fetchOptions),b=async(T,R,P)=>{if(y)return Promise.reject();if(R==null&&T.pages.length)return Promise.resolve(T);const M={queryKey:t.queryKey,pageParam:R,direction:P?"backward":"forward",meta:t.options.meta};S(M);const D=await E(M),{maxPages:N}=t.options,O=P?J7:Q7;return{pages:O(T.pages,D,N),pageParams:O(T.pageParams,R,N)}};if(s&&i.length){const T=s==="backward",R=T?l$:$A,P={pages:i,pageParams:o},M=R(n,P);a=await b(P,M,T)}else{const T=e??i.length;do{const R=l===0?o[0]??n.initialPageParam:$A(n,a);if(l>0&&R==null)break;a=await b(a,R),l++}while(l<T)}return a};t.options.persister?t.fetchFn=()=>{var y,S;return(S=(y=t.options).persister)==null?void 0:S.call(y,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function $A(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function l$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var kr,el,tl,Ad,Dd,rl,Md,Nd,TI,c$=(TI=class{constructor(e={}){Tt(this,kr);Tt(this,el);Tt(this,tl);Tt(this,Ad);Tt(this,Dd);Tt(this,rl);Tt(this,Md);Tt(this,Nd);ot(this,kr,e.queryCache||new i$),ot(this,el,e.mutationCache||new a$),ot(this,tl,e.defaultOptions||{}),ot(this,Ad,new Map),ot(this,Dd,new Map),ot(this,rl,0)}mount(){dm(this,rl)._++,te(this,rl)===1&&(ot(this,Md,$1.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,kr).onFocus())})),ot(this,Nd,Ev.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,kr).onOnline())})))}unmount(){var e,t;dm(this,rl)._--,te(this,rl)===0&&((e=te(this,Md))==null||e.call(this),ot(this,Md,void 0),(t=te(this,Nd))==null||t.call(this),ot(this,Nd,void 0))}isFetching(e){return te(this,kr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return te(this,el).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,kr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=te(this,kr).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(dd(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return te(this,kr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=te(this,kr).get(n.queryHash),i=s==null?void 0:s.state.data,o=Y7(t,i);if(o!==void 0)return te(this,kr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return nn.batch(()=>te(this,kr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,kr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=te(this,kr);nn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=te(this,kr),n={type:"active",...e};return nn.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=nn.batch(()=>te(this,kr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ui).catch(ui)}invalidateQueries(e,t={}){return nn.batch(()=>{if(te(this,kr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const r={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(r,t)})}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=nn.batch(()=>te(this,kr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(ui)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ui)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=te(this,kr).build(this,t);return r.isStaleByTime(dd(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ui).catch(ui)}fetchInfiniteQuery(e){return e.behavior=WA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ui).catch(ui)}ensureInfiniteQueryData(e){return e.behavior=WA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ev.isOnline()?te(this,el).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,kr)}getMutationCache(){return te(this,el)}getDefaultOptions(){return te(this,tl)}setDefaultOptions(e){ot(this,tl,e)}setQueryDefaults(e,t){te(this,Ad).set(Lc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,Ad).values()],r={};return t.forEach(n=>{Vf(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){te(this,Dd).set(Lc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,Dd).values()];let r={};return t.forEach(n=>{Vf(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...te(this,tl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=V1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===W1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...te(this,tl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){te(this,kr).clear(),te(this,el).clear()}},kr=new WeakMap,el=new WeakMap,tl=new WeakMap,Ad=new WeakMap,Dd=new WeakMap,rl=new WeakMap,Md=new WeakMap,Nd=new WeakMap,TI),vs,Vt,wp,Un,Sc,Id,nl,lo,Sp,Od,Ld,xc,Ec,sl,kd,tr,mf,qS,YS,XS,QS,JS,ZS,ex,mO,FI,u$=(FI=class extends th{constructor(t,r){super();Tt(this,tr);Tt(this,vs);Tt(this,Vt);Tt(this,wp);Tt(this,Un);Tt(this,Sc);Tt(this,Id);Tt(this,nl);Tt(this,lo);Tt(this,Sp);Tt(this,Od);Tt(this,Ld);Tt(this,xc);Tt(this,Ec);Tt(this,sl);Tt(this,kd,new Set);this.options=r,ot(this,vs,t),ot(this,lo,null),ot(this,nl,KS()),this.options.experimental_prefetchInRender||te(this,nl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(te(this,Vt).addObserver(this),UA(te(this,Vt),this.options)?It(this,tr,mf).call(this):this.updateResult(),It(this,tr,QS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tx(te(this,Vt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tx(te(this,Vt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,It(this,tr,JS).call(this),It(this,tr,ZS).call(this),te(this,Vt).removeObserver(this)}setOptions(t,r){const n=this.options,s=te(this,Vt);if(this.options=te(this,vs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ki(this.options.enabled,te(this,Vt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");It(this,tr,ex).call(this),te(this,Vt).setOptions(this.options),n._defaulted&&!xv(this.options,n)&&te(this,vs).getQueryCache().notify({type:"observerOptionsUpdated",query:te(this,Vt),observer:this});const i=this.hasListeners();i&&zA(te(this,Vt),s,this.options,n)&&It(this,tr,mf).call(this),this.updateResult(r),i&&(te(this,Vt)!==s||ki(this.options.enabled,te(this,Vt))!==ki(n.enabled,te(this,Vt))||dd(this.options.staleTime,te(this,Vt))!==dd(n.staleTime,te(this,Vt)))&&It(this,tr,qS).call(this);const o=It(this,tr,YS).call(this);i&&(te(this,Vt)!==s||ki(this.options.enabled,te(this,Vt))!==ki(n.enabled,te(this,Vt))||o!==te(this,sl))&&It(this,tr,XS).call(this,o)}getOptimisticResult(t){const r=te(this,vs).getQueryCache().build(te(this,vs),t),n=this.createResult(r,t);return h$(this,n)&&(ot(this,Un,n),ot(this,Id,this.options),ot(this,Sc,te(this,Vt).state)),n}getCurrentResult(){return te(this,Un)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){te(this,kd).add(t)}getCurrentQuery(){return te(this,Vt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=te(this,vs).defaultQueryOptions(t),n=te(this,vs).getQueryCache().build(te(this,vs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return It(this,tr,mf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),te(this,Un)))}createResult(t,r){var N;const n=te(this,Vt),s=this.options,i=te(this,Un),o=te(this,Sc),a=te(this,Id),u=t!==n?t.state:te(this,wp),{state:h}=t;let p={...h},g=!1,C;if(r._optimisticResults){const O=this.hasListeners(),j=!O&&UA(t,r),W=O&&zA(t,n,r,s);(j||W)&&(p={...p,...pO(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:w,errorUpdatedAt:y,status:S}=p;if(r.select&&p.data!==void 0)if(i&&p.data===(o==null?void 0:o.data)&&r.select===te(this,Sp))C=te(this,Od);else try{ot(this,Sp,r.select),C=r.select(p.data),C=zS(i==null?void 0:i.data,C,r),ot(this,Od,C),ot(this,lo,null)}catch(O){ot(this,lo,O)}else C=p.data;if(r.placeholderData!==void 0&&C===void 0&&S==="pending"){let O;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))O=i.data;else if(O=typeof r.placeholderData=="function"?r.placeholderData((N=te(this,Ld))==null?void 0:N.state.data,te(this,Ld)):r.placeholderData,r.select&&O!==void 0)try{O=r.select(O),ot(this,lo,null)}catch(j){ot(this,lo,j)}O!==void 0&&(S="success",C=zS(i==null?void 0:i.data,O,r),g=!0)}te(this,lo)&&(w=te(this,lo),C=te(this,Od),y=Date.now(),S="error");const E=p.fetchStatus==="fetching",b=S==="pending",T=S==="error",R=b&&E,P=C!==void 0,D={status:S,fetchStatus:p.fetchStatus,isPending:b,isSuccess:S==="success",isError:T,isInitialLoading:R,isLoading:R,data:C,dataUpdatedAt:p.dataUpdatedAt,error:w,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!b,isLoadingError:T&&!P,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:T&&P,isStale:U1(t,r),refetch:this.refetch,promise:te(this,nl)};if(this.options.experimental_prefetchInRender){const O=B=>{D.status==="error"?B.reject(D.error):D.data!==void 0&&B.resolve(D.data)},j=()=>{const B=ot(this,nl,D.promise=KS());O(B)},W=te(this,nl);switch(W.status){case"pending":t.queryHash===n.queryHash&&O(W);break;case"fulfilled":(D.status==="error"||D.data!==W.value)&&j();break;case"rejected":(D.status!=="error"||D.error!==W.reason)&&j();break}}return D}updateResult(t){const r=te(this,Un),n=this.createResult(te(this,Vt),this.options);if(ot(this,Sc,te(this,Vt).state),ot(this,Id,this.options),te(this,Sc).data!==void 0&&ot(this,Ld,te(this,Vt)),xv(n,r))return;ot(this,Un,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!te(this,kd).size)return!0;const l=new Set(a??te(this,kd));return this.options.throwOnError&&l.add("error"),Object.keys(te(this,Un)).some(u=>{const h=u;return te(this,Un)[h]!==r[h]&&l.has(h)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),It(this,tr,mO).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&It(this,tr,QS).call(this)}},vs=new WeakMap,Vt=new WeakMap,wp=new WeakMap,Un=new WeakMap,Sc=new WeakMap,Id=new WeakMap,nl=new WeakMap,lo=new WeakMap,Sp=new WeakMap,Od=new WeakMap,Ld=new WeakMap,xc=new WeakMap,Ec=new WeakMap,sl=new WeakMap,kd=new WeakMap,tr=new WeakSet,mf=function(t){It(this,tr,ex).call(this);let r=te(this,Vt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ui)),r},qS=function(){It(this,tr,JS).call(this);const t=dd(this.options.staleTime,te(this,Vt));if(Oc||te(this,Un).isStale||!$S(t))return;const n=aO(te(this,Un).dataUpdatedAt,t)+1;ot(this,xc,setTimeout(()=>{te(this,Un).isStale||this.updateResult()},n))},YS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(te(this,Vt)):this.options.refetchInterval)??!1},XS=function(t){It(this,tr,ZS).call(this),ot(this,sl,t),!(Oc||ki(this.options.enabled,te(this,Vt))===!1||!$S(te(this,sl))||te(this,sl)===0)&&ot(this,Ec,setInterval(()=>{(this.options.refetchIntervalInBackground||$1.isFocused())&&It(this,tr,mf).call(this)},te(this,sl)))},QS=function(){It(this,tr,qS).call(this),It(this,tr,XS).call(this,It(this,tr,YS).call(this))},JS=function(){te(this,xc)&&(clearTimeout(te(this,xc)),ot(this,xc,void 0))},ZS=function(){te(this,Ec)&&(clearInterval(te(this,Ec)),ot(this,Ec,void 0))},ex=function(){const t=te(this,vs).getQueryCache().build(te(this,vs),this.options);if(t===te(this,Vt))return;const r=te(this,Vt);ot(this,Vt,t),ot(this,wp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},mO=function(t){nn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(te(this,Un))}),te(this,vs).getQueryCache().notify({query:te(this,Vt),type:"observerResultsUpdated"})})},FI);function d$(e,t){return ki(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function UA(e,t){return d$(e,t)||e.state.data!==void 0&&tx(e,t,t.refetchOnMount)}function tx(e,t,r){if(ki(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&U1(e,t)}return!1}function zA(e,t,r,n){return(e!==t||ki(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&U1(e,r)}function U1(e,t){return ki(t.enabled,e)!==!1&&e.isStaleByTime(dd(t.staleTime,e))}function h$(e,t){return!xv(e.getCurrentResult(),t)}var il,ol,Cs,zo,na,iv,rx,PI,f$=(PI=class extends th{constructor(r,n){super();Tt(this,na);Tt(this,il);Tt(this,ol);Tt(this,Cs);Tt(this,zo);ot(this,il,r),this.setOptions(n),this.bindMethods(),It(this,na,iv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=te(this,il).defaultMutationOptions(r),xv(this.options,n)||te(this,il).getMutationCache().notify({type:"observerOptionsUpdated",mutation:te(this,Cs),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Lc(n.mutationKey)!==Lc(this.options.mutationKey)?this.reset():((s=te(this,Cs))==null?void 0:s.state.status)==="pending"&&te(this,Cs).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=te(this,Cs))==null||r.removeObserver(this)}onMutationUpdate(r){It(this,na,iv).call(this),It(this,na,rx).call(this,r)}getCurrentResult(){return te(this,ol)}reset(){var r;(r=te(this,Cs))==null||r.removeObserver(this),ot(this,Cs,void 0),It(this,na,iv).call(this),It(this,na,rx).call(this)}mutate(r,n){var s;return ot(this,zo,n),(s=te(this,Cs))==null||s.removeObserver(this),ot(this,Cs,te(this,il).getMutationCache().build(te(this,il),this.options)),te(this,Cs).addObserver(this),te(this,Cs).execute(r)}},il=new WeakMap,ol=new WeakMap,Cs=new WeakMap,zo=new WeakMap,na=new WeakSet,iv=function(){var n;const r=((n=te(this,Cs))==null?void 0:n.state)??gO();ot(this,ol,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},rx=function(r){nn.batch(()=>{var n,s,i,o,a,l,u,h;if(te(this,zo)&&this.hasListeners()){const p=te(this,ol).variables,g=te(this,ol).context;(r==null?void 0:r.type)==="success"?((s=(n=te(this,zo)).onSuccess)==null||s.call(n,r.data,p,g),(o=(i=te(this,zo)).onSettled)==null||o.call(i,r.data,null,p,g)):(r==null?void 0:r.type)==="error"&&((l=(a=te(this,zo)).onError)==null||l.call(a,r.error,p,g),(h=(u=te(this,zo)).onSettled)==null||h.call(u,void 0,r.error,p,g))}this.listeners.forEach(p=>{p(te(this,ol))})})},PI),vO=m.createContext(void 0),Pt=e=>{const t=m.useContext(vO);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},p$=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(vO.Provider,{value:e,children:t})),CO=m.createContext(!1),g$=()=>m.useContext(CO);CO.Provider;function m$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var v$=m.createContext(m$()),C$=()=>m.useContext(v$);function yO(e,t){return typeof e=="function"?e(...t):!!e}function nx(){}var y$=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},w$=e=>{m.useEffect(()=>{e.clearReset()},[e])},S$=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&yO(r,[e.error,n]),x$=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},E$=(e,t)=>e.isLoading&&e.isFetching&&!t,b$=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,KA=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function R$(e,t,r){var h,p,g,C,w;const n=Pt(),s=g$(),i=C$(),o=n.defaultQueryOptions(e);(p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",x$(o),y$(o,i),w$(i);const a=!n.getQueryCache().get(o.queryHash),[l]=m.useState(()=>new t(n,o)),u=l.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(y=>{const S=s?nx:l.subscribe(nn.batchCalls(y));return l.updateResult(),S},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),m.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),b$(o,u))throw KA(o,l,i);if(S$({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((C=(g=n.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||C.call(g,o,u),o.experimental_prefetchInRender&&!Oc&&E$(u,s)){const y=a?KA(o,l,i):(w=n.getQueryCache().get(o.queryHash))==null?void 0:w.promise;y==null||y.catch(nx).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Fr(e,t){return R$(e,u$)}function Ze(e,t){const r=Pt(),[n]=m.useState(()=>new f$(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(nn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((o,a)=>{n.mutate(o,a).catch(nx)},[n]);if(s.error&&yO(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const T$=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},F$=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},P$=()=>Ze({mutationFn:e=>_e("/api/user/login",{method:"POST",body:JSON.stringify(e)}),onSuccess:T$,onError:F$}),A$=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,i]=m.useState(!1),[o,a]=m.useState(""),l=_n(),u=P$(),{login:h}=G1(),p=g=>{g.preventDefault(),u.mutate({userName:e,password:r},{onSuccess:C=>{C&&(console.log(C),localStorage.setItem("user",JSON.stringify(C)),rt.success("Login Successful!"),h(),l("/app/home"))},onError:()=>{a("Invalid username or password.")}})};return d.jsx("div",{className:"min-h-screen flex",children:d.jsx("div",{className:"w-full flex items-center justify-center bg-gray-600 dark:bg-gray-800 dark:text-white bg-cover bg-center",children:d.jsxs("div",{className:"w-full max-w-md space-y-6 bg-opacity-70 bg-black p-8 rounded-lg",children:[d.jsx("div",{className:"text-center",children:d.jsx("h2",{className:"text-4xl font-bold text-white",children:"Welcome Here"})}),o&&d.jsx("p",{className:"text-red-500 text-center mb-4",children:o}),d.jsxs("form",{onSubmit:p,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"block font-medium mb-2 text-md text-white",children:"Username"}),d.jsx(Re,{type:"text",value:e,onChange:g=>t(g.target.value),placeholder:"Enter your username",className:"dark:bg-gray-700 dark:text-white"}),d.jsx("label",{className:"block font-medium mb-2 text-md text-white",children:"Your Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Re,{type:s?"text":"password",value:r,onChange:g=>n(g.target.value),placeholder:"Enter your password",className:"dark:bg-gray-700 dark:text-white"}),d.jsx("button",{type:"button",className:"absolute top-1/2 right-4 transform -translate-y-1/2",onClick:()=>i(!s),children:s?d.jsx(yW,{size:24,color:"#6B7280"}):d.jsx(wW,{size:24,color:"#6B7280"})})]})]}),d.jsx(_t,{type:"submit",className:"w-full mt-8 py-4 bg-pink-600 hover:bg-pink-700 text-white font-bold rounded-lg transition duration-300 ease-in-out shadow-md text-lg",children:"Login"})]})]})})})},D$=()=>d.jsx("div",{className:"flex flex-col min-h-screen",children:d.jsxs("main",{className:"text-center p-6 w-full",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Welcome to the Home Page!"}),d.jsx("p",{children:"This is the protected content visible only after login."})]})});function M$(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function R0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const sx=e=>Array.isArray(e);function wO(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Wf(e){return typeof e=="string"||Array.isArray(e)}function qA(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function z1(e,t,r,n){if(typeof t=="function"){const[s,i]=qA(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=qA(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function T0(e,t,r){const n=e.getProps();return z1(n,t,r!==void 0?r:n.custom,e)}const K1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],q1=["initial",...K1],Rp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qc=new Set(Rp),Yo=e=>e*1e3,Xo=e=>e/1e3,N$={type:"spring",stiffness:500,damping:25,restSpeed:10},I$=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),O$={type:"keyframes",duration:.8},L$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k$=(e,{keyframes:t})=>t.length>2?O$:Qc.has(e)?e.startsWith("scale")?I$(t[1]):N$:L$;function Y1(e,t){return e?e[t]||e.default||e:void 0}const _$={skipAnimations:!1,useManualTiming:!1},j$=e=>e!==null;function F0(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(j$),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const On=e=>e;let ix=On;function B$(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,h=!1,p=!1)=>{const C=p&&n?t:r;return h&&i.add(u),C.has(u)||C.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(o=u,n){s=!0;return}n=!0,[t,r]=[r,t],r.clear(),t.forEach(a),n=!1,s&&(s=!1,l.process(u))}};return l}const mm=["read","resolveKeyframes","update","preRender","render","postRender"],G$=40;function SO(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=mm.reduce((E,b)=>(E[b]=B$(i),E),{}),{read:a,resolveKeyframes:l,update:u,preRender:h,render:p,postRender:g}=o,C=()=>{const E=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(E-s.timestamp,G$),1),s.timestamp=E,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),h.process(s),p.process(s),g.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(C))},w=()=>{r=!0,n=!0,s.isProcessing||e(C)};return{schedule:mm.reduce((E,b)=>{const T=o[b];return E[b]=(R,P=!1,M=!1)=>(r||w(),T.schedule(R,P,M)),E},{}),cancel:E=>{for(let b=0;b<mm.length;b++)o[mm[b]].cancel(E)},state:s,steps:o}}const{schedule:hr,cancel:ml,state:vn,steps:Cw}=SO(typeof requestAnimationFrame<"u"?requestAnimationFrame:On,!0),xO=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,H$=1e-7,V$=12;function W$(e,t,r,n,s){let i,o,a=0;do o=t+(r-t)/2,i=xO(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>H$&&++a<V$);return o}function Tp(e,t,r,n){if(e===t&&r===n)return On;const s=i=>W$(i,0,1,e,r);return i=>i===0||i===1?i:xO(s(i),t,n)}const EO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bO=e=>t=>1-e(1-t),RO=Tp(.33,1.53,.69,.99),X1=bO(RO),TO=EO(X1),FO=e=>(e*=2)<1?.5*X1(e):.5*(2-Math.pow(2,-10*(e-1))),Q1=e=>1-Math.sin(Math.acos(e)),PO=bO(Q1),AO=EO(Q1),DO=e=>/^0[^.\s]+$/u.test(e);function $$(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||DO(e):!0}const MO=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),NO=e=>t=>typeof t=="string"&&t.startsWith(e),IO=NO("--"),U$=NO("var(--"),J1=e=>U$(e)?z$.test(e.split("/*")[0].trim()):!1,z$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,K$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function q$(e){const t=K$.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function OO(e,t,r=1){const[n,s]=q$(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return MO(o)?parseFloat(o):o}return J1(s)?OO(s,t,r+1):s}const ia=(e,t,r)=>r>t?t:r<e?e:r,rh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$f={...rh,transform:e=>ia(0,1,e)},vm={...rh,default:1},Fp=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$a=Fp("deg"),ho=Fp("%"),Ft=Fp("px"),Y$=Fp("vh"),X$=Fp("vw"),YA={...ho,parse:e=>ho.parse(e)/100,transform:e=>ho.transform(e*100)},Q$=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),XA=e=>e===rh||e===Ft,QA=(e,t)=>parseFloat(e.split(", ")[t]),JA=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return QA(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?QA(i[1],e):0}},J$=new Set(["x","y","z"]),Z$=Rp.filter(e=>!J$.has(e));function eU(e){const t=[];return Z$.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const _d={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:JA(4,13),y:JA(5,14)};_d.translateX=_d.x;_d.translateY=_d.y;const LO=e=>t=>t.test(e),tU={test:e=>e==="auto",parse:e=>e},kO=[rh,Ft,ho,$a,X$,Y$,tU],ZA=e=>kO.find(LO(e)),bc=new Set;let ox=!1,ax=!1;function _O(){if(ax){const e=Array.from(bc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=eU(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var a;(a=n.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}ax=!1,ox=!1,bc.forEach(e=>e.complete()),bc.clear()}function jO(){bc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ax=!0)})}function rU(){jO(),_O()}class Z1{constructor(t,r,n,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bc.add(this),ox||(ox=!0,hr.read(jO),hr.resolveKeyframes(_O))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bf=e=>Math.round(e*1e5)/1e5,eE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nU(e){return e==null}const sU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tE=(e,t)=>r=>!!(typeof r=="string"&&sU.test(r)&&r.startsWith(e)||t&&!nU(r)&&Object.prototype.hasOwnProperty.call(r,t)),BO=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,a]=n.match(eE);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},iU=e=>ia(0,255,e),yw={...rh,transform:e=>Math.round(iU(e))},pc={test:tE("rgb","red"),parse:BO("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+yw.transform(e)+", "+yw.transform(t)+", "+yw.transform(r)+", "+bf($f.transform(n))+")"};function oU(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const lx={test:tE("#"),parse:oU,transform:pc.transform},rd={test:tE("hsl","hue"),parse:BO("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ho.transform(bf(t))+", "+ho.transform(bf(r))+", "+bf($f.transform(n))+")"},Dn={test:e=>pc.test(e)||lx.test(e)||rd.test(e),parse:e=>pc.test(e)?pc.parse(e):rd.test(e)?rd.parse(e):lx.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?pc.transform(e):rd.transform(e)},aU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lU(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(eE))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(aU))===null||r===void 0?void 0:r.length)||0)>0}const GO="number",HO="color",cU="var",uU="var(",eD="${}",dU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uf(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(dU,l=>(Dn.test(l)?(n.color.push(i),s.push(HO),r.push(Dn.parse(l))):l.startsWith(uU)?(n.var.push(i),s.push(cU),r.push(l)):(n.number.push(i),s.push(GO),r.push(parseFloat(l))),++i,eD)).split(eD);return{values:r,split:a,indexes:n,types:s}}function VO(e){return Uf(e).values}function WO(e){const{split:t,types:r}=Uf(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const a=r[o];a===GO?i+=bf(s[o]):a===HO?i+=Dn.transform(s[o]):i+=s[o]}return i}}const hU=e=>typeof e=="number"?0:e;function fU(e){const t=VO(e);return WO(e)(t.map(hU))}const vl={test:lU,parse:VO,createTransformer:WO,getAnimatableNone:fU},pU=new Set(["brightness","contrast","saturate","opacity"]);function gU(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(eE)||[];if(!n)return e;const s=r.replace(n,"");let i=pU.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const mU=/\b([a-z-]*)\(.*?\)/gu,cx={...vl,getAnimatableNone:e=>{const t=e.match(mU);return t?t.map(gU).join(" "):e}},vU={borderWidth:Ft,borderTopWidth:Ft,borderRightWidth:Ft,borderBottomWidth:Ft,borderLeftWidth:Ft,borderRadius:Ft,radius:Ft,borderTopLeftRadius:Ft,borderTopRightRadius:Ft,borderBottomRightRadius:Ft,borderBottomLeftRadius:Ft,width:Ft,maxWidth:Ft,height:Ft,maxHeight:Ft,top:Ft,right:Ft,bottom:Ft,left:Ft,padding:Ft,paddingTop:Ft,paddingRight:Ft,paddingBottom:Ft,paddingLeft:Ft,margin:Ft,marginTop:Ft,marginRight:Ft,marginBottom:Ft,marginLeft:Ft,backgroundPositionX:Ft,backgroundPositionY:Ft},CU={rotate:$a,rotateX:$a,rotateY:$a,rotateZ:$a,scale:vm,scaleX:vm,scaleY:vm,scaleZ:vm,skew:$a,skewX:$a,skewY:$a,distance:Ft,translateX:Ft,translateY:Ft,translateZ:Ft,x:Ft,y:Ft,z:Ft,perspective:Ft,transformPerspective:Ft,opacity:$f,originX:YA,originY:YA,originZ:Ft},tD={...rh,transform:Math.round},rE={...vU,...CU,zIndex:tD,size:Ft,fillOpacity:$f,strokeOpacity:$f,numOctaves:tD},yU={...rE,color:Dn,backgroundColor:Dn,outlineColor:Dn,fill:Dn,stroke:Dn,borderColor:Dn,borderTopColor:Dn,borderRightColor:Dn,borderBottomColor:Dn,borderLeftColor:Dn,filter:cx,WebkitFilter:cx},nE=e=>yU[e];function $O(e,t){let r=nE(e);return r!==cx&&(r=vl),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const wU=new Set(["auto","none","0"]);function SU(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!wU.has(i)&&Uf(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=$O(r,s)}class UO extends Z1{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),J1(u))){const h=OO(u,r.current);h!==void 0&&(t[l]=h),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Q$.has(n)||t.length!==2)return;const[s,i]=t,o=ZA(s),a=ZA(i);if(o!==a)if(XA(o)&&XA(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)$$(t[s])&&n.push(s);n.length&&SU(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_d[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=_d[n](r.measureViewportBox(),window.getComputedStyle(r.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{r.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function sE(e){return typeof e=="function"}let ov;function xU(){ov=void 0}const fo={now:()=>(ov===void 0&&fo.set(vn.isProcessing||_$.useManualTiming?vn.timestamp:performance.now()),ov),set:e=>{ov=e,queueMicrotask(xU)}},rD=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(vl.test(e)||e==="0")&&!e.startsWith("url("));function EU(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function bU(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=rD(s,t),a=rD(i,t);return!o||!a?!1:EU(e)||(r==="spring"||sE(r))&&n}const RU=40;class zO{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=fo.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>RU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&rU(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=fo.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!bU(t,n,s,i))if(o)this.options.duration=0;else{l==null||l(F0(t,this.options,r)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,r);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...h},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const jd=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},KO=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(jd(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function qO(e,t){return t?e*(1e3/t):0}const TU=5;function YO(e,t,r){const n=Math.max(t-TU,0);return qO(r-e(n),t-n)}const _r={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ww=.001;function FU({duration:e=_r.duration,bounce:t=_r.bounce,velocity:r=_r.velocity,mass:n=_r.mass}){let s,i,o=1-t;o=ia(_r.minDamping,_r.maxDamping,o),e=ia(_r.minDuration,_r.maxDuration,Xo(e)),o<1?(s=u=>{const h=u*o,p=h*e,g=h-r,C=ux(u,o),w=Math.exp(-p);return ww-g/C*w},i=u=>{const p=u*o*e,g=p*r+r,C=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-p),y=ux(Math.pow(u,2),o);return(-s(u)+ww>0?-1:1)*((g-C)*w)/y}):(s=u=>{const h=Math.exp(-u*e),p=(u-r)*e+1;return-ww+h*p},i=u=>{const h=Math.exp(-u*e),p=(r-u)*(e*e);return h*p});const a=5/e,l=AU(s,i,a);if(e=Yo(e),isNaN(l))return{stiffness:_r.stiffness,damping:_r.damping,duration:e};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const PU=12;function AU(e,t,r){let n=r;for(let s=1;s<PU;s++)n=n-e(n)/t(n);return n}function ux(e,t){return e*Math.sqrt(1-t*t)}const dx=2e4;function XO(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<dx;)t+=r,n=e.next(t);return t>=dx?1/0:t}const DU=["duration","bounce"],MU=["stiffness","damping","mass"];function nD(e,t){return t.some(r=>e[r]!==void 0)}function NU(e){let t={velocity:_r.velocity,stiffness:_r.stiffness,damping:_r.damping,mass:_r.mass,isResolvedFromDuration:!1,...e};if(!nD(e,MU)&&nD(e,DU))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*ia(.05,1,1-e.bounce)*Math.sqrt(s);t={...t,mass:_r.mass,stiffness:s,damping:i}}else{const r=FU(e);t={...t,...r,mass:_r.mass},t.isResolvedFromDuration=!0}return t}function QO(e=_r.visualDuration,t=_r.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:h,duration:p,velocity:g,isResolvedFromDuration:C}=NU({...r,velocity:-Xo(r.velocity||0)}),w=g||0,y=u/(2*Math.sqrt(l*h)),S=o-i,E=Xo(Math.sqrt(l/h)),b=Math.abs(S)<5;n||(n=b?_r.restSpeed.granular:_r.restSpeed.default),s||(s=b?_r.restDelta.granular:_r.restDelta.default);let T;if(y<1){const P=ux(E,y);T=M=>{const D=Math.exp(-y*E*M);return o-D*((w+y*E*S)/P*Math.sin(P*M)+S*Math.cos(P*M))}}else if(y===1)T=P=>o-Math.exp(-E*P)*(S+(w+E*S)*P);else{const P=E*Math.sqrt(y*y-1);T=M=>{const D=Math.exp(-y*E*M),N=Math.min(P*M,300);return o-D*((w+y*E*S)*Math.sinh(N)+P*S*Math.cosh(N))/P}}const R={calculatedDuration:C&&p||null,next:P=>{const M=T(P);if(C)a.done=P>=p;else{let D=0;y<1&&(D=P===0?Yo(w):YO(T,P,M));const N=Math.abs(D)<=n,O=Math.abs(o-M)<=s;a.done=N&&O}return a.value=a.done?o:M,a},toString:()=>{const P=Math.min(XO(R),dx),M=KO(D=>R.next(P*D).value,P,30);return P+"ms "+M}};return R}function sD({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const p=e[0],g={done:!1,value:p},C=N=>a!==void 0&&N<a||l!==void 0&&N>l,w=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l;let y=r*t;const S=p+y,E=o===void 0?S:o(S);E!==S&&(y=E-p);const b=N=>-y*Math.exp(-N/n),T=N=>E+b(N),R=N=>{const O=b(N),j=T(N);g.done=Math.abs(O)<=u,g.value=g.done?E:j};let P,M;const D=N=>{C(g.value)&&(P=N,M=QO({keyframes:[g.value,w(g.value)],velocity:YO(T,N,g.value),damping:s,stiffness:i,restDelta:u,restSpeed:h}))};return D(0),{calculatedDuration:null,next:N=>{let O=!1;return!M&&P===void 0&&(O=!0,R(N),D(N)),P!==void 0&&N>=P?M.next(N-P):(!O&&R(N),g)}}}const IU=Tp(.42,0,1,1),OU=Tp(0,0,.58,1),JO=Tp(.42,0,.58,1),LU=e=>Array.isArray(e)&&typeof e[0]!="number",iE=e=>Array.isArray(e)&&typeof e[0]=="number",iD={linear:On,easeIn:IU,easeInOut:JO,easeOut:OU,circIn:Q1,circInOut:AO,circOut:PO,backIn:X1,backInOut:TO,backOut:RO,anticipate:FO},oD=e=>{if(iE(e)){ix(e.length===4);const[t,r,n,s]=e;return Tp(t,r,n,s)}else if(typeof e=="string")return ix(iD[e]!==void 0),iD[e];return e},kU=(e,t)=>r=>t(e(r)),cl=(...e)=>e.reduce(kU),Mr=(e,t,r)=>e+(t-e)*r;function Sw(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function _U({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;s=Sw(l,a,e+1/3),i=Sw(l,a,e),o=Sw(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function bv(e,t){return r=>r>0?t:e}const xw=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},jU=[lx,pc,rd],BU=e=>jU.find(t=>t.test(e));function aD(e){const t=BU(e);if(!t)return!1;let r=t.parse(e);return t===rd&&(r=_U(r)),r}const lD=(e,t)=>{const r=aD(e),n=aD(t);if(!r||!n)return bv(e,t);const s={...r};return i=>(s.red=xw(r.red,n.red,i),s.green=xw(r.green,n.green,i),s.blue=xw(r.blue,n.blue,i),s.alpha=Mr(r.alpha,n.alpha,i),pc.transform(s))},hx=new Set(["none","hidden"]);function GU(e,t){return hx.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function HU(e,t){return r=>Mr(e,t,r)}function oE(e){return typeof e=="number"?HU:typeof e=="string"?J1(e)?bv:Dn.test(e)?lD:$U:Array.isArray(e)?ZO:typeof e=="object"?Dn.test(e)?lD:VU:bv}function ZO(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>oE(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function VU(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=oE(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function WU(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(r=e.values[a])!==null&&r!==void 0?r:0;n[i]=l,s[o]++}return n}const $U=(e,t)=>{const r=vl.createTransformer(t),n=Uf(e),s=Uf(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?hx.has(e)&&!s.values.length||hx.has(t)&&!n.values.length?GU(e,t):cl(ZO(WU(n,s),s.values),r):bv(e,t)};function eL(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Mr(e,t,r):oE(e)(e,t)}function UU(e,t,r){const n=[],s=r||eL,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||On:t;a=cl(l,a)}n.push(a)}return n}function zU(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(ix(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=UU(t,n,s),a=o.length,l=u=>{let h=0;if(a>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const p=jd(e[h],e[h+1],u);return o[h](p)};return r?u=>l(ia(e[0],e[i-1],u)):l}function KU(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=jd(0,t,n);e.push(Mr(r,1,s))}}function qU(e){const t=[0];return KU(t,e.length-1),t}function YU(e,t){return e.map(r=>r*t)}function XU(e,t){return e.map(()=>t||JO).splice(0,e.length-1)}function Rv({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=LU(n)?n.map(oD):oD(n),i={done:!1,value:t[0]},o=YU(r&&r.length===t.length?r:qU(t),e),a=zU(o,t,{ease:Array.isArray(s)?s:XU(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const QU=e=>{const t=({timestamp:r})=>e(r);return{start:()=>hr.update(t,!0),stop:()=>ml(t),now:()=>vn.isProcessing?vn.timestamp:fo.now()}},JU={decay:sD,inertia:sD,tween:Rv,keyframes:Rv,spring:QO},ZU=e=>e/100;class aE extends zO{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Z1,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=sE(r)?r:JU[r]||Rv;let l,u;a!==Rv&&typeof t[0]!="number"&&(l=cl(ZU,eL(t[0],t[1])),t=[0,100]);const h=a({...this.options,keyframes:t});i==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=XO(h));const{calculatedDuration:p}=h,g=p+s,C=g*(n+1)-s;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:p,resolvedDuration:g,totalDuration:C}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:h,resolvedDuration:p}=n;if(this.startTime===null)return i.next(0);const{delay:g,repeat:C,repeatType:w,repeatDelay:y,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const E=this.currentTime-g*(this.speed>=0?1:-1),b=this.speed>=0?E<0:E>h;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let T=this.currentTime,R=i;if(C){const N=Math.min(this.currentTime,h)/p;let O=Math.floor(N),j=N%1;!j&&N>=1&&(j=1),j===1&&O--,O=Math.min(O,C+1),!!(O%2)&&(w==="reverse"?(j=1-j,y&&(j-=y/p)):w==="mirror"&&(R=o)),T=ia(0,1,j)*p}const P=b?{done:!1,value:l[0]}:R.next(T);a&&(P.value=a(P.value));let{done:M}=P;!b&&u!==null&&(M=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return D&&s!==void 0&&(P.value=F0(l,this.options,s)),S&&S(P.value),D&&this.finish(),P}get duration(){const{resolved:t}=this;return t?Xo(t.calculatedDuration):0}get time(){return Xo(this.currentTime)}set time(t){t=Yo(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Xo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=QU,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const ez=new Set(["opacity","clipPath","filter","transform"]);function lE(e){let t;return()=>(t===void 0&&(t=e()),t)}const tz={linearEasing:void 0};function rz(e,t){const r=lE(e);return()=>{var n;return(n=tz[t])!==null&&n!==void 0?n:r()}}const Tv=rz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function tL(e){return!!(typeof e=="function"&&Tv()||!e||typeof e=="string"&&(e in fx||Tv())||iE(e)||Array.isArray(e)&&e.every(tL))}const vf=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,fx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vf([0,.65,.55,1]),circOut:vf([.55,0,1,.45]),backIn:vf([.31,.01,.66,-.59]),backOut:vf([.33,1.53,.69,.99])};function rL(e,t){if(e)return typeof e=="function"&&Tv()?KO(e,t):iE(e)?vf(e):Array.isArray(e)?e.map(r=>rL(r,t)||fx.easeOut):fx[e]}function nz(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:r};l&&(u.offset=l);const h=rL(a,s);return Array.isArray(h)&&(u.easing=h),e.animate(u,{delay:n,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function cD(e,t){e.timeline=t,e.onfinish=null}const sz=lE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Fv=10,iz=2e4;function oz(e){return sE(e.type)||e.type==="spring"||!tL(e.ease)}function az(e,t){const r=new aE({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<iz;)n=r.sample(i),s.push(n.value),i+=Fv;return{times:void 0,keyframes:s,duration:i-Fv,ease:"linear"}}const nL={anticipate:FO,backInOut:TO,circInOut:AO};function lz(e){return e in nL}class uD extends zO{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new UO(i,(o,a)=>this.onKeyframesResolved(o,a),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:u,startTime:h}=this.options;if(!(!((n=l.owner)===null||n===void 0)&&n.current))return!1;if(typeof o=="string"&&Tv()&&lz(o)&&(o=nL[o]),oz(this.options)){const{onComplete:g,onUpdate:C,motionValue:w,element:y,...S}=this.options,E=az(t,S);t=E.keyframes,t.length===1&&(t[1]=t[0]),s=E.duration,i=E.times,o=E.ease,a="keyframes"}const p=nz(l.owner.current,u,t,{...this.options,duration:s,times:i,ease:o});return p.startTime=h??this.calcStartTime(),this.pendingTimeline?(cD(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:g}=this.options;l.set(F0(t,this.options,r)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:s,times:i,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Xo(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Xo(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Yo(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return On;const{animation:n}=r;cD(n,t)}return On}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:o,times:a}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:p,element:g,...C}=this.options,w=new aE({...C,keyframes:n,duration:s,type:i,ease:o,times:a,isGenerator:!0}),y=Yo(this.time);u.setWithVelocity(w.sample(y-Fv).value,w.sample(y).value,Fv)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:o,type:a}=t;return sz()&&n&&ez.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const cz=lE(()=>window.ScrollTimeline!==void 0);class uz{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>cz()&&s.attachTimeline?s.attachTimeline(t):r(s));return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function dz({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const cE=(e,t,r,n={},s,i)=>o=>{const a=Y1(n,e)||{},l=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Yo(l);let h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};dz(a)||(h={...h,...k$(e,h)}),h.duration&&(h.duration=Yo(h.duration)),h.repeatDelay&&(h.repeatDelay=Yo(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),p&&!i&&t.get()!==void 0){const g=F0(h.keyframes,a);if(g!==void 0)return hr.update(()=>{h.onUpdate(g),h.onComplete()}),new uz([])}return!i&&uD.supports(h)?new uD(h):new aE(h)},hz=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),fz=e=>sx(e)?e[e.length-1]||0:e;function uE(e,t){e.indexOf(t)===-1&&e.push(t)}function dE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class hE{constructor(){this.subscriptions=[]}add(t){return uE(this.subscriptions,t),()=>dE(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dD=30,pz=e=>!isNaN(parseFloat(e));class gz{constructor(t,r={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=fo.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=fo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pz(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new hE);const n=this.events[t].add(r);return t==="change"?()=>{n(),hr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=fo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>dD)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,dD);return qO(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zf(e,t){return new gz(e,t)}function mz(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,zf(r))}function vz(e,t){const r=T0(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const a=fz(i[o]);mz(e,o,a)}}const fE=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Cz="framerAppearId",sL="data-"+fE(Cz);function iL(e){return e.props[sL]}const In=e=>!!(e&&e.getVelocity);function yz(e){return!!(In(e)&&e.add)}function px(e,t){const r=e.getValue("willChange");if(yz(r))return r.add(t)}function wz({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function oL(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(o=n);const u=[],h=s&&e.animationState&&e.animationState.getState()[s];for(const p in l){const g=e.getValue(p,(i=e.latestValues[p])!==null&&i!==void 0?i:null),C=l[p];if(C===void 0||h&&wz(h,p))continue;const w={delay:r,...Y1(o||{},p)};let y=!1;if(window.MotionHandoffAnimation){const E=iL(e);if(E){const b=window.MotionHandoffAnimation(E,p,hr);b!==null&&(w.startTime=b,y=!0)}}px(e,p),g.start(cE(p,g,C,e.shouldReduceMotion&&Qc.has(p)?{type:!1}:w,e,y));const S=g.animation;S&&u.push(S)}return a&&Promise.all(u).then(()=>{hr.update(()=>{a&&vz(e,a)})}),u}function gx(e,t,r={}){var n;const s=T0(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(oL(e,s,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=i;return Sz(e,t,h+u,p,g,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,h]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>h())}else return Promise.all([o(),a(r.delay)])}function Sz(e,t,r=0,n=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*n,l=s===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(e.variantChildren).sort(xz).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(gx(u,t,{...i,delay:r+l(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function xz(e,t){return e.sortNodePosition(t)}function Ez(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>gx(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=gx(e,t,r);else{const s=typeof t=="function"?T0(e,t,r.custom):t;n=Promise.all(oL(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const bz=q1.length;function aL(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?aL(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<bz;r++){const n=q1[r],s=e.props[n];(Wf(s)||s===!1)&&(t[n]=s)}return t}const Rz=[...K1].reverse(),Tz=K1.length;function Fz(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Ez(e,r,n)))}function Pz(e){let t=Fz(e),r=hD(),n=!0;const s=l=>(u,h)=>{var p;const g=T0(e,h,l==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(g){const{transition:C,transitionEnd:w,...y}=g;u={...u,...y,...w}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,h=aL(e.parent)||{},p=[],g=new Set;let C={},w=1/0;for(let S=0;S<Tz;S++){const E=Rz[S],b=r[E],T=u[E]!==void 0?u[E]:h[E],R=Wf(T),P=E===l?b.isActive:null;P===!1&&(w=S);let M=T===h[E]&&T!==u[E]&&R;if(M&&n&&e.manuallyAnimateOnMount&&(M=!1),b.protectedKeys={...C},!b.isActive&&P===null||!T&&!b.prevProp||R0(T)||typeof T=="boolean")continue;const D=Az(b.prevProp,T);let N=D||E===l&&b.isActive&&!M&&R||S>w&&R,O=!1;const j=Array.isArray(T)?T:[T];let W=j.reduce(s(E),{});P===!1&&(W={});const{prevResolvedValues:B={}}=b,oe={...B,...W},pe=se=>{N=!0,g.has(se)&&(O=!0,g.delete(se)),b.needsAnimating[se]=!0;const Z=e.getValue(se);Z&&(Z.liveStyle=!1)};for(const se in oe){const Z=W[se],ne=B[se];if(C.hasOwnProperty(se))continue;let de=!1;sx(Z)&&sx(ne)?de=!wO(Z,ne):de=Z!==ne,de?Z!=null?pe(se):g.add(se):Z!==void 0&&g.has(se)?pe(se):b.protectedKeys[se]=!0}b.prevProp=T,b.prevResolvedValues=W,b.isActive&&(C={...C,...W}),n&&e.blockInitialAnimation&&(N=!1),N&&(!(M&&D)||O)&&p.push(...j.map(se=>({animation:se,options:{type:E}})))}if(g.size){const S={};g.forEach(E=>{const b=e.getBaseTarget(E),T=e.getValue(E);T&&(T.liveStyle=!0),S[E]=b??null}),p.push({animation:S})}let y=!!p.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(p):Promise.resolve()}function a(l,u){var h;if(r[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(g=>{var C;return(C=g.animationState)===null||C===void 0?void 0:C.setActive(l,u)}),r[l].isActive=u;const p=o(l);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r,reset:()=>{r=hD(),n=!0}}}function Az(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!wO(t,e):!1}function tc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hD(){return{animate:tc(!0),whileInView:tc(),whileHover:tc(),whileTap:tc(),whileDrag:tc(),whileFocus:tc(),exit:tc()}}class Al{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Dz extends Al{constructor(t){super(t),t.animationState||(t.animationState=Pz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();R0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Mz=0;class Nz extends Al{constructor(){super(...arguments),this.id=Mz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Iz={animation:{Feature:Dz},exit:{Feature:Nz}};function Oz(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Ni={x:!1,y:!1};function lL(){return Ni.x||Ni.y}function fD(e){return t=>{t.pointerType==="touch"||lL()||e(t)}}function Lz(e,t,r={}){const n=new AbortController,s={passive:!0,...r,signal:n.signal},i=fD(o=>{const{target:a}=o,l=t(o);if(!l||!a)return;const u=fD(h=>{l(h),a.removeEventListener("pointerleave",u)});a.addEventListener("pointerleave",u,s)});return Oz(e).forEach(o=>{o.addEventListener("pointerenter",i,s)}),()=>n.abort()}function kz(e){return e==="x"||e==="y"?Ni[e]?null:(Ni[e]=!0,()=>{Ni[e]=!1}):Ni.x||Ni.y?null:(Ni.x=Ni.y=!0,()=>{Ni.x=Ni.y=!1})}const cL=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Pp(e){return{point:{x:e.pageX,y:e.pageY}}}const _z=e=>t=>cL(t)&&e(t,Pp(t));function Ko(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function ul(e,t,r,n){return Ko(e,t,_z(r),n)}const pD=(e,t)=>Math.abs(e-t);function jz(e,t){const r=pD(e.x,t.x),n=pD(e.y,t.y);return Math.sqrt(r**2+n**2)}class uL{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=bw(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,C=jz(p.offset,{x:0,y:0})>=3;if(!g&&!C)return;const{point:w}=p,{timestamp:y}=vn;this.history.push({...w,timestamp:y});const{onStart:S,onMove:E}=this.handlers;g||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Ew(g,this.transformPagePoint),hr.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:C,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=bw(p.type==="pointercancel"?this.lastMoveEventInfo:Ew(g,this.transformPagePoint),this.history);this.startEvent&&C&&C(p,S),w&&w(p,S)},!cL(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=Pp(t),a=Ew(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=vn;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=r;h&&h(t,bw(a,this.history)),this.removeListeners=cl(ul(this.contextWindow,"pointermove",this.handlePointerMove),ul(this.contextWindow,"pointerup",this.handlePointerUp),ul(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ml(this.updatePoint)}}function Ew(e,t){return t?{point:t(e.point)}:e}function gD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bw({point:e},t){return{point:e,delta:gD(e,dL(t)),offset:gD(e,Bz(t)),velocity:Gz(t,.1)}}function Bz(e){return e[0]}function dL(e){return e[e.length-1]}function Gz(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=dL(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Yo(t)));)r--;if(!n)return{x:0,y:0};const i=Xo(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const hL=1e-4,Hz=1-hL,Vz=1+hL,fL=.01,Wz=0-fL,$z=0+fL;function qs(e){return e.max-e.min}function Uz(e,t,r){return Math.abs(e-t)<=r}function mD(e,t,r,n=.5){e.origin=n,e.originPoint=Mr(t.min,t.max,e.origin),e.scale=qs(r)/qs(t),e.translate=Mr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Hz&&e.scale<=Vz||isNaN(e.scale))&&(e.scale=1),(e.translate>=Wz&&e.translate<=$z||isNaN(e.translate))&&(e.translate=0)}function Rf(e,t,r,n){mD(e.x,t.x,r.x,n?n.originX:void 0),mD(e.y,t.y,r.y,n?n.originY:void 0)}function vD(e,t,r){e.min=r.min+t.min,e.max=e.min+qs(t)}function zz(e,t,r){vD(e.x,t.x,r.x),vD(e.y,t.y,r.y)}function CD(e,t,r){e.min=t.min-r.min,e.max=e.min+qs(t)}function Tf(e,t,r){CD(e.x,t.x,r.x),CD(e.y,t.y,r.y)}function Kz(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Mr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Mr(r,e,n.max):Math.min(e,r)),e}function yD(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function qz(e,{top:t,left:r,bottom:n,right:s}){return{x:yD(e.x,r,s),y:yD(e.y,t,n)}}function wD(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Yz(e,t){return{x:wD(e.x,t.x),y:wD(e.y,t.y)}}function Xz(e,t){let r=.5;const n=qs(e),s=qs(t);return s>n?r=jd(t.min,t.max-n,e.min):n>s&&(r=jd(e.min,e.max-s,t.min)),ia(0,1,r)}function Qz(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const mx=.35;function Jz(e=mx){return e===!1?e=0:e===!0&&(e=mx),{x:SD(e,"left","right"),y:SD(e,"top","bottom")}}function SD(e,t,r){return{min:xD(e,t),max:xD(e,r)}}function xD(e,t){return typeof e=="number"?e:e[t]||0}const ED=()=>({translate:0,scale:1,origin:0,originPoint:0}),sd=()=>({x:ED(),y:ED()}),bD=()=>({min:0,max:0}),zr=()=>({x:bD(),y:bD()});function li(e){return[e("x"),e("y")]}function pL({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Zz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function eK(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Rw(e){return e===void 0||e===1}function vx({scale:e,scaleX:t,scaleY:r}){return!Rw(e)||!Rw(t)||!Rw(r)}function nc(e){return vx(e)||gL(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gL(e){return RD(e.x)||RD(e.y)}function RD(e){return e&&e!=="0%"}function Pv(e,t,r){const n=e-r,s=t*n;return r+s}function TD(e,t,r,n,s){return s!==void 0&&(e=Pv(e,s,n)),Pv(e,r,n)+t}function Cx(e,t=0,r=1,n,s){e.min=TD(e.min,t,r,n,s),e.max=TD(e.max,t,r,n,s)}function mL(e,{x:t,y:r}){Cx(e.x,t.translate,t.scale,t.originPoint),Cx(e.y,r.translate,r.scale,r.originPoint)}const FD=.999999999999,PD=1.0000000000001;function tK(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&od(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,mL(e,o)),n&&nc(i.latestValues)&&od(e,i.latestValues))}t.x<PD&&t.x>FD&&(t.x=1),t.y<PD&&t.y>FD&&(t.y=1)}function id(e,t){e.min=e.min+t,e.max=e.max+t}function AD(e,t,r,n,s=.5){const i=Mr(e.min,e.max,s);Cx(e,t,r,i,n)}function od(e,t){AD(e.x,t.x,t.scaleX,t.scale,t.originX),AD(e.y,t.y,t.scaleY,t.scale,t.originY)}function vL(e,t){return pL(eK(e.getBoundingClientRect(),t))}function rK(e,t,r){const n=vL(e,r),{scroll:s}=t;return s&&(id(n.x,s.offset.x),id(n.y,s.offset.y)),n}const CL=({current:e})=>e?e.ownerDocument.defaultView:null,nK=new WeakMap;class sK{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zr(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Pp(h).point)},i=(h,p)=>{const{drag:g,dragPropagation:C,onDragStart:w}=this.getProps();if(g&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kz(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),li(S=>{let E=this.getAxisMotionValue(S).get()||0;if(ho.test(E)){const{projection:b}=this.visualElement;if(b&&b.layout){const T=b.layout.layoutBox[S];T&&(E=qs(T)*(parseFloat(E)/100))}}this.originPoint[S]=E}),w&&hr.postRender(()=>w(h,p)),px(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(h,p)=>{const{dragPropagation:g,dragDirectionLock:C,onDirectionLock:w,onDrag:y}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:S}=p;if(C&&this.currentDirection===null){this.currentDirection=iK(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),y&&y(h,p)},a=(h,p)=>this.stop(h,p),l=()=>li(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new uL(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:CL(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&hr.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Cm(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Kz(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&nd(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=qz(s.layoutBox,r):this.constraints=!1,this.elastic=Jz(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&li(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Qz(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!nd(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=rK(n,s.root,this.visualElement.getTransformPagePoint());let o=Yz(s.layout.layoutBox,i);if(r){const a=r(Zz(o));this.hasMutatedConstraints=!!a,a&&(o=pL(a))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=li(h=>{if(!Cm(h,r,this.currentDirection))return;let p=l&&l[h]||{};o&&(p={min:0,max:0});const g=s?200:1e6,C=s?40:1e7,w={type:"inertia",velocity:n?t[h]:0,bounceStiffness:g,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(h,w)});return Promise.all(u).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return px(this.visualElement,t),n.start(cE(t,n,0,r,this.visualElement,!1))}stopAnimation(){li(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){li(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){li(r=>{const{drag:n}=this.getProps();if(!Cm(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(t[r]-Mr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!nd(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};li(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Xz({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),li(o=>{if(!Cm(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Mr(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;nK.set(this.visualElement,this);const t=this.visualElement.current,r=ul(t,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();nd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),hr.read(n);const o=Ko(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(li(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=l[h].translate,p.set(p.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=mx,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Cm(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function iK(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class oK extends Al{constructor(t){super(t),this.removeGroupControls=On,this.removeListeners=On,this.controls=new sK(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||On}unmount(){this.removeGroupControls(),this.removeListeners()}}const DD=e=>(t,r)=>{e&&hr.postRender(()=>e(t,r))};class aK extends Al{constructor(){super(...arguments),this.removePointerDownListener=On}onPointerDown(t){this.session=new uL(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CL(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:DD(t),onStart:DD(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&hr.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ul(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const P0=m.createContext(null);function lK(){const e=m.useContext(P0);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=m.useId();m.useEffect(()=>n(s),[]);const i=m.useCallback(()=>r&&r(s),[s,r]);return!t&&r?[!1,i]:[!0]}const pE=m.createContext({}),yL=m.createContext({}),av={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const lf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ft.test(e))e=parseFloat(e);else return e;const r=MD(e,t.target.x),n=MD(e,t.target.y);return`${r}% ${n}%`}},cK={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=vl.parse(e);if(s.length>5)return n;const i=vl.createTransformer(e),o=typeof s[0]!="number"?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=Mr(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},Av={};function uK(e){Object.assign(Av,e)}const{schedule:gE,cancel:vAe}=SO(queueMicrotask,!1);class dK extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;uK(hK),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),av.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||hr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),gE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function wL(e){const[t,r]=lK(),n=m.useContext(pE);return d.jsx(dK,{...e,layoutGroup:n,switchLayoutGroup:m.useContext(yL),isPresent:t,safeToRemove:r})}const hK={borderRadius:{...lf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lf,borderTopRightRadius:lf,borderBottomLeftRadius:lf,borderBottomRightRadius:lf,boxShadow:cK},SL=["TopLeft","TopRight","BottomLeft","BottomRight"],fK=SL.length,ND=e=>typeof e=="string"?parseFloat(e):e,ID=e=>typeof e=="number"||Ft.test(e);function pK(e,t,r,n,s,i){s?(e.opacity=Mr(0,r.opacity!==void 0?r.opacity:1,gK(n)),e.opacityExit=Mr(t.opacity!==void 0?t.opacity:1,0,mK(n))):i&&(e.opacity=Mr(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<fK;o++){const a=`border${SL[o]}Radius`;let l=OD(t,a),u=OD(r,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ID(l)===ID(u)?(e[a]=Math.max(Mr(ND(l),ND(u),n),0),(ho.test(u)||ho.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||r.rotate)&&(e.rotate=Mr(t.rotate||0,r.rotate||0,n))}function OD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const gK=xL(0,.5,PO),mK=xL(.5,.95,On);function xL(e,t,r){return n=>n<e?0:n>t?1:r(jd(e,t,n))}function LD(e,t){e.min=t.min,e.max=t.max}function si(e,t){LD(e.x,t.x),LD(e.y,t.y)}function kD(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _D(e,t,r,n,s){return e-=t,e=Pv(e,1/r,n),s!==void 0&&(e=Pv(e,1/s,n)),e}function vK(e,t=0,r=1,n=.5,s,i=e,o=e){if(ho.test(t)&&(t=parseFloat(t),t=Mr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Mr(i.min,i.max,n);e===i&&(a-=t),e.min=_D(e.min,t,r,a,s),e.max=_D(e.max,t,r,a,s)}function jD(e,t,[r,n,s],i,o){vK(e,t[r],t[n],t[s],t.scale,i,o)}const CK=["x","scaleX","originX"],yK=["y","scaleY","originY"];function BD(e,t,r,n){jD(e.x,t,CK,r?r.x:void 0,n?n.x:void 0),jD(e.y,t,yK,r?r.y:void 0,n?n.y:void 0)}function GD(e){return e.translate===0&&e.scale===1}function EL(e){return GD(e.x)&&GD(e.y)}function HD(e,t){return e.min===t.min&&e.max===t.max}function wK(e,t){return HD(e.x,t.x)&&HD(e.y,t.y)}function VD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bL(e,t){return VD(e.x,t.x)&&VD(e.y,t.y)}function WD(e){return qs(e.x)/qs(e.y)}function $D(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class SK{constructor(){this.members=[]}add(t){uE(this.members,t),t.scheduleRender()}remove(t){if(dE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xK(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:h,rotateX:p,rotateY:g,skewX:C,skewY:w}=r;u&&(n=`perspective(${u}px) ${n}`),h&&(n+=`rotate(${h}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),C&&(n+=`skewX(${C}deg) `),w&&(n+=`skewY(${w}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const EK=(e,t)=>e.depth-t.depth;class bK{constructor(){this.children=[],this.isDirty=!1}add(t){uE(this.children,t),this.isDirty=!0}remove(t){dE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(EK),this.isDirty=!1,this.children.forEach(t)}}function lv(e){const t=In(e)?e.get():e;return hz(t)?t.toValue():t}function RK(e,t){const r=fo.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(ml(n),e(i-t))};return hr.read(n,!0),()=>ml(n)}function TK(e){return e instanceof SVGElement&&e.tagName!=="svg"}function FK(e,t,r){const n=In(e)?e:zf(e);return n.start(cE("",n,t,r)),n.animation}const sc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Cf=typeof window<"u"&&window.MotionDebug!==void 0,Tw=["","X","Y","Z"],PK={visibility:"hidden"},UD=1e3;let AK=0;function Fw(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function RL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=iL(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",hr,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&RL(n)}function TL({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=AK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cf&&(sc.totalNodes=sc.resolvedTargetDeltas=sc.recalculatedProjection=0),this.nodes.forEach(NK),this.nodes.forEach(_K),this.nodes.forEach(jK),this.nodes.forEach(IK),Cf&&window.MotionDebug.record(sc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new bK)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new hE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TK(o),this.instance=o;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let p;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=RK(g,250),av.hasAnimatedSinceResize&&(av.hasAnimatedSinceResize=!1,this.nodes.forEach(KD))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:C,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||h.getDefaultTransition()||WK,{onLayoutAnimationStart:S,onLayoutAnimationComplete:E}=h.getProps(),b=!this.targetLayout||!bL(this.targetLayout,w)||C,T=!g&&C;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||g&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,T);const R={...Y1(y,"layout"),onPlay:S,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else g||KD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ml(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zD);return}this.isUpdating||this.nodes.forEach(LK),this.isUpdating=!1,this.nodes.forEach(kK),this.nodes.forEach(DK),this.nodes.forEach(MK),this.clearAllSnapshots();const a=fo.now();vn.delta=ia(0,1e3/60,a-vn.timestamp),vn.timestamp=a,vn.isProcessing=!0,Cw.update.process(vn),Cw.preRender.process(vn),Cw.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OK),this.sharedNodes.forEach(GK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!EL(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||nc(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),$K(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return zr();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(UK))){const{scroll:h}=this.root;h&&(id(l.x,h.offset.x),id(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=zr();if(si(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&si(l,o),id(l.x,p.offset.x),id(l.y,p.offset.y))}return l}applyTransform(o,a=!1){const l=zr();si(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&od(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),nc(h.latestValues)&&od(l,h.latestValues)}return nc(this.latestValues)&&od(l,this.latestValues),l}removeTransform(o){const a=zr();si(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!nc(u.latestValues))continue;vx(u.latestValues)&&u.updateSnapshot();const h=zr(),p=u.measurePageBox();si(h,p),BD(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return nc(this.latestValues)&&BD(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=vn.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zr(),this.relativeTargetOrigin=zr(),Tf(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=zr(),this.targetWithTransforms=zr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):si(this.target,this.layout.layoutBox),mL(this.target,this.targetDelta)):si(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zr(),this.relativeTargetOrigin=zr(),Tf(this.relativeTargetOrigin,this.target,C.target),si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cf&&sc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||vx(this.parent.latestValues)||gL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(u=!1),u)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;si(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,C=this.treeScale.y;tK(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=zr());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kD(this.prevProjectionDelta.x,this.projectionDelta.x),kD(this.prevProjectionDelta.y,this.projectionDelta.y)),Rf(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==C||!$D(this.projectionDelta.x,this.prevProjectionDelta.x)||!$D(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Cf&&sc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sd(),this.projectionDelta=sd(),this.projectionDeltaWithTransform=sd()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},p=sd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=zr(),C=l?l.source:void 0,w=this.layout?this.layout.source:void 0,y=C!==w,S=this.getStack(),E=!S||S.members.length<=1,b=!!(y&&!E&&this.options.crossfade===!0&&!this.path.some(VK));this.animationProgress=0;let T;this.mixTargetDelta=R=>{const P=R/1e3;qD(p.x,o.x,P),qD(p.y,o.y,P),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tf(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HK(this.relativeTarget,this.relativeTargetOrigin,g,P),T&&wK(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=zr()),si(T,this.relativeTarget)),y&&(this.animationValues=h,pK(h,u,this.latestValues,P,b,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ml(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hr.update(()=>{av.hasAnimatedSinceResize=!0,this.currentAnimation=FK(0,UD,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&FL(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||zr();const p=qs(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const g=qs(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}si(a,l),od(a,h),Rf(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new SK),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Fw("z",o,u,this.animationValues);for(let h=0;h<Tw.length;h++)Fw(`rotate${Tw[h]}`,o,u,this.animationValues),Fw(`skew${Tw[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return PK;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=lv(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=lv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!nc(this.latestValues)&&(y.transform=h?h({},""):"none",this.hasProjected=!1),y}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=xK(this.projectionDeltaWithTransform,this.treeScale,g),h&&(u.transform=h(g,u.transform));const{x:C,y:w}=this.projectionDelta;u.transformOrigin=`${C.origin*100}% ${w.origin*100}% 0`,p.animationValues?u.opacity=p===this?(l=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const y in Av){if(g[y]===void 0)continue;const{correct:S,applyTo:E}=Av[y],b=u.transform==="none"?g[y]:S(g[y],p);if(E){const T=E.length;for(let R=0;R<T;R++)u[E[R]]=b}else u[y]=b}return this.options.layoutId&&(u.pointerEvents=p===this?lv(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(zD),this.root.sharedNodes.clear()}}}function DK(e){e.updateLayout()}function MK(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?li(p=>{const g=o?r.measuredBox[p]:r.layoutBox[p],C=qs(g);g.min=n[p].min,g.max=g.min+C}):FL(i,r.layoutBox,n)&&li(p=>{const g=o?r.measuredBox[p]:r.layoutBox[p],C=qs(n[p]);g.max=g.min+C,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+C)});const a=sd();Rf(a,n,r.layoutBox);const l=sd();o?Rf(l,e.applyTransform(s,!0),r.measuredBox):Rf(l,n,r.layoutBox);const u=!EL(a);let h=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:C}=p;if(g&&C){const w=zr();Tf(w,r.layoutBox,g.layoutBox);const y=zr();Tf(y,n,C.layoutBox),bL(w,y)||(h=!0),p.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=w,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function NK(e){Cf&&sc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function IK(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function OK(e){e.clearSnapshot()}function zD(e){e.clearMeasurements()}function LK(e){e.isLayoutDirty=!1}function kK(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function KD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _K(e){e.resolveTargetDelta()}function jK(e){e.calcProjection()}function BK(e){e.resetSkewAndRotation()}function GK(e){e.removeLeadSnapshot()}function qD(e,t,r){e.translate=Mr(t.translate,0,r),e.scale=Mr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function YD(e,t,r,n){e.min=Mr(t.min,r.min,n),e.max=Mr(t.max,r.max,n)}function HK(e,t,r,n){YD(e.x,t.x,r.x,n),YD(e.y,t.y,r.y,n)}function VK(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const WK={duration:.45,ease:[.4,0,.1,1]},XD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),QD=XD("applewebkit/")&&!XD("chrome/")?Math.round:On;function JD(e){e.min=QD(e.min),e.max=QD(e.max)}function $K(e){JD(e.x),JD(e.y)}function FL(e,t,r){return e==="position"||e==="preserve-aspect"&&!Uz(WD(t),WD(r),.2)}function UK(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const zK=TL({attachResizeListener:(e,t)=>Ko(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pw={current:void 0},PL=TL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Pw.current){const e=new zK({});e.mount(window),e.setOptions({layoutScroll:!0}),Pw.current=e}return Pw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),KK={pan:{Feature:aK},drag:{Feature:oK,ProjectionNode:PL,MeasureLayout:wL}};function ZD(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r);const s=n[r?"onHoverStart":"onHoverEnd"];s&&hr.postRender(()=>s(t,Pp(t)))}class qK extends Al{mount(){const{current:t,props:r}=this.node;t&&(this.unmount=Lz(t,n=>(ZD(this.node,n,!0),s=>ZD(this.node,s,!1)),{passive:!r.onHoverStart&&!r.onHoverEnd}))}unmount(){}}class YK extends Al{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cl(Ko(this.node.current,"focus",()=>this.onFocus()),Ko(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const AL=(e,t)=>t?e===t?!0:AL(e,t.parentElement):!1;function Aw(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Pp(r))}class XK extends Al{constructor(){super(...arguments),this.removeStartListeners=On,this.removeEndListeners=On,this.removeAccessibleListeners=On,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=ul(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h,globalTapTarget:p}=this.node.getProps(),g=!p&&!AL(this.node.current,a.target)?h:u;g&&hr.update(()=>g(a,l))},{passive:!(n.onTap||n.onPointerUp)}),o=ul(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=cl(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Aw("up",(l,u)=>{const{onTap:h}=this.node.getProps();h&&hr.postRender(()=>h(l,u))})};this.removeEndListeners(),this.removeEndListeners=Ko(this.node.current,"keyup",o),Aw("down",(a,l)=>{this.startPress(a,l)})},r=Ko(this.node.current,"keydown",t),n=()=>{this.isPressing&&Aw("cancel",(i,o)=>this.cancelPress(i,o))},s=Ko(this.node.current,"blur",n);this.removeAccessibleListeners=cl(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&hr.postRender(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!lL()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&hr.postRender(()=>n(t,r))}mount(){const t=this.node.getProps(),r=ul(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Ko(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=cl(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const yx=new WeakMap,Dw=new WeakMap,QK=e=>{const t=yx.get(e.target);t&&t(e)},JK=e=>{e.forEach(QK)};function ZK({root:e,...t}){const r=e||document;Dw.has(r)||Dw.set(r,{});const n=Dw.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(JK,{root:e,...t})),n[s]}function eq(e,t,r){const n=ZK(t);return yx.set(e,r),n.observe(e),()=>{yx.delete(e),n.unobserve(e)}}const tq={some:0,all:1};class rq extends Al{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:tq[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=u?h:p;g&&g(l)};return eq(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(nq(t,r))&&this.startObserver()}unmount(){}}function nq({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const sq={inView:{Feature:rq},tap:{Feature:XK},focus:{Feature:YK},hover:{Feature:qK}},iq={layout:{ProjectionNode:PL,MeasureLayout:wL}},mE=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),A0=m.createContext({}),vE=typeof window<"u",DL=vE?m.useLayoutEffect:m.useEffect,ML=m.createContext({strict:!1});function oq(e,t,r,n,s){var i,o;const{visualElement:a}=m.useContext(A0),l=m.useContext(ML),u=m.useContext(P0),h=m.useContext(mE).reducedMotion,p=m.useRef();n=n||l.renderer,!p.current&&n&&(p.current=n(e,{visualState:t,parent:a,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=p.current,C=m.useContext(yL);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&aq(p.current,r,s,C);const w=m.useRef(!1);m.useInsertionEffect(()=>{g&&w.current&&g.update(r,u)});const y=r[sL],S=m.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return DL(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),gE.render(g.render),S.current&&g.animationState&&g.animationState.animateChanges())}),m.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)===null||E===void 0||E.call(window,y)}),S.current=!1))}),g}function aq(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:NL(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&nd(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:u})}function NL(e){if(e)return e.options.allowProjection!==!1?e.projection:NL(e.parent)}function lq(e,t,r){return m.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):nd(r)&&(r.current=n))},[t])}function D0(e){return R0(e.animate)||q1.some(t=>Wf(e[t]))}function IL(e){return!!(D0(e)||e.variants)}function cq(e,t){if(D0(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Wf(r)?r:void 0,animate:Wf(n)?n:void 0}}return e.inherit!==!1?t:{}}function uq(e){const{initial:t,animate:r}=cq(e,m.useContext(A0));return m.useMemo(()=>({initial:t,animate:r}),[e2(t),e2(r)])}function e2(e){return Array.isArray(e)?e.join(" "):e}const t2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bd={};for(const e in t2)Bd[e]={isEnabled:t=>t2[e].some(r=>!!t[r])};function dq(e){for(const t in e)Bd[t]={...Bd[t],...e[t]}}const hq=Symbol.for("motionComponentSymbol");function fq({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&dq(e);function i(a,l){let u;const h={...m.useContext(mE),...a,layoutId:pq(a)},{isStatic:p}=h,g=uq(a),C=n(a,p);if(!p&&vE){gq();const w=mq(h);u=w.MeasureLayout,g.visualElement=oq(s,C,h,t,w.ProjectionNode)}return d.jsxs(A0.Provider,{value:g,children:[u&&g.visualElement?d.jsx(u,{visualElement:g.visualElement,...h}):null,r(s,a,lq(C,g.visualElement,l),C,p,g.visualElement)]})}const o=m.forwardRef(i);return o[hq]=s,o}function pq({layoutId:e}){const t=m.useContext(pE).id;return t&&e!==void 0?t+"-"+e:e}function gq(e,t){m.useContext(ML).strict}function mq(e){const{drag:t,layout:r}=Bd;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const vq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function CE(e){return typeof e!="string"||e.includes("-")?!1:!!(vq.indexOf(e)>-1||/[A-Z]/u.test(e))}function OL(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const LL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kL(e,t,r,n){OL(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(LL.has(s)?s:fE(s),t.attrs[s])}function _L(e,{layout:t,layoutId:r}){return Qc.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Av[e]||e==="opacity")}function yE(e,t,r){var n;const{style:s}=e,i={};for(const o in s)(In(s[o])||t.style&&In(t.style[o])||_L(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function jL(e,t,r){const n=yE(e,t,r);for(const s in e)if(In(e[s])||In(t[s])){const i=Rp.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function wE(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}function Cq({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const o={latestValues:yq(n,s,i,e),renderState:t()};return r&&(o.mount=a=>r(n,a,o)),o}const BL=e=>(t,r)=>{const n=m.useContext(A0),s=m.useContext(P0),i=()=>Cq(e,t,n,s);return r?i():wE(i)};function yq(e,t,r,n){const s={},i=n(e,{});for(const g in i)s[g]=lv(i[g]);let{initial:o,animate:a}=e;const l=D0(e),u=IL(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const p=h?a:o;if(p&&typeof p!="boolean"&&!R0(p)){const g=Array.isArray(p)?p:[p];for(let C=0;C<g.length;C++){const w=z1(e,g[C]);if(w){const{transitionEnd:y,transition:S,...E}=w;for(const b in E){let T=E[b];if(Array.isArray(T)){const R=h?T.length-1:0;T=T[R]}T!==null&&(s[b]=T)}for(const b in y)s[b]=y[b]}}}return s}const SE=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),GL=()=>({...SE(),attrs:{}}),HL=(e,t)=>t&&typeof e=="number"?t.transform(e):e,wq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Sq=Rp.length;function xq(e,t,r){let n="",s=!0;for(let i=0;i<Sq;i++){const o=Rp[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){const u=HL(a,rE[o]);if(!l){s=!1;const h=wq[o]||o;n+=`${h}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function xE(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(Qc.has(l)){o=!0;continue}else if(IO(l)){s[l]=u;continue}else{const h=HL(u,rE[l]);l.startsWith("origin")?(a=!0,i[l]=h):n[l]=h}}if(t.transform||(o||r?n.transform=xq(t,e.transform,r):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=i;n.transformOrigin=`${l} ${u} ${h}`}}function r2(e,t,r){return typeof e=="string"?e:Ft.transform(t+r*e)}function Eq(e,t,r){const n=r2(t,e.x,e.width),s=r2(r,e.y,e.height);return`${n} ${s}`}const bq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Rq={offset:"strokeDashoffset",array:"strokeDasharray"};function Tq(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?bq:Rq;e[i.offset]=Ft.transform(-n);const o=Ft.transform(t),a=Ft.transform(r);e[i.array]=`${o} ${a}`}function EE(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},h,p){if(xE(e,u,p),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:C,dimensions:w}=e;g.transform&&(w&&(C.transform=g.transform),delete g.transform),w&&(s!==void 0||i!==void 0||C.transform)&&(C.transformOrigin=Eq(w,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(g.x=t),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&Tq(g,o,a,l,!1)}const bE=e=>typeof e=="string"&&e.toLowerCase()==="svg",Fq={useVisualState:BL({scrapeMotionValuesFromProps:jL,createRenderState:GL,onMount:(e,t,{renderState:r,latestValues:n})=>{hr.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),hr.render(()=>{EE(r,n,bE(t.tagName),e.transformTemplate),kL(t,r)})}})},Pq={useVisualState:BL({scrapeMotionValuesFromProps:yE,createRenderState:SE})};function VL(e,t,r){for(const n in t)!In(t[n])&&!_L(n,r)&&(e[n]=t[n])}function Aq({transformTemplate:e},t){return m.useMemo(()=>{const r=SE();return xE(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Dq(e,t){const r=e.style||{},n={};return VL(n,r,e),Object.assign(n,Aq(e,t)),n}function Mq(e,t){const r={},n=Dq(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Nq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Nq.has(e)}let WL=e=>!Dv(e);function Iq(e){e&&(WL=t=>t.startsWith("on")?!Dv(t):e(t))}try{Iq(require("@emotion/is-prop-valid").default)}catch{}function Oq(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(WL(s)||r===!0&&Dv(s)||!t&&!Dv(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function Lq(e,t,r,n){const s=m.useMemo(()=>{const i=GL();return EE(i,t,bE(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};VL(i,e.style,e),s.style={...i,...s.style}}return s}function kq(e=!1){return(r,n,s,{latestValues:i},o)=>{const l=(CE(r)?Lq:Mq)(n,i,o,r),u=Oq(n,typeof r=="string",e),h=r!==m.Fragment?{...u,...l,ref:s}:{},{children:p}=n,g=m.useMemo(()=>In(p)?p.get():p,[p]);return m.createElement(r,{...h,children:g})}}function _q(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...CE(n)?Fq:Pq,preloadedFeatures:e,useRender:kq(s),createVisualElement:t,Component:n};return fq(o)}}const wx={current:null},$L={current:!1};function jq(){if($L.current=!0,!!vE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wx.current=e.matches;e.addListener(t),t()}else wx.current=!1}function Bq(e,t,r){for(const n in t){const s=t[n],i=r[n];if(In(s))e.addValue(n,s);else if(In(i))e.addValue(n,zf(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,zf(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const n2=new WeakMap,Gq=[...kO,Dn,vl],Hq=e=>Gq.find(LO(e)),s2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Vq{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Z1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=fo.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,hr.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=D0(r),this.isVariantNode=IL(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const C=p[g];l[g]!==void 0&&In(C)&&C.set(l[g],!1)}}mount(t){this.current=t,n2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),$L.current||jq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){n2.delete(this.current),this.projection&&this.projection.unmount(),ml(this.notifyUpdate),ml(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Qc.has(t),s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&hr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Bd){const r=Bd[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<s2.length;n++){const s=s2[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Bq(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=zf(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(MO(s)||DO(s))?s=parseFloat(s):!Hq(s)&&vl.test(r)&&(s=$O(t,r)),this.setBaseTarget(t,In(s)?s.get():s)),In(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=z1(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!In(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new hE),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class UL extends Vq{constructor(){super(...arguments),this.KeyframeResolver=UO}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;In(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Wq(e){return window.getComputedStyle(e)}class $q extends UL{constructor(){super(...arguments),this.type="html",this.renderInstance=OL}readValueFromInstance(t,r){if(Qc.has(r)){const n=nE(r);return n&&n.default||0}else{const n=Wq(t),s=(IO(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return vL(t,r)}build(t,r,n){xE(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return yE(t,r,n)}}class Uq extends UL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Qc.has(r)){const n=nE(r);return n&&n.default||0}return r=LL.has(r)?r:fE(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return jL(t,r,n)}build(t,r,n){EE(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){kL(t,r,n,s)}mount(t){this.isSVGTag=bE(t.tagName),super.mount(t)}}const zq=(e,t)=>CE(e)?new Uq(t):new $q(t,{allowProjection:e!==m.Fragment}),Kq=_q({...Iz,...sq,...KK,...iq},zq),ns=M$(Kq);class qq extends m.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Yq({children:e,isPresent:t}){const r=m.useId(),n=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(mE);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(t||!n.current||!o||!a)return;n.current.dataset.motionPopId=r;const h=document.createElement("style");return i&&(h.nonce=i),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),d.jsx(qq,{isPresent:t,childRef:n,sizeRef:s,children:m.cloneElement(e,{ref:n})})}const Xq=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=wE(Qq),l=m.useId(),u=m.useCallback(p=>{a.set(p,!0);for(const g of a.values())if(!g)return;n&&n()},[a,n]),h=m.useMemo(()=>({id:l,initial:t,isPresent:r,custom:s,onExitComplete:u,register:p=>(a.set(p,!1),()=>a.delete(p))}),i?[Math.random(),u]:[r,u]);return m.useMemo(()=>{a.forEach((p,g)=>a.set(g,!1))},[r]),m.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(e=d.jsx(Yq,{isPresent:r,children:e})),d.jsx(P0.Provider,{value:h,children:e})};function Qq(){return new Map}const ym=e=>e.key||"";function i2(e){const t=[];return m.Children.forEach(e,r=>{m.isValidElement(r)&&t.push(r)}),t}const Jq=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useMemo(()=>i2(e),[e]),l=a.map(ym),u=m.useRef(!0),h=m.useRef(a),p=wE(()=>new Map),[g,C]=m.useState(a),[w,y]=m.useState(a);DL(()=>{u.current=!1,h.current=a;for(let b=0;b<w.length;b++){const T=ym(w[b]);l.includes(T)?p.delete(T):p.get(T)!==!0&&p.set(T,!1)}},[w,l.length,l.join("-")]);const S=[];if(a!==g){let b=[...a];for(let T=0;T<w.length;T++){const R=w[T],P=ym(R);l.includes(P)||(b.splice(T,0,R),S.push(R))}o==="wait"&&S.length&&(b=S),y(i2(b)),C(a);return}const{forceRender:E}=m.useContext(pE);return d.jsx(d.Fragment,{children:w.map(b=>{const T=ym(b),R=a===w||l.includes(T),P=()=>{if(p.has(T))p.set(T,!0);else return;let M=!0;p.forEach(D=>{D||(M=!1)}),M&&(E==null||E(),y(h.current),s&&s())};return d.jsx(Xq,{isPresent:R,initial:!u.current||n?void 0:!1,custom:R?void 0:r,presenceAffectsLayout:i,mode:o,onExitComplete:R?void 0:P,children:b},T)})})};function o2(e){return jn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function a2(e){return jn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function Zq(e){return jn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function eY(e){return jn({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(e)}function tY(e){return jn({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M2.8 1L2.74967 0.99997C2.52122 0.999752 2.32429 0.999564 2.14983 1.04145C1.60136 1.17312 1.17312 1.60136 1.04145 2.14983C0.999564 2.32429 0.999752 2.52122 0.99997 2.74967L1 2.8V5.2L0.99997 5.25033C0.999752 5.47878 0.999564 5.67572 1.04145 5.85017C1.17312 6.39864 1.60136 6.82688 2.14983 6.95856C2.32429 7.00044 2.52122 7.00025 2.74967 7.00003L2.8 7H5.2L5.25033 7.00003C5.47878 7.00025 5.67572 7.00044 5.85017 6.95856C6.39864 6.82688 6.82688 6.39864 6.95856 5.85017C7.00044 5.67572 7.00025 5.47878 7.00003 5.25033L7 5.2V2.8L7.00003 2.74967C7.00025 2.52122 7.00044 2.32429 6.95856 2.14983C6.82688 1.60136 6.39864 1.17312 5.85017 1.04145C5.67572 0.999564 5.47878 0.999752 5.25033 0.99997L5.2 1H2.8ZM2.38328 2.01382C2.42632 2.00348 2.49222 2 2.8 2H5.2C5.50779 2 5.57369 2.00348 5.61672 2.01382C5.79955 2.05771 5.94229 2.20045 5.98619 2.38328C5.99652 2.42632 6 2.49222 6 2.8V5.2C6 5.50779 5.99652 5.57369 5.98619 5.61672C5.94229 5.79955 5.79955 5.94229 5.61672 5.98619C5.57369 5.99652 5.50779 6 5.2 6H2.8C2.49222 6 2.42632 5.99652 2.38328 5.98619C2.20045 5.94229 2.05771 5.79955 2.01382 5.61672C2.00348 5.57369 2 5.50779 2 5.2V2.8C2 2.49222 2.00348 2.42632 2.01382 2.38328C2.05771 2.20045 2.20045 2.05771 2.38328 2.01382ZM9.8 1L9.74967 0.99997C9.52122 0.999752 9.32429 0.999564 9.14983 1.04145C8.60136 1.17312 8.17312 1.60136 8.04145 2.14983C7.99956 2.32429 7.99975 2.52122 7.99997 2.74967L8 2.8V5.2L7.99997 5.25033C7.99975 5.47878 7.99956 5.67572 8.04145 5.85017C8.17312 6.39864 8.60136 6.82688 9.14983 6.95856C9.32429 7.00044 9.52122 7.00025 9.74967 7.00003L9.8 7H12.2L12.2503 7.00003C12.4788 7.00025 12.6757 7.00044 12.8502 6.95856C13.3986 6.82688 13.8269 6.39864 13.9586 5.85017C14.0004 5.67572 14.0003 5.47878 14 5.25033L14 5.2V2.8L14 2.74967C14.0003 2.52122 14.0004 2.32429 13.9586 2.14983C13.8269 1.60136 13.3986 1.17312 12.8502 1.04145C12.6757 0.999564 12.4788 0.999752 12.2503 0.99997L12.2 1H9.8ZM9.38328 2.01382C9.42632 2.00348 9.49222 2 9.8 2H12.2C12.5078 2 12.5737 2.00348 12.6167 2.01382C12.7995 2.05771 12.9423 2.20045 12.9862 2.38328C12.9965 2.42632 13 2.49222 13 2.8V5.2C13 5.50779 12.9965 5.57369 12.9862 5.61672C12.9423 5.79955 12.7995 5.94229 12.6167 5.98619C12.5737 5.99652 12.5078 6 12.2 6H9.8C9.49222 6 9.42632 5.99652 9.38328 5.98619C9.20045 5.94229 9.05771 5.79955 9.01382 5.61672C9.00348 5.57369 9 5.50779 9 5.2V2.8C9 2.49222 9.00348 2.42632 9.01382 2.38328C9.05771 2.20045 9.20045 2.05771 9.38328 2.01382ZM2.74967 7.99997L2.8 8H5.2L5.25033 7.99997C5.47878 7.99975 5.67572 7.99956 5.85017 8.04145C6.39864 8.17312 6.82688 8.60136 6.95856 9.14983C7.00044 9.32429 7.00025 9.52122 7.00003 9.74967L7 9.8V12.2L7.00003 12.2503C7.00025 12.4788 7.00044 12.6757 6.95856 12.8502C6.82688 13.3986 6.39864 13.8269 5.85017 13.9586C5.67572 14.0004 5.47878 14.0003 5.25033 14L5.2 14H2.8L2.74967 14C2.52122 14.0003 2.32429 14.0004 2.14983 13.9586C1.60136 13.8269 1.17312 13.3986 1.04145 12.8502C0.999564 12.6757 0.999752 12.4788 0.99997 12.2503L1 12.2V9.8L0.99997 9.74967C0.999752 9.52122 0.999564 9.32429 1.04145 9.14983C1.17312 8.60136 1.60136 8.17312 2.14983 8.04145C2.32429 7.99956 2.52122 7.99975 2.74967 7.99997ZM2.8 9C2.49222 9 2.42632 9.00348 2.38328 9.01382C2.20045 9.05771 2.05771 9.20045 2.01382 9.38328C2.00348 9.42632 2 9.49222 2 9.8V12.2C2 12.5078 2.00348 12.5737 2.01382 12.6167C2.05771 12.7995 2.20045 12.9423 2.38328 12.9862C2.42632 12.9965 2.49222 13 2.8 13H5.2C5.50779 13 5.57369 12.9965 5.61672 12.9862C5.79955 12.9423 5.94229 12.7995 5.98619 12.6167C5.99652 12.5737 6 12.5078 6 12.2V9.8C6 9.49222 5.99652 9.42632 5.98619 9.38328C5.94229 9.20045 5.79955 9.05771 5.61672 9.01382C5.57369 9.00348 5.50779 9 5.2 9H2.8ZM9.8 8L9.74967 7.99997C9.52122 7.99975 9.32429 7.99956 9.14983 8.04145C8.60136 8.17312 8.17312 8.60136 8.04145 9.14983C7.99956 9.32429 7.99975 9.52122 7.99997 9.74967L8 9.8V12.2L7.99997 12.2503C7.99975 12.4788 7.99956 12.6757 8.04145 12.8502C8.17312 13.3986 8.60136 13.8269 9.14983 13.9586C9.32429 14.0004 9.52122 14.0003 9.74967 14L9.8 14H12.2L12.2503 14C12.4788 14.0003 12.6757 14.0004 12.8502 13.9586C13.3986 13.8269 13.8269 13.3986 13.9586 12.8502C14.0004 12.6757 14.0003 12.4788 14 12.2503L14 12.2V9.8L14 9.74967C14.0003 9.52122 14.0004 9.32429 13.9586 9.14983C13.8269 8.60136 13.3986 8.17312 12.8502 8.04145C12.6757 7.99956 12.4788 7.99975 12.2503 7.99997L12.2 8H9.8ZM9.38328 9.01382C9.42632 9.00348 9.49222 9 9.8 9H12.2C12.5078 9 12.5737 9.00348 12.6167 9.01382C12.7995 9.05771 12.9423 9.20045 12.9862 9.38328C12.9965 9.42632 13 9.49222 13 9.8V12.2C13 12.5078 12.9965 12.5737 12.9862 12.6167C12.9423 12.7995 12.7995 12.9423 12.6167 12.9862C12.5737 12.9965 12.5078 13 12.2 13H9.8C9.49222 13 9.42632 12.9965 9.38328 12.9862C9.20045 12.9423 9.05771 12.7995 9.01382 12.6167C9.00348 12.5737 9 12.5078 9 12.2V9.8C9 9.49222 9.00348 9.42632 9.01382 9.38328C9.05771 9.20045 9.20045 9.05771 9.38328 9.01382Z",fill:"currentColor"},child:[]}]})(e)}function Wo(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function l2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rY(...e){return t=>{let r=!1;const n=e.map(s=>{const i=l2(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():l2(e[s],null)}}}}function Jc(...e){return m.useCallback(rY(...e),e)}function nY(e,t){const r=m.createContext(t),n=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return d.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function xo(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const u=p=>{var E;const{scope:g,children:C,...w}=p,y=((E=g==null?void 0:g[e])==null?void 0:E[l])||a,S=m.useMemo(()=>w,Object.values(w));return d.jsx(y.Provider,{value:S,children:C})};u.displayName=i+"Provider";function h(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,w=m.useContext(C);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,sY(s,...t)]}function sY(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var iY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Dl=iY.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?Pl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function oY(e,t){e&&vi.flushSync(()=>e.dispatchEvent(t))}function Yt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function M0(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var aY="DismissableLayer",Sx="dismissableLayer.update",lY="dismissableLayer.pointerDownOutside",cY="dismissableLayer.focusOutside",c2,zL=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),KL=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,u=m.useContext(zL),[h,p]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=m.useState({}),w=Jc(t,D=>p(D)),y=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(S),b=h?y.indexOf(h):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,R=b>=E,P=hY(D=>{const N=D.target,O=[...u.branches].some(j=>j.contains(N));!R||O||(s==null||s(D),o==null||o(D),D.defaultPrevented||a==null||a())},g),M=fY(D=>{const N=D.target;[...u.branches].some(j=>j.contains(N))||(i==null||i(D),o==null||o(D),D.defaultPrevented||a==null||a())},g);return M0(D=>{b===u.layers.size-1&&(n==null||n(D),!D.defaultPrevented&&a&&(D.preventDefault(),a()))},g),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(c2=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),u2(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=c2)}},[h,g,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),u2())},[h,u]),m.useEffect(()=>{const D=()=>C({});return document.addEventListener(Sx,D),()=>document.removeEventListener(Sx,D)},[]),d.jsx(Dl.div,{...l,ref:w,style:{pointerEvents:T?R?"auto":"none":void 0,...e.style},onFocusCapture:Wo(e.onFocusCapture,M.onFocusCapture),onBlurCapture:Wo(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Wo(e.onPointerDownCapture,P.onPointerDownCapture)})});KL.displayName=aY;var uY="DismissableLayerBranch",dY=m.forwardRef((e,t)=>{const r=m.useContext(zL),n=m.useRef(null),s=Jc(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),d.jsx(Dl.div,{...e,ref:s})});dY.displayName=uY;function hY(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){qL(lY,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function fY(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&qL(cY,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function u2(){const e=new CustomEvent(Sx);document.dispatchEvent(e)}function qL(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?oY(s,i):s.dispatchEvent(i)}var Jt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},pY=DI.useId||(()=>{}),gY=0;function Hi(e){const[t,r]=m.useState(pY());return Jt(()=>{r(n=>n??String(gY++))},[e]),t?`radix-${t}`:""}const mY=["top","right","bottom","left"],Cl=Math.min,Bs=Math.max,Mv=Math.round,wm=Math.floor,po=e=>({x:e,y:e}),vY={left:"right",right:"left",bottom:"top",top:"bottom"},CY={start:"end",end:"start"};function xx(e,t,r){return Bs(e,Cl(t,r))}function oa(e,t){return typeof e=="function"?e(t):e}function aa(e){return e.split("-")[0]}function nh(e){return e.split("-")[1]}function RE(e){return e==="x"?"y":"x"}function TE(e){return e==="y"?"height":"width"}function yl(e){return["top","bottom"].includes(aa(e))?"y":"x"}function FE(e){return RE(yl(e))}function yY(e,t,r){r===void 0&&(r=!1);const n=nh(e),s=FE(e),i=TE(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Nv(o)),[o,Nv(o)]}function wY(e){const t=Nv(e);return[Ex(e),t,Ex(t)]}function Ex(e){return e.replace(/start|end/g,t=>CY[t])}function SY(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function xY(e,t,r,n){const s=nh(e);let i=SY(aa(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Ex)))),i}function Nv(e){return e.replace(/left|right|bottom|top/g,t=>vY[t])}function EY(e){return{top:0,right:0,bottom:0,left:0,...e}}function YL(e){return typeof e!="number"?EY(e):{top:e,right:e,bottom:e,left:e}}function Iv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function d2(e,t,r){let{reference:n,floating:s}=e;const i=yl(t),o=FE(t),a=TE(o),l=aa(t),u=i==="y",h=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,g=n[a]/2-s[a]/2;let C;switch(l){case"top":C={x:h,y:n.y-s.height};break;case"bottom":C={x:h,y:n.y+n.height};break;case"right":C={x:n.x+n.width,y:p};break;case"left":C={x:n.x-s.width,y:p};break;default:C={x:n.x,y:n.y}}switch(nh(t)){case"start":C[o]-=g*(r&&u?-1:1);break;case"end":C[o]+=g*(r&&u?-1:1);break}return C}const bY=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:p}=d2(u,n,l),g=n,C={},w=0;for(let y=0;y<a.length;y++){const{name:S,fn:E}=a[y],{x:b,y:T,data:R,reset:P}=await E({x:h,y:p,initialPlacement:n,placement:g,strategy:s,middlewareData:C,rects:u,platform:o,elements:{reference:e,floating:t}});h=b??h,p=T??p,C={...C,[S]:{...C[S],...R}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(g=P.placement),P.rects&&(u=P.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):P.rects),{x:h,y:p}=d2(u,g,l)),y=-1)}return{x:h,y:p,placement:g,strategy:s,middlewareData:C}};async function Kf(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:C=0}=oa(t,e),w=YL(C),S=a[g?p==="floating"?"reference":"floating":p],E=Iv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(S)))==null||r?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),b=p==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},P=Iv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:T,strategy:l}):b);return{top:(E.top-P.top+w.top)/R.y,bottom:(P.bottom-E.bottom+w.bottom)/R.y,left:(E.left-P.left+w.left)/R.x,right:(P.right-E.right+w.right)/R.x}}const RY=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:h=0}=oa(e,t)||{};if(u==null)return{};const p=YL(h),g={x:r,y:n},C=FE(s),w=TE(C),y=await o.getDimensions(u),S=C==="y",E=S?"top":"left",b=S?"bottom":"right",T=S?"clientHeight":"clientWidth",R=i.reference[w]+i.reference[C]-g[C]-i.floating[w],P=g[C]-i.reference[C],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let D=M?M[T]:0;(!D||!await(o.isElement==null?void 0:o.isElement(M)))&&(D=a.floating[T]||i.floating[w]);const N=R/2-P/2,O=D/2-y[w]/2-1,j=Cl(p[E],O),W=Cl(p[b],O),B=j,oe=D-y[w]-W,pe=D/2-y[w]/2+N,Se=xx(B,pe,oe),we=!l.arrow&&nh(s)!=null&&pe!==Se&&i.reference[w]/2-(pe<B?j:W)-y[w]/2<0,se=we?pe<B?pe-B:pe-oe:0;return{[C]:g[C]+se,data:{[C]:Se,centerOffset:pe-Se-se,...we&&{alignmentOffset:se}},reset:we}}}),TY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...S}=oa(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const E=aa(s),b=yl(a),T=aa(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(u.floating)),P=g||(T||!y?[Nv(a)]:wY(a)),M=w!=="none";!g&&M&&P.push(...xY(a,y,w,R));const D=[a,...P],N=await Kf(t,S),O=[];let j=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&O.push(N[E]),p){const pe=yY(s,o,R);O.push(N[pe[0]],N[pe[1]])}if(j=[...j,{placement:s,overflows:O}],!O.every(pe=>pe<=0)){var W,B;const pe=(((W=i.flip)==null?void 0:W.index)||0)+1,Se=D[pe];if(Se)return{data:{index:pe,overflows:j},reset:{placement:Se}};let we=(B=j.filter(se=>se.overflows[0]<=0).sort((se,Z)=>se.overflows[1]-Z.overflows[1])[0])==null?void 0:B.placement;if(!we)switch(C){case"bestFit":{var oe;const se=(oe=j.filter(Z=>{if(M){const ne=yl(Z.placement);return ne===b||ne==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(ne=>ne>0).reduce((ne,de)=>ne+de,0)]).sort((Z,ne)=>Z[1]-ne[1])[0])==null?void 0:oe[0];se&&(we=se);break}case"initialPlacement":we=a;break}if(s!==we)return{reset:{placement:we}}}return{}}}};function h2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function f2(e){return mY.some(t=>e[t]>=0)}const FY=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=oa(e,t);switch(n){case"referenceHidden":{const i=await Kf(t,{...s,elementContext:"reference"}),o=h2(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:f2(o)}}}case"escaped":{const i=await Kf(t,{...s,altBoundary:!0}),o=h2(i,r.floating);return{data:{escapedOffsets:o,escaped:f2(o)}}}default:return{}}}}};async function PY(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=aa(r),a=nh(r),l=yl(r)==="y",u=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,p=oa(t,e);let{mainAxis:g,crossAxis:C,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof w=="number"&&(C=a==="end"?w*-1:w),l?{x:C*h,y:g*u}:{x:g*u,y:C*h}}const AY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await PY(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},DY=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:E,y:b}=S;return{x:E,y:b}}},...l}=oa(e,t),u={x:r,y:n},h=await Kf(t,l),p=yl(aa(s)),g=RE(p);let C=u[g],w=u[p];if(i){const S=g==="y"?"top":"left",E=g==="y"?"bottom":"right",b=C+h[S],T=C-h[E];C=xx(b,C,T)}if(o){const S=p==="y"?"top":"left",E=p==="y"?"bottom":"right",b=w+h[S],T=w-h[E];w=xx(b,w,T)}const y=a.fn({...t,[g]:C,[p]:w});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[g]:i,[p]:o}}}}}},MY=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=oa(e,t),h={x:r,y:n},p=yl(s),g=RE(p);let C=h[g],w=h[p];const y=oa(a,t),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const T=g==="y"?"height":"width",R=i.reference[g]-i.floating[T]+S.mainAxis,P=i.reference[g]+i.reference[T]-S.mainAxis;C<R?C=R:C>P&&(C=P)}if(u){var E,b;const T=g==="y"?"width":"height",R=["top","left"].includes(aa(s)),P=i.reference[p]-i.floating[T]+(R&&((E=o.offset)==null?void 0:E[p])||0)+(R?0:S.crossAxis),M=i.reference[p]+i.reference[T]+(R?0:((b=o.offset)==null?void 0:b[p])||0)-(R?S.crossAxis:0);w<P?w=P:w>M&&(w=M)}return{[g]:C,[p]:w}}}},NY=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...u}=oa(e,t),h=await Kf(t,u),p=aa(s),g=nh(s),C=yl(s)==="y",{width:w,height:y}=i.floating;let S,E;p==="top"||p==="bottom"?(S=p,E=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=p,S=g==="end"?"top":"bottom");const b=y-h.top-h.bottom,T=w-h.left-h.right,R=Cl(y-h[S],b),P=Cl(w-h[E],T),M=!t.middlewareData.shift;let D=R,N=P;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=T),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(D=b),M&&!g){const j=Bs(h.left,0),W=Bs(h.right,0),B=Bs(h.top,0),oe=Bs(h.bottom,0);C?N=w-2*(j!==0||W!==0?j+W:Bs(h.left,h.right)):D=y-2*(B!==0||oe!==0?B+oe:Bs(h.top,h.bottom))}await l({...t,availableWidth:N,availableHeight:D});const O=await o.getDimensions(a.floating);return w!==O.width||y!==O.height?{reset:{rects:!0}}:{}}}};function N0(){return typeof window<"u"}function sh(e){return XL(e)?(e.nodeName||"").toLowerCase():"#document"}function zs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Eo(e){var t;return(t=(XL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function XL(e){return N0()?e instanceof Node||e instanceof zs(e).Node:!1}function Ui(e){return N0()?e instanceof Element||e instanceof zs(e).Element:!1}function mo(e){return N0()?e instanceof HTMLElement||e instanceof zs(e).HTMLElement:!1}function p2(e){return!N0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zs(e).ShadowRoot}function Ap(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=zi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function IY(e){return["table","td","th"].includes(sh(e))}function I0(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function PE(e){const t=AE(),r=Ui(e)?zi(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function OY(e){let t=wl(e);for(;mo(t)&&!Gd(t);){if(PE(t))return t;if(I0(t))return null;t=wl(t)}return null}function AE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gd(e){return["html","body","#document"].includes(sh(e))}function zi(e){return zs(e).getComputedStyle(e)}function O0(e){return Ui(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wl(e){if(sh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||p2(e)&&e.host||Eo(e);return p2(t)?t.host:t}function QL(e){const t=wl(e);return Gd(t)?e.ownerDocument?e.ownerDocument.body:e.body:mo(t)&&Ap(t)?t:QL(t)}function qf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=QL(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=zs(s);if(i){const a=bx(o);return t.concat(o,o.visualViewport||[],Ap(s)?s:[],a&&r?qf(a):[])}return t.concat(s,qf(s,[],r))}function bx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function JL(e){const t=zi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=mo(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=Mv(r)!==i||Mv(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function DE(e){return Ui(e)?e:e.contextElement}function hd(e){const t=DE(e);if(!mo(t))return po(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=JL(t);let o=(i?Mv(r.width):r.width)/n,a=(i?Mv(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const LY=po(0);function ZL(e){const t=zs(e);return!AE()||!t.visualViewport?LY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kY(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==zs(e)?!1:t}function kc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=DE(e);let o=po(1);t&&(n?Ui(n)&&(o=hd(n)):o=hd(e));const a=kY(i,r,n)?ZL(i):po(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const g=zs(i),C=n&&Ui(n)?zs(n):n;let w=g,y=bx(w);for(;y&&n&&C!==w;){const S=hd(y),E=y.getBoundingClientRect(),b=zi(y),T=E.left+(y.clientLeft+parseFloat(b.paddingLeft))*S.x,R=E.top+(y.clientTop+parseFloat(b.paddingTop))*S.y;l*=S.x,u*=S.y,h*=S.x,p*=S.y,l+=T,u+=R,w=zs(y),y=bx(w)}}return Iv({width:h,height:p,x:l,y:u})}function ME(e,t){const r=O0(e).scrollLeft;return t?t.left+r:kc(Eo(e)).left+r}function ek(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:ME(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function _Y(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Eo(n),a=t?I0(t.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},u=po(1);const h=po(0),p=mo(n);if((p||!p&&!i)&&((sh(n)!=="body"||Ap(o))&&(l=O0(n)),mo(n))){const C=kc(n);u=hd(n),h.x=C.x+n.clientLeft,h.y=C.y+n.clientTop}const g=o&&!p&&!i?ek(o,l,!0):po(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+h.x+g.x,y:r.y*u.y-l.scrollTop*u.y+h.y+g.y}}function jY(e){return Array.from(e.getClientRects())}function BY(e){const t=Eo(e),r=O0(e),n=e.ownerDocument.body,s=Bs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Bs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ME(e);const a=-r.scrollTop;return zi(n).direction==="rtl"&&(o+=Bs(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function GY(e,t){const r=zs(e),n=Eo(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=AE();(!u||u&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function HY(e,t){const r=kc(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=mo(e)?hd(e):po(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,u=n*i.y;return{width:o,height:a,x:l,y:u}}function g2(e,t,r){let n;if(t==="viewport")n=GY(e,r);else if(t==="document")n=BY(Eo(e));else if(Ui(t))n=HY(t,r);else{const s=ZL(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Iv(n)}function tk(e,t){const r=wl(e);return r===t||!Ui(r)||Gd(r)?!1:zi(r).position==="fixed"||tk(r,t)}function VY(e,t){const r=t.get(e);if(r)return r;let n=qf(e,[],!1).filter(a=>Ui(a)&&sh(a)!=="body"),s=null;const i=zi(e).position==="fixed";let o=i?wl(e):e;for(;Ui(o)&&!Gd(o);){const a=zi(o),l=PE(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ap(o)&&!l&&tk(e,o))?n=n.filter(h=>h!==o):s=a,o=wl(o)}return t.set(e,n),n}function WY(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?I0(t)?[]:VY(t,this._c):[].concat(r),n],a=o[0],l=o.reduce((u,h)=>{const p=g2(t,h,s);return u.top=Bs(p.top,u.top),u.right=Cl(p.right,u.right),u.bottom=Cl(p.bottom,u.bottom),u.left=Bs(p.left,u.left),u},g2(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function $Y(e){const{width:t,height:r}=JL(e);return{width:t,height:r}}function UY(e,t,r){const n=mo(t),s=Eo(t),i=r==="fixed",o=kc(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=po(0);if(n||!n&&!i)if((sh(t)!=="body"||Ap(s))&&(a=O0(t)),n){const g=kc(t,!0,i,t);l.x=g.x+t.clientLeft,l.y=g.y+t.clientTop}else s&&(l.x=ME(s));const u=s&&!n&&!i?ek(s,a):po(0),h=o.left+a.scrollLeft-l.x-u.x,p=o.top+a.scrollTop-l.y-u.y;return{x:h,y:p,width:o.width,height:o.height}}function Mw(e){return zi(e).position==="static"}function m2(e,t){if(!mo(e)||zi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Eo(e)===r&&(r=r.ownerDocument.body),r}function rk(e,t){const r=zs(e);if(I0(e))return r;if(!mo(e)){let s=wl(e);for(;s&&!Gd(s);){if(Ui(s)&&!Mw(s))return s;s=wl(s)}return r}let n=m2(e,t);for(;n&&IY(n)&&Mw(n);)n=m2(n,t);return n&&Gd(n)&&Mw(n)&&!PE(n)?r:n||OY(e)||r}const zY=async function(e){const t=this.getOffsetParent||rk,r=this.getDimensions,n=await r(e.floating);return{reference:UY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function KY(e){return zi(e).direction==="rtl"}const qY={convertOffsetParentRelativeRectToViewportRelativeRect:_Y,getDocumentElement:Eo,getClippingRect:WY,getOffsetParent:rk,getElementRects:zY,getClientRects:jY,getDimensions:$Y,getScale:hd,isElement:Ui,isRTL:KY};function YY(e,t){let r=null,n;const s=Eo(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:h,width:p,height:g}=e.getBoundingClientRect();if(a||t(),!p||!g)return;const C=wm(h),w=wm(s.clientWidth-(u+p)),y=wm(s.clientHeight-(h+g)),S=wm(u),b={rootMargin:-C+"px "+-w+"px "+-y+"px "+-S+"px",threshold:Bs(0,Cl(1,l))||1};let T=!0;function R(P){const M=P[0].intersectionRatio;if(M!==l){if(!T)return o();M?o(!1,M):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{r=new IntersectionObserver(R,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(R,b)}r.observe(e)}return o(!0),i}function NE(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=DE(e),h=s||i?[...u?qf(u):[],...qf(t)]:[];h.forEach(E=>{s&&E.addEventListener("scroll",r,{passive:!0}),i&&E.addEventListener("resize",r)});const p=u&&a?YY(u,r):null;let g=-1,C=null;o&&(C=new ResizeObserver(E=>{let[b]=E;b&&b.target===u&&C&&(C.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var T;(T=C)==null||T.observe(t)})),r()}),u&&!l&&C.observe(u),C.observe(t));let w,y=l?kc(e):null;l&&S();function S(){const E=kc(e);y&&(E.x!==y.x||E.y!==y.y||E.width!==y.width||E.height!==y.height)&&r(),y=E,w=requestAnimationFrame(S)}return r(),()=>{var E;h.forEach(b=>{s&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),p==null||p(),(E=C)==null||E.disconnect(),C=null,l&&cancelAnimationFrame(w)}}const XY=AY,QY=DY,JY=TY,ZY=NY,eX=FY,v2=RY,tX=MY,rX=(e,t,r)=>{const n=new Map,s={platform:qY,...r},i={...s.platform,_c:n};return bY(e,t,{...s,platform:i})};var cv=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Ov(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ov(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Ov(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function nk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function C2(e,t){const r=nk(e);return Math.round(t*r)/r}function Nw(e){const t=m.useRef(e);return cv(()=>{t.current=e}),t}function IE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[h,p]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,C]=m.useState(n);Ov(g,n)||C(n);const[w,y]=m.useState(null),[S,E]=m.useState(null),b=m.useCallback(Z=>{Z!==M.current&&(M.current=Z,y(Z))},[]),T=m.useCallback(Z=>{Z!==D.current&&(D.current=Z,E(Z))},[]),R=i||w,P=o||S,M=m.useRef(null),D=m.useRef(null),N=m.useRef(h),O=l!=null,j=Nw(l),W=Nw(s),B=Nw(u),oe=m.useCallback(()=>{if(!M.current||!D.current)return;const Z={placement:t,strategy:r,middleware:g};W.current&&(Z.platform=W.current),rX(M.current,D.current,Z).then(ne=>{const de={...ne,isPositioned:B.current!==!1};pe.current&&!Ov(N.current,de)&&(N.current=de,vi.flushSync(()=>{p(de)}))})},[g,t,r,W,B]);cv(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,p(Z=>({...Z,isPositioned:!1})))},[u]);const pe=m.useRef(!1);cv(()=>(pe.current=!0,()=>{pe.current=!1}),[]),cv(()=>{if(R&&(M.current=R),P&&(D.current=P),R&&P){if(j.current)return j.current(R,P,oe);oe()}},[R,P,oe,j,O]);const Se=m.useMemo(()=>({reference:M,floating:D,setReference:b,setFloating:T}),[b,T]),we=m.useMemo(()=>({reference:R,floating:P}),[R,P]),se=m.useMemo(()=>{const Z={position:r,left:0,top:0};if(!we.floating)return Z;const ne=C2(we.floating,h.x),de=C2(we.floating,h.y);return a?{...Z,transform:"translate("+ne+"px, "+de+"px)",...nk(we.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ne,top:de}},[r,a,we.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:oe,refs:Se,elements:we,floatingStyles:se}),[h,oe,Se,we,se])}const nX=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?v2({element:n.current,padding:s}).fn(r):{}:n?v2({element:n,padding:s}).fn(r):{}}}},OE=(e,t)=>({...XY(e),options:[e,t]}),LE=(e,t)=>({...QY(e),options:[e,t]}),kE=(e,t)=>({...tX(e),options:[e,t]}),_E=(e,t)=>({...JY(e),options:[e,t]}),jE=(e,t)=>({...ZY(e),options:[e,t]}),BE=(e,t)=>({...eX(e),options:[e,t]}),GE=(e,t)=>({...nX(e),options:[e,t]});var sX="Arrow",sk=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return d.jsx(Dl.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});sk.displayName=sX;var iX=sk;function HE(e){const[t,r]=m.useState(void 0);return Jt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var VE="Popper",[ik,ok]=xo(VE),[oX,ak]=ik(VE),lk=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return d.jsx(oX,{scope:t,anchor:n,onAnchorChange:s,children:r})};lk.displayName=VE;var ck="PopperAnchor",uk=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=ak(ck,r),o=m.useRef(null),a=Jc(t,o);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:d.jsx(Dl.div,{...s,ref:a})});uk.displayName=ck;var WE="PopperContent",[aX,lX]=ik(WE),dk=m.forwardRef((e,t)=>{var ie,fe,Q,re,Me,Fe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:C="optimized",onPlaced:w,...y}=e,S=ak(WE,r),[E,b]=m.useState(null),T=Jc(t,We=>b(We)),[R,P]=m.useState(null),M=HE(R),D=(M==null?void 0:M.width)??0,N=(M==null?void 0:M.height)??0,O=n+(i!=="center"?"-"+i:""),j=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},W=Array.isArray(u)?u:[u],B=W.length>0,oe={padding:j,boundary:W.filter(uX),altBoundary:B},{refs:pe,floatingStyles:Se,placement:we,isPositioned:se,middlewareData:Z}=IE({strategy:"fixed",placement:O,whileElementsMounted:(...We)=>NE(...We,{animationFrame:C==="always"}),elements:{reference:S.anchor},middleware:[OE({mainAxis:s+N,alignmentAxis:o}),l&&LE({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?kE():void 0,...oe}),l&&_E({...oe}),jE({...oe,apply:({elements:We,rects:Ye,availableWidth:ut,availableHeight:gt})=>{const{width:Ve,height:le}=Ye.reference,Be=We.floating.style;Be.setProperty("--radix-popper-available-width",`${ut}px`),Be.setProperty("--radix-popper-available-height",`${gt}px`),Be.setProperty("--radix-popper-anchor-width",`${Ve}px`),Be.setProperty("--radix-popper-anchor-height",`${le}px`)}}),R&&GE({element:R,padding:a}),dX({arrowWidth:D,arrowHeight:N}),g&&BE({strategy:"referenceHidden",...oe})]}),[ne,de]=pk(we),z=Yt(w);Jt(()=>{se&&(z==null||z())},[se,z]);const I=(ie=Z.arrow)==null?void 0:ie.x,L=(fe=Z.arrow)==null?void 0:fe.y,H=((Q=Z.arrow)==null?void 0:Q.centerOffset)!==0,[G,J]=m.useState();return Jt(()=>{E&&J(window.getComputedStyle(E).zIndex)},[E]),d.jsx("div",{ref:pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:se?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(re=Z.transformOrigin)==null?void 0:re.x,(Me=Z.transformOrigin)==null?void 0:Me.y].join(" "),...((Fe=Z.hide)==null?void 0:Fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(aX,{scope:r,placedSide:ne,onArrowChange:P,arrowX:I,arrowY:L,shouldHideArrow:H,children:d.jsx(Dl.div,{"data-side":ne,"data-align":de,...y,ref:T,style:{...y.style,animation:se?void 0:"none"}})})})});dk.displayName=WE;var hk="PopperArrow",cX={top:"bottom",right:"left",bottom:"top",left:"right"},fk=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=lX(hk,n),o=cX[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(iX,{...s,ref:r,style:{...s.style,display:"block"}})})});fk.displayName=hk;function uX(e){return e!==null}var dX=e=>({name:"transformOrigin",options:e,fn(t){var S,E,b;const{placement:r,rects:n,middlewareData:s}=t,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,h]=pk(r),p={start:"0%",center:"50%",end:"100%"}[h],g=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,C=(((b=s.arrow)==null?void 0:b.y)??0)+l/2;let w="",y="";return u==="bottom"?(w=o?p:`${g}px`,y=`${-l}px`):u==="top"?(w=o?p:`${g}px`,y=`${n.floating.height+l}px`):u==="right"?(w=`${-l}px`,y=o?p:`${C}px`):u==="left"&&(w=`${n.floating.width+l}px`,y=o?p:`${C}px`),{data:{x:w,y}}}});function pk(e){const[t,r="center"]=e.split("-");return[t,r]}var hX=lk,fX=uk,pX=dk,gX=fk,mX="Portal",gk=m.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=m.useState(!1);Jt(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Zd.createPortal(d.jsx(Dl.div,{...n,ref:t}),o):null});gk.displayName=mX;function vX(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var $E=e=>{const{present:t,children:r}=e,n=CX(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=Jc(n.ref,yX(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};$E.displayName="Presence";function CX(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[a,l]=vX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Sm(n.current);i.current=a==="mounted"?u:"none"},[a]),Jt(()=>{const u=n.current,h=s.current;if(h!==e){const g=i.current,C=Sm(u);e?l("MOUNT"):C==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&g!==C?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Jt(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,p=C=>{const y=Sm(n.current).includes(C.animationName);if(C.target===t&&y&&(l("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=C=>{C.target===t&&(i.current=Sm(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Sm(e){return(e==null?void 0:e.animationName)||"none"}function yX(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _c({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=wX({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,a=Yt(r),l=m.useCallback(u=>{if(i){const p=typeof u=="function"?u(e):u;p!==e&&a(p)}else s(u)},[i,e,s,a]);return[o,l]}function wX({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),i=Yt(t);return m.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var SX="VisuallyHidden",mk=m.forwardRef((e,t)=>d.jsx(Dl.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));mk.displayName=SX;var xX=mk,[L0,yAe]=xo("Tooltip",[ok]),k0=ok(),vk="TooltipProvider",EX=700,Rx="tooltip.open",[bX,UE]=L0(vk),Ck=e=>{const{__scopeTooltip:t,delayDuration:r=EX,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,[o,a]=m.useState(!0),l=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),d.jsx(bX,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:i})};Ck.displayName=vk;var _0="Tooltip",[RX,Dp]=L0(_0),yk=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=e,l=UE(_0,e.__scopeTooltip),u=k0(t),[h,p]=m.useState(null),g=Hi(),C=m.useRef(0),w=o??l.disableHoverableContent,y=a??l.delayDuration,S=m.useRef(!1),[E=!1,b]=_c({prop:n,defaultProp:s,onChange:D=>{D?(l.onOpen(),document.dispatchEvent(new CustomEvent(Rx))):l.onClose(),i==null||i(D)}}),T=m.useMemo(()=>E?S.current?"delayed-open":"instant-open":"closed",[E]),R=m.useCallback(()=>{window.clearTimeout(C.current),C.current=0,S.current=!1,b(!0)},[b]),P=m.useCallback(()=>{window.clearTimeout(C.current),C.current=0,b(!1)},[b]),M=m.useCallback(()=>{window.clearTimeout(C.current),C.current=window.setTimeout(()=>{S.current=!0,b(!0),C.current=0},y)},[y,b]);return m.useEffect(()=>()=>{C.current&&(window.clearTimeout(C.current),C.current=0)},[]),d.jsx(hX,{...u,children:d.jsx(RX,{scope:t,contentId:g,open:E,stateAttribute:T,trigger:h,onTriggerChange:p,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?M():R()},[l.isOpenDelayed,M,R]),onTriggerLeave:m.useCallback(()=>{w?P():(window.clearTimeout(C.current),C.current=0)},[P,w]),onOpen:R,onClose:P,disableHoverableContent:w,children:r})})};yk.displayName=_0;var Tx="TooltipTrigger",wk=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Dp(Tx,r),i=UE(Tx,r),o=k0(r),a=m.useRef(null),l=Jc(t,a,s.onTriggerChange),u=m.useRef(!1),h=m.useRef(!1),p=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),d.jsx(fX,{asChild:!0,...o,children:d.jsx(Dl.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:Wo(e.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Wo(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Wo(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Wo(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Wo(e.onBlur,s.onClose),onClick:Wo(e.onClick,s.onClose)})})});wk.displayName=Tx;var zE="TooltipPortal",[TX,FX]=L0(zE,{forceMount:void 0}),Sk=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:s}=e,i=Dp(zE,t);return d.jsx(TX,{scope:t,forceMount:r,children:d.jsx($E,{present:r||i.open,children:d.jsx(gk,{asChild:!0,container:s,children:n})})})};Sk.displayName=zE;var Hd="TooltipContent",xk=m.forwardRef((e,t)=>{const r=FX(Hd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=Dp(Hd,e.__scopeTooltip);return d.jsx($E,{present:n||o.open,children:o.disableHoverableContent?d.jsx(Ek,{side:s,...i,ref:t}):d.jsx(PX,{side:s,...i,ref:t})})}),PX=m.forwardRef((e,t)=>{const r=Dp(Hd,e.__scopeTooltip),n=UE(Hd,e.__scopeTooltip),s=m.useRef(null),i=Jc(t,s),[o,a]=m.useState(null),{trigger:l,onClose:u}=r,h=s.current,{onPointerInTransitChange:p}=n,g=m.useCallback(()=>{a(null),p(!1)},[p]),C=m.useCallback((w,y)=>{const S=w.currentTarget,E={x:w.clientX,y:w.clientY},b=NX(E,S.getBoundingClientRect()),T=IX(E,b),R=OX(y.getBoundingClientRect()),P=kX([...T,...R]);a(P),p(!0)},[p]);return m.useEffect(()=>()=>g(),[g]),m.useEffect(()=>{if(l&&h){const w=S=>C(S,h),y=S=>C(S,l);return l.addEventListener("pointerleave",w),h.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",y)}}},[l,h,C,g]),m.useEffect(()=>{if(o){const w=y=>{const S=y.target,E={x:y.clientX,y:y.clientY},b=(l==null?void 0:l.contains(S))||(h==null?void 0:h.contains(S)),T=!LX(E,o);b?g():T&&(g(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,h,o,u,g]),d.jsx(Ek,{...e,ref:i})}),[AX,DX]=L0(_0,{isInside:!1}),Ek=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=Dp(Hd,r),u=k0(r),{onClose:h}=l;return m.useEffect(()=>(document.addEventListener(Rx,h),()=>document.removeEventListener(Rx,h)),[h]),m.useEffect(()=>{if(l.trigger){const p=g=>{const C=g.target;C!=null&&C.contains(l.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,h]),d.jsx(KL,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:d.jsxs(pX,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(iO,{children:n}),d.jsx(AX,{scope:r,isInside:!0,children:d.jsx(xX,{id:l.contentId,role:"tooltip",children:s||n})})]})})});xk.displayName=Hd;var bk="TooltipArrow",MX=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=k0(r);return DX(bk,r).isInside?null:d.jsx(gX,{...s,...n,ref:t})});MX.displayName=bk;function NX(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function IX(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function OX(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function LX(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i].x,l=t[i].y,u=t[o].x,h=t[o].y;l>n!=h>n&&r<(u-a)*(n-l)/(h-l)+a&&(s=!s)}return s}function kX(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),_X(t)}function _X(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var jX=Ck,BX=yk,GX=wk,HX=Sk,Rk=xk;const VX=jX,WX=BX,$X=GX,Tk=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(HX,{children:d.jsx(Rk,{ref:n,sideOffset:t,className:jt("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Tk.displayName=Rk.displayName;function UX(e){return jn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function zX(e){return jn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function KX(e){return jn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m17 8-1.41 1.41L17.17 11H9v2h8.17l-1.58 1.58L17 16l4-4-4-4zM5 5h7V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5V5z"},child:[]}]})(e)}function qX(e){return jn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(e)}function YX(e){return jn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"},child:[]},{tag:"path",attr:{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M9 17v-5"},child:[]},{tag:"path",attr:{d:"M12 17v-1"},child:[]},{tag:"path",attr:{d:"M15 17v-3"},child:[]}]})(e)}function XX(e){return jn({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.8 9.7l6.2 6.3 6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7c-.2-.2-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3-.2.2-.3.4-.3.7s.1.5.3.7z"},child:[]}]})(e)}const Iw=[{label:"Dashboard",path:"/app/home",icon:d.jsx(tY,{})},{label:"Product List",path:"/app/product-list",icon:d.jsx(YX,{})},{label:"User",path:"/app/user",icon:d.jsx(Zq,{})},{label:"Routes",path:"",icon:d.jsx(qX,{}),subLinks:[{label:"Customer List",path:"/app/customer-list"},{label:"Sales",path:"/app/sales"},{label:"Installation-Location",path:"/app/installation-location"},{label:"Delivery Challan",path:"/app/delivery-challan"},{label:"Installation",path:"/app/installation"},{label:"Services",path:"/app/services"}]},{label:"Customer Setting",path:"",icon:d.jsx(a2,{}),subLinks:[{label:"Customer Type",path:"/app/customer-type"},{label:"Source of Reference",path:"/app/SourceOfReference"},{label:"Reference Details",path:"/app/reference-details"},{label:"Customer Status",path:"/app/customer-status"},{label:"Designation",path:"/app/designation"}]},{label:"Product Setting",path:"",icon:d.jsx(a2,{}),subLinks:[{label:"Item Category",path:"/app/item-category"},{label:"Item Type",path:"/app/item-type"},{label:"Item Status",path:"/app/item-status"},{label:"Star Rating",path:"/app/star-rating"},{label:"Ref Gas Type",path:"/app/ref-gas-type"},{label:"Order Type",path:"/app/order-type"},{label:"Ton Capacity",path:"/app/ton-capacity"},{label:"Unit Of Measurements",path:"/app/unit-of-measurements"},{label:"Brand Names",path:"/app/brand-name"},{label:"Material",path:"/app/material"}]}],QX=()=>{const e=Fs(),t=_n(),[r,n]=m.useState(!0),[s,i]=m.useState(!1),[o,a]=m.useState(null),[l,u]=m.useState(null);m.useEffect(()=>{const g=()=>{i(window.innerWidth<=768),window.innerWidth>768&&n(!0)};return g(),window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g)}},[]),m.useEffect(()=>{const g=e.pathname,C=Iw.find(y=>{var S;return y.path===g||((S=y.subLinks)==null?void 0:S.some(E=>E.path===g))});u(C?C.label:null);const w=Iw.find(y=>{var S;return(S=y.subLinks)==null?void 0:S.some(E=>E.path===g)});a(w?w.label:null)},[e.pathname]);const h=(g,C)=>{u(g),t(C),s&&n(!1)},p=g=>{a(C=>C===g?null:g)};return d.jsxs("div",{children:[s&&!r&&d.jsx("button",{className:"fixed top-4 left-4 z-50 p-2  bg-none rounded-full  hover:shadow-2xl hover:bg-none transition-all duration-300 ease-in-out transform active:scale-90",onClick:()=>n(!0),"aria-label":"Open Sidebar",children:d.jsx(o2,{size:20,className:"text-black dark:text-white"})}),d.jsxs("div",{className:`${s?`fixed z-40 top-0 left-0 h-screen bg-white dark:bg-gray-900 shadow-md transition-transform ${r?"translate-x-0":"-translate-x-full"} flex flex-col`:`h-screen bg-white shadow-lg shadow-gray-500/20 dark:bg-gray-900 text-black dark:text-white flex flex-col justify-between transition-all ${r?"w-64":"w-22"}`}`,children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r&&d.jsx("h2",{className:"text-xl font-bold ml-8",children:"CRM"}),d.jsx("button",{className:`p-2 ml-2 bg-[#1E90FF] rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 ease-in-out transform ${r?"rotate-180":""}`,onClick:()=>n(!r),"aria-label":r?"Close Sidebar":"Open Sidebar",children:r?d.jsx(eY,{size:20,className:"text-white"}):d.jsx(o2,{size:20,className:"text-white"})})]}),d.jsx("nav",{className:"mt-4 space-y-4 flex-1 overflow-y-auto",children:Iw.map(g=>d.jsxs("div",{children:[d.jsxs("div",{className:`flex items-center gap-4 p-3 mx-2 mr-4 rounded-md cursor-pointer transition-colors ${l===g.label?"bg-[#1E90FF] text-white shadow-lg":"hover:bg-[#1E90FF] hover:text-white"}`,onClick:()=>{g.subLinks?p(g.label):h(g.label,g.path)},children:[d.jsx("div",{className:"text-xl ml-2 mt-1",children:d.jsx(VX,{children:d.jsxs(WX,{children:[d.jsx($X,{children:g.icon}),d.jsx(Tk,{children:d.jsx("p",{children:g.label})})]})})}),r&&d.jsx("span",{className:"font-medium",children:g.label}),g.subLinks&&r&&d.jsx("span",{className:`ml-auto transition-transform ${o===g.label?"rotate-180":""}`,children:d.jsx(XX,{})})]}),d.jsx(Jq,{children:g.subLinks&&o===g.label&&d.jsx(ns.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.4},className:"overflow-hidden",children:r&&g.subLinks.map(C=>d.jsx(ns.div,{className:`flex items-center gap-4 p-2 pl-6 rounded-md text-sm font-medium cursor-pointer transition-colors ${l===C.label?"bg-gray-300 text-black":"hover:bg-gray-400"}`,whileHover:{scale:1.05},onClick:()=>h(C.label,C.path),children:C.label},C.label))})})]},g.label))}),d.jsxs("div",{className:`${s?"mt-auto":"relative"} p-4 border-t flex items-center gap-3 bg-white dark:bg-gray-900`,children:[d.jsx("img",{src:"https://ui-avatars.com/api/?name=Divakar+Barhate&background=random",alt:"User Avatar",className:"w-8 h-8 rounded-full"}),d.jsxs("div",{className:`${r?"block":"hidden"} leading-4`,children:[d.jsx("h4",{className:"font-semibold text-sm",children:"Divakar Barhate"}),d.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"divakar@gmail.com"})]}),d.jsx("button",{onClick:()=>n(!r),className:"p-2 rounded-md text-gray-600 hover:bg-gray-300 dark:text-gray-200 dark:hover:bg-gray-700",children:r?d.jsx(KX,{size:20,className:"text-xl"}):""})]})]}),s&&r&&d.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-30",onClick:()=>n(!1)})]})};var JX=(e,t,r,n,s,i,o,a)=>{let l=document.documentElement,u=["light","dark"];function h(C){(Array.isArray(e)?e:[e]).forEach(w=>{let y=w==="class",S=y&&i?s.map(E=>i[E]||E):s;y?(l.classList.remove(...S),l.classList.add(C)):l.setAttribute(w,C)}),p(C)}function p(C){a&&u.includes(C)&&(l.style.colorScheme=C)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)h(n);else try{let C=localStorage.getItem(t)||r,w=o&&C==="system"?g():C;h(w)}catch{}},y2=["light","dark"],Fk="(prefers-color-scheme: dark)",ZX=typeof window>"u",KE=m.createContext(void 0),eQ={setTheme:e=>{},themes:[]},Pk=()=>{var e;return(e=m.useContext(KE))!=null?e:eQ},tQ=e=>m.useContext(KE)?m.createElement(m.Fragment,null,e.children):m.createElement(nQ,{...e}),rQ=["light","dark"],nQ=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:i=rQ,defaultTheme:o=r?"system":"light",attribute:a="data-theme",value:l,children:u,nonce:h,scriptProps:p})=>{let[g,C]=m.useState(()=>w2(s,o)),[w,y]=m.useState(()=>w2(s)),S=l?Object.values(l):i,E=m.useCallback(P=>{let M=P;if(!M)return;P==="system"&&r&&(M=S2());let D=l?l[M]:M,N=t?iQ(h):null,O=document.documentElement,j=W=>{W==="class"?(O.classList.remove(...S),D&&O.classList.add(D)):W.startsWith("data-")&&(D?O.setAttribute(W,D):O.removeAttribute(W))};if(Array.isArray(a)?a.forEach(j):j(a),n){let W=y2.includes(o)?o:null,B=y2.includes(M)?M:W;O.style.colorScheme=B}N==null||N()},[h]),b=m.useCallback(P=>{let M=typeof P=="function"?P(g):P;C(M);try{localStorage.setItem(s,M)}catch{}},[g]),T=m.useCallback(P=>{let M=S2(P);y(M),g==="system"&&r&&!e&&E("system")},[g,e]);m.useEffect(()=>{let P=window.matchMedia(Fk);return P.addListener(T),T(P),()=>P.removeListener(T)},[T]),m.useEffect(()=>{let P=M=>{M.key===s&&(M.newValue?C(M.newValue):b(o))};return window.addEventListener("storage",P),()=>window.removeEventListener("storage",P)},[b]),m.useEffect(()=>{E(e??g)},[e,g]);let R=m.useMemo(()=>({theme:g,setTheme:b,forcedTheme:e,resolvedTheme:g==="system"?w:g,themes:r?[...i,"system"]:i,systemTheme:r?w:void 0}),[g,b,e,w,r,i]);return m.createElement(KE.Provider,{value:R},m.createElement(sQ,{forcedTheme:e,storageKey:s,attribute:a,enableSystem:r,enableColorScheme:n,defaultTheme:o,value:l,themes:i,nonce:h,scriptProps:p}),u)},sQ=m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:u})=>{let h=JSON.stringify([r,t,i,e,a,o,n,s]).slice(1,-1);return m.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${JX.toString()})(${h})`}})}),w2=(e,t)=>{if(ZX)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},iQ=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},S2=e=>(e||(e=window.matchMedia(Fk)),e.matches?"dark":"light");const oQ=()=>{const{theme:e,setTheme:t}=Pk();return d.jsxs("button",{"aria-label":"theme toggler",onClick:()=>t(e==="dark"?"light":"dark"),className:"flex items-center justify-center text-black rounded-full cursor-pointer bg-gray-2 dark:bg-dark-bg h-9 w-9 dark:text-white md:h-14 md:w-14",children:[d.jsx("svg",{viewBox:"0 0 23 23",className:"w-5 h-5 stroke-current dark:hidden md:h-6 md:w-6",fill:"none",children:d.jsx("path",{d:"M9.55078 1.5C5.80078 1.5 1.30078 5.25 1.30078 11.25C1.30078 17.25 5.80078 21.75 11.8008 21.75C17.8008 21.75 21.5508 17.25 21.5508 13.5C13.3008 18.75 4.30078 9.75 9.55078 1.5Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),d.jsxs("svg",{viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"hidden w-5 h-5 dark:block md:h-6 md:w-6",children:[d.jsx("mask",{id:"path-1-inside-1_977:1934",fill:"white",children:d.jsx("path",{d:"M12.0508 16.5C10.8573 16.5 9.71271 16.0259 8.8688 15.182C8.02489 14.3381 7.55078 13.1935 7.55078 12C7.55078 10.8065 8.02489 9.66193 8.8688 8.81802C9.71271 7.97411 10.8573 7.5 12.0508 7.5C13.2443 7.5 14.3888 7.97411 15.2328 8.81802C16.0767 9.66193 16.5508 10.8065 16.5508 12C16.5508 13.1935 16.0767 14.3381 15.2328 15.182C14.3888 16.0259 13.2443 16.5 12.0508 16.5ZM12.0508 18C13.6421 18 15.1682 17.3679 16.2934 16.2426C17.4186 15.1174 18.0508 13.5913 18.0508 12C18.0508 10.4087 17.4186 8.88258 16.2934 7.75736C15.1682 6.63214 13.6421 6 12.0508 6C10.4595 6 8.93336 6.63214 7.80814 7.75736C6.68292 8.88258 6.05078 10.4087 6.05078 12C6.05078 13.5913 6.68292 15.1174 7.80814 16.2426C8.93336 17.3679 10.4595 18 12.0508 18ZM12.0508 0C12.2497 0 12.4405 0.0790176 12.5811 0.21967C12.7218 0.360322 12.8008 0.551088 12.8008 0.75V3.75C12.8008 3.94891 12.7218 4.13968 12.5811 4.28033C12.4405 4.42098 12.2497 4.5 12.0508 4.5C11.8519 4.5 11.6611 4.42098 11.5205 4.28033C11.3798 4.13968 11.3008 3.94891 11.3008 3.75V0.75C11.3008 0.551088 11.3798 0.360322 11.5205 0.21967C11.6611 0.0790176 11.8519 0 12.0508 0V0ZM12.0508 19.5C12.2497 19.5 12.4405 19.579 12.5811 19.7197C12.7218 19.8603 12.8008 20.0511 12.8008 20.25V23.25C12.8008 23.4489 12.7218 23.6397 12.5811 23.7803C12.4405 23.921 12.2497 24 12.0508 24C11.8519 24 11.6611 23.921 11.5205 23.7803C11.3798 23.6397 11.3008 23.4489 11.3008 23.25V20.25C11.3008 20.0511 11.3798 19.8603 11.5205 19.7197C11.6611 19.579 11.8519 19.5 12.0508 19.5ZM24.0508 12C24.0508 12.1989 23.9718 12.3897 23.8311 12.5303C23.6905 12.671 23.4997 12.75 23.3008 12.75H20.3008C20.1019 12.75 19.9111 12.671 19.7705 12.5303C19.6298 12.3897 19.5508 12.1989 19.5508 12C19.5508 11.8011 19.6298 11.6103 19.7705 11.4697C19.9111 11.329 20.1019 11.25 20.3008 11.25H23.3008C23.4997 11.25 23.6905 11.329 23.8311 11.4697C23.9718 11.6103 24.0508 11.8011 24.0508 12ZM4.55078 12C4.55078 12.1989 4.47176 12.3897 4.33111 12.5303C4.19046 12.671 3.99969 12.75 3.80078 12.75H0.800781C0.601869 12.75 0.411103 12.671 0.270451 12.5303C0.129799 12.3897 0.0507813 12.1989 0.0507812 12C0.0507813 11.8011 0.129799 11.6103 0.270451 11.4697C0.411103 11.329 0.601869 11.25 0.800781 11.25H3.80078C3.99969 11.25 4.19046 11.329 4.33111 11.4697C4.47176 11.6103 4.55078 11.8011 4.55078 12ZM20.5363 3.5145C20.6769 3.65515 20.7559 3.84588 20.7559 4.04475C20.7559 4.24362 20.6769 4.43435 20.5363 4.575L18.4153 6.6975C18.3455 6.76713 18.2628 6.82235 18.1717 6.86C18.0806 6.89765 17.983 6.91699 17.8845 6.91692C17.6855 6.91678 17.4947 6.83758 17.354 6.69675C17.2844 6.62702 17.2292 6.54425 17.1915 6.45318C17.1539 6.36211 17.1345 6.26452 17.1346 6.16597C17.1348 5.96695 17.214 5.77613 17.3548 5.6355L19.4758 3.5145C19.6164 3.3739 19.8072 3.29491 20.006 3.29491C20.2049 3.29491 20.3956 3.3739 20.5363 3.5145ZM6.74678 17.304C6.88738 17.4446 6.96637 17.6354 6.96637 17.8342C6.96637 18.0331 6.88738 18.2239 6.74678 18.3645L4.62578 20.4855C4.48433 20.6221 4.29488 20.6977 4.09823 20.696C3.90158 20.6943 3.71347 20.6154 3.57442 20.4764C3.43536 20.3373 3.35648 20.1492 3.35478 19.9526C3.35307 19.7559 3.42866 19.5665 3.56528 19.425L5.68628 17.304C5.82693 17.1634 6.01766 17.0844 6.21653 17.0844C6.4154 17.0844 6.60614 17.1634 6.74678 17.304ZM20.5363 20.4855C20.3956 20.6261 20.2049 20.7051 20.006 20.7051C19.8072 20.7051 19.6164 20.6261 19.4758 20.4855L17.3548 18.3645C17.2182 18.223 17.1426 18.0336 17.1443 17.8369C17.146 17.6403 17.2249 17.4522 17.3639 17.3131C17.503 17.1741 17.6911 17.0952 17.8877 17.0935C18.0844 17.0918 18.2738 17.1674 18.4153 17.304L20.5363 19.425C20.6769 19.5656 20.7559 19.7564 20.7559 19.9552C20.7559 20.1541 20.6769 20.3449 20.5363 20.4855ZM6.74678 6.6975C6.60614 6.8381 6.4154 6.91709 6.21653 6.91709C6.01766 6.91709 5.82693 6.8381 5.68628 6.6975L3.56528 4.575C3.49365 4.50582 3.43651 4.42306 3.39721 4.33155C3.3579 4.24005 3.33721 4.14164 3.33634 4.04205C3.33548 3.94247 3.35445 3.84371 3.39216 3.75153C3.42988 3.65936 3.48557 3.57562 3.55598 3.5052C3.6264 3.43478 3.71014 3.37909 3.80232 3.34138C3.89449 3.30367 3.99325 3.2847 4.09283 3.28556C4.19242 3.28643 4.29083 3.30712 4.38233 3.34642C4.47384 3.38573 4.5566 3.44287 4.62578 3.5145L6.74678 5.6355C6.81663 5.70517 6.87204 5.78793 6.90985 5.87905C6.94766 5.97017 6.96712 6.06785 6.96712 6.1665C6.96712 6.26515 6.94766 6.36283 6.90985 6.45395C6.87204 6.54507 6.81663 6.62783 6.74678 6.6975Z"})}),d.jsx("path",{d:"M12.0508 16.5C10.8573 16.5 9.71271 16.0259 8.8688 15.182C8.02489 14.3381 7.55078 13.1935 7.55078 12C7.55078 10.8065 8.02489 9.66193 8.8688 8.81802C9.71271 7.97411 10.8573 7.5 12.0508 7.5C13.2443 7.5 14.3888 7.97411 15.2328 8.81802C16.0767 9.66193 16.5508 10.8065 16.5508 12C16.5508 13.1935 16.0767 14.3381 15.2328 15.182C14.3888 16.0259 13.2443 16.5 12.0508 16.5ZM12.0508 18C13.6421 18 15.1682 17.3679 16.2934 16.2426C17.4186 15.1174 18.0508 13.5913 18.0508 12C18.0508 10.4087 17.4186 8.88258 16.2934 7.75736C15.1682 6.63214 13.6421 6 12.0508 6C10.4595 6 8.93336 6.63214 7.80814 7.75736C6.68292 8.88258 6.05078 10.4087 6.05078 12C6.05078 13.5913 6.68292 15.1174 7.80814 16.2426C8.93336 17.3679 10.4595 18 12.0508 18ZM12.0508 0C12.2497 0 12.4405 0.0790176 12.5811 0.21967C12.7218 0.360322 12.8008 0.551088 12.8008 0.75V3.75C12.8008 3.94891 12.7218 4.13968 12.5811 4.28033C12.4405 4.42098 12.2497 4.5 12.0508 4.5C11.8519 4.5 11.6611 4.42098 11.5205 4.28033C11.3798 4.13968 11.3008 3.94891 11.3008 3.75V0.75C11.3008 0.551088 11.3798 0.360322 11.5205 0.21967C11.6611 0.0790176 11.8519 0 12.0508 0V0ZM12.0508 19.5C12.2497 19.5 12.4405 19.579 12.5811 19.7197C12.7218 19.8603 12.8008 20.0511 12.8008 20.25V23.25C12.8008 23.4489 12.7218 23.6397 12.5811 23.7803C12.4405 23.921 12.2497 24 12.0508 24C11.8519 24 11.6611 23.921 11.5205 23.7803C11.3798 23.6397 11.3008 23.4489 11.3008 23.25V20.25C11.3008 20.0511 11.3798 19.8603 11.5205 19.7197C11.6611 19.579 11.8519 19.5 12.0508 19.5ZM24.0508 12C24.0508 12.1989 23.9718 12.3897 23.8311 12.5303C23.6905 12.671 23.4997 12.75 23.3008 12.75H20.3008C20.1019 12.75 19.9111 12.671 19.7705 12.5303C19.6298 12.3897 19.5508 12.1989 19.5508 12C19.5508 11.8011 19.6298 11.6103 19.7705 11.4697C19.9111 11.329 20.1019 11.25 20.3008 11.25H23.3008C23.4997 11.25 23.6905 11.329 23.8311 11.4697C23.9718 11.6103 24.0508 11.8011 24.0508 12ZM4.55078 12C4.55078 12.1989 4.47176 12.3897 4.33111 12.5303C4.19046 12.671 3.99969 12.75 3.80078 12.75H0.800781C0.601869 12.75 0.411103 12.671 0.270451 12.5303C0.129799 12.3897 0.0507813 12.1989 0.0507812 12C0.0507813 11.8011 0.129799 11.6103 0.270451 11.4697C0.411103 11.329 0.601869 11.25 0.800781 11.25H3.80078C3.99969 11.25 4.19046 11.329 4.33111 11.4697C4.47176 11.6103 4.55078 11.8011 4.55078 12ZM20.5363 3.5145C20.6769 3.65515 20.7559 3.84588 20.7559 4.04475C20.7559 4.24362 20.6769 4.43435 20.5363 4.575L18.4153 6.6975C18.3455 6.76713 18.2628 6.82235 18.1717 6.86C18.0806 6.89765 17.983 6.91699 17.8845 6.91692C17.6855 6.91678 17.4947 6.83758 17.354 6.69675C17.2844 6.62702 17.2292 6.54425 17.1915 6.45318C17.1539 6.36211 17.1345 6.26452 17.1346 6.16597C17.1348 5.96695 17.214 5.77613 17.3548 5.6355L19.4758 3.5145C19.6164 3.3739 19.8072 3.29491 20.006 3.29491C20.2049 3.29491 20.3956 3.3739 20.5363 3.5145ZM6.74678 17.304C6.88738 17.4446 6.96637 17.6354 6.96637 17.8342C6.96637 18.0331 6.88738 18.2239 6.74678 18.3645L4.62578 20.4855C4.48433 20.6221 4.29488 20.6977 4.09823 20.696C3.90158 20.6943 3.71347 20.6154 3.57442 20.4764C3.43536 20.3373 3.35648 20.1492 3.35478 19.9526C3.35307 19.7559 3.42866 19.5665 3.56528 19.425L5.68628 17.304C5.82693 17.1634 6.01766 17.0844 6.21653 17.0844C6.4154 17.0844 6.60614 17.1634 6.74678 17.304ZM20.5363 20.4855C20.3956 20.6261 20.2049 20.7051 20.006 20.7051C19.8072 20.7051 19.6164 20.6261 19.4758 20.4855L17.3548 18.3645C17.2182 18.223 17.1426 18.0336 17.1443 17.8369C17.146 17.6403 17.2249 17.4522 17.3639 17.3131C17.503 17.1741 17.6911 17.0952 17.8877 17.0935C18.0844 17.0918 18.2738 17.1674 18.4153 17.304L20.5363 19.425C20.6769 19.5656 20.7559 19.7564 20.7559 19.9552C20.7559 20.1541 20.6769 20.3449 20.5363 20.4855ZM6.74678 6.6975C6.60614 6.8381 6.4154 6.91709 6.21653 6.91709C6.01766 6.91709 5.82693 6.8381 5.68628 6.6975L3.56528 4.575C3.49365 4.50582 3.43651 4.42306 3.39721 4.33155C3.3579 4.24005 3.33721 4.14164 3.33634 4.04205C3.33548 3.94247 3.35445 3.84371 3.39216 3.75153C3.42988 3.65936 3.48557 3.57562 3.55598 3.5052C3.6264 3.43478 3.71014 3.37909 3.80232 3.34138C3.89449 3.30367 3.99325 3.2847 4.09283 3.28556C4.19242 3.28643 4.29083 3.30712 4.38233 3.34642C4.47384 3.38573 4.5566 3.44287 4.62578 3.5145L6.74678 5.6355C6.81663 5.70517 6.87204 5.78793 6.90985 5.87905C6.94766 5.97017 6.96712 6.06785 6.96712 6.1665C6.96712 6.26515 6.94766 6.36283 6.90985 6.45395C6.87204 6.54507 6.81663 6.62783 6.74678 6.6975Z",fill:"black",stroke:"white",strokeWidth:"2",mask:"url(#path-1-inside-1_977:1934)"})]})]})};function pt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function aQ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Zc(...e){return t=>e.forEach(r=>aQ(r,t))}function rr(...e){return m.useCallback(Zc(...e),e)}var Ak=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),i=s.find(cQ);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return d.jsx(Fx,{...n,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return d.jsx(Fx,{...n,ref:t,children:r})});Ak.displayName="Slot";var Fx=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=dQ(r);return m.cloneElement(r,{...uQ(n,r.props),ref:t?Zc(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});Fx.displayName="SlotClone";var lQ=({children:e})=>d.jsx(d.Fragment,{children:e});function cQ(e){return m.isValidElement(e)&&e.type===lQ}function uQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function dQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var hQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Wt=hQ.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?Ak:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Dk(e,t){e&&vi.flushSync(()=>e.dispatchEvent(t))}function fQ(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];function u(p){const{scope:g,children:C,...w}=p,y=(g==null?void 0:g[e][l])||a,S=m.useMemo(()=>w,Object.values(w));return d.jsx(y.Provider,{value:S,children:C})}function h(p,g){const C=(g==null?void 0:g[e][l])||a,w=m.useContext(C);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,pQ(s,...t)]}function pQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Px=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),i=s.find(mQ);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return d.jsx(Ax,{...n,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return d.jsx(Ax,{...n,ref:t,children:r})});Px.displayName="Slot";var Ax=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=CQ(r);return m.cloneElement(r,{...vQ(n,r.props),ref:t?Zc(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});Ax.displayName="SlotClone";var gQ=({children:e})=>d.jsx(d.Fragment,{children:e});function mQ(e){return m.isValidElement(e)&&e.type===gQ}function vQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function CQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function qE(e){const t=e+"CollectionProvider",[r,n]=fQ(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=C=>{const{scope:w,children:y}=C,S=De.useRef(null),E=De.useRef(new Map).current;return d.jsx(s,{scope:w,itemMap:E,collectionRef:S,children:y})};o.displayName=t;const a=e+"CollectionSlot",l=De.forwardRef((C,w)=>{const{scope:y,children:S}=C,E=i(a,y),b=rr(w,E.collectionRef);return d.jsx(Px,{ref:b,children:S})});l.displayName=a;const u=e+"CollectionItemSlot",h="data-radix-collection-item",p=De.forwardRef((C,w)=>{const{scope:y,children:S,...E}=C,b=De.useRef(null),T=rr(w,b),R=i(u,y);return De.useEffect(()=>(R.itemMap.set(b,{ref:b,...E}),()=>void R.itemMap.delete(b))),d.jsx(Px,{[h]:"",ref:T,children:S})});p.displayName=u;function g(C){const w=i(e+"CollectionConsumer",C);return De.useCallback(()=>{const S=w.collectionRef.current;if(!S)return[];const E=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((R,P)=>E.indexOf(R.ref.current)-E.indexOf(P.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},g,n]}var yQ=m.createContext(void 0);function j0(e){const t=m.useContext(yQ);return e||t||"ltr"}var wQ="DismissableLayer",Dx="dismissableLayer.update",SQ="dismissableLayer.pointerDownOutside",xQ="dismissableLayer.focusOutside",x2,Mk=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),YE=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,u=m.useContext(Mk),[h,p]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=m.useState({}),w=rr(t,D=>p(D)),y=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(S),b=h?y.indexOf(h):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,R=b>=E,P=RQ(D=>{const N=D.target,O=[...u.branches].some(j=>j.contains(N));!R||O||(s==null||s(D),o==null||o(D),D.defaultPrevented||a==null||a())},g),M=TQ(D=>{const N=D.target;[...u.branches].some(j=>j.contains(N))||(i==null||i(D),o==null||o(D),D.defaultPrevented||a==null||a())},g);return M0(D=>{b===u.layers.size-1&&(n==null||n(D),!D.defaultPrevented&&a&&(D.preventDefault(),a()))},g),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(x2=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),E2(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=x2)}},[h,g,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),E2())},[h,u]),m.useEffect(()=>{const D=()=>C({});return document.addEventListener(Dx,D),()=>document.removeEventListener(Dx,D)},[]),d.jsx(Wt.div,{...l,ref:w,style:{pointerEvents:T?R?"auto":"none":void 0,...e.style},onFocusCapture:pt(e.onFocusCapture,M.onFocusCapture),onBlurCapture:pt(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:pt(e.onPointerDownCapture,P.onPointerDownCapture)})});YE.displayName=wQ;var EQ="DismissableLayerBranch",bQ=m.forwardRef((e,t)=>{const r=m.useContext(Mk),n=m.useRef(null),s=rr(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),d.jsx(Wt.div,{...e,ref:s})});bQ.displayName=EQ;function RQ(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){Nk(SQ,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function TQ(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&Nk(xQ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function E2(){const e=new CustomEvent(Dx);document.dispatchEvent(e)}function Nk(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Dk(s,i):s.dispatchEvent(i)}var Ow=0;function B0(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??b2()),document.body.insertAdjacentElement("beforeend",e[1]??b2()),Ow++,()=>{Ow===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ow--}},[])}function b2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Lw="focusScope.autoFocusOnMount",kw="focusScope.autoFocusOnUnmount",R2={bubbles:!1,cancelable:!0},FQ="FocusScope",XE=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=m.useState(null),u=Yt(s),h=Yt(i),p=m.useRef(null),g=rr(t,y=>l(y)),C=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let y=function(T){if(C.paused||!a)return;const R=T.target;a.contains(R)?p.current=R:Ua(p.current,{select:!0})},S=function(T){if(C.paused||!a)return;const R=T.relatedTarget;R!==null&&(a.contains(R)||Ua(p.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const P of T)P.removedNodes.length>0&&Ua(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const b=new MutationObserver(E);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),b.disconnect()}}},[n,a,C.paused]),m.useEffect(()=>{if(a){F2.add(C);const y=document.activeElement;if(!a.contains(y)){const E=new CustomEvent(Lw,R2);a.addEventListener(Lw,u),a.dispatchEvent(E),E.defaultPrevented||(PQ(IQ(Ik(a)),{select:!0}),document.activeElement===y&&Ua(a))}return()=>{a.removeEventListener(Lw,u),setTimeout(()=>{const E=new CustomEvent(kw,R2);a.addEventListener(kw,h),a.dispatchEvent(E),E.defaultPrevented||Ua(y??document.body,{select:!0}),a.removeEventListener(kw,h),F2.remove(C)},0)}}},[a,u,h,C]);const w=m.useCallback(y=>{if(!r&&!n||C.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(S&&E){const b=y.currentTarget,[T,R]=AQ(b);T&&R?!y.shiftKey&&E===R?(y.preventDefault(),r&&Ua(T,{select:!0})):y.shiftKey&&E===T&&(y.preventDefault(),r&&Ua(R,{select:!0})):E===b&&y.preventDefault()}},[r,n,C.paused]);return d.jsx(Wt.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});XE.displayName=FQ;function PQ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ua(n,{select:t}),document.activeElement!==r)return}function AQ(e){const t=Ik(e),r=T2(t,e),n=T2(t.reverse(),e);return[r,n]}function Ik(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function T2(e,t){for(const r of e)if(!DQ(r,{upTo:t}))return r}function DQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function MQ(e){return e instanceof HTMLInputElement&&"select"in e}function Ua(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&MQ(e)&&t&&e.select()}}var F2=NQ();function NQ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=P2(e,t),e.unshift(t)},remove(t){var r;e=P2(e,t),(r=e[0])==null||r.resume()}}}function P2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function IQ(e){return e.filter(t=>t.tagName!=="A")}var OQ="Arrow",Ok=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return d.jsx(Wt.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ok.displayName=OQ;var LQ=Ok;function kQ(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];function u(p){const{scope:g,children:C,...w}=p,y=(g==null?void 0:g[e][l])||a,S=m.useMemo(()=>w,Object.values(w));return d.jsx(y.Provider,{value:S,children:C})}function h(p,g){const C=(g==null?void 0:g[e][l])||a,w=m.useContext(C);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,_Q(s,...t)]}function _Q(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var QE="Popper",[Lk,G0]=kQ(QE),[jQ,kk]=Lk(QE),_k=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return d.jsx(jQ,{scope:t,anchor:n,onAnchorChange:s,children:r})};_k.displayName=QE;var jk="PopperAnchor",Bk=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=kk(jk,r),o=m.useRef(null),a=rr(t,o);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:d.jsx(Wt.div,{...s,ref:a})});Bk.displayName=jk;var JE="PopperContent",[BQ,GQ]=Lk(JE),Gk=m.forwardRef((e,t)=>{var ie,fe,Q,re,Me,Fe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:C="optimized",onPlaced:w,...y}=e,S=kk(JE,r),[E,b]=m.useState(null),T=rr(t,We=>b(We)),[R,P]=m.useState(null),M=HE(R),D=(M==null?void 0:M.width)??0,N=(M==null?void 0:M.height)??0,O=n+(i!=="center"?"-"+i:""),j=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},W=Array.isArray(u)?u:[u],B=W.length>0,oe={padding:j,boundary:W.filter(VQ),altBoundary:B},{refs:pe,floatingStyles:Se,placement:we,isPositioned:se,middlewareData:Z}=IE({strategy:"fixed",placement:O,whileElementsMounted:(...We)=>NE(...We,{animationFrame:C==="always"}),elements:{reference:S.anchor},middleware:[OE({mainAxis:s+N,alignmentAxis:o}),l&&LE({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?kE():void 0,...oe}),l&&_E({...oe}),jE({...oe,apply:({elements:We,rects:Ye,availableWidth:ut,availableHeight:gt})=>{const{width:Ve,height:le}=Ye.reference,Be=We.floating.style;Be.setProperty("--radix-popper-available-width",`${ut}px`),Be.setProperty("--radix-popper-available-height",`${gt}px`),Be.setProperty("--radix-popper-anchor-width",`${Ve}px`),Be.setProperty("--radix-popper-anchor-height",`${le}px`)}}),R&&GE({element:R,padding:a}),WQ({arrowWidth:D,arrowHeight:N}),g&&BE({strategy:"referenceHidden",...oe})]}),[ne,de]=Wk(we),z=Yt(w);Jt(()=>{se&&(z==null||z())},[se,z]);const I=(ie=Z.arrow)==null?void 0:ie.x,L=(fe=Z.arrow)==null?void 0:fe.y,H=((Q=Z.arrow)==null?void 0:Q.centerOffset)!==0,[G,J]=m.useState();return Jt(()=>{E&&J(window.getComputedStyle(E).zIndex)},[E]),d.jsx("div",{ref:pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:se?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(re=Z.transformOrigin)==null?void 0:re.x,(Me=Z.transformOrigin)==null?void 0:Me.y].join(" "),...((Fe=Z.hide)==null?void 0:Fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(BQ,{scope:r,placedSide:ne,onArrowChange:P,arrowX:I,arrowY:L,shouldHideArrow:H,children:d.jsx(Wt.div,{"data-side":ne,"data-align":de,...y,ref:T,style:{...y.style,animation:se?void 0:"none"}})})})});Gk.displayName=JE;var Hk="PopperArrow",HQ={top:"bottom",right:"left",bottom:"top",left:"right"},Vk=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=GQ(Hk,n),o=HQ[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(LQ,{...s,ref:r,style:{...s.style,display:"block"}})})});Vk.displayName=Hk;function VQ(e){return e!==null}var WQ=e=>({name:"transformOrigin",options:e,fn(t){var S,E,b;const{placement:r,rects:n,middlewareData:s}=t,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,h]=Wk(r),p={start:"0%",center:"50%",end:"100%"}[h],g=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,C=(((b=s.arrow)==null?void 0:b.y)??0)+l/2;let w="",y="";return u==="bottom"?(w=o?p:`${g}px`,y=`${-l}px`):u==="top"?(w=o?p:`${g}px`,y=`${n.floating.height+l}px`):u==="right"?(w=`${-l}px`,y=o?p:`${C}px`):u==="left"&&(w=`${n.floating.width+l}px`,y=o?p:`${C}px`),{data:{x:w,y}}}});function Wk(e){const[t,r="center"]=e.split("-");return[t,r]}var $k=_k,Uk=Bk,zk=Gk,Kk=Vk,$Q="Portal",ZE=m.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=m.useState(!1);Jt(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Zd.createPortal(d.jsx(Wt.div,{...n,ref:t}),o):null});ZE.displayName=$Q;function UQ(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var ha=e=>{const{present:t,children:r}=e,n=zQ(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=rr(n.ref,KQ(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};ha.displayName="Presence";function zQ(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[a,l]=UQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=xm(n.current);i.current=a==="mounted"?u:"none"},[a]),Jt(()=>{const u=n.current,h=s.current;if(h!==e){const g=i.current,C=xm(u);e?l("MOUNT"):C==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&g!==C?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Jt(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,p=C=>{const y=xm(n.current).includes(C.animationName);if(C.target===t&&y&&(l("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=C=>{C.target===t&&(i.current=xm(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function xm(e){return(e==null?void 0:e.animationName)||"none"}function KQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function qQ(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];function u(p){const{scope:g,children:C,...w}=p,y=(g==null?void 0:g[e][l])||a,S=m.useMemo(()=>w,Object.values(w));return d.jsx(y.Provider,{value:S,children:C})}function h(p,g){const C=(g==null?void 0:g[e][l])||a,w=m.useContext(C);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,YQ(s,...t)]}function YQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var _w="rovingFocusGroup.onEntryFocus",XQ={bubbles:!1,cancelable:!0},H0="RovingFocusGroup",[Mx,qk,QQ]=qE(H0),[JQ,Yk]=qQ(H0,[QQ]),[ZQ,eJ]=JQ(H0),Xk=m.forwardRef((e,t)=>d.jsx(Mx.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(Mx.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(tJ,{...e,ref:t})})}));Xk.displayName=H0;var tJ=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=e,g=m.useRef(null),C=rr(t,g),w=j0(i),[y=null,S]=_c({prop:o,defaultProp:a,onChange:l}),[E,b]=m.useState(!1),T=Yt(u),R=qk(r),P=m.useRef(!1),[M,D]=m.useState(0);return m.useEffect(()=>{const N=g.current;if(N)return N.addEventListener(_w,T),()=>N.removeEventListener(_w,T)},[T]),d.jsx(ZQ,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(N=>S(N),[S]),onItemShiftTab:m.useCallback(()=>b(!0),[]),onFocusableItemAdd:m.useCallback(()=>D(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>D(N=>N-1),[]),children:d.jsx(Wt.div,{tabIndex:E||M===0?-1:0,"data-orientation":n,...p,ref:C,style:{outline:"none",...e.style},onMouseDown:pt(e.onMouseDown,()=>{P.current=!0}),onFocus:pt(e.onFocus,N=>{const O=!P.current;if(N.target===N.currentTarget&&O&&!E){const j=new CustomEvent(_w,XQ);if(N.currentTarget.dispatchEvent(j),!j.defaultPrevented){const W=R().filter(we=>we.focusable),B=W.find(we=>we.active),oe=W.find(we=>we.id===y),Se=[B,oe,...W].filter(Boolean).map(we=>we.ref.current);Zk(Se,h)}}P.current=!1}),onBlur:pt(e.onBlur,()=>b(!1))})})}),Qk="RovingFocusGroupItem",Jk=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=e,a=Hi(),l=i||a,u=eJ(Qk,r),h=u.currentTabStopId===l,p=qk(r),{onFocusableItemAdd:g,onFocusableItemRemove:C}=u;return m.useEffect(()=>{if(n)return g(),()=>C()},[n,g,C]),d.jsx(Mx.ItemSlot,{scope:r,id:l,focusable:n,active:s,children:d.jsx(Wt.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:pt(e.onMouseDown,w=>{n?u.onItemFocus(l):w.preventDefault()}),onFocus:pt(e.onFocus,()=>u.onItemFocus(l)),onKeyDown:pt(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=sJ(w,u.orientation,u.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=p().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")E.reverse();else if(y==="prev"||y==="next"){y==="prev"&&E.reverse();const b=E.indexOf(w.currentTarget);E=u.loop?iJ(E,b+1):E.slice(b+1)}setTimeout(()=>Zk(E))}})})})});Jk.displayName=Qk;var rJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sJ(e,t,r){const n=nJ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return rJ[n]}function Zk(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function iJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var oJ=Xk,aJ=Jk,e_=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),i=s.find(cJ);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return d.jsx(Nx,{...n,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return d.jsx(Nx,{...n,ref:t,children:r})});e_.displayName="Slot";var Nx=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=dJ(r);return m.cloneElement(r,{...uJ(n,r.props),ref:t?Zc(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});Nx.displayName="SlotClone";var lJ=({children:e})=>d.jsx(d.Fragment,{children:e});function cJ(e){return m.isValidElement(e)&&e.type===lJ}function uJ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function dJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var hJ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hu=new WeakMap,Em=new WeakMap,bm={},jw=0,t_=function(e){return e&&(e.host||t_(e.parentNode))},fJ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=t_(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},pJ=function(e,t,r,n){var s=fJ(t,Array.isArray(e)?e:[e]);bm[r]||(bm[r]=new WeakMap);var i=bm[r],o=[],a=new Set,l=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var h=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(g){if(a.has(g))h(g);else try{var C=g.getAttribute(n),w=C!==null&&C!=="false",y=(Hu.get(g)||0)+1,S=(i.get(g)||0)+1;Hu.set(g,y),i.set(g,S),o.push(g),y===1&&w&&Em.set(g,!0),S===1&&g.setAttribute(r,"true"),w||g.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",g,E)}})};return h(t),a.clear(),jw++,function(){o.forEach(function(p){var g=Hu.get(p)-1,C=i.get(p)-1;Hu.set(p,g),i.set(p,C),g||(Em.has(p)||p.removeAttribute(n),Em.delete(p)),C||p.removeAttribute(r)}),jw--,jw||(Hu=new WeakMap,Hu=new WeakMap,Em=new WeakMap,bm={})}},Mp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=hJ(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),pJ(n,s,r,"aria-hidden")):function(){return null}},Gr=function(){return Gr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Gr.apply(this,arguments)};function V0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function eb(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var fd="right-scroll-bar-position",pd="width-before-scroll-bar",gJ="with-scroll-bars-hidden",mJ="--removed-body-scroll-bar-size";function Bw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function vJ(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var CJ=typeof window<"u"?m.useLayoutEffect:m.useEffect,A2=new WeakMap;function tb(e,t){var r=vJ(null,function(n){return e.forEach(function(s){return Bw(s,n)})});return CJ(function(){var n=A2.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||Bw(a,null)}),i.forEach(function(a){s.has(a)||Bw(a,o)})}A2.set(r,e)},[e]),r}function yJ(e){return e}function wJ(e,t){t===void 0&&(t=yJ);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),r}}}};return s}function rb(e){e===void 0&&(e={});var t=wJ(null);return t.options=Gr({async:!0,ssr:!1},e),t}var r_=function(e){var t=e.sideCar,r=V0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Gr({},r))};r_.isSideCarExport=!0;function nb(e,t){return e.useMedium(t),r_}var n_=rb(),Gw=function(){},W0=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Gw,onWheelCapture:Gw,onTouchMoveCapture:Gw}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,h=e.enabled,p=e.shards,g=e.sideCar,C=e.noIsolation,w=e.inert,y=e.allowPinchZoom,S=e.as,E=S===void 0?"div":S,b=e.gapMode,T=V0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,P=tb([r,t]),M=Gr(Gr({},T),s);return m.createElement(m.Fragment,null,h&&m.createElement(R,{sideCar:n_,removeScrollBar:u,shards:p,noIsolation:C,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:b}),o?m.cloneElement(m.Children.only(a),Gr(Gr({},M),{ref:P})):m.createElement(E,Gr({},M,{className:l,ref:P}),a))});W0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};W0.classNames={fullWidth:pd,zeroRight:fd};var SJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xJ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SJ();return t&&e.setAttribute("nonce",t),e}function EJ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bJ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var RJ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=xJ())&&(EJ(t,r),bJ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TJ=function(){var e=RJ();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},$0=function(){var e=TJ(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},FJ={left:0,top:0,right:0,gap:0},Hw=function(e){return parseInt(e||"",10)||0},PJ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Hw(r),Hw(n),Hw(s)]},AJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return FJ;var t=PJ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},DJ=$0(),gd="data-scroll-locked",MJ=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(gJ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(gd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fd,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(pd,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(fd," .").concat(fd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(pd," .").concat(pd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(gd,`] {
    `).concat(mJ,": ").concat(a,`px;
  }
`)},D2=function(){var e=parseInt(document.body.getAttribute(gd)||"0",10);return isFinite(e)?e:0},NJ=function(){m.useEffect(function(){return document.body.setAttribute(gd,(D2()+1).toString()),function(){var e=D2()-1;e<=0?document.body.removeAttribute(gd):document.body.setAttribute(gd,e.toString())}},[])},sb=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;NJ();var i=m.useMemo(function(){return AJ(s)},[s]);return m.createElement(DJ,{styles:MJ(i,!t,s,r?"":"!important")})},Ix=!1;if(typeof window<"u")try{var Rm=Object.defineProperty({},"passive",{get:function(){return Ix=!0,!0}});window.addEventListener("test",Rm,Rm),window.removeEventListener("test",Rm,Rm)}catch{Ix=!1}var Vu=Ix?{passive:!1}:!1,IJ=function(e){return e.tagName==="TEXTAREA"},s_=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!IJ(e)&&r[t]==="visible")},OJ=function(e){return s_(e,"overflowY")},LJ=function(e){return s_(e,"overflowX")},M2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=i_(e,n);if(s){var i=o_(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},kJ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},_J=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},i_=function(e,t){return e==="v"?OJ(t):LJ(t)},o_=function(e,t){return e==="v"?kJ(t):_J(t)},jJ=function(e,t){return e==="h"&&t==="rtl"?-1:1},BJ=function(e,t,r,n,s){var i=jJ(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),u=!1,h=o>0,p=0,g=0;do{var C=o_(e,a),w=C[0],y=C[1],S=C[2],E=y-S-i*w;(w||E)&&i_(e,a)&&(p+=E,g+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(g)<1||!s))&&(u=!0),u},Tm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},N2=function(e){return[e.deltaX,e.deltaY]},I2=function(e){return e&&"current"in e?e.current:e},GJ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},HJ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},VJ=0,Wu=[];function WJ(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(VJ++)[0],i=m.useState($0)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=eb([e.lockRef.current],(e.shards||[]).map(I2),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var E=Tm(y),b=r.current,T="deltaX"in y?y.deltaX:b[0]-E[0],R="deltaY"in y?y.deltaY:b[1]-E[1],P,M=y.target,D=Math.abs(T)>Math.abs(R)?"h":"v";if("touches"in y&&D==="h"&&M.type==="range")return!1;var N=M2(D,M);if(!N)return!0;if(N?P=D:(P=D==="v"?"h":"v",N=M2(D,M)),!N)return!1;if(!n.current&&"changedTouches"in y&&(T||R)&&(n.current=P),!P)return!0;var O=n.current||P;return BJ(O,S,y,O==="h"?T:R,!0)},[]),l=m.useCallback(function(y){var S=y;if(!(!Wu.length||Wu[Wu.length-1]!==i)){var E="deltaY"in S?N2(S):Tm(S),b=t.current.filter(function(P){return P.name===S.type&&(P.target===S.target||S.target===P.shadowParent)&&GJ(P.delta,E)})[0];if(b&&b.should){S.cancelable&&S.preventDefault();return}if(!b){var T=(o.current.shards||[]).map(I2).filter(Boolean).filter(function(P){return P.contains(S.target)}),R=T.length>0?a(S,T[0]):!o.current.noIsolation;R&&S.cancelable&&S.preventDefault()}}},[]),u=m.useCallback(function(y,S,E,b){var T={name:y,delta:S,target:E,should:b,shadowParent:$J(E)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(R){return R!==T})},1)},[]),h=m.useCallback(function(y){r.current=Tm(y),n.current=void 0},[]),p=m.useCallback(function(y){u(y.type,N2(y),y.target,a(y,e.lockRef.current))},[]),g=m.useCallback(function(y){u(y.type,Tm(y),y.target,a(y,e.lockRef.current))},[]);m.useEffect(function(){return Wu.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Vu),document.addEventListener("touchmove",l,Vu),document.addEventListener("touchstart",h,Vu),function(){Wu=Wu.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Vu),document.removeEventListener("touchmove",l,Vu),document.removeEventListener("touchstart",h,Vu)}},[]);var C=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:HJ(s)}):null,C?m.createElement(sb,{gapMode:e.gapMode}):null)}function $J(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const UJ=nb(n_,WJ);var U0=m.forwardRef(function(e,t){return m.createElement(W0,Gr({},e,{ref:t,sideCar:UJ}))});U0.classNames=W0.classNames;var Ox=["Enter"," "],zJ=["ArrowDown","PageUp","Home"],a_=["ArrowUp","PageDown","End"],KJ=[...zJ,...a_],qJ={ltr:[...Ox,"ArrowRight"],rtl:[...Ox,"ArrowLeft"]},YJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Np="Menu",[Yf,XJ,QJ]=qE(Np),[eu,l_]=xo(Np,[QJ,G0,Yk]),z0=G0(),c_=Yk(),[JJ,tu]=eu(Np),[ZJ,Ip]=eu(Np),u_=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,a=z0(t),[l,u]=m.useState(null),h=m.useRef(!1),p=Yt(i),g=j0(s);return m.useEffect(()=>{const C=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),d.jsx($k,{...a,children:d.jsx(JJ,{scope:t,open:r,onOpenChange:p,content:l,onContentChange:u,children:d.jsx(ZJ,{scope:t,onClose:m.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:g,modal:o,children:n})})})};u_.displayName=Np;var eZ="MenuAnchor",ib=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=z0(r);return d.jsx(Uk,{...s,...n,ref:t})});ib.displayName=eZ;var ob="MenuPortal",[tZ,d_]=eu(ob,{forceMount:void 0}),h_=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=tu(ob,t);return d.jsx(tZ,{scope:t,forceMount:r,children:d.jsx(ha,{present:r||i.open,children:d.jsx(ZE,{asChild:!0,container:s,children:n})})})};h_.displayName=ob;var fi="MenuContent",[rZ,ab]=eu(fi),f_=m.forwardRef((e,t)=>{const r=d_(fi,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=tu(fi,e.__scopeMenu),o=Ip(fi,e.__scopeMenu);return d.jsx(Yf.Provider,{scope:e.__scopeMenu,children:d.jsx(ha,{present:n||i.open,children:d.jsx(Yf.Slot,{scope:e.__scopeMenu,children:o.modal?d.jsx(nZ,{...s,ref:t}):d.jsx(sZ,{...s,ref:t})})})})}),nZ=m.forwardRef((e,t)=>{const r=tu(fi,e.__scopeMenu),n=m.useRef(null),s=rr(t,n);return m.useEffect(()=>{const i=n.current;if(i)return Mp(i)},[]),d.jsx(lb,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:pt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),sZ=m.forwardRef((e,t)=>{const r=tu(fi,e.__scopeMenu);return d.jsx(lb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),lb=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:g,onDismiss:C,disableOutsideScroll:w,...y}=e,S=tu(fi,r),E=Ip(fi,r),b=z0(r),T=c_(r),R=XJ(r),[P,M]=m.useState(null),D=m.useRef(null),N=rr(t,D,S.onContentChange),O=m.useRef(0),j=m.useRef(""),W=m.useRef(0),B=m.useRef(null),oe=m.useRef("right"),pe=m.useRef(0),Se=w?U0:m.Fragment,we=w?{as:e_,allowPinchZoom:!0}:void 0,se=ne=>{var ie,fe;const de=j.current+ne,z=R().filter(Q=>!Q.disabled),I=document.activeElement,L=(ie=z.find(Q=>Q.ref.current===I))==null?void 0:ie.textValue,H=z.map(Q=>Q.textValue),G=mZ(H,de,L),J=(fe=z.find(Q=>Q.textValue===G))==null?void 0:fe.ref.current;(function Q(re){j.current=re,window.clearTimeout(O.current),re!==""&&(O.current=window.setTimeout(()=>Q(""),1e3))})(de),J&&setTimeout(()=>J.focus())};m.useEffect(()=>()=>window.clearTimeout(O.current),[]),B0();const Z=m.useCallback(ne=>{var z,I;return oe.current===((z=B.current)==null?void 0:z.side)&&CZ(ne,(I=B.current)==null?void 0:I.area)},[]);return d.jsx(rZ,{scope:r,searchRef:j,onItemEnter:m.useCallback(ne=>{Z(ne)&&ne.preventDefault()},[Z]),onItemLeave:m.useCallback(ne=>{var de;Z(ne)||((de=D.current)==null||de.focus(),M(null))},[Z]),onTriggerLeave:m.useCallback(ne=>{Z(ne)&&ne.preventDefault()},[Z]),pointerGraceTimerRef:W,onPointerGraceIntentChange:m.useCallback(ne=>{B.current=ne},[]),children:d.jsx(Se,{...we,children:d.jsx(XE,{asChild:!0,trapped:s,onMountAutoFocus:pt(i,ne=>{var de;ne.preventDefault(),(de=D.current)==null||de.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(YE,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:g,onDismiss:C,children:d.jsx(oJ,{asChild:!0,...T,dir:E.dir,orientation:"vertical",loop:n,currentTabStopId:P,onCurrentTabStopIdChange:M,onEntryFocus:pt(l,ne=>{E.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(zk,{role:"menu","aria-orientation":"vertical","data-state":A_(S.open),"data-radix-menu-content":"",dir:E.dir,...b,...y,ref:N,style:{outline:"none",...y.style},onKeyDown:pt(y.onKeyDown,ne=>{const z=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,I=ne.ctrlKey||ne.altKey||ne.metaKey,L=ne.key.length===1;z&&(ne.key==="Tab"&&ne.preventDefault(),!I&&L&&se(ne.key));const H=D.current;if(ne.target!==H||!KJ.includes(ne.key))return;ne.preventDefault();const J=R().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);a_.includes(ne.key)&&J.reverse(),pZ(J)}),onBlur:pt(e.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(O.current),j.current="")}),onPointerMove:pt(e.onPointerMove,Xf(ne=>{const de=ne.target,z=pe.current!==ne.clientX;if(ne.currentTarget.contains(de)&&z){const I=ne.clientX>pe.current?"right":"left";oe.current=I,pe.current=ne.clientX}}))})})})})})})});f_.displayName=fi;var iZ="MenuGroup",cb=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(Wt.div,{role:"group",...n,ref:t})});cb.displayName=iZ;var oZ="MenuLabel",p_=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(Wt.div,{...n,ref:t})});p_.displayName=oZ;var Lv="MenuItem",O2="menu.itemSelect",K0=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=m.useRef(null),o=Ip(Lv,e.__scopeMenu),a=ab(Lv,e.__scopeMenu),l=rr(t,i),u=m.useRef(!1),h=()=>{const p=i.current;if(!r&&p){const g=new CustomEvent(O2,{bubbles:!0,cancelable:!0});p.addEventListener(O2,C=>n==null?void 0:n(C),{once:!0}),Dk(p,g),g.defaultPrevented?u.current=!1:o.onClose()}};return d.jsx(g_,{...s,ref:l,disabled:r,onClick:pt(e.onClick,h),onPointerDown:p=>{var g;(g=e.onPointerDown)==null||g.call(e,p),u.current=!0},onPointerUp:pt(e.onPointerUp,p=>{var g;u.current||(g=p.currentTarget)==null||g.click()}),onKeyDown:pt(e.onKeyDown,p=>{const g=a.searchRef.current!=="";r||g&&p.key===" "||Ox.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});K0.displayName=Lv;var g_=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=ab(Lv,r),a=c_(r),l=m.useRef(null),u=rr(t,l),[h,p]=m.useState(!1),[g,C]=m.useState("");return m.useEffect(()=>{const w=l.current;w&&C((w.textContent??"").trim())},[i.children]),d.jsx(Yf.ItemSlot,{scope:r,disabled:n,textValue:s??g,children:d.jsx(aJ,{asChild:!0,...a,focusable:!n,children:d.jsx(Wt.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:pt(e.onPointerMove,Xf(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pt(e.onPointerLeave,Xf(w=>o.onItemLeave(w))),onFocus:pt(e.onFocus,()=>p(!0)),onBlur:pt(e.onBlur,()=>p(!1))})})})}),aZ="MenuCheckboxItem",m_=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return d.jsx(S_,{scope:e.__scopeMenu,checked:r,children:d.jsx(K0,{role:"menuitemcheckbox","aria-checked":kv(r)?"mixed":r,...s,ref:t,"data-state":db(r),onSelect:pt(s.onSelect,()=>n==null?void 0:n(kv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});m_.displayName=aZ;var v_="MenuRadioGroup",[lZ,cZ]=eu(v_,{value:void 0,onValueChange:()=>{}}),C_=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Yt(n);return d.jsx(lZ,{scope:e.__scopeMenu,value:r,onValueChange:i,children:d.jsx(cb,{...s,ref:t})})});C_.displayName=v_;var y_="MenuRadioItem",w_=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=cZ(y_,e.__scopeMenu),i=r===s.value;return d.jsx(S_,{scope:e.__scopeMenu,checked:i,children:d.jsx(K0,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":db(i),onSelect:pt(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});w_.displayName=y_;var ub="MenuItemIndicator",[S_,uZ]=eu(ub,{checked:!1}),x_=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=uZ(ub,r);return d.jsx(ha,{present:n||kv(i.checked)||i.checked===!0,children:d.jsx(Wt.span,{...s,ref:t,"data-state":db(i.checked)})})});x_.displayName=ub;var dZ="MenuSeparator",E_=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(Wt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});E_.displayName=dZ;var hZ="MenuArrow",b_=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=z0(r);return d.jsx(Kk,{...s,...n,ref:t})});b_.displayName=hZ;var fZ="MenuSub",[wAe,R_]=eu(fZ),yf="MenuSubTrigger",T_=m.forwardRef((e,t)=>{const r=tu(yf,e.__scopeMenu),n=Ip(yf,e.__scopeMenu),s=R_(yf,e.__scopeMenu),i=ab(yf,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},h=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>h,[h]),m.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),l(null)}},[a,l]),d.jsx(ib,{asChild:!0,...u,children:d.jsx(g_,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":A_(r.open),...e,ref:Zc(t,s.onTriggerChange),onClick:p=>{var g;(g=e.onClick)==null||g.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:pt(e.onPointerMove,Xf(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:pt(e.onPointerLeave,Xf(p=>{var C,w;h();const g=(C=r.content)==null?void 0:C.getBoundingClientRect();if(g){const y=(w=r.content)==null?void 0:w.dataset.side,S=y==="right",E=S?-5:5,b=g[S?"left":"right"],T=g[S?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+E,y:p.clientY},{x:b,y:g.top},{x:T,y:g.top},{x:T,y:g.bottom},{x:b,y:g.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:pt(e.onKeyDown,p=>{var C;const g=i.searchRef.current!=="";e.disabled||g&&p.key===" "||qJ[n.dir].includes(p.key)&&(r.onOpenChange(!0),(C=r.content)==null||C.focus(),p.preventDefault())})})})});T_.displayName=yf;var F_="MenuSubContent",P_=m.forwardRef((e,t)=>{const r=d_(fi,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=tu(fi,e.__scopeMenu),o=Ip(fi,e.__scopeMenu),a=R_(F_,e.__scopeMenu),l=m.useRef(null),u=rr(t,l);return d.jsx(Yf.Provider,{scope:e.__scopeMenu,children:d.jsx(ha,{present:n||i.open,children:d.jsx(Yf.Slot,{scope:e.__scopeMenu,children:d.jsx(lb,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;o.isUsingKeyboardRef.current&&((p=l.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:pt(e.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:pt(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:pt(e.onKeyDown,h=>{var C;const p=h.currentTarget.contains(h.target),g=YJ[o.dir].includes(h.key);p&&g&&(i.onOpenChange(!1),(C=a.trigger)==null||C.focus(),h.preventDefault())})})})})})});P_.displayName=F_;function A_(e){return e?"open":"closed"}function kv(e){return e==="indeterminate"}function db(e){return kv(e)?"indeterminate":e?"checked":"unchecked"}function pZ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function gZ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function mZ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=gZ(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function vZ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i].x,l=t[i].y,u=t[o].x,h=t[o].y;l>n!=h>n&&r<(u-a)*(n-l)/(h-l)+a&&(s=!s)}return s}function CZ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return vZ(r,t)}function Xf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var yZ=u_,wZ=ib,SZ=h_,xZ=f_,EZ=cb,bZ=p_,RZ=K0,TZ=m_,FZ=C_,PZ=w_,AZ=x_,DZ=E_,MZ=b_,NZ=T_,IZ=P_,hb="DropdownMenu",[OZ,SAe]=xo(hb,[l_]),ls=l_(),[LZ,D_]=OZ(hb),M_=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,l=ls(t),u=m.useRef(null),[h=!1,p]=_c({prop:s,defaultProp:i,onChange:o});return d.jsx(LZ,{scope:t,triggerId:Hi(),triggerRef:u,contentId:Hi(),open:h,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(g=>!g),[p]),modal:a,children:d.jsx(yZ,{...l,open:h,onOpenChange:p,dir:n,modal:a,children:r})})};M_.displayName=hb;var N_="DropdownMenuTrigger",I_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=D_(N_,r),o=ls(r);return d.jsx(wZ,{asChild:!0,...o,children:d.jsx(Wt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Zc(t,i.triggerRef),onPointerDown:pt(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:pt(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});I_.displayName=N_;var kZ="DropdownMenuPortal",O_=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ls(t);return d.jsx(SZ,{...n,...r})};O_.displayName=kZ;var L_="DropdownMenuContent",k_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=D_(L_,r),i=ls(r),o=m.useRef(!1);return d.jsx(xZ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:pt(e.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:pt(e.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,h=l.button===2||u;(!s.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});k_.displayName=L_;var _Z="DropdownMenuGroup",jZ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(EZ,{...s,...n,ref:t})});jZ.displayName=_Z;var BZ="DropdownMenuLabel",__=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(bZ,{...s,...n,ref:t})});__.displayName=BZ;var GZ="DropdownMenuItem",j_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(RZ,{...s,...n,ref:t})});j_.displayName=GZ;var HZ="DropdownMenuCheckboxItem",B_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(TZ,{...s,...n,ref:t})});B_.displayName=HZ;var VZ="DropdownMenuRadioGroup",WZ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(FZ,{...s,...n,ref:t})});WZ.displayName=VZ;var $Z="DropdownMenuRadioItem",G_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(PZ,{...s,...n,ref:t})});G_.displayName=$Z;var UZ="DropdownMenuItemIndicator",H_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(AZ,{...s,...n,ref:t})});H_.displayName=UZ;var zZ="DropdownMenuSeparator",V_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(DZ,{...s,...n,ref:t})});V_.displayName=zZ;var KZ="DropdownMenuArrow",qZ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(MZ,{...s,...n,ref:t})});qZ.displayName=KZ;var YZ="DropdownMenuSubTrigger",W_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(NZ,{...s,...n,ref:t})});W_.displayName=YZ;var XZ="DropdownMenuSubContent",$_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(IZ,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$_.displayName=XZ;var QZ=M_,JZ=I_,ZZ=O_,U_=k_,fb=__,z_=j_,K_=B_,q_=G_,Y_=H_,X_=V_,Q_=W_,J_=$_;/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...tee,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Z_("lucide",s),...a},[...o.map(([u,h])=>m.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=(e,t)=>{const r=m.forwardRef(({className:n,...s},i)=>m.createElement(ree,{ref:i,iconNode:t,className:Z_(`lucide-${eee(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Ml("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=Ml("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=Ml("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=Ml("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Ml("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=Ml("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=Ml("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=Ml("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_v=QZ,jv=JZ,lee=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>d.jsxs(Q_,{ref:s,className:jt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,d.jsx(nee,{className:"ml-auto"})]}));lee.displayName=Q_.displayName;const cee=m.forwardRef(({className:e,...t},r)=>d.jsx(J_,{ref:r,className:jt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));cee.displayName=J_.displayName;const Qf=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(ZZ,{children:d.jsx(U_,{ref:n,sideOffset:t,className:jt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Qf.displayName=U_.displayName;const Ff=m.forwardRef(({className:e,inset:t,...r},n)=>d.jsx(z_,{ref:n,className:jt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));Ff.displayName=z_.displayName;const pb=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>d.jsxs(K_,{ref:s,className:jt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Y_,{children:d.jsx(Nn,{className:"h-4 w-4"})})}),t]}));pb.displayName=K_.displayName;const uee=m.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(q_,{ref:n,className:jt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Y_,{children:d.jsx(iee,{className:"h-2 w-2 fill-current"})})}),t]}));uee.displayName=q_.displayName;const t3=m.forwardRef(({className:e,inset:t,...r},n)=>d.jsx(fb,{ref:n,className:jt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));t3.displayName=fb.displayName;const r3=m.forwardRef(({className:e,...t},r)=>d.jsx(X_,{ref:r,className:jt("-mx-1 my-1 h-px bg-muted",e),...t}));r3.displayName=X_.displayName;var dee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gb=dee.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?Pl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),mb="Avatar",[hee,xAe]=xo(mb),[fee,n3]=hee(mb),s3=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=m.useState("idle");return d.jsx(fee,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:d.jsx(gb.span,{...n,ref:t})})});s3.displayName=mb;var i3="AvatarImage",o3=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=n3(i3,r),a=pee(n,i.referrerPolicy),l=Yt(u=>{s(u),o.onImageLoadingStatusChange(u)});return Jt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?d.jsx(gb.img,{...i,ref:t,src:n}):null});o3.displayName=i3;var a3="AvatarFallback",l3=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=n3(a3,r),[o,a]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&i.imageLoadingStatus!=="loaded"?d.jsx(gb.span,{...s,ref:t}):null});l3.displayName=a3;function pee(e,t){const[r,n]=m.useState("idle");return Jt(()=>{if(!e){n("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&n(a)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var c3=s3,u3=o3,d3=l3;const h3=m.forwardRef(({className:e,...t},r)=>d.jsx(c3,{ref:r,className:jt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));h3.displayName=c3.displayName;const f3=m.forwardRef(({className:e,...t},r)=>d.jsx(u3,{ref:r,className:jt("aspect-square h-full w-full",e),...t}));f3.displayName=u3.displayName;const p3=m.forwardRef(({className:e,...t},r)=>d.jsx(d3,{ref:r,className:jt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));p3.displayName=d3.displayName;const gee=()=>{const{logout:e}=G1(),t=_n(),r=()=>{e(),t("/")},n=JSON.parse(localStorage.getItem("user")||"{}"),s=(n==null?void 0:n.userName)||"",i=(n==null?void 0:n.email)||"",o=`${s.charAt(0)}${i.charAt(0)}`.toUpperCase()||"DB";return d.jsxs("header",{className:"w-full h-16 bg-white shadow-lg shadow-gray-500/10 p-4 flex justify-between dark:bg-gray-900 dark:text-white items-center",children:[d.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-white"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(oQ,{}),d.jsxs(_v,{children:[d.jsx(jv,{asChild:!0,children:d.jsxs(h3,{children:[d.jsx(f3,{src:"/default-avatar.png",alt:"Profile Picture"}),d.jsx(p3,{children:o})]})}),d.jsx(Qf,{align:"end",children:d.jsx(Ff,{onClick:r,children:"Logout"})})]})]})]})},ir=({children:e})=>d.jsx("div",{className:"flex h-screen overflow-hidden",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[" ",d.jsx(QX,{})]}),d.jsxs("div",{className:"relative flex  flex-1 flex-col overflow-y-auto overflow-x-hidden",children:[d.jsx(gee,{}),d.jsx("main",{children:d.jsx("div",{className:"mx-auto max-w-screen-2xl p-4 md:p-4",children:e})})]})]})});var ih=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,r){const n=t?this.allAsyncListeners:this.allSyncListeners;let s=n.get(e);return!s&&r&&(s=new Set,n.set(e,s)),s}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,r=!1){this.getListeners(e,r,!0).add(t)}removeEventListener(e,t,r=!1){const n=this.getListeners(e,r,!1);n&&(n.delete(t),n.size===0&&(r?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const r=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const n=(a,l)=>a.forEach(u=>{if(!l.has(u))return;const h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(e)):()=>u(e);t?this.dispatchAsync(h):h()}),s=this.getListeners(r,t,!1)??new Set,i=new Set(s);i.size>0&&n(i,s),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(r,e)):()=>a(r,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},g3=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(g3||{}),L2={};function vb(e,t){L2[t]||(e(),L2[t]=!0)}function Bi(e,...t){console.log("AG Grid: "+e,...t)}function Pe(e,...t){vb(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function qt(e,...t){vb(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Cb(e){return!!(e&&e.constructor&&e.call&&e.apply)}function mee(e){vee(e,400)}var Vw=[],Ww=!1;function k2(e){Vw.push(e),!Ww&&(Ww=!0,window.setTimeout(()=>{const t=Vw.slice();Vw.length=0,Ww=!1,t.forEach(r=>r())},0))}function vee(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(r=>r()),t)}function ss(e,t){let r;return function(...n){const s=this;window.clearTimeout(r),r=window.setTimeout(function(){e.apply(s,n)},t)}}function _2(e,t){let r=0;return function(...n){const s=this,i=new Date().getTime();i-r<t||(r=i,e.apply(s,n))}}function Cee(e,t,r=100,n){const s=new Date().getTime();let i=null,o=!1;const a=()=>{const l=new Date().getTime()-s>r;(e()||l)&&(t(),o=!0,i!=null&&(window.clearInterval(i),i=null),l&&n&&Pe(n))};a(),o||(i=window.setInterval(a,10))}function yee(...e){return t=>e.reduce((r,n)=>n(r),t)}function Qo(e){return e==null||e===""?null:e}function ke(e,t=!1){return e!=null&&(e!==""||t)}function Gt(e){return!ke(e)}function Ks(e){return e==null||e.length===0}function Lx(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Rc(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function kx(e){if(e!==void 0)return e===null||e===""?!1:_x(e)}function _x(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function Jf(e,t){const r=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return r===n}function wee(e,t,r=!1){const n=e==null,s=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&s)return 0;if(n)return-1;if(s)return 1;function i(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!r)return i(e,t);try{return e.localeCompare(t)}catch{return i(e,t)}}function uv(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(r=>t.push(r)),t}return Object.values(e)}function m3(e,t){return e.get("rowModelType")===t}function Er(e){return m3(e,"clientSide")}function bo(e){return m3(e,"serverSide")}function Sn(e,t){return e.get("domLayout")===t}function Bv(e){return Vv(e)!==void 0}function Gv(e){return!e.get("suppressAsyncEvents")}function v3(e){return typeof e.get("getRowHeight")=="function"}function See(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Sl(e,t,r=!1,n){if(n==null&&(n=e.environment.getDefaultRowHeight()),v3(e)){if(r)return{height:n,estimated:!0};const o={node:t,data:t.data},a=e.getCallback("getRowHeight")(o);if(jx(a))return a===0&&Pe("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(t.detail&&e.get("masterDetail"))return xee(e);const s=e.get("rowHeight");return{height:s&&jx(s)?s:n,estimated:!1}}function xee(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return jx(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Tc(e){const{environment:t}=e,r=e.get("rowHeight");if(!r||Gt(r))return t.getDefaultRowHeight();const n=t.refreshRowHeightVariable();return n!==-1?n:(Pe("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function jx(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Zf(e,t,r){const n=t[e.getDomDataKey()];return n?n[r]:void 0}function jc(e,t,r,n){const s=e.getDomDataKey();let i=t[s];Gt(i)&&(i={},t[s]=i),i[r]=n}function Hr(e){let t=null;const r=e.get("getDocument");return r&&ke(r)?t=r():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&ke(t)?t:document}function C3(e){return Hr(e).defaultView||window}function ep(e){return e.eGridDiv.getRootNode()}function Nr(e){return ep(e).activeElement}function y3(e){const t=Hr(e),r=Nr(e);return r===null||r===t.body}function md(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function q0(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Sn(e,"print"))}function co(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function Bx(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function w3(e){const t=e.get("grandTotalRow");if(t)return t;if(e.get("groupIncludeTotalFooter"))return"bottom"}function S3(e){const t=e.get("groupTotalRow");if(typeof t=="function")return e.getCallback("groupTotalRow");if(t)return()=>t;const r=e.get("groupIncludeFooter");if(typeof r=="function"){const n=e.getCallback("groupIncludeFooter");return s=>n(s)?"bottom":void 0}return()=>r?"bottom":void 0}function x3(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function Y0(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function oh(e){const t=e.getCallback("getRowId");return t===void 0?t:r=>{let n=t(r);return typeof n!="string"&&(Pe("The getRowId callback must return a string. The ID ",n," is being cast to a string."),n=String(n)),n}}function Vd(e){return(e==null?void 0:e.checkboxes)??!0}function Hv(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function Eee(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function bee(e){return typeof e.get("rowSelection")!="string"}function Ree(e){return e.get("cellSelection")!==void 0}function Tee(e){const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?(t==null?void 0:t.suppressMultiRanges)??!1:!1:e.get("suppressMultiRangeSelection")}function la(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function Fee(e){var n;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((n=t.handle)==null?void 0:n.mode)==="range":!1:e.get("enableRangeHandle")}function j2(e){var n;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((n=t.handle)==null?void 0:n.mode)==="fill":!1:e.get("enableFillHandle")}function E3(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const r=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return r&&n?!1:r?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function Pee(e){const t=E3(e);return t===!0||t==="enableSelection"}function B2(e){const t=E3(e);return t===!0||t==="enableDeselection"}function yb(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function Vv(e){const t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t==null?void 0:t.mode}function b3(e){return Vv(e)==="multiRow"}function Aee(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function wb(e){const t=e.get("rowSelection");if(typeof t=="string"){const r=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return r&&n?"filteredDescendants":r?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function Bc(e){const t=wb(e);return t==="descendants"||t==="filteredDescendants"}function $w(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function Bt(e){if(!(!e||!e.length))return e[e.length-1]}function Nl(e,t,r){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,s)=>r?r(n,t[s]):t[s]===n)}function Dee(e){return e.sort((t,r)=>t-r)}function R3(e,t){const r=e.indexOf(t);r>=0&&(e[r]=e[e.length-1],e.pop())}function is(e,t){const r=e.indexOf(t);r>=0&&e.splice(r,1)}function Mee(e,t){for(let r=0;r<t.length;r++)R3(e,t[r])}function Nee(e,t){for(let r=0;r<t.length;r++)is(e,t[r])}function Wv(e,t,r){e.splice(r,0,t)}function T3(e,t,r){Nee(e,t),t.slice().reverse().forEach(n=>Wv(e,n,r))}function Fc(e,t){return e.indexOf(t)>-1}function Iee(e){return(e==null?void 0:e.flatMap(t=>t))??[]}function G2(e,t){t==null||e==null||t.forEach(r=>e.push(r))}var F3="__ag_Grid_Stop_Propagation",Oee=["touchstart","touchend","touchmove","touchcancel","scroll"],Uw={};function Wd(e){e[F3]=!0}function Jo(e){return e[F3]===!0}var P3=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r=>{if(typeof Uw[r]=="boolean")return Uw[r];const n=document.createElement(e[r]||"div");return r="on"+r,Uw[r]=r in n}})();function Gx(e,t,r){let n=t;for(;n;){const s=Zf(e,n,r);if(s)return s;n=n.parentElement}return null}function Lee(e,t){return!t||!e?!1:_ee(t).indexOf(e)>=0}function kee(e){const t=[];let r=e.target;for(;r;)t.push(r),r=r.parentElement;return t}function _ee(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():kee(t)}function jee(e,t,r,n){const i=Fc(Oee,r)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,r,n,i)}var be=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,r){this.localEventService||(this.localEventService=new ih),this.localEventService.addEventListener(e,t,r)}removeEventListener(e,t,r){this.localEventService&&this.localEventService.removeEventListener(e,t,r)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const r=[];for(const n in t){const s=t[n];s&&r.push(this._setupListener(e,n,s))}return r}_setupListener(e,t,r){if(this.destroyed)return()=>null;e instanceof HTMLElement?jee(this.getFrameworkOverrides(),e,t,r):e.addEventListener(t,r);const n=()=>(e.removeEventListener(t,r),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const r=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const r=e.join("-")+this.propertyListenerId++,n=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[r])return;this.lastChangeSetIdLookup[r]=s.changeSet.id}const i={type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source};t(i)};e.forEach(s=>this.setupGridOptionListener(s,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const r=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),r}createBean(e,t,r){return(t||this.stubContext).createBean(e,r)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function qn(e){return e instanceof dv}var dv=class extends be{constructor(e,t,r,n){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=M3(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=r,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{xl(t)?e.push(t):qn(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,r=!1;const n=this.findChildrenRemovingPadding();for(let i=0,o=n.length;i<o;i++){const a=n[i];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,r=!0):l==="closed"?(t=!0,r=!0):(e=!0,t=!0)}const s=e&&t&&r;this.expandable!==s&&(this.expandable=s,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=r=>{r.forEach(n=>{qn(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},A3="ag-Grid-ControlsColumn",Bee=class extends be{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){const{gos:e}=this,t=e.get("rowSelection");if(!t||typeof t!="object")return[];const r=Vd(t),n=Hv(t);if(r||n){const s=e.get("selectionColumnDef"),o={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(l,u,h,p){const g=h.isSelected(),C=p.isSelected();return g&&C?0:g?1:-1},editable:!1,suppressFillHandle:!0,...s,colId:`${A3}`},a=new bb(o,null,o.colId,!1);return this.createBean(a),[a]}return[]}},X0="ag-Grid-AutoColumn";function Sb(e){const t=[],r=n=>{for(let s=0;s<n.length;s++){const i=n[s];xl(i)?t.push(i):qn(i)&&r(i.getChildren())}};return r(e),t}function $o(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}function Xa(e,t,r){const n={};if(!t)return;ca(null,t,i=>{n[i.getInstanceId()]=i}),r&&ca(null,r,i=>{n[i.getInstanceId()]=null});const s=Object.values(n).filter(i=>i!=null);e.destroyBeans(s)}function Hx(e){return e.getId().startsWith(X0)}function Op(e){return e.getColId().startsWith(A3)}function hv(e){let t=[];return e instanceof Array?e.some(n=>typeof n!="string")?Pe("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):Pe("colDef.type should be of type 'string' | 'string[]'"),t}var xb=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=r=>{this.frameworkOverrides.wrapOutgoing(()=>e(r))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(r,n)=>{this.frameworkOverrides.wrapOutgoing(()=>e(r,n))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},Eb=new Set(["__proto__","constructor","prototype"]);function _i(e,t){if(e!=null){if(Array.isArray(e)){for(let r=0;r<e.length;r++)t(r.toString(),e[r]);return}for(const[r,n]of Object.entries(e))t(r,n)}}function D3(e){const t={},r=Object.keys(e);for(let n=0;n<r.length;n++){if(Eb.has(r[n]))continue;const s=r[n],i=e[s];t[s]=i}return t}function Vx(e,t){if(!e)return;const r=e,n={};return Object.keys(r).forEach(s=>{if(t&&t.indexOf(s)>=0||Eb.has(s))return;const i=r[s];$x(i)&&i.constructor===Object?n[s]=Vx(i):n[s]=i}),n}function Wx(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const r=[];for(const n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&r.push(e[n]);return r}function rs(e,t,r=!0,n=!1){ke(t)&&_i(t,(s,i)=>{if(Eb.has(s))return;let o=e[s];o!==i&&(n&&o==null&&i!=null&&typeof i=="object"&&i.constructor===Object&&(o={},e[s]=o),$x(i)&&$x(o)&&!Array.isArray(o)?rs(o,i,r,n):(r||i!==void 0)&&(e[s]=i))})}function Pf(e,t,r){if(!t||!e)return;if(!r)return e[t];const n=t.split(".");let s=e;for(let i=0;i<n.length;i++){if(s==null)return;s=s[n[i]]}return s}function $x(e){return typeof e=="object"&&e!==null}var Gee={resizable:!0,sortable:!0},Hee=0;function M3(){return Hee++}function xl(e){return e instanceof bb}var bb=class extends be{constructor(e,t,r,n){super(),this.isColumn=!0,this.instanceId=M3(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new ih,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=r,this.primary=n,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=e.sortIndex,r=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):r!==null&&(this.sortIndex=r);const n=e.hide,s=e.initialHide;n!==void 0?this.visible=!n:this.visible=!s,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const i=e.flex,o=e.initialFlex;i!==void 0?this.flex=i:o!==void 0&&(this.flex=o)}setColDef(e,t,r){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",r))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=ke(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=ke(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=ke(this.colDef.tooltipField)||ke(this.colDef.tooltipValueGetter)||ke(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const r=Rc(e.width),n=Rc(e.initialWidth);return r!=null?t=r:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(Gt(this.colDef)||Gt(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===e;return t||r}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){var n;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new xb(this.frameworkOverrides));const r=((n=this.frameworkEventListenerService)==null?void 0:n.wrap(t))??t;this.columnEventService.addEventListener(e,r)}removeEventListener(e,t){var n;const r=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(t))??t;this.columnEventService.removeEventListener(e,r)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),r=this.colDef.suppressNavigable;return r(t)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&typeof t!="string"){const r=Op(this)&&Vd(t);return this.isColumnFunc(e,r)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Gee[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const r=this.createColumnFunctionCallbackParams(e);return t(r)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Gt(this.sort)}isSorting(){return ke(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,r){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const n=this.createColumnEvent("filterChanged",t);r&&rs(n,r),this.columnEventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const r=e===!0;this.visible!==r&&(this.visible=r,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let r=!0;for(;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:r}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Gt(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.colSpan(t);return Math.max(r,1)}getRowSpan(e){if(Gt(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.rowSpan(t);return Math.max(r,1)}setActualWidth(e,t,r=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},Vee={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Wee=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Lx(e);let r=0;for(;;){let n;if(e?(n=e,r!==0&&(n+="_"+r)):t?(n=t,r!==0&&(n+="_"+r)):n=r,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);r++}}},$ee=class extends be{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,r,n){const s=new Wee,{existingCols:i,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(r);s.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,i,s,o,n),u=this.findMaxDept(l,0),h=this.balanceColumnTree(l,0,u,s);return ca(null,h,(g,C)=>{qn(g)&&g.setupExpandable(),g.setOriginalParent(C)}),{columnTree:h,treeDept:u}}extractExistingTreeData(e){const t=[],r=[],n=[];return e&&ca(null,e,s=>{if(qn(s)){const i=s;r.push(i)}else{const i=s;n.push(i.getId()),t.push(i)}}),{existingCols:t,existingGroups:r,existingColKeys:n}}balanceTreeForAutoCols(e,t){const r=[],n=this.findDepth(t);return e.forEach(s=>{let i=s;for(let o=n-1;o>=0;o--){const a=new dv(null,`FAKE_PATH_${s.getId()}}_${o}`,!0,o);this.createBean(a),a.setChildren([i]),i.setOriginalParent(a),i=a}n===0&&s.setOriginalParent(null),r.push(i)}),[r,n]}findDepth(e){let t=0,r=e;for(;r&&r[0]&&qn(r[0]);)t++,r=r[0].getChildren();return t}balanceColumnTree(e,t,r,n){const s=[];for(let i=0;i<e.length;i++){const o=e[i];if(qn(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,r,n);a.setChildren(l),s.push(a)}else{let a,l;for(let u=r-1;u>=t;u--){const h=n.getUniqueKey(null,null),p=this.createMergedColGroupDef(null),g=new dv(p,h,!0,t);this.createBean(g),l&&l.setChildren([g]),l=g,a||(a=l)}if(a&&l)if(s.push(a),e.some(h=>qn(h))){l.setChildren([o]);continue}else{l.setChildren(e);break}s.push(o)}}return s}findMaxDept(e,t){let r=t;for(let n=0;n<e.length;n++){const s=e[n];if(qn(s)){const i=s,o=this.findMaxDept(i.getChildren(),t+1);r<o&&(r=o)}}return r}recursivelyCreateColumns(e,t,r,n,s,i,o){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const u=e[l];this.isColumnGroup(u)?a[l]=this.createColumnGroup(r,u,t,n,s,i,o):a[l]=this.createColumn(r,u,n,s,o)}return a}createColumnGroup(e,t,r,n,s,i,o){const a=this.createMergedColGroupDef(t),l=s.getUniqueKey(a.groupId||null,null),u=new dv(a,l,!1,r);this.createBean(u);const h=this.findExistingGroup(t,i);h&&i.splice(h.idx,1);const p=h==null?void 0:h.group;p&&u.setExpanded(p.isExpanded());const g=this.recursivelyCreateColumns(a.children,r+1,e,n,s,i,o);return u.setChildren(g),u}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,r,n,s){var a;const i=this.findExistingColumn(t,r);i&&(r==null||r.splice(i.idx,1));let o=i==null?void 0:i.column;if(o){const l=this.addColumnDefaultAndTypes(t,o.getColId());o.setColDef(l,t,s),this.applyColumnState(o,l,s)}else{const l=n.getUniqueKey(t.colId,t.field),u=this.addColumnDefaultAndTypes(t,l);o=new bb(u,t,l,e),this.createBean(o)}return(a=this.dataTypeService)==null||a.addColumnListeners(o),o}applyColumnState(e,t,r){const n=Rc(t.flex);if(n!==void 0&&e.setFlex(n),e.getFlex()<=0){const a=Rc(t.width);if(a!=null)e.setActualWidth(a,r);else{const l=e.getActualWidth();e.setActualWidth(l,r)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,r):e.setSort(void 0,r));const i=Rc(t.sortIndex);i!==void 0&&e.setSortIndex(i);const o=kx(t.hide);o!==void 0&&e.setVisible(!o,r),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let r=0;r<t.length;r++){const n=t[r].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[r].getId()===e.colId)return{idx:r,column:t[r]};continue}if(e.field!=null){if(n.field===e.field)return{idx:r,column:t[r]};continue}if(n===e)return{idx:r,column:t[r]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const s=t[n];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:n,group:s}}}addColumnDefaultAndTypes(e,t){var a;const r={},n=this.gos.get("defaultColDef");rs(r,n,!1,!0);const s=this.updateColDefAndGetColumnType(r,e,t);s&&this.assignColumnTypes(s,r),rs(r,e,!1,!0);const i=this.gos.get("autoGroupColumnDef"),o=co(this.gos);return e.rowGroup&&i&&o&&rs(r,{sort:i.sort,initialSort:i.initialSort},!1,!0),(a=this.dataTypeService)==null||a.validateColDef(r),r}updateColDefAndGetColumnType(e,t,r){var i;const n=(i=this.dataTypeService)==null?void 0:i.updateColDefAndGetColumnType(e,t,r),s=t.type??n??e.type;return e.type=s,s?hv(s):void 0}assignColumnTypes(e,t){if(!e.length)return;const r=Object.assign({},Vee),n=this.gos.get("columnTypes")||{};_i(n,(s,i)=>{s in r?Pe(`the column type '${s}' is a default column type and cannot be overridden.`):(i.type&&Pe("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),r[s]=i)}),e.forEach(s=>{const i=r[s.trim()];i?rs(t,i,!1,!0):Pe("colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function ca(e,t,r){if(t)for(let n=0;n<t.length;n++){const s=t[n];qn(s)&&ca(s,s.getChildren(),r),r(s,e)}}var Uee=class extends be{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(lc(t.source))),this.addManagedPropertyListener("rowSelection",t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,lc(t.source))}),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(lc(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(lc(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),lc(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){var u,h,p;const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const r=(u=this.colDefCols)==null?void 0:u.list,n=(h=this.colDefCols)==null?void 0:h.tree,s=this.columnFactory.createColumnTree(this.colDefs,!0,n,e);Xa(this.context,(p=this.colDefCols)==null?void 0:p.tree,s.columnTree);const i=s.columnTree,o=s.treeDept,a=Sb(i),l={};a.forEach(g=>l[g.getId()]=g),this.colDefCols={tree:i,treeDepth:o,list:a,map:l},this.funcColsService.extractCols(e,r),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){var s,i,o;if(!this.colDefCols)return;const t=(s=this.cols)==null?void 0:s.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const r=See(this.gos,this.showingPivotResult);(!e||r)&&this.restoreColOrder(),this.positionLockedCols(),(i=this.showRowGroupColsService)==null||i.refresh(),(o=this.quickFilterService)==null||o.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Nl(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){const{map:t,list:r,tree:n,treeDepth:s}=e;this.cols={list:r.slice(),map:{...t},tree:n.slice(),treeDepth:s},e.list.some(o=>{var a;return((a=this.cols)==null?void 0:a.map[o.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:t,list:r,tree:n,treeDepth:s}=this.colDefCols;this.cols={list:r.slice(),map:{...t},tree:n.slice(),treeDepth:s}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter(n=>{const s=Hx(n);if(e){const i=t&&Fc(t,n);return s||i}else return s||n.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),H2(this.cols))}createAutoCols(){var w;const e=Y0(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),r=this.funcColsService.getRowGroupColumns(),s=!(r.length>0||this.gos.get("treeData"))||t||e,i=()=>{this.autoCols&&(Xa(this.context,this.autoCols.tree),this.autoCols=null)};if(s||!this.autoColService){i();return}const o=this.autoColService.createAutoCols(r)??[],a=W2(o,((w=this.autoCols)==null?void 0:w.list)||null),l=this.cols.treeDepth,h=(this.autoCols?this.autoCols.treeDepth:-1)==l;if(a&&h)return;i();const[p,g]=this.columnFactory.balanceTreeForAutoCols(o,this.cols.tree);this.autoCols={list:o,tree:p,treeDepth:g,map:{}};const C=y=>{if(!y)return null;const S=y.filter(E=>!Hx(E));return[...o,...S]};this.lastOrder=C(this.lastOrder),this.lastPivotOrder=C(this.lastPivotOrder)}createControlsCols(){var u,h,p;const e=()=>{var g;Xa(this.context,(g=this.controlsCols)==null?void 0:g.tree),this.controlsCols=null};this.controlsColService||e();const t=this.cols.treeDepth,n=(((u=this.controlsCols)==null?void 0:u.treeDepth)??-1)==t,s=((h=this.controlsColService)==null?void 0:h.createControlsCols())??[];if(W2(s,((p=this.controlsCols)==null?void 0:p.list)??[])&&n)return;e();const[o,a]=this.columnFactory.balanceTreeForAutoCols(s,this.cols.tree);this.controlsCols={list:s,tree:o,treeDepth:a,map:{}};const l=g=>{if(!g)return null;const C=g.filter(w=>!Op(w));return[...s,...C]};this.lastOrder=l(this.lastOrder),this.lastPivotOrder=l(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),H2(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,r){this.columnApplyStateService.applyColumnState({state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},r)}setColsPinned(e,t,r){if(!this.cols||Ks(e))return;if(Sn(this.gos,"print")){Pe("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let n;t===!0||t==="left"?n="left":t==="right"?n="right":n=null;const s=[];e.forEach(i=>{if(!i)return;const o=this.getCol(i);o&&o.getPinned()!==n&&(o.setPinned(n),s.push(o))}),s.length&&(this.visibleColsService.refresh(r),this.eventDispatcher.columnPinned(s,r)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,r){let n;qn(e)?n=e.getId():n=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:n,open:t}],r)}getProvidedColGroup(e){var r;let t=null;return ca(null,(r=this.cols)==null?void 0:r.tree,n=>{qn(n)&&n.getId()===e&&(t=n)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const n=this.funcColsService.getRowGroupColumns().findIndex(s=>s.getColId()===e.getColId());return t>n}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,Er(this.gos)||bo(this.gos)||Pe("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((l,u)=>[l,u]));if(!this.cols.list.some(l=>t.has(l)))return;const n=new Map(this.cols.list.map(l=>[l,!0])),s=e.filter(l=>n.has(l)),i=new Map(s.map(l=>[l,!0])),o=this.cols.list.filter(l=>!i.has(l)),a=s.slice();o.forEach(l=>{let u=l.getOriginalParent();if(!u){a.push(l);return}const h=[];for(;!h.length&&u;)u.getLeafColumns().forEach(w=>{const y=a.indexOf(w)>=0,S=h.indexOf(w)<0;y&&S&&h.push(w)}),u=u.getOriginalParent();if(!h.length){a.push(l);return}const p=h.map(C=>a.indexOf(C)),g=Math.max(...p);Wv(a,l,g+1)}),this.cols.list=a}sortColsLikeKeys(e){if(this.cols==null)return;let t=[];const r={};e.forEach(s=>{if(r[s])return;const i=this.cols.map[s];i&&(t.push(i),r[s]=!0)});let n=0;if(this.cols.list.forEach(s=>{const i=s.getColId();if(r[i]!=null)return;i.startsWith(X0)?Wv(t,s,n++):t.push(s)}),t=this.columnMoveService.placeLockedColumns(t),!this.columnMoveService.doesMovePassMarryChildren(t)){Pe("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=t}sortColsLikeCols(e){!e||e.length<=1||e.filter(r=>this.cols.list.indexOf(r)<0).length>0||e.sort((r,n)=>{const s=this.cols.list.indexOf(r),i=this.cols.list.indexOf(n);return s-i})}resetColDefIntoCol(e,t){const r=e.getUserProvidedColDef();if(!r)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(r,e.getColId());return e.setColDef(n,r,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,r){var n;T3((n=this.cols)==null?void 0:n.list,e,t),this.visibleColsService.refresh(r)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=(e=this.cols)==null?void 0:e.list:this.lastOrder=(t=this.cols)==null?void 0:t.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((n,s)=>this.lastOrder.indexOf(n)-this.lastOrder.indexOf(s)):this.lastOrder&&e.sort((n,s)=>this.cols.list.indexOf(n)-this.cols.list.indexOf(s));const t=this.funcColsService.getRowGroupColumns(),r=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,r)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var e;return((e=this.colDefCols)==null?void 0:e.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(Pe("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!Ks(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e,t,r;Xa(this.context,(e=this.colDefCols)==null?void 0:e.tree),Xa(this.context,(t=this.autoCols)==null?void 0:t.tree),Xa(this.context,(r=this.controlsCols)==null?void 0:r.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var e;return(e=this.colDefCols)!=null&&e.list?this.colDefCols.list:null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var r,n,s;const e=this.pivotResultColsService.getPivotResultCols(),t=e==null?void 0:e.list;return[((r=this.colDefCols)==null?void 0:r.list)??[],((n=this.autoCols)==null?void 0:n.list)??[],((s=this.controlsCols)==null?void 0:s.list)??[],t??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;const{map:r,list:n}=t;if(typeof e=="string"&&r[e])return r[e];for(let s=0;s<n.length;s++)if(V2(n[s],e))return n[s];return this.getAutoCol(e)}getAutoCol(e){var t;return((t=this.autoCols)==null?void 0:t.list.find(r=>V2(r,e)))??null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const r of t){if(!r)continue;const n=r.getGroupRowCount()||0;for(let s=0;s<n;s++){const i=r.getGroupRowCtrlAtIndex(s),o=e[s];if(i){const a=this.getColumnGroupHeaderRowHeight(i);(o==null||a>o)&&(e[s]=a)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let r=0;const n=e.getHeaderCtrls();for(const s of n){const i=s.getColumn();if(i.isAutoHeaderHeight()){const o=i.getAutoHeaderHeight();o!=null&&o>r&&(r=o)}}return Math.max(t,r)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),r=this.visibleColsService.getAllCols().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(e,...r)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:r}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:r,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",r)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,r){const n=t&&typeof t!="string"?Vd(t):void 0,s=e&&typeof e!="string"?Vd(e):void 0,i=n!==s,o=t&&typeof t!="string"?Hv(t):void 0,a=e&&typeof e!="string"?Hv(e):void 0;(i||o!==a)&&this.refreshAll(r)}};function lc(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function H2(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function V2(e,t){const r=e===t,n=e.getColDef()===t,s=e.getColId()==t;return r||n||s}function W2(e,t){return Nl(e,t,(r,n)=>r.getColId()===n.getColId())}var zee=class extends be{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:r,skipHeaderGroups:n,stopAtGroup:s,source:i="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;const o=[];let a=-1;const l=r??this.gos.get("skipHeaderOnAutoSize"),u=n??l;for(;a!==0;){a=0;const h=[];t.forEach(p=>{if(!p)return;const g=this.columnModel.getCol(p);if(!g||o.indexOf(g)>=0)return;const C=this.autoWidthCalculator.getPreferredWidthForColumn(g,l);if(C>0){const w=this.normaliseColumnWidth(g,C);g.setActualWidth(w,i),o.push(g),a++}h.push(g)}),h.length&&this.visibleColsService.refresh(i)}u||this.autoSizeColumnGroupsByColumns(t,i,s),this.eventDispatcher.columnResized(o,!0,"autosizeColumns")}autoSizeColumn(e,t,r){e&&this.autoSizeCols({colKeys:[e],skipHeader:r,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,r){const n=new Set;this.columnModel.getColsForKeys(e).forEach(a=>{let l=a.getParent();for(;l&&l!=r;)l.isPadding()||n.add(l),l=l.getParent()});let i;const o=[];for(const a of n){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(i=l.getHeaderCtrlForColumn(a),i)break;i&&i.resizeLeafColumnsToFit(t)}return o}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const r=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:r,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const r=e.getMinWidth();t<r&&(t=r);const n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}},Kee=class extends be{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>is(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>is(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>is(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupCols.slice(0);const r=this.columnModel.getColDefCol(t);return r?[r]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return Ks(this.rowGroupCols)}setColumnAggFunc(e,t,r){if(!e)return;const n=this.columnModel.getColDefCol(e);n&&(n.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[n],r))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(r,n)=>this.setRowGroupActive(r,n,t),t)}setRowGroupActive(e,t,r){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,r),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,r),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,r))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,r=>this.setRowGroupActive(!0,r,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,r=>this.setRowGroupActive(!1,r,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,r=>r.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(r,n)=>{n.setPivotActive(r,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,r=>r.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(r,n)=>this.setValueActive(r,n,t),t)}setValueActive(e,t,r){if(e!==t.isValueActive()&&(t.setValueActive(e,r),e&&!t.getAggFunc()&&this.aggFuncService)){const n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,r=>this.setValueActive(!0,r,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,r=>this.setValueActive(!1,r,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,r){if(this.isRowGroupEmpty())return;const n=this.rowGroupCols[e],s=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,n),this.eventDispatcher.rowGroupChanged(s,r)}setColList(e,t,r,n,s,i,o){if(!this.columnModel.getCols())return;const a=new Map;t.forEach((u,h)=>a.set(u,h)),t.length=0,ke(e)&&e.forEach(u=>{const h=this.columnModel.getColDefCol(u);h&&t.push(h)}),t.forEach((u,h)=>{const p=a.get(u);if(p===void 0){a.set(u,0);return}n&&p!==h||a.delete(u)}),(this.columnModel.getColDefCols()||[]).forEach(u=>{const h=t.indexOf(u)>=0;i(h,u)}),s&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.columnChanged(r,[...a.keys()],o)}updateColList(e,t,r,n,s,i,o){if(!e||Ks(e))return;let a=!1;const l=new Set;e.forEach(u=>{if(!u)return;const h=this.columnModel.getColDefCol(u);if(h){if(l.add(h),r){if(t.indexOf(h)>=0)return;t.push(h)}else{const p=t.indexOf(h);if(p<0)return;for(let g=p+1;g<t.length;g++)l.add(t[g]);is(t,h)}s(h),a=!0}}),a&&(n&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.genericColumnEvent(i,Array.from(l),o))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(r,n)=>r.setValueActive(n,e),()=>{},()=>{},r=>{const n=r.aggFunc;if(n===null||n==="")return null;if(n!==void 0)return!!n},r=>r.initialAggFunc!=null&&r.initialAggFunc!=""),this.valueCols.forEach(r=>{const n=r.getColDef();n.aggFunc!=null&&n.aggFunc!=""?r.setAggFunc(n.aggFunc):r.getAggFunc()||r.setAggFunc(n.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(r,n)=>r.setRowGroupActive(n,e),r=>r.rowGroupIndex,r=>r.initialRowGroupIndex,r=>r.rowGroup,r=>r.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(r,n)=>r.setPivotActive(n,e),r=>r.pivotIndex,r=>r.initialPivotIndex,r=>r.pivot,r=>r.initialPivot)}extractColsCommon(e=[],t=[],r,n,s,i,o){const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(g=>{const C=e.indexOf(g)<0,w=g.getColDef(),y=kx(i(w)),S=kx(o(w)),E=Rc(n(w)),b=Rc(s(w));let T;y!==void 0?T=y:E!==void 0?E===null?T=!1:T=E>=0:C?S!==void 0?T=S:b!==void 0?T=b!=null&&b>=0:T=!1:T=t.indexOf(g)>=0,T&&((C?E!=null||b!=null:E!=null)?a.push(g):l.push(g))});const h=g=>{const C=n(g.getColDef()),w=s(g.getColDef());return C??w};a.sort((g,C)=>{const w=h(g),y=h(C);return w===y?0:w<y?-1:1});const p=[].concat(a);return t.forEach(g=>{l.indexOf(g)>=0&&p.push(g)}),l.forEach(g=>{p.indexOf(g)<0&&p.push(g)}),t.forEach(g=>{p.indexOf(g)<0&&r(g,!1)}),p.forEach(g=>{t.indexOf(g)<0&&r(g,!0)}),p}generateColumnStateForRowGroupAndPivotIndexes(e,t){const r={},n=(s,i,o,a,l,u)=>{const h=this.columnModel.getColDefCols();if(!i.length||!h)return[];const p=Object.keys(s),g=new Set(p),C=new Set(p),w=new Set(i.map(M=>{const D=M.getColId();return C.delete(D),D}).concat(p)),y=[],S={};let E=0;for(let M=0;M<h.length;M++){const D=h[M].getColId();w.has(D)&&(y.push(D),S[D]=E++)}let b=1e3,T=!1,R=0;const P=M=>{const D=S[M];for(let N=R;N<D;N++){const O=y[N];C.has(O)&&(s[O][l]=b++,C.delete(O))}R=D};i.forEach(M=>{const D=M.getColId();if(g.has(D))P(D),s[D][l]=b++;else{const N=M.getColDef();(N[l]===null||N[l]===void 0&&N[u]==null)&&(T||(N[o]||N[o]===void 0&&N[a]?P(D):(C.forEach(W=>{s[W][l]=b+S[W]}),b+=y.length,T=!0)),r[D]||(r[D]={colId:D}),r[D][l]=b++)}})};return n(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(r)}},qee=class extends be{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const r=this.columnModel.getColDefCols()||[];if(Ks(r))return!1;if(e&&e.state&&!e.state.forEach)return Pe("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=this.funcColsService.getModifyColumnsNoEventsCallbacks(),s=(a,l,u)=>{const h=this.compareColumnStatesAndDispatchEvents(t),p=l.slice(),g={},C={},w=[],y=[];let S=0;const E=this.funcColsService.getRowGroupColumns().slice(),b=this.funcColsService.getPivotColumns().slice();a.forEach(M=>{const D=M.colId||"";if(D.startsWith(X0)){w.push(M),y.push(M);return}const O=u(D);O?(this.syncColumnWithStateItem(O,M,e.defaultState,g,C,!1,t,n),is(p,O)):(y.push(M),S+=1)});const T=M=>this.syncColumnWithStateItem(M,null,e.defaultState,g,C,!1,t,n);p.forEach(T),this.funcColsService.sortRowGroupColumns($2.bind(this,g,E)),this.funcColsService.sortPivotColumns($2.bind(this,C,b)),this.columnModel.refreshCols(!1);const P=(this.columnModel.getAutoCols()||[]).slice();return w.forEach(M=>{const D=this.columnModel.getAutoCol(M.colId);is(P,D),this.syncColumnWithStateItem(D,M,e.defaultState,null,null,!0,t,n)}),P.forEach(T),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),h(),{unmatchedAndAutoStates:y,unmatchedCount:S}};this.columnAnimationService.start();let{unmatchedAndAutoStates:i,unmatchedCount:o}=s(e.state||[],r,a=>this.columnModel.getColDefCol(a));if(i.length>0||ke(e.defaultState)){const a=this.pivotResultColsService.getPivotResultCols(),l=a==null?void 0:a.list;o=s(i,l||[],u=>this.pivotResultColsService.getPivotResultCol(u)).unmatchedCount}return this.columnAnimationService.finish(),o===0}resetColumnState(e){const t=this.columnModel.getColDefCols();if(Ks(t))return;const r=this.columnModel.getColDefColTree(),n=Sb(r),s=[];let i=1e3,o=1e3,a=[];const l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),n&&(a=a.concat(n)),a.forEach(u=>{const h=this.getColumnStateFromColDef(u);Gt(h.rowGroupIndex)&&h.rowGroup&&(h.rowGroupIndex=i++),Gt(h.pivotIndex)&&h.pivot&&(h.pivotIndex=o++),s.push(h)}),this.applyColumnState({state:s,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(w,y)=>w??y??null,r=e.getColDef(),n=t(r.sort,r.initialSort),s=t(r.sortIndex,r.initialSortIndex),i=t(r.hide,r.initialHide),o=t(r.pinned,r.initialPinned),a=t(r.width,r.initialWidth),l=t(r.flex,r.initialFlex);let u=t(r.rowGroupIndex,r.initialRowGroupIndex),h=t(r.rowGroup,r.initialRowGroup);u==null&&(h==null||h==!1)&&(u=null,h=null);let p=t(r.pivotIndex,r.initialPivotIndex),g=t(r.pivot,r.initialPivot);p==null&&(g==null||g==!1)&&(p=null,g=null);const C=t(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:s,hide:i,pinned:o,width:a,flex:l,rowGroup:h,rowGroupIndex:u,pivot:g,pivotIndex:p,aggFunc:C}}syncColumnWithStateItem(e,t,r,n,s,i,o,a){if(!e)return;const l=(R,P)=>{const M={value1:void 0,value2:void 0};let D=!1;return t&&(t[R]!==void 0&&(M.value1=t[R],D=!0),ke(P)&&t[P]!==void 0&&(M.value2=t[P],D=!0)),!D&&r&&(r[R]!==void 0&&(M.value1=r[R]),ke(P)&&r[P]!==void 0&&(M.value2=r[P])),M},u=l("hide").value1;u!==void 0&&e.setVisible(!u,o);const h=l("pinned").value1;h!==void 0&&e.setPinned(h);const p=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),g=l("flex").value1;if(g!==void 0&&e.setFlex(g),g==null){const R=l("width").value1;R!=null&&p!=null&&R>=p&&e.setActualWidth(R,o)}const C=l("sort").value1;C!==void 0&&(C==="desc"||C==="asc"?e.setSort(C,o):e.setSort(void 0,o));const w=l("sortIndex").value1;if(w!==void 0&&e.setSortIndex(w),i||!e.isPrimary())return;const y=l("aggFunc").value1;y!==void 0&&(typeof y=="string"?(e.setAggFunc(y),e.isValueActive()||(e.setValueActive(!0,o),a.addValueCol(e))):(ke(y)&&Pe("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,o),a.removeValueCol(e))));const{value1:S,value2:E}=l("rowGroup","rowGroupIndex");(S!==void 0||E!==void 0)&&(typeof E=="number"||S?(e.isRowGroupActive()||(e.setRowGroupActive(!0,o),a.addGroupCol(e)),n&&typeof E=="number"&&(n[e.getId()]=E)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,o),a.removeGroupCol(e)));const{value1:b,value2:T}=l("pivot","pivotIndex");(b!==void 0||T!==void 0)&&(typeof T=="number"||b?(e.isPivotActive()||(e.setPivotActive(!0,o),a.addPivotCol(e)),s&&typeof T=="number"&&(s[e.getId()]=T)):e.isPivotActive()&&(e.setPivotActive(!1,o),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(r=>{r.colId!=null&&t.push(r.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},r=this.columnGetStateService.getColumnState(),n={};return r.forEach(s=>{n[s.colId]=s}),()=>{const s=this.columnModel.getAllCols(),i=(y,S,E,b)=>{const T=S.map(b),R=E.map(b);if(Nl(T,R))return;const M=new Set(S);E.forEach(N=>{M.delete(N)||M.add(N)});const D=[...M];this.eventService.dispatchEvent({type:y,columns:D,column:D.length===1?D[0]:null,source:e})},o=y=>{const S=[];return s.forEach(E=>{const b=n[E.getColId()];b&&y(b,E)&&S.push(E)}),S},a=y=>y.getColId();i("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),i("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const u=o((y,S)=>{const E=y.aggFunc!=null,b=E!=S.isValueActive(),T=E&&y.aggFunc!=S.getAggFunc();return b||T});u.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",u,e);const h=(y,S)=>y.width!=S.getActualWidth();this.eventDispatcher.columnResized(o(h),!0,e);const p=(y,S)=>y.pinned!=S.getPinned();this.eventDispatcher.columnPinned(o(p),e);const g=(y,S)=>y.hide==S.isVisible();this.eventDispatcher.columnVisible(o(g),e);const w=o((y,S)=>y.sort!=S.getSort()||y.sortIndex!=S.getSortIndex());w.length>0&&this.sortController.dispatchSortChangedEvents(e,w),this.normaliseColumnMovedEventForColumnState(r,e)}}normaliseColumnMovedEventForColumnState(e,t){const r=this.columnGetStateService.getColumnState(),n={};r.forEach(l=>n[l.colId]=l);const s={};e.forEach(l=>{n[l.colId]&&(s[l.colId]=!0)});const i=e.filter(l=>s[l.colId]),o=r.filter(l=>s[l.colId]),a=[];o.forEach((l,u)=>{const h=i&&i[u];if(h&&h.colId!==l.colId){const p=this.columnModel.getCol(h.colId);p&&a.push(p)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},$2=(e,t,r,n)=>{const s=e[r.getId()],i=e[n.getId()],o=s!=null,a=i!=null;if(o&&a)return s-i;if(o)return-1;if(a)return 1;const l=t.indexOf(r),u=t.indexOf(n),h=l>=0,p=u>=0;return h&&p?l-u:h?-1:1},Yee=class extends be{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,r){const n=this.columnModel.getCols();if(!n)return;const s=n[e];this.moveColumns([s],t,r)}moveColumns(e,t,r,n=!0){const s=this.columnModel.getCols();if(!s)return;if(t>s.length-e.length){Pe("tried to insert columns in invalid location, toIndex = ",t),Pe("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const i=this.columnModel.getColsForKeys(e);this.doesMovePassRules(i,t)&&(this.columnModel.moveInCols(i,t,r),this.eventDispatcher.columnMoved({movedColumns:i,source:r,toIndex:t,finished:n})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const r=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(r)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const n=this.columnModel.getCols().slice();return T3(n,e,t),n}doesMovePassLockedPositions(e){const t=i=>i?i==="left"||i===!0?-1:1:0,r=this.gos.get("enableRtl");let n=r?1:-1,s=!0;return e.forEach(i=>{const o=t(i.getColDef().lockPosition);r?o>n&&(s=!1):o<n&&(s=!1),n=o}),s}doesMovePassMarryChildren(e){let t=!0;const r=this.columnModel.getColTree();return ca(null,r,n=>{if(!qn(n))return;const s=n,i=s.getColGroupDef();if(!(i&&i.marryChildren))return;const a=[];s.getLeafColumns().forEach(g=>{const C=e.indexOf(g);a.push(C)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),h=l-u,p=s.getLeafColumns().length-1;h>p&&(t=!1)}),t}placeLockedColumns(e){const t=[],r=[],n=[];return e.forEach(i=>{const o=i.getColDef().lockPosition;o==="right"?n.push(i):o==="left"||o===!0?t.push(i):r.push(i)}),this.gos.get("enableRtl")?[...n,...r,...t]:[...t,...r,...n]}},Xee=/[&<>"']/g,Qee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function go(e,t){if(e==null)return null;const r=e.toString().toString();return t?r:r.replace(Xee,n=>Qee[n])}function Jee(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,r=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(r,"$1 $2$3").replace(/\./g," ").split(" ").map(s=>s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")).join(" ")}var Zee=class extends be{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,r=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return r?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,r){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,r):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,r,n,s){const i=e.headerValueGetter;if(i){const o=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:r,providedColumnGroup:n,location:s});return typeof i=="function"?i(o):typeof i=="string"?this.expressionService.evaluate(i,o):(Pe("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return Jee(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const r=e.getColDef().pivotValueColumn,n=ke(r);let s=null,i;if(n){const o=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&o.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return t;s=r?r.getAggFunc():null,i=!0}else{const o=e.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();o&&a?(s=e.getAggFunc(),i=!0):i=!1}if(i){const o=typeof s=="string"?s:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${t})`}return t}},ete=class extends be{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){var e;Xa(this.context,(e=this.pivotResultCols)==null?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;const r=this.columnModel.getColDefCol(t);let n=null;return this.pivotResultCols.list.forEach(s=>{const i=s.getColDef().pivotKeys,o=s.getColDef().pivotValueColumn;Nl(i,e)&&o===r&&(n=s)}),n}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){var r,n;if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const s=this.columnFactory.createColumnTree(e,!1,((r=this.pivotResultCols)==null?void 0:r.tree)||this.previousPivotResultCols||void 0,t);Xa(this.context,(n=this.pivotResultCols)==null?void 0:n.tree,s.columnTree);const i=s.columnTree,o=s.treeDept,a=Sb(i),l={};this.pivotResultCols={tree:i,treeDepth:o,list:a,map:l},this.pivotResultCols.list.forEach(h=>this.pivotResultCols.map[h.getId()]=h);const u=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!u)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),r=this.gos.get("processPivotResultColGroupDef");if(!t&&!r)return;const n=s=>{s.forEach(i=>{if(ke(i.children)){const a=i;r&&r(a),n(a.children)}else t&&t(i)})};e&&n(e)}},tte=class extends be{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,r,n){const s=[];e.forEach(i=>{const o=this.columnModel.getColDefCol(i.key)||this.columnModel.getCol(i.key);if(!o)return;if(s.push({width:i.newWidth,ratios:[1],columns:[o]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){const l=this.visibleColsService.getColAfter(o);if(!l)return;const u=o.getActualWidth()-i.newWidth,h=l.getActualWidth()+u;s.push({width:h,ratios:[1],columns:[l]})}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:r,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:r,source:n}=e;if(!(!t||t.every(h=>this.checkMinAndMaxWidthsForSet(h)))){if(r){const h=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(h,r,n)}return}const i=[],o=[];t.forEach(h=>{const{width:p,columns:g,ratios:C}=h,w={},y={};g.forEach(b=>o.push(b));let S=!0,E=0;for(;S;){if(E++,E>1e3){qt("infinite loop in resizeColumnSets");break}S=!1;const b=[];let T=0,R=p;g.forEach((M,D)=>{if(y[M.getId()])R-=w[M.getId()];else{b.push(M);const O=C[D];T+=O}});const P=1/T;b.forEach((M,D)=>{const N=D===b.length-1;let O;N?O=R:(O=Math.round(C[D]*p*P),R-=O);const j=M.getMinWidth(),W=M.getMaxWidth();O<j?(O=j,y[M.getId()]=!0,S=!0):W>0&&O>W&&(O=W,y[M.getId()]=!0,S=!0),w[M.getId()]=O})}g.forEach(b=>{const T=w[b.getId()];b.getActualWidth()!==T&&(b.setActualWidth(T,n),i.push(b))})});const a=i.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(n),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const u=o.concat(l);(a||r)&&this.eventDispatcher.columnResized(u,r,n,l)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:r}=e;let n=0,s=0,i=!0;t.forEach(l=>{const u=l.getMinWidth();n+=u||0;const h=l.getMaxWidth();h>0?s+=h:i=!1});const o=r>=n,a=!i||r<=s;return o&&a}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const r=this.visibleColsService.getCenterCols();let n=-1;if(e.resizingCols){const g=new Set(e.resizingCols);for(let C=r.length-1;C>=0;C--)if(g.has(r[C])){n=C;break}}let s=0,i=[],o=0,a=0;for(let g=0;g<r.length;g++)r[g].getFlex()&&g>n?(i.push(r[g]),a+=r[g].getFlex(),o+=r[g].getMinWidth()):s+=r[g].getActualWidth();if(!i.length)return[];let l=[];s+o>this.flexViewportWidth&&(i.forEach(g=>g.setActualWidth(g.getMinWidth(),t)),l=i,i=[]);const u=[];let h;e:for(;;){h=this.flexViewportWidth-s;const g=h/a;for(let C=0;C<i.length;C++){const w=i[C],y=g*w.getFlex();let S=0;const E=w.getMinWidth(),b=w.getMaxWidth();if(y<E?S=E:y>b&&(S=b),S){w.setActualWidth(S,t),R3(i,w),a-=w.getFlex(),l.push(w),s+=w.getActualWidth();continue e}u[C]=Math.floor(y)}break}let p=h;return i.forEach((g,C)=>{const w=C<i.length-1?Math.min(u[C],p):Math.max(u[C],p);g.setActualWidth(w,t),l.push(g),p-=u[C]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,i),i}sizeColumnsToFit(e,t="sizeColumnsToFit",r,n){var g;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,r,n));return}const s={};n&&((g=n==null?void 0:n.columnLimits)==null||g.forEach(({key:C,...w})=>{s[typeof C=="string"?C:C.getColId()]=w}));const i=this.visibleColsService.getAllCols(),o=e===$o(i);if(e<=0||!i.length||o)return;const a=[],l=[];i.forEach(C=>{C.getColDef().suppressSizeToFit===!0?l.push(C):a.push(C)});const u=a.slice(0);let h=!1;const p=C=>{is(a,C),l.push(C)};for(a.forEach(C=>{C.resetActualWidth(t);const w=s==null?void 0:s[C.getId()],y=(w==null?void 0:w.minWidth)??(n==null?void 0:n.defaultMinWidth),S=(w==null?void 0:w.maxWidth)??(n==null?void 0:n.defaultMaxWidth),E=C.getActualWidth();typeof y=="number"&&E<y?C.setActualWidth(y,t,!0):typeof S=="number"&&E>S&&C.setActualWidth(S,t,!0)});!h;){h=!0;const C=e-$o(l);if(C<=0)a.forEach(w=>{var S;const y=((S=s==null?void 0:s[w.getId()])==null?void 0:S.minWidth)??(n==null?void 0:n.defaultMinWidth);if(typeof y=="number"){w.setActualWidth(y,t,!0);return}w.setMinimum(t)});else{const w=C/$o(a);let y=C;for(let S=a.length-1;S>=0;S--){const E=a[S],b=s==null?void 0:s[E.getId()],T=(b==null?void 0:b.minWidth)??(n==null?void 0:n.defaultMinWidth),R=(b==null?void 0:b.maxWidth)??(n==null?void 0:n.defaultMaxWidth),P=E.getMinWidth(),M=E.getMaxWidth(),D=typeof T=="number"&&T>P?T:P,N=typeof R=="number"&&R<M?R:M;let O=Math.round(E.getActualWidth()*w);O<D?(O=D,p(E),h=!1):O>N?(O=N,p(E),h=!1):S===0&&(O=y),E.setActualWidth(O,t,!0),y-=O}}}u.forEach(C=>{C.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!r&&this.eventDispatcher.columnResized(u,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:r,defaultMinWidth:n,defaultMaxWidth:s}=e,i=r==null?void 0:r.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:s,columnLimits:i})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function N3(e,t){return e+"_"+t}function Kr(e){return e instanceof I3}var I3=class extends be{constructor(e,t,r,n){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=r,this.providedColumnGroup=e,this.pinned=n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return N3(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Kr(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Bt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{xl(t)?e.push(t):Kr(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{xl(t)?e.push(t):Kr(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(r=>{if(Kr(r)&&(!r.displayedChildren||!r.displayedChildren.length))return;switch(r.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(r);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(r);break;default:this.displayedChildren.push(r);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},O3=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let r;return typeof t!="number"?r=0:r=t+1,this.existingIds[e]=r,r}},rte=class extends be{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=zw(this.treeLeft),this.columnsCenter=zw(this.treeCenter),this.columnsRight=zw(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(r=>r.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=$o(this.columnsCenter),t=$o(this.columnsLeft),r=$o(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==r)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=r,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,r;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,r=this.columnsRight?Bt(this.columnsRight):null):(t=this.columnsLeft?Bt(this.columnsLeft):null,r=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===r,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(i=>i.getPinned()=="left"),r=e.filter(i=>i.getPinned()=="right"),n=e.filter(i=>i.getPinned()!="left"&&i.getPinned()!="right"),s=new O3;this.treeLeft=this.createGroups({columns:t,idCreator:s,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:r,idCreator:s,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:n,idCreator:s,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],r=[],n=[];for(const s of e){const i=s.getPinned();i?i===!0||i==="left"?t.push(s):n.push(s):r.push(s)}this.ariaOrderColumns=t.concat(r).concat(n)}getAriaColIndex(e){let t;return Kr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Kr(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const r=this.columnModel.getCols().slice(0),n=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(s=>{if(n){let i=$o(s);s.forEach(o=>{i-=o.getActualWidth(),o.setLeft(i,e)})}else{let i=0;s.forEach(o=>{o.setLeft(i,e),i+=o.getActualWidth()})}Mee(r,s)}),r.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,r,n){const s=[];let i=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,u=Math.min(a.getColSpan(e),l),h=[a];if(u>1){const g=u-1;for(let C=1;C<=g;C++)h.push(t[o+C]);o+=g}let p;r?(p=!1,h.forEach(g=>{r(g)&&(p=!0)})):p=!0,p&&(s.length===0&&i&&(n&&n(a))&&s.push(i),s.push(a)),i=a}return s}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),r=t.indexOf(e);return r>0?t[r-1]:null}getGroupAtDirection(e,t){const r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),s=t==="After"?Bt(n):n[0],i=`getCol${t}`;for(;;){const o=this[i](s);if(!o)return null;const a=this.getColGroupAtLevel(o,r);if(a!==e)return a}}getColGroupAtLevel(e,t){let r=e.getParent(),n,s;for(;n=r.getProvidedColumnGroup().getLevel(),s=r.getPaddingLevel(),!(n+s<=t);)r=r.getParent();return r}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};cc(this.treeCenter,!1,e),cc(this.treeLeft,!1,e),cc(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllTrees();cc(e,!1,t=>{Kr(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let r=0;r<t.length;r++){const n=this[t[r]]();if(n.length)return e?Bt(n):n[0]}return null}getColumnGroup(e,t){if(!e)return null;if(Kr(e))return e;const r=this.getAllTrees(),n=typeof t=="number";let s=null;return cc(r,!1,i=>{if(Kr(i)){const o=i;let a;n?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(s=o)}}),s}getColAfter(e){const t=this.getAllCols(),r=t.indexOf(e);return r<t.length-1?t[r+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return $o(this.columnsLeft)}getDisplayedColumnsRightWidth(){return $o(this.columnsRight)}isColAtEdge(e,t){const r=this.getAllCols();if(!r.length)return!1;const n=t==="first";let s;if(Kr(e)){const i=e.getDisplayedLeafColumns();if(!i.length)return!1;s=n?i[0]:Bt(i)}else s=e;return(n?r[0]:Bt(r))===s}createGroups(e){const{columns:t,idCreator:r,pinned:n,oldDisplayedGroups:s,isStandaloneStructure:i}=e,o=this.mapOldGroupsById(s),a=[];let l=t;for(;l.length;){const u=l;l=[];let h=0;const p=g=>{const C=h;h=g;const w=u[C],S=(Kr(w)?w.getProvidedColumnGroup():w).getOriginalParent();if(S==null){for(let b=C;b<g;b++)a.push(u[b]);return}const E=this.createColGroup(S,r,o,n,i);for(let b=C;b<g;b++)E.addChild(u[b]);l.push(E)};for(let g=1;g<u.length;g++){const C=u[g],y=(Kr(C)?C.getProvidedColumnGroup():C).getOriginalParent(),S=u[h],b=(Kr(S)?S.getProvidedColumnGroup():S).getOriginalParent();y!==b&&p(g)}h<u.length&&p(u.length)}return i||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,r,n,s){const i=e.getGroupId(),o=t.getInstanceIdForKey(i),a=N3(i,o);let l=r[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),ke(l)?l.reset():(l=new I3(e,i,o,n),s||this.createBean(l)),l}mapOldGroupsById(e){const t={},r=n=>{n.forEach(s=>{if(Kr(s)){const i=s;t[s.getUniqueId()]=i,r(i.getChildren())}})};return e&&r(e),t}setupParentsIntoCols(e,t){e.forEach(r=>{if(r.setParent(t),Kr(r)){const n=r;this.setupParentsIntoCols(n.getChildren(),n)}})}};function cc(e,t,r){if(e)for(let n=0;n<e.length;n++){const s=e[n];if(Kr(s)){const i=t?s.getDisplayedChildren():s.getChildren();cc(i,t,r)}r(s)}}function zw(e){const t=[];return cc(e,!0,r=>{xl(r)&&t.push(r)}),t}var L3=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],nte=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],ste=[...L3,...nte],ite={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},Mn=class{};Mn.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];Mn.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];Mn.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];Mn.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];Mn.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];Mn.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];Mn.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];Mn.ALL_PROPERTIES=[...Mn.ARRAY_PROPERTIES,...Mn.OBJECT_PROPERTIES,...Mn.STRING_PROPERTIES,...Mn.NUMBER_PROPERTIES,...Mn.FUNCTION_PROPERTIES,...Mn.BOOLEAN_PROPERTIES,...Mn.OTHER_PROPERTIES];var tp=Mn,pi=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};pi.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";pi.PUBLIC_EVENTS=L3;pi.EVENT_CALLBACKS=ste.map(e=>pi.getCallbackForEvent(e));pi.BOOLEAN_PROPERTIES=tp.BOOLEAN_PROPERTIES;pi.ALL_PROPERTIES=tp.ALL_PROPERTIES;pi.ALL_PROPERTIES_AND_CALLBACKS=[...pi.ALL_PROPERTIES,...pi.EVENT_CALLBACKS];pi.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(pi.ALL_PROPERTIES_AND_CALLBACKS);var rp=pi;function ote(e,t){typeof e!="object"&&(e={});const r={...e};return rp.ALL_PROPERTIES_AND_CALLBACKS.forEach(s=>{const i=t[s];typeof i<"u"&&i!==rp.VUE_OMITTED_PROPERTY&&(r[s]=i)}),r}function ate(e,t){if(!e)return;const r={};let n=!1;if(Object.keys(e).filter(o=>rp.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{r[o]=e[o],n=!0}),!n)return;const s={type:"gridOptionsChanged",options:r};t.dispatchEvent(s);const i={type:"componentStateChanged"};_i(r,(o,a)=>{i[o]=a}),t.dispatchEvent(i)}var ah=class extends be{};function Lp(e,t,r){return r&&e.addDestroyFunc(()=>t.destroyBean(r)),r??e}var kp=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.addCssClass(n));return}if(this.cssClassStates[e]!==!0&&e.length){const n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.removeCssClass(n));return}if(this.cssClassStates[e]!==!1&&e.length){const n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(s=>this.addOrRemoveCssClass(s,t));return}}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}};function fa(e,t,r){r==null||typeof r=="string"&&r==""?k3(e,t):Ro(e,t,r)}function Ro(e,t,r){e.setAttribute(_3(t),r.toString())}function k3(e,t){e.removeAttribute(_3(t))}function _3(e){return`aria-${e}`}function Ki(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function lte(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function cte(e){return e.getAttribute("aria-label")}function $d(e,t){fa(e,"label",t)}function np(e,t){fa(e,"labelledby",t)}function j3(e,t){fa(e,"live",t)}function ute(e,t){fa(e,"atomic",t)}function dte(e,t){fa(e,"relevant",t)}function hte(e,t){fa(e,"disabled",t)}function B3(e,t){fa(e,"hidden",t)}function $v(e,t){Ro(e,"expanded",t)}function fte(e,t){Ro(e,"setsize",t)}function pte(e,t){Ro(e,"posinset",t)}function gte(e,t){Ro(e,"rowcount",t)}function mte(e,t){Ro(e,"rowindex",t)}function vte(e,t){Ro(e,"colcount",t)}function G3(e,t){Ro(e,"colindex",t)}function Cte(e,t){Ro(e,"colspan",t)}function yte(e,t){Ro(e,"sort",t)}function wte(e){k3(e,"sort")}function Uv(e,t){fa(e,"selected",t)}function Ste(e,t){fa(e,"controls",t.id),np(t,e.id)}function Rb(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Kw,Fm,qw,Yw,Xw,Qw,Ux,zx,Jw;function vo(){return Kw===void 0&&(Kw=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Kw}function H3(){if(Fm===void 0)if(vo()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(Fm=e[1]!=null?parseFloat(e[1]):0)}else Fm=0;return Fm}function Tb(){if(qw===void 0){const e=window;qw=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return qw}function Fb(){return Yw===void 0&&(Yw=/(firefox)/i.test(navigator.userAgent)),Yw}function V3(){return Xw===void 0&&(Xw=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Xw}function Il(){return Qw===void 0&&(Qw=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Qw}function U2(){return!vo()||H3()>=15}function Kx(e){if(!e)return null;const t=e.tabIndex,r=e.getAttribute("tabIndex");return t===-1&&(r===null||r===""&&!Fb())?null:t.toString()}function xte(){if(Jw!==void 0)return Jw;if(!document.body)return-1;let e=1e6;const t=Fb()?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){const n=e*2;if(r.style.height=n+"px",n>t||r.clientHeight!==n)break;e=n}return document.body.removeChild(r),Jw=e,e}function Ete(){var e,t;return((e=document.body)==null?void 0:e.clientWidth)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientWidth)||-1)}function bte(){var e,t;return((e=document.body)==null?void 0:e.clientHeight)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientHeight)||-1)}function Rte(){return zx==null&&W3(),zx}function W3(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let r=t.offsetWidth-t.clientWidth;r===0&&t.clientWidth===0&&(r=null),t.parentNode&&t.parentNode.removeChild(t),r!=null&&(zx=r,Ux=r===0)}function $3(){return Ux==null&&W3(),Ux}var Pm,Tte="[tabindex], input, select, button, textarea, [href]",U3="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Pb(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),s=t.call(e,U3),i=Co(e);return n&&!s&&i}function Dr(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-hidden",!t),n||B3(e,!t)}function Fte(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-invisible",!t),n||B3(e,!t)}function sp(e,t){const r="disabled",n=t?s=>s.setAttribute(r,""):s=>s.removeAttribute(r);n(e),Y3(e.querySelectorAll("input"),s=>n(s))}function vd(e,t,r){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof r=="number"){if(++n>r)break}else if(e===r)break}return!1}function ru(e){const{height:t,width:r,borderTopWidth:n,borderRightWidth:s,borderBottomWidth:i,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:h,marginTop:p,marginRight:g,marginBottom:C,marginLeft:w,boxSizing:y}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(r||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(s||"0"),borderBottomWidth:parseFloat(i||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(h||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(g||"0"),marginBottom:parseFloat(C||"0"),marginLeft:parseFloat(w||"0"),boxSizing:y}}function Ab(e){const t=ru(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function _p(e){const t=ru(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function z3(e){const{height:t,marginBottom:r,marginTop:n}=ru(e);return Math.floor(t+r+n)}function zv(e){const{width:t,marginLeft:r,marginRight:n}=ru(e);return Math.floor(t+r+n)}function K3(e){const t=e.getBoundingClientRect(),{borderTopWidth:r,borderLeftWidth:n,borderRightWidth:s,borderBottomWidth:i}=ru(e);return{top:t.top+(r||0),left:t.left+(n||0),right:t.right+(s||0),bottom:t.bottom+(i||0)}}function Kv(){if(typeof Pm=="boolean")return Pm;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,Pm=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),Pm}function qv(e,t){let r=e.scrollLeft;return t&&(r=Math.abs(r),Tb()&&!Kv()&&(r=e.scrollWidth-e.getBoundingClientRect().width-r)),r}function Yv(e,t,r){r&&(Kv()?t*=-1:(vo()||Tb())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function Ys(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Gc(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function q3(e){return!!e.offsetParent}function Co(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!q3(e)||window.getComputedStyle(e).visibility!=="visible")}function ip(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Pte(e){return e.clientWidth<e.scrollWidth}function Ate(e){return e.clientHeight<e.scrollHeight}function Xv(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Vi(e,t)}function Vi(e,t){t=Db(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Af(e,t){t=Db(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function Db(e){return typeof e=="number"?`${e}px`:e}function Mb(e){return e instanceof Node||e instanceof HTMLElement}function Dte(e){if(e==null)return[];const t=[];return Y3(e,r=>t.push(r)),t}function Mte(e,t){if(e)for(let r=0;r<e.length;r++){const n=e[r];t(n.name,n.value)}}function gi(e,t,r){r==null||r===""?e.removeAttribute(t):e.setAttribute(t,r.toString())}function Y3(e,t){if(e!=null)for(let r=0;r<e.length;r++)t(e[r])}var Ud=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},Nte=1e3,Ite=1e3,z2=100,X3=class ic extends be{constructor(t,r,n,s){super(),this.parentComp=t,this.tooltipShowDelayOverride=r,this.tooltipHideDelayOverride=n,this.shouldDisplayTooltip=s,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const r=this.gos.get(t);return r<0&&Pe(`${t} should not be lower than 0`),Math.max(200,r)}getTooltipDelay(t){return t==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Il()&&(ic.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},z2):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var i;const r=t.relatedTarget,n=this.parentComp.getGui(),s=(i=this.tooltipComp)==null?void 0:i.getGui();this.isInteractingWithTooltip||n.contains(r)||this.interactionEnabled&&(s!=null&&s.contains(r))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||ic.isLocked)return;let r=0;t&&(r=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),r=ic.lastTooltipHideTime;return t-r<Nte}setToDoNothing(t){!t&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!ke(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(r)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),ic.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,r){if(this.state!==2||this.tooltipInstanceCount!==t){this.destroyBean(r);return}const s=r.getGui();this.tooltipComp=r,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&s.classList.add("ag-tooltip-animate"),this.interactionEnabled&&s.classList.add("ag-tooltip-interactive");const i=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:s,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(s,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Hr(this.gos),{keydown:a=>{s.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(s,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:s,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var n;const t=(n=this.tooltipComp)==null?void 0:n.getGui(),r=Nr(this.gos);return!!t&&t.contains(r)}onTooltipFocusOut(t){const r=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,r.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,r=this.tooltipComp,n=this.tooltipTrigger===0?Ite:0;window.setTimeout(()=>{t(),this.destroyBean(r)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){ic.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},z2)}unlockService(){ic.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};X3.isLocked=!1;var Ote=X3,lh=class extends be{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",r=this.ctrl.getGui();r&&(e!=null&&e!=""?r.setAttribute(t,e):r.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,r,n,s;if(this.tooltipManager!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new Ote(e,(r=(t=this.ctrl).getTooltipShowDelayOverride)==null?void 0:r.call(t),(s=(n=this.ctrl).getTooltipHideDelayOverride)==null?void 0:s.call(n),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var s,i,o,a,l;const e=this.ctrl,t=(s=e.getColumn)==null?void 0:s.call(e),r=(i=e.getColDef)==null?void 0:i.call(e),n=(o=e.getRowNode)==null?void 0:o.call(e);return{location:e.getLocation(),colDef:r,column:t,rowIndex:(a=e.getRowIndex)==null?void 0:a.call(e),node:n,data:n==null?void 0:n.data,value:this.getTooltipText(),valueFormatted:(l=e.getValueFormatted)==null?void 0:l.call(e),hideTooltipCallback:()=>{var u;return(u=this.tooltipManager)==null?void 0:u.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},Lte=new Ud,ft=null,gr=class Q3 extends be{constructor(t,r){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=Lte.next(),this.cssClassManager=new kp(()=>this.eGui),this.componentSelectors=new Map((r??[]).map(n=>[n.selector,n])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,r){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,r))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:r,showDelayOverride:n,hideDelayOverride:s,location:i,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==r&&(this.tooltipText=r);const a=()=>this.tooltipText;r!=null&&(this.tooltipFeature=this.createBean(new lh({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>i??"UNKNOWN",getColDef:t==null?void 0:t.getColDef,getColumn:t==null?void 0:t.getColumn,getTooltipShowDelayOverride:n!=null?()=>n:void 0,getTooltipHideDelayOverride:s!=null?()=>s:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,r,n,s=null){if(r===void 0&&(r=this.getDataRefAttribute(t)),r){const i=this[r];if(i===ft)this[r]=s??t;else{const o=n&&n[r];!this.suppressDataRefValidation&&!o&&Pe(`Issue with data-ref: ${r} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(t,r){Dte(t.childNodes).forEach(s=>{if(!(s instanceof HTMLElement))return;const i=this.createComponentFromElement(s,o=>{o.getGui()&&this.copyAttributesFromNode(s,o.getGui())},r);if(i){if(i.addItems&&s.children.length){this.createChildComponentsFromTags(s,r);const o=Array.prototype.slice.call(s.children);i.addItems(o)}this.swapComponentForNode(i,t,s)}else s.childNodes&&this.createChildComponentsFromTags(s,r)})}createComponentFromElement(t,r,n){const s=t.nodeName,i=this.getDataRefAttribute(t),o=s.indexOf("AG-")===0,a=o?this.componentSelectors.get(s):null;let l=null;if(a){Q3.elementGettingCreated=t;const u=n&&i?n[i]:void 0;l=new a.component(u),l.setParentComponent(this),this.createBean(l,null,r)}else o&&Pe(`Missing selector: ${s}`);return this.applyElementsToComponent(t,i,n,l),l}copyAttributesFromNode(t,r){Mte(t.attributes,(n,s)=>r.setAttribute(n,s))}swapComponentForNode(t,r,n){const s=t.getGui();r.replaceChild(s,n),r.insertBefore(document.createComment(n.nodeName),s),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const r=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(n=>n.setAttribute("tabindex",r.toString()))}setTemplate(t,r,n){const s=ip(t);this.setTemplateFromElement(s,r,n)}setTemplateFromElement(t,r,n,s=!1){if(this.eGui=t,this.suppressDataRefValidation=s,r)for(let i=0;i<r.length;i++){const o=r[i];this.componentSelectors.set(o.selector,o)}this.wireTemplate(t,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,r){let n=r;return t==null?null:(n||(n=this.eGui),Mb(t)?{element:t,parent:n}:{element:t.getGui(),parent:n})}prependChild(t,r){const{element:n,parent:s}=this.getContainerAndElement(t,r)||{};!n||!s||s.insertAdjacentElement("afterbegin",n)}appendChild(t,r){const{element:n,parent:s}=this.getContainerAndElement(t,r)||{};!n||!s||s.appendChild(n)}isDisplayed(){return this.displayed}setVisible(t,r={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:n}=r;Fte(this.eGui,t,{skipAriaHidden:n})}}setDisplayed(t,r={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:n}=r;Dr(this.eGui,t,{skipAriaHidden:n});const s={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(s)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,r,n){this.eGui.addEventListener(t,r,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,r))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,r){this.cssClassManager.addOrRemoveCssClass(t,r)}},J3={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},kte=(()=>{const e=new Set(Object.values(J3));return e.add("eye"),e})();function _te(e,t,r){const n=Ws(e,t,r);if(n){const{className:i}=n;if(typeof i=="string"&&i.indexOf("ag-icon")>-1||typeof i=="object"&&i["ag-icon"])return n}const s=document.createElement("span");return s.appendChild(n),s}function Ws(e,t,r,n){let s=null;const i=r&&r.getColDef().icons;if(i&&(s=i[e]),t&&!s){const o=t.get("icons");o&&(s=o[e])}if(s){let o;if(typeof s=="function")o=s();else if(typeof s=="string")o=s;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return ip(o);if(Mb(o))return o;Pe("iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=J3[e]??(kte.has(e)?e:void 0);return a||(Pe(`Did not find icon ${e}`),a=""),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),Ki(o,"presentation"),o}}var jte=class extends gr{constructor(){super(...arguments),this.dragSource=null,this.eIcon=ft,this.eLabel=ft}postConstruct(){const e=t=>_te(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t=!1){var n,s;Ys(this.eIcon);let r=null;e||(e=(n=this.dragSource)!=null&&n.getDefaultIconName?(s=this.dragSource)==null?void 0:s.getDefaultIconName():"notAllowed"),r=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),!(r===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&r&&this.eIcon.appendChild(r)}setLabel(e){this.eLabel.textContent=go(e)}};function Z3(e,t,r){if(r===0)return!1;const n=Math.abs(e.clientX-t.clientX),s=Math.abs(e.clientY-t.clientY);return Math.max(n,s)<=r}var dl=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new ih,this.eElement=e,this.preventMouseClick=t;const r=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",r,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const r=this.touchStart===t;if(this.touching&&r&&!this.moved){this.moved=!0;const n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!Z3(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const r={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function cf(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var Bte=`<span class="ag-sort-indicator-container">
        ${cf("Order","order")}
        ${cf("Asc","ascending-icon")}
        ${cf("Desc","descending-icon")}
        ${cf("Mixed","mixed-icon")}
        ${cf("None","none-icon")}
    </span>`,Nb=class extends gr{constructor(e){super(),this.eSortOrder=ft,this.eSortAsc=ft,this.eSortDesc=ft,this.eSortMixed=ft,this.eSortNone=ft,e||this.setTemplate(Bte)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,r,n,s){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=r,this.eSortMixed=n,this.eSortNone=s}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const r=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",r),this.addManagedEventListeners({newColumnsLoaded:r,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,r){if(t==null)return;const n=Ws(e,this.gos,r);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";Dr(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";Dr(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),r=e==null;Dr(this.eSortNone,!t&&r,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;co(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Dr(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,r=e.some(s=>this.sortController.getDisplaySortIndexForColumn(s)??!1),n=t>=0&&r;Dr(this.eSortOrder,n,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():Ys(this.eSortOrder)}},Gte={selector:"AG-SORT-INDICATOR",component:Nb},Hte=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,qx=class extends gr{constructor(){super(...arguments),this.eFilter=ft,this.eFilterButton=ft,this.eSortIndicator=ft,this.eMenu=ft,this.eLabel=ft,this.eText=ft,this.eSortOrder=ft,this.eSortAsc=ft,this.eSortDesc=ft,this.eSortMixed=ft,this.eSortNone=ft,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??Hte;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[Gte]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=go(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,r){if(t==null)return;const n=Ws(e,this.gos,r);n&&t.appendChild(n)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new dl(this.getGui(),!0),r=this.shouldSuppressMenuHide(),n=r&&ke(this.eMenu),s=n?new dl(this.eMenu,!0):t;if(this.params.enableMenu){const i=n?"tap":"longTap",o=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(s,{[i]:o})}if(this.params.enableSorting){const i=o=>{var l,u;const a=o.touchStart.target;r&&((l=this.eMenu)!=null&&l.contains(a)||(u=this.eFilterButton)!=null&&u.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:i})}if(this.params.enableFilterButton){const i=new dl(this.eFilterButton,!0);this.addManagedListeners(i,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>i.destroy())}this.addDestroyFunc(()=>t.destroy()),n&&this.addDestroyFunc(()=>s.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Gc(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,r=this.menuService.isLegacyMenuEnabled();if(e&&!r){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new Nb(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{const r=this.params.column.isMoving(),s=new Date().getTime()-this.lastMovingChanged<50;if(!(r||s)){const a=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(a)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const r=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),s=!(r==null?void 0:r.every(i=>this.params.column.getSort()==i.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",s)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,r){if(!e)return Gc(t),!1;const n=this.params.column;return this.addInIcon("filter",t,n),this.addManagedListeners(n,{filterChanged:r}),r(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Dr(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},Vte=class extends gr{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=ft,this.agClosed=ft,this.agLabel=ft}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&Pe("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=s=>{if(Jo(s))return;const i=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),i,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=s=>{Wd(s)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const r=this.params.columnGroup.getProvidedColumnGroup(),n=this.updateIconVisibility.bind(this);this.addManagedListeners(r,{expandedChanged:n,expandableChanged:n})}addTouchAndClickListeners(e,t){const r=new dl(e,!0);this.addManagedListeners(r,{tap:t}),this.addDestroyFunc(()=>r.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();Dr(this.agOpened,t),Dr(this.agClosed,!t)}else Dr(this.agOpened,!1),Dr(this.agClosed,!1)}addInIcon(e,t){const r=Ws(e,this.gos,null);r&&t.appendChild(r)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Dr(this.agOpened,!1),Dr(this.agClosed,!1);return}}setupLabel(){var r;const{displayName:e,columnGroup:t}=this.params;if(ke(e)){const n=go(e,!0);this.agLabel.textContent=n}this.addOrRemoveCssClass("ag-sticky-label",!((r=t.getColGroupDef())!=null&&r.suppressStickyLabel))}},Wte="",$te="",Ute=class extends gr{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const r=document.createElement("span");r.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(r),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const r=Math.abs(t),n=e.formatValue(r),s=ke(n)?n:r,i=t>=0;i?this.eDelta.textContent=Wte+s:this.eDelta.textContent=$te+s,this.eDelta.classList.toggle("ag-value-change-delta-up",i),this.eDelta.classList.toggle("ag-value-change-delta-down",!i)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Ys(this.eDelta)}refresh(e,t=!1){var n;const r=e.value;if(r===this.lastValue||(ke(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:ke(e.value)?this.eValue.textContent=r:Ys(this.eValue),(n=this.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof r=="number"&&typeof this.lastValue=="number"){const s=r-this.lastValue;this.showDelta(e,s)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=r,!0}},zte=class extends gr{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var n;let r=e.value;return Gt(r)&&(r=""),r===this.lastValue||(n=this.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=r,ke(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:ke(e.value)?this.eCurrent.textContent=r:Ys(this.eCurrent),!0)}},Ce=class{};Ce.BACKSPACE="Backspace";Ce.TAB="Tab";Ce.ENTER="Enter";Ce.ESCAPE="Escape";Ce.SPACE=" ";Ce.LEFT="ArrowLeft";Ce.UP="ArrowUp";Ce.RIGHT="ArrowRight";Ce.DOWN="ArrowDown";Ce.DELETE="Delete";Ce.F2="F2";Ce.PAGE_UP="PageUp";Ce.PAGE_DOWN="PageDown";Ce.PAGE_HOME="Home";Ce.PAGE_END="End";Ce.A="KeyA";Ce.C="KeyC";Ce.D="KeyD";Ce.V="KeyV";Ce.X="KeyX";Ce.Y="KeyY";Ce.Z="KeyZ";var Kte=class extends gr{constructor(e,t,r){super(t,r),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:r,labelAlignment:n,disabled:s}=this.config;s!=null&&this.setDisabled(s),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),r!=null&&this.setLabelWidth(r),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){Ys(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Dr(this.eLabel,!1),Ki(this.eLabel,"presentation")):(Dr(this.eLabel,!0),Ki(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const r=this.getGui().classList;return r.toggle("ag-label-align-left",e==="left"),r.toggle("ag-label-align-right",e==="right"),r.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Xv(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return sp(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},e4=class extends Kte{constructor(e,t,r,n){super(e,t,r),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:r}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),r!=null&&this.onValueChange(r),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),r=this.getLabel();r==null||r==""||cte(e)!==null?np(e,""):np(e,t??"")}setAriaLabel(e){return $d(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Vi(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},gc=class extends e4{constructor(e,t,r="text",n="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,[],t),this.inputType=r,this.displayFieldTag=n,this.eLabel=ft,this.eWrapper=ft,this.eInput=ft}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Xv(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return gi(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return $d(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return sp(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)gi(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";gi(this.eInput,"autocomplete",t)}return this}},Ib=class extends gc{constructor(e,t="ag-checkbox",r="checkbox"){super(e,t,r),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,r){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:r});const n=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},Ob={selector:"AG-CHECKBOX",component:Ib},qte=class extends gr{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Ob]),this.eCheckbox=ft}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),j3(t,"polite"),this.addManagedListeners(t,{click:r=>{if(Wd(r),this.eCheckbox.isDisabled())return;const n=this.eCheckbox.getValue();this.onCheckboxChanged(n)},dblclick:r=>{Wd(r)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:r=>{if(r.key===Ce.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Nr(this.gos)&&this.eCheckbox.toggle();const n=this.eCheckbox.getValue();this.onCheckboxChanged(n),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var a;let t,r=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")t=e.value;else{const l=e.column.getColId();l.startsWith(X0)?t=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[l]!==void 0?t=e.value??void 0:r=!1}else t=e.value??void 0;if(!r){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(t);const n=e.disabled!=null?e.disabled:!((a=e.column)!=null&&a.isCellEditable(e.node));this.eCheckbox.setDisabled(n);const s=this.localeService.getLocaleTextFunc(),i=Rb(s,t),o=n?i:`${s("ariaToggleCellValue","Press SPACE to toggle cell value")} (${i})`;this.eCheckbox.setInputAriaLabel(o)}onCheckboxChanged(e){const{column:t,node:r,value:n}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t==null?void 0:t.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:n});const s=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t==null?void 0:t.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:n,oldValue:n,newValue:e,valueChanged:s}),s||this.updateCheckbox(this.params)}},Yte=class extends gr{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=ft,this.eLoadingText=ft}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=Ws("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},Xte=class extends gr{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>np(e.eParentOfValue)),np(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");$d(this.getGui(),t)}setupLoading(e){const r=Hr(this.gos).createElement("div");r.classList.add("ag-skeleton-effect");const n=e.node.rowIndex;if(n!=null){const o=75+25*(n%2===0?Math.sin(n):Math.cos(n));r.style.width=`${o}%`}this.getGui().appendChild(r);const i=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");$d(this.getGui(),i)}refresh(e){return!1}destroy(){super.destroy()}},t4=class extends gr{constructor(){super()}destroy(){super.destroy()}},Qte=class extends t4{init(){var t;const e=Qo((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("loadingOoo","Loading...")})}}},Jte=class extends t4{init(){var t;const e=Qo((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("noRowsToShow","No Rows To Show")})}}},ch=class extends gr{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Zte=class extends ch{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=go(t,!0)}};function r4(e){const{inputValue:t,allSuggestions:r,hideIrrelevant:n,filterByPercentageOfBestMatch:s,addSequentialWeight:i}=e;let o=r.map((u,h)=>({value:u,relevance:tre(t.toLowerCase(),u.toLocaleLowerCase(),i),idx:h}));if(o.sort((u,h)=>h.relevance-u.relevance),n&&(o=o.filter(u=>u.relevance!==0)),o.length>0&&s&&s>0){const h=o[0].relevance*s;o=o.filter(p=>h-p.relevance<0)}const a=[],l=[];for(const u of o)a.push(u.value),l.push(u.idx);return{values:a,indices:l}}function ere(e){const t=[],r=e.length;for(let n=1;n<=r;n++)for(let s=0;s<=r-n;s++){const i=s+n-1;t.push(e.slice(s,i+1))}return t}function tre(e,t,r=!1){const n=e.replace(/\s/g,""),s=t.replace(/\s/g,""),i=n.length,o=s.length,a=new Array(i+1).fill(null).map(()=>new Array(o+1).fill(0));for(let p=0;p<=i;p+=1)a[p][0]=p;for(let p=0;p<=o;p+=1)a[0][p]=p;for(let p=1;p<=i;p++)for(let g=1;g<=o;g++)n[p-1]===s[g-1]?a[p][g]=a[p-1][g-1]:a[p][g]=1+Math.min(a[p][g-1],Math.min(a[p-1][g],a[p-1][g-1]));const l=a[i][o];let h=Math.max(i,o)-l;if(r){const p=ere(n);for(let g=0;g<p.length;g++){const C=p[g];s.indexOf(C)!==-1&&(h+=1,h*=C.length)}}return h}var rre=class extends be{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:jte,agColumnHeader:qx,agColumnGroupHeader:Vte,agSortIndicator:Nb,agAnimateShowChangeCellRenderer:Ute,agAnimateSlideCellRenderer:zte,agLoadingCellRenderer:Yte,agSkeletonCellRenderer:Xte,agCheckboxCellRenderer:qte,agLoadingOverlay:Qte,agNoRowsOverlay:Jte,agTooltipComponent:Zte},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");e!=null&&_i(e,(t,r)=>this.registerJsComponent(t,r))}registerDefaultComponent(e,t,r){this.agGridDefaults[e]=t,r&&(this.agGridDefaultParams[e]=r)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const r=(a,l,u)=>({componentFromFramework:l,component:a,params:u}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(n!=null)return r(n,!0);const s=this.jsComps[t];if(s){const a=this.getFrameworkOverrides().isFrameworkComponent(s);return r(s,a)}const i=this.agGridDefaults[t];if(i)return r(i,!1,this.agGridDefaultParams[t]);const o=this.enterpriseAgDefaultCompsModule[t];return o?this.gos.assertModuleRegistered(o,`AG Grid '${e}' component: ${t}`):vb(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const r=[...Object.keys(this.agGridDefaults).filter(s=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)),...Object.keys(this.jsComps)],n=r4({inputValue:t,allSuggestions:r,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;Pe(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),n.length>0&&Pe(`         Did you mean: [${n.slice(0,3)}]?`),Pe(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},Br=class wf{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(r=>this.onDone(r),r=>this.onReject(r))}static all(t){return t.length?new wf(r=>{let n=t.length;const s=new Array(n);t.forEach((i,o)=>{i.then(a=>{s[o]=a,n--,n===0&&r(s)})})}):wf.resolve()}static resolve(t=null){return new wf(r=>r(t))}then(t){return new wf(r=>{this.status===1?r(t(this.resolution)):this.waiters.push(n=>r(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(r=>r(t))}onReject(t){}},nre={propertyName:"dateComponent",cellRenderer:!1},sre={propertyName:"dragAndDropImageComponent",cellRenderer:!1},ire={propertyName:"headerComponent",cellRenderer:!1},ore={propertyName:"headerGroupComponent",cellRenderer:!1},K2={propertyName:"cellRenderer",cellRenderer:!0},are={propertyName:"cellRenderer",cellRenderer:!1},lre={propertyName:"loadingCellRenderer",cellRenderer:!0},cre={propertyName:"cellEditor",cellRenderer:!1},q2={propertyName:"innerRenderer",cellRenderer:!0},ure={propertyName:"loadingOverlayComponent",cellRenderer:!1},dre={propertyName:"noRowsOverlayComponent",cellRenderer:!1},hre={propertyName:"tooltipComponent",cellRenderer:!1},Lb={propertyName:"filter",cellRenderer:!1},fre={propertyName:"floatingFilterComponent",cellRenderer:!1},pre={propertyName:"toolPanel",cellRenderer:!1},gre={propertyName:"statusPanel",cellRenderer:!1},mre={propertyName:"fullWidthCellRenderer",cellRenderer:!0},vre={propertyName:"loadingCellRenderer",cellRenderer:!0},Cre={propertyName:"groupRowRenderer",cellRenderer:!0},yre={propertyName:"detailCellRenderer",cellRenderer:!0},wre={propertyName:"menuItem",cellRenderer:!1},n4=class s4 extends be{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,sre,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,r){return this.getCompDetails(t,ire,"agColumnHeader",r)}getHeaderGroupCompDetails(t){const r=t.columnGroup.getColGroupDef();return this.getCompDetails(r,ore,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,mre,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,vre,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,Cre,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,yre,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,r){return this.getCompDetails(t,q2,null,r)}getFullWidthGroupRowInnerCellRenderer(t,r){return this.getCompDetails(t,q2,null,r)}getCellRendererDetails(t,r){return this.getCompDetails(t,K2,null,r)}getEditorRendererDetails(t,r){return this.getCompDetails(t,are,null,r)}getLoadingCellRendererDetails(t,r){return this.getCompDetails(t,lre,"agSkeletonCellRenderer",r,!0)}getCellEditorDetails(t,r){return this.getCompDetails(t,cre,"agCellEditor",r,!0)}getFilterDetails(t,r,n){return this.getCompDetails(t,Lb,n,r,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,nre,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,ure,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,dre,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,hre,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,r){return this.getCompDetails(t,K2,null,r)}getFloatingFilterCompDetails(t,r,n){return this.getCompDetails(t,fre,n,r)}getToolPanelCompDetails(t,r){return this.getCompDetails(t,pre,null,r,!0)}getStatusPanelCompDetails(t,r){return this.getCompDetails(t,gre,null,r,!0)}getMenuItemCompDetails(t,r){return this.getCompDetails(t,wre,"agMenuItem",r,!0)}getCompDetails(t,r,n,s,i=!1){const{propertyName:o,cellRenderer:a}=r;let{compName:l,jsComp:u,fwComp:h,paramsFromSelector:p,popupFromSelector:g,popupPositionFromSelector:C}=s4.getCompKeys(this.frameworkOverrides,t,r,s),w;const y=T=>{const R=this.userComponentRegistry.retrieve(o,T);R&&(u=R.componentFromFramework?void 0:R.component,h=R.componentFromFramework?R.component:void 0,w=R.params)};if(l!=null&&y(l),u==null&&h==null&&n!=null&&y(n),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(o,u)),!u&&!h){i&&qt(`Could not find component ${l}, did you forget to configure this component?`);return}const S=this.mergeParamsWithApplicationProvidedParams(t,r,s,p,w),E=u==null,b=u||h;return{componentFromFramework:E,componentClass:b,params:S,type:r,popupFromSelector:g,popupPositionFromSelector:C,newAgStackInstance:()=>this.newAgStackInstance(b,E,S,r)}}static getCompKeys(t,r,n,s){const{propertyName:i}=n;let o,a,l,u,h,p;if(r){const g=r,C=g[i+"Selector"],w=C?C(s):null,y=S=>{typeof S=="string"?o=S:S!=null&&S!==!0&&(t.isFrameworkComponent(S)?l=S:a=S)};w?(y(w.component),u=w.params,h=w.popup,p=w.popupPosition):y(g[i])}return{compName:o,jsComp:a,fwComp:l,paramsFromSelector:u,popupFromSelector:h,popupPositionFromSelector:p}}newAgStackInstance(t,r,n,s){const i=s.propertyName,o=!r;let a;if(o)a=new t;else{const u=this.componentMetadataProvider.retrieve(i);a=this.frameworkComponentWrapper.wrap(t,u.mandatoryMethodList,u.optionalMethodList,s)}const l=this.initComponent(a,n);return l==null?Br.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,r,n,s=null,i){const o=this.gos.getGridCommonParams();rs(o,n),i&&rs(o,i);const a=t,l=a&&a[r.propertyName+"Params"];if(typeof l=="function"){const u=l(n);rs(o,u)}else typeof l=="object"&&rs(o,l);return rs(o,s),o}initComponent(t,r){if(this.createBean(t),t.init!=null)return t.init(r)}};function Df(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var Q0=class zt{static register(t){zt.__register(t,!0,void 0)}static registerModules(t){zt.__registerModules(t,!0,void 0)}static __register(t,r,n){zt.runVersionChecks(t),n!==void 0?(zt.areGridScopedModules=!0,zt.gridModulesMap[n]===void 0&&(zt.gridModulesMap[n]={}),zt.gridModulesMap[n][t.moduleName]=t):zt.globalModulesMap[t.moduleName]=t,zt.setModuleBased(r)}static __unRegisterGridModules(t){delete zt.gridModulesMap[t]}static __registerModules(t,r,n){zt.setModuleBased(r),t&&t.forEach(s=>zt.__register(s,r,n))}static isValidModuleVersion(t){const[r,n]=t.version.split(".")||[],[s,i]=zt.currentModuleVersion.split(".")||[];return r===s&&n===i}static runVersionChecks(t){zt.currentModuleVersion||(zt.currentModuleVersion=t.version);const r=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(t.version?zt.isValidModuleVersion(t)||qt(r(`'${t.moduleName}' is version ${t.version} but the other modules are version ${zt.currentModuleVersion}.`)):qt(r(`'${t.moduleName}' is incompatible.`)),t.validate){const n=t.validate();n.isValid||qt(`${n.message}`)}}static setModuleBased(t){zt.moduleBased===void 0?zt.moduleBased=t:zt.moduleBased!==t&&(qt("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),qt("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){zt.isBundled=!0}static __assertRegistered(t,r,n){var i;if(this.__isRegistered(t,n))return!0;let s;if(zt.isBundled)s=`AG Grid: unable to use ${r} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(zt.moduleBased||zt.moduleBased===void 0){const o=(i=Object.entries(g3).find(([a,l])=>l===t))==null?void 0:i[0];s=`AG Grid: unable to use ${r} as the ${o} is not registered${zt.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${o} } from '${t}';
    
    ModuleRegistry.registerModules([ ${o} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else s=`AG Grid: unable to use ${r} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return qt(s),!1}static __isRegistered(t,r){var n;return!!zt.globalModulesMap[t]||!!((n=zt.gridModulesMap[r])!=null&&n[t])}static __getRegisteredModules(t){return[...uv(zt.globalModulesMap),...uv(zt.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return uv(zt.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!zt.moduleBased}};Q0.globalModulesMap={};Q0.gridModulesMap={};Q0.areGridScopedModules=!1;var uo=Q0,Sre=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;Object.entries(e.providedBeanInstances).forEach(([r,n])=>{this.beans[r]=n}),e.beanClasses.forEach(r=>{const n=new r;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${r.name} is missing beanName`),this.createdBeans.push(n)}),(t=e.derivedBeans)==null||t.forEach(r=>{const{beanName:n,bean:s}=r(this);this.beans[n]=s,this.createdBeans.push(s)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(r=>{var n,s;(n=r.preWireBeans)==null||n.call(r,this.beans),(s=r.wireBeans)==null||s.call(r,this.beans)}),e.forEach(r=>{var n;return(n=r.preConstruct)==null?void 0:n.call(r)}),t&&e.forEach(t),e.forEach(r=>{var n;return(n=r.postConstruct)==null?void 0:n.call(r)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},xre=class extends Sre{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),uo.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},i4=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(i4||{}),Ere=class extends be{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,t=!1){const r={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:r,dragSource:e}),this.dragService.addDragSource(r)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const t=this.dragSourceAndParamsList.find(r=>r.dragSource===e);t&&(this.dragService.removeDragSource(t.params),is(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var r,n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),(n=(r=this.dragSource).onDragStarted)==null||n.call(r),this.createDragAndDropImageComponent()}onDragStop(e){var t,r,n;if((r=(t=this.dragSource)==null?void 0:t.onDragStopped)==null||r.call(t),(n=this.lastDropTarget)!=null&&n.onDragStop){const s=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(s)}this.clearDragAndDropProperties()}onDragCancel(){var e,t,r;(t=(e=this.dragSource)==null?void 0:e.onDragCancelled)==null||t.call(e),(r=this.lastDropTarget)!=null&&r.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var o,a,l,u;const r=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const s=this.dropTargets.filter(h=>this.isMouseOnDropTarget(e,h)),i=this.findCurrentDropTarget(e,s);if(i!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,r,n,t),this.lastDropTarget!==null&&i===null&&((a=(o=this.dragSource)==null?void 0:o.onGridExit)==null||a.call(o,this.dragItem)),this.lastDropTarget===null&&i!==null&&((u=(l=this.dragSource)==null?void 0:l.onGridEnter)==null||u.call(l,this.dragItem)),this.enterDragTargetIfExists(i,e,r,n,t),i&&this.dragAndDropImageComp){const{comp:h,promise:p}=this.dragAndDropImageComp;h?h.setIcon(i.getIconName?i.getIconName():null):p.then(g=>{g&&g.setIcon(i.getIconName?i.getIconName():null)})}this.lastDropTarget=i}else if(i&&i.onDragging){const h=this.createDropTargetEvent(i,e,r,n,t);i.onDragging(h)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,r=[[e.getContainer()]];return t?r.concat(t):r}allContainersIntersect(e,t){for(const r of t){const{width:n,height:s,left:i,right:o,top:a,bottom:l}=r.getBoundingClientRect();if(n===0||s===0)return!1;const u=e.clientX>=i&&e.clientX<o,h=e.clientY>=a&&e.clientY<l;if(!u||!h)return!1}return!0}isMouseOnDropTarget(e,t){const r=this.getAllContainersFromDropTarget(t);let n=!1;for(const o of r)if(this.allContainersIntersect(e,o)){n=!0;break}const{eElement:s,type:i}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:n&&t.isInterestedIn(i,s)}findCurrentDropTarget(e,t){const r=t.length;if(r===0)return null;if(r===1)return t[0];const s=ep(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const i of s)for(const o of t)if(Iee(this.getAllContainersFromDropTarget(o)).indexOf(i)!==-1)return o;return null}enterDragTargetIfExists(e,t,r,n,s){if(e&&e.onDragEnter){const i=this.createDropTargetEvent(e,t,r,n,s);e.onDragEnter(i)}}leaveLastTargetIfExists(e,t,r,n){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const i=this.createDropTargetEvent(this.lastDropTarget,e,t,r,n);this.lastDropTarget.onDragLeave(i)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(r=>r.external).find(r=>r.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const r=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return r.contains(n)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,r=e.clientX;return t===r?null:t>r?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,r=e.clientY;return t===r?null:t>r?0:1}createDropTargetEvent(e,t,r,n,s){const i=e.getContainer(),o=i.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,u=t.clientX-o.left,h=t.clientY-o.top;return this.gos.addGridCommonParams({event:t,x:u,y:h,vDirection:n,hDirection:r,dragSource:l,fromNudge:s,dragItem:a,dropZoneTarget:i})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const r=t.getGui(),s=r.getBoundingClientRect().height,i=Ete()-2,o=bte()-2;if(!r.offsetParent)return;const l=K3(r.offsetParent),{clientY:u,clientX:h}=e;let p=u-l.top-s/2,g=h-l.left-10;const C=Hr(this.gos),w=C.defaultView||window,y=w.pageYOffset||C.documentElement.scrollTop,S=w.pageXOffset||C.documentElement.scrollLeft;i>0&&g+r.clientWidth>i+S&&(g=i+S-r.clientWidth),g<0&&(g=0),o>0&&p+r.clientHeight>o+y&&(p=o+y-r.clientHeight),p<0&&(p=0),r.style.left=`${g}px`,r.style.top=`${p}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const r=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(n=>{!n||!this.isAlive()||(this.processDragAndDropImageComponent(n),this.dragAndDropImageComp.comp=n)})}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:r,environment:n}=this;if(!t)return;const s=e.getGui();s.style.setProperty("position","absolute"),s.style.setProperty("z-index","9999"),r.stampTopLevelGridCompWithGridInstance(s),n.applyThemeClasses(s),e.setIcon(null);let{dragItemName:i}=t;Cb(i)&&(i=i()),e.setLabel(i||""),s.style.top="20px",s.style.left="20px";const o=Hr(this.gos);let a=null,l=null;try{a=o.fullscreenElement}catch{}finally{a||(a=ep(this.gos));const u=a.querySelector("body");u?l=u:a instanceof ShadowRoot?l=a:a instanceof Document?l=a==null?void 0:a.documentElement:l=a}this.dragAndDropImageParent=l,l?l.appendChild(s):Pe("Could not find document body, it is needed for drag and drop.")}},bre=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const r=t||this.shouldSkipVerticalScroll();if(r&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=e.clientX<n.left+s,this.tickRight=e.clientX>n.right-s,this.tickUp=e.clientY<n.top+s&&!r,this.tickDown=e.clientY>n.bottom-s&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Rre=class extends be{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){Er(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const t=e.gridBodyCtrl;this.autoScrollService=new bre({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:r=>t.getScrollFeature().setVerticalScrollPosition(r),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var n;return!!(this.funcColsService.getRowGroupColumns().length||((n=this.filterManager)==null?void 0:n.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=[...this.selectionService.getSelectedNodes()].sort((s,i)=>s.rowIndex==null||i.rowIndex==null?0:this.getRowIndexNumber(s)-this.getRowIndexNumber(i));if(n.indexOf(t)!==-1)return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const r=this.isFromThisGrid(e),n=this.gos.get("rowDragManaged"),s=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!r?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(s[0],t):this.moveRows(s,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Bt(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),r=t&&t.highlighted===1,n=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes;let i=r?1:0;if(this.isFromThisGrid(e))s.forEach(o=>{o.rowTop<n&&(i-=1)}),this.moveRows(s,n,i);else{const o=oh(this.gos);let a=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===0&&a--,this.clientSideRowModel.updateRowData({add:s.filter(l=>!this.clientSideRowModel.getRowNode((o==null?void 0:o({data:l.data,level:0,rowPinned:l.rowPinned}))??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,r=0){var s;this.clientSideRowModel.ensureRowsAtPixel(e,t,r)&&(this.focusService.clearFocusedCell(),(s=this.rangeService)==null||s.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){Pe("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){Pe("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=n=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",n))}),e.onDragLeave&&(t.onDragLeave=n=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",n))}),e.onDragging&&(t.onDragging=n=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",n))}),e.onDragStop&&(t.onDragStop=n=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",n))}),e.onDragCancel&&(t.onDragCancel=n=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",n))}));const r={isInterestedIn:n=>n===2,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(r),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(r))}getRowDropZone(e){const t=this.getContainer.bind(this),r=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),s=this.onDragging.bind(this),i=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{r(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:r,onDragLeave:e.onDragLeave?l=>{n(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:n,onDragging:e.onDragging?l=>{s(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:s,onDragStop:e.onDragStop?l=>{i(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:i,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:r,onDragLeave:n,onDragging:s,onDragStop:i,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const r=this.mouseEventService.getNormalisedPosition(t).y,n=r>this.pageBoundsService.getCurrentPageHeight();let s=-1,i;n||(s=this.rowModel.getRowIndexAtPixel(r),i=this.rowModel.getRow(s));let o;switch(t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:s,overNode:i,y:r,vDirection:o})}dispatchGridEvent(e,t){const r=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(r)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},Tre=class extends be{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,r=e.mouseDownListener;if(t.removeEventListener("mousedown",r),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(r=>r.dragSource===e);t&&(this.removeListener(t),is(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:r,includeTouch:n,stopPropagationForTouch:s}=e;r.addEventListener("mousedown",t);let i=null;const o=this.gos.get("suppressTouch");n&&!o&&(i=a=>{Pb(a.target)||(s&&a.stopPropagation(),this.onTouchStart(e,a))},r.addEventListener("touchstart",i,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:i,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const r=t.touches[0];this.touchLastTime=r,this.touchStart=r;const n=l=>this.onTouchMove(l,e.eElement),s=l=>this.onTouchUp(l,e.eElement),i=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:ep(this.gos),type:"touchmove",listener:i,options:{passive:!1}},{target:o,type:"touchmove",listener:n,options:{passive:!0}},{target:o,type:"touchend",listener:s,options:{passive:!0}},{target:o,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(r,this.touchStart,e.eElement)}onMouseDown(e,t){const r=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||r._alreadyProcessedByDragService||(r._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=u=>this.onMouseMove(u,e.eElement),s=u=>this.onMouseUp(u,e.eElement),i=u=>u.preventDefault(),o=u=>{u.key===Ce.ESCAPE&&this.cancelDrag(e.eElement)},a=ep(this.gos),l=[{target:a,type:"mousemove",listener:n},{target:a,type:"mouseup",listener:s},{target:a,type:"contextmenu",listener:i},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:r,type:n,listener:s,options:i}=t;r.addEventListener(n,s,i)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:r,type:n,listener:s,options:i}=t;r.removeEventListener(n,s,i)})})}isEventNearStartEvent(e,t){const{dragStartPixels:r}=this.currentDragParams,n=ke(r)?r:4;return Z3(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,r){var n;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:r}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(n=this.currentDragParams)==null||n.onDragging(e)}onTouchMove(e,t){const r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,t)}onMouseMove(e,t){var r;vo()&&((r=Hr(this.gos).getSelection())==null||r.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),r=e.type==="mousemove";return t&&r&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,r=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(r!=null&&r.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,r;this.eventService.dispatchEvent({type:"dragCancelled",target:e}),(r=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||r.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},Yx=class extends gr{constructor(e,t,r,n,s,i){super(),this.cellValueFn=e,this.rowNode=t,this.column=r,this.customGui=n,this.dragStartPixels=s,this.suppressVisibilityChange=i,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Ws("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new Pre(this,this.beans,this.rowNode,this.column):new Fre(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&Pe("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n==null||n.preventDefault()}})[0]);const r=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const n=this.getDragItem(),s=((o=n.rowNodes)==null?void 0:o.length)||1,i=this.getRowDragText(this.column);return i?i(n,s):s===1?this.cellValueFn():`${s} ${r("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},o4=class extends be{constructor(e,t,r){super(),this.parent=e,this.rowNode=t,this.column=r}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let r=!0,n=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=Cb(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(r,t)):(this.parent.setDisplayed(r,t),this.parent.setVisible(!0,t))}}},Fre=class extends o4{constructor(e,t,r,n){super(e,r,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},Pre=class extends o4{constructor(e,t,r,n){super(e,r,n),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),r=t&&t.shouldPreventRowMove(),n=this.gos.get("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),i=r&&!s||n;this.setDisplayedOrVisible(i)}},Are=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),jp=class za{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=za.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,r){var i;const n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(t,n,r);(i=this.localEventService)==null||i.dispatchEvent(s)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,r,n){return{type:"dataChanged",node:this,oldData:r,newData:t,update:n}}getRowIndexString(){return this.rowIndex==null?(qt("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?za.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?za.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new za(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,r){var o;const n=ke(this.id)?this.createDaemonNode():null,s=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(r),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const i=this.createDataChangedEvent(t,s,!1);(o=this.localEventService)==null||o.dispatchEvent(i)}checkRowSelectable(){const t=yb(this.beans.gos);this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,r){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),r)return;if(Bc(this.beans.gos)){const s=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:s??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){var n;const r=oh(this.beans.gos);if(r)if(this.data){const s=((n=this.parent)==null?void 0:n.getRoute())??[];this.id=r({data:this.data,parentKeys:s.length>0?s:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(za.ID_PREFIX_ROW_GROUP)&&qt(`Row IDs cannot start with ${za.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(t){this.hovered=t}isHovered(){return this.hovered}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,r=!1){this.rowHeight=t,this.rowHeightEstimated=r,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,r){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[r.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=ss(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){var a;let t=!1,r=!0,n=0;const s=this.__autoHeights;if(s==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(l=>{let u=s[l.getId()];if(u==null)if(this.beans.columnModel.isColSpanActive()){let h=[];switch(l.getPinned()){case"left":h=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":h=this.beans.visibleColsService.getRightColsForRow(this);break;case null:h=this.beans.columnViewportService.getColsWithinViewport(this);break}if(h.includes(l)){t=!0;return}u=-1}else{t=!0;return}else r=!1;u>n&&(n=u)}),t)||((r||n<10)&&(n=Sl(this.beans.gos,this).height),n==this.rowHeight))return;this.setRowHeight(n);const o=this.beans.rowModel;(a=o.onRowHeightChangedDebounced)==null||a.call(o)}setExpanded(t,r,n){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const s={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:r||null};this.beans.rowNodeEventThrottle.dispatchExpanded(s,n),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,r,n){const i=typeof t!="string"?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t),o=this.beans.valueService.getValueForDisplay(i,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:i,colDef:i.getColDef(),data:this.data,node:this,oldValue:o,newValue:r,value:r,source:n}),!1;const a=this.beans.valueService.setValue(this,i,r,n);return this.dispatchCellChangedEvent(i,r,o),this.checkRowSelectable(),a}setGroupValue(t,r){const n=this.beans.columnModel.getCol(t);Gt(this.groupData)&&(this.groupData={});const s=n.getColId(),i=this.groupData[s];i!==r&&(this.groupData[s]=r,this.dispatchCellChangedEvent(n,r,i))}setAggData(t){const r=this.aggData;if(this.aggData=t,this.localEventService){const n=s=>{const i=this.aggData?this.aggData[s]:void 0,o=r?r[s]:void 0;if(i===o)return;const a=this.beans.columnModel.getCol(s);a&&this.dispatchCellChangedEvent(a,i,o)};for(const s in r)n(s);for(const s in t)(!r||!(s in r))&&n(s)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(bo(this.beans.gos)){const n=this.beans.gos.get("treeData"),s=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!s&&s(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(t,r,n){var i;const s={type:"cellChanged",node:this,column:t,newValue:r,oldValue:n};(i=this.localEventService)==null||i.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(r=>r.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var n;let t=!1,r=!1;if(!((n=this.childrenAfterGroup)!=null&&n.length))return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){const i=this.childrenAfterGroup[s];let o=i.isSelected();if(!i.selectable){const a=i.calculateSelectedFromChildren();if(a===null)continue;o=a}switch(o){case!0:t=!0;break;case!1:r=!0;break;default:return}}if(!(t&&r))return t?!0:r?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){var r;(r=this.localEventService)==null||r.dispatchEvent({type:t,node:this})}selectThisNode(t,r,n="api"){const s=!this.selectable&&t,i=this.selected===t;if(s||i)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:r||null,source:n}),!0}setSelected(t,r=!1,n="api"){if(typeof n=="boolean"){Pe("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:r,rangeSelect:!1,source:n})}setSelectedParams(t){return this.rowPinned?(Pe("cannot select pinned rows"),0):this.id===void 0?(Pe("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(t,r){var s;this.localEventService||(this.localEventService=new ih),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new xb(this.beans.frameworkOverrides));const n=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(r))??r;this.localEventService.addEventListener(t,n)}removeEventListener(t,r){var s;if(!this.localEventService)return;const n=((s=this.frameworkEventListenerService)==null?void 0:s.unwrap(r))??r;this.localEventService.removeEventListener(t,n),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(Pe("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const t=[];let r=this;for(;r&&r.key!=null;)t.push(r.key),r=r.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new za(this.beans);Object.keys(this).forEach(r=>{Are.has(r)||(t[r]=this[r])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.dispatchRowEvent("firstChildChanged"))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.dispatchRowEvent("draggingChanged"))}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.dispatchRowEvent("uiLevelChanged"))}};jp.ID_PREFIX_ROW_GROUP="row-group-";jp.ID_PREFIX_TOP_PINNED="t-";jp.ID_PREFIX_BOTTOM_PINNED="b-";jp.OBJECT_ID_SEQUENCE=0;var Zo=jp,Dre=class extends be{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvancedFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",r=>this.setAdvancedFilterModel(r.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){var r;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(r=this.columnFilterService)==null||r.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.columnFilterService)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t,r;e?(t=this.columnFilterService)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(r=this.advancedFilterService)!=null&&r.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var e;(e=this.quickFilterService)==null||e.resetQuickFilterCache()}refreshFiltersForAggregations(){Bx(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:r,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):Br.resolve()).then(()=>{var i;const s={source:t,type:"filterChanged",columns:n};r&&rs(s,r),this.eventService.dispatchEvent(s),(i=this.columnFilterService)==null||i.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.columnFilterService)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilterService)!=null&&e.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!Bx(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){var t;return!!((t=this.columnFilterService)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.columnFilterService)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvancedFilterEnabled()?!1:!!((t=this.columnFilterService)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var r;return(r=this.columnFilterService)==null?void 0:r.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var r;(r=this.columnFilterService)==null||r.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var r;return!!((r=this.columnFilterService)!=null&&r.areFilterCompsDifferent(e,t))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){var t;if(this.isAdvancedFilterEnabled()){if((t=this.dataTypeService)!=null&&t.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.hasFloatingFilters())}getFilterInstance(e,t){var r;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(r=this.columnFilterService)==null?void 0:r.getFilterInstance(e,t)}getColumnFilterInstance(e){var t;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((t=this.columnFilterService)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvancedFilters(){Pe("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var r;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((r=this.columnFilterService)==null?void 0:r.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,r){var n;(n=this.columnFilterService)==null||n.setColDefPropertiesForDataType(e,t,r)}},Mre=class extends gr{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??Br.resolve()}afterGuiAttached(e){var t,r;(r=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||r.then(n=>{var s;(s=n==null?void 0:n.afterGuiAttached)==null||s.call(n,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(r=>{var n;(n=r==null?void 0:r.afterGuiDetached)==null||n.call(r)})}createFilter(e){var n,s;const{column:t,source:r}=this;this.filterWrapper=((n=this.filterManager)==null?void 0:n.getOrCreateFilterWrapper(t))??null,(s=this.filterWrapper)!=null&&s.filterPromise&&this.filterWrapper.filterPromise.then(i=>{const o=i.getGui();ke(o)||Pe(`getGui method from filter returned ${o}; it should be a DOM element.`),this.appendChild(o),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:r,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(Ys(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},a4="ag-resizer-wrapper",Ga=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,Nre=`<div class="${a4}">
        ${Ga("eTopLeft","topLeft")}
        ${Ga("eTop","top")}
        ${Ga("eTopRight","topRight")}
        ${Ga("eRight","right")}
        ${Ga("eBottomRight","bottomRight")}
        ${Ga("eBottom","bottom")}
        ${Ga("eBottomLeft","bottomLeft")}
        ${Ga("eLeft","left")}
    </div>`,Ire=class extends be{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,r=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(r,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:r,width:n,minHeight:s,height:i,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0;const h=Co(this.element);if(h){const p=this.findBoundaryElement(),g=window.getComputedStyle(p);if(g.minWidth!=null){const C=p.offsetWidth-this.element.offsetWidth;u=parseInt(g.minWidth,10)-C}if(g.minHeight!=null){const C=p.offsetHeight-this.element.offsetHeight;l=parseInt(g.minHeight,10)-C}}if(this.minHeight=s||l,this.minWidth=r||u,n&&this.setWidth(n),i&&this.setHeight(i),(!n||!i)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(h&&t){let p=this.boundaryEl,g=!0;if(p||(p=this.findBoundaryElement(),g=!1),p){const C=parseFloat(p.style.top),w=parseFloat(p.style.left);g?this.offsetElement(isNaN(w)?0:w,isNaN(C)?0:C):this.setPosition(w,C)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const r=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],s=this.getResizerElement(t),i={dragStartPixels:0,eElement:s,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(i),this.resizeListeners.push(i),s.style.pointerEvents="all"):s.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,r=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Af(r,e),e=z3(r),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(n?(r.style.maxHeight="unset",r.style.minHeight="unset"):t?Af(r,e):(r.style.height=`${e}px`,r.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:r}=this.offsetParent;if(!r)return null;const n=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),i=e?this.position.y:n.top,o=e?0:s.top;let a=0;if(t){const u=this.element.parentElement;if(u){const{bottom:h}=u.getBoundingClientRect();a=h-n.bottom}}return r+o-i-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:r}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Vi(t,e),e=zv(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:s}=this.offsetParent,i=r?this.position.x:this.element.getBoundingClientRect().left;s&&e+i>s&&(e=s-i)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Vi(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:r}=this.config,n=r?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const r=this.getAvailableHeight();this.element.style.setProperty("max-height",`${r}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:r,isTop:n,anywhereWithin:s,topBuffer:i}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!r,!!s,o)?0:o,u=this.shouldSkipY(t,!!n,i,a)?0:a;return{movementX:l,movementY:u}}shouldSkipX(e,t,r,n){const s=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:s.left;let l=a<=0&&i.left>=e.clientX||i.right<=e.clientX&&i.right<=o.right;return l?!0:(t?l=n<0&&e.clientX>a+i.left||n>0&&e.clientX<a+i.left:r?l=n<0&&e.clientX>o.right||n>0&&e.clientX<a+i.left:l=n<0&&e.clientX>o.right||n>0&&e.clientX<o.right,l)}shouldSkipY(e,t,r=0,n){const s=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:s.top;let l=a<=0&&i.top>=e.clientY||i.bottom<=e.clientY&&i.bottom<=o.bottom;return l?!0:(t?l=n<0&&e.clientY>a+i.top+r||n>0&&e.clientY<a+i.top:l=n<0&&e.clientY>o.bottom||n>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const r=new DOMParser().parseFromString(Nre,"text/html").body;e.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${a4}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:r,forcePopupParentAsOffsetParent:n}=this.config;!r&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(r=>!r.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,r=0;for(let n=0;n<e.length;n++){const s=e[n],i=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(i){const l=window.getComputedStyle(s);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=s.offsetHeight,a=s.offsetWidth;t+=o,r+=a}return{height:t,width:r}}applySizeToSiblings(e){let t=null;const r=this.getSiblings();if(r){for(let n=0;n<r.length;n++){const s=r[n];s!==t&&(e?s.style.height=`${s.offsetHeight}px`:s.style.width=`${s.offsetWidth}px`,s.style.flex="0 0 auto",s===this.element&&(t=r[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:r}=this.config,{isTop:n,isRight:s,isBottom:i,isLeft:o}=this.currentResizer,a=s||o,l=i||n,{movementX:u,movementY:h}=this.calculateMouseMovement({e,isLeft:o,isTop:n}),p=this.position.x,g=this.position.y;let C=0,w=0;if(a&&u){const y=o?-1:1,S=this.getWidth(),E=S+u*y;let b=!1;o&&(C=S-E,(p+C<=0||E<=this.minWidth)&&(b=!0,C=0)),b||this.setWidth(E)}if(l&&h){const y=n?-1:1,S=this.getHeight(),E=S+h*y;let b=!1;n?(w=S-E,(g+w<=0||E<=this.minHeight)&&(b=!0,w=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&S<E&&this.getMinSizeOfSiblings().height+E>this.element.parentElement.offsetHeight&&(b=!0),b||this.setHeight(E)}this.updateDragStartPosition(e.clientX,e.clientY),((t||r)&&C||w)&&this.offsetElement(p+C,g+w)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:r}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:s,movementY:i}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+s,r+i),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},l4=class c4 extends be{constructor(t,r={}){super(),this.eFocusableElement=t,this.callbacks=r,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const s=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);s&&(s.focus(),n.preventDefault())},...r}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(c4.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:r=>{if(!(r.defaultPrevented||Jo(r))){if(this.callbacks.shouldStopEventPropagation(r)){Wd(r);return}r.key===Ce.TAB?this.callbacks.onTabKeyDown(r):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(r)}}})}};l4.FOCUS_MANAGED_CLASS="ag-focus-managed";var nu=l4,u4={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function kb(e,t){return Qv(e)?(e.debounceMs!=null&&Pe("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function Qv(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var Ore=class extends gr{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=ft,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new nu(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Ire(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(r,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=Qv(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=Qv(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:r,readOnly:n}=t??{},{buttons:s,readOnly:i}=e;if(n===i&&Jf(r,s))return;const o=s&&s.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Ys(this.eButtonsPanel),this.buttonListeners.forEach(u=>u()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&Gc(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=u=>{let h,p;switch(u){case"apply":h=this.translate("applyFilter"),p=w=>this.onBtApply(!1,!1,w);break;case"clear":h=this.translate("clearFilter"),p=()=>this.onBtClear();break;case"reset":h=this.translate("resetFilter"),p=()=>this.onBtReset();break;case"cancel":h=this.translate("cancelFilter"),p=w=>{this.onBtCancel(w)};break;default:Pe("Unknown button type specified");return}const C=ip(`<button
                    type="${u==="apply"?"submit":"button"}"
                    data-ref="${u}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${h}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(C,{click:p})),a.append(C)};s.forEach(u=>l(u)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=kb(this.providedFilterParams,this.getDefaultDebounceMs()),t=ss(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const r=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(r):this.resetUiToDefaults().then(r)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const r=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(r,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,r){r&&r.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(r)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,r=t&&t.key;let n;(r==="Enter"||r==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const r=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&sp(n,!r)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:r,gos:n}=this;t?(r.restoreLastSize(),r.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,u4[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},Lre=class extends Ib{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},kre=class extends gr{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case Ce.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}break;case Ce.DOWN:case Ce.UP:e.preventDefault(),this.navigate(t);break;case Ce.PAGE_DOWN:case Ce.PAGE_UP:case Ce.PAGE_HOME:case Ce.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===Ce.DOWN;let r;if(!this.highlightedEl)r=this.itemEls[t?0:this.itemEls.length-1];else{let s=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);s=Math.min(Math.max(s,0),this.itemEls.length-1),r=this.itemEls[s]}this.highlightItem(r)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;const t=this.itemEls.indexOf(this.highlightedEl),r=this.options.length-1,n=this.itemEls[0].clientHeight,s=Math.floor(this.getGui().clientHeight/n);let i=-1;e===Ce.PAGE_HOME?i=0:e===Ce.PAGE_END?i=r:e===Ce.PAGE_DOWN?i=Math.min(t+s,r):e===Ce.PAGE_UP&&(i=Math.max(t-s,0)),i!==-1&&this.highlightItem(this.itemEls[i])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:r}=e,n=r||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Gc(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,r)=>{pte(t,r+1),fte(t,e.length)})}renderOption(e,t){const r=Hr(this.gos),n=r.createElement("div");Ki(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const s=r.createElement("span");n.appendChild(s),s.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:i=>{i.preventDefault(),i.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new lh({getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const r=this.options.findIndex(n=>n.value===e);if(r!==-1){const n=this.options[r];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[r]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Co(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),Uv(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:r,clientHeight:n}=t,{offsetTop:s,offsetHeight:i}=e;(s+i>r+n||s<r)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!Co(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),Uv(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},_re=class extends e4{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=ft,this.eWrapper=ft,this.eDisplayField=ft,this.eIcon=ft,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:r,variableWidth:n,minPickerWidth:s,maxPickerWidth:i}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,r!=null&&this.setPickerMaxHeight(r),s!=null&&this.setPickerMinWidth(s),i!=null&&this.setPickerMaxWidth(i)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:r,inputWidth:n}=this.config;if(r){const s=Ws(r,this.gos);s&&this.eIcon.appendChild(s)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),$v(e,!1),this.ariaRole&&Ki(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Ce.UP:case Ce.DOWN:case Ce.ENTER:case Ce.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Ce.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:r,pickerAriaLabelValue:n,modalPicker:s=!0}=this.config,i={modal:s,eChild:e,closeOnEsc:!0,closedCallback:()=>{const g=y3(this.gos);this.beforeHidePicker(),g&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(r,n),anchorToElement:this.eWrapper};e.style.position="absolute";const o=this.popupService.addPopup(i),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:u,variableWidth:h}=this;h?(l&&(e.style.minWidth=l),e.style.width=Db(zv(this.eWrapper)),u&&(e.style.maxWidth=u)):Xv(e,u??zv(this.eWrapper));const p=a??`${Ab(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",p),this.alignPickerToComponent(),o.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,r=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();$v(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return Xv(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},_b=class extends _re{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:r}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),r&&t==null&&(this.eDisplayField.textContent=r),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new kre("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),Ste(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var r;const{key:t}=e;switch(t===Ce.TAB&&this.hidePicker(),t){case Ce.ENTER:case Ce.UP:case Ce.DOWN:case Ce.PAGE_UP:case Ce.PAGE_DOWN:case Ce.PAGE_HOME:case Ce.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(r=this.listComponent)==null||r.handleKeyDown(e):super.onKeyDown(e);break;case Ce.ESCAPE:super.onKeyDown(e);break;case Ce.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,r){if(this.value===e||!this.listComponent)return this;if(r||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let s=this.listComponent.getDisplayValue();return s==null&&this.config.placeholder&&(s=this.config.placeholder),this.eDisplayField.textContent=s,this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},jre={selector:"AG-SELECT",component:_b},d4=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],r=n=>n.some(s=>e[s]!=null)?!0:(Pe(`ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1);if(!t.every(r)){this.filterOptions=this.filterOptions.filter(n=>n===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:Pe("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else Pe("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},h4=class extends Ore{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,r)=>{r===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const r=!e.operator,n=!t.operator;if(!r&&n||r&&!n)return!1;let i;if(r){const o=e,a=t;i=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;i=o.operator===a.operator&&Nl(o.conditions,a.conditions,(l,u)=>this.areSimpleModelsEqual(l,u))}return i}shouldRefresh(e){var i;const t=this.getModel(),r=t?t.conditions??[t]:null,n=((i=e.filterOptions)==null?void 0:i.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!r||r.every(o=>n.find(a=>a===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&r&&r.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const r=e;let n=r.conditions;n==null&&(n=[],Pe("Filter model is missing 'conditions'"));const s=this.validateAndUpdateConditions(n),i=this.getNumConditions();if(s<i)this.removeConditionsAndOperators(s);else if(s>i)for(let a=i;a<s;a++)this.createJoinOperatorPanel(),this.createOption();const o=r.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),n.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Br.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),Pe('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:r}=t,n=[];if(r){const i=t;n.push(...i.conditions??[])}else n.push(t);return n[r&&r==="OR"?"some":"every"](i=>this.individualConditionPasses(e,i))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new d4,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(Pe('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(Pe('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Pe('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new _b);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const r=this.getNumConditions()-1;this.forEachPositionInput(r,n=>this.resetInput(n)),this.addChangedListeners(e,r)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,s),this.resetJoinOperatorOr(r,n,s),this.isReadOnly()||(t.onValueChange(this.listener),r.onValueChange(this.listener))}createJoinOperator(e,t,r){const n=this.createManagedBean(new Lre);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${r}`),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?e=r:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const r=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<r){this.removeConditionsAndOperators(r+1);const n=e+1,s=r-n;s>0&&this.removeConditionsAndOperators(n,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,s)=>{const i=this.isConditionDisabled(s,e);n.setDisabled(i||this.filterListOptions.length<=1),s===1&&(sp(this.eJoinOperatorPanels[0],i),this.eJoinOperatorsAnd[0].setDisabled(i),this.eJoinOperatorsOr[0].setDisabled(i))}),this.eConditionBodies.forEach((n,s)=>{Dr(n,this.isConditionBodyVisible(s))});const r=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!r,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(r,!0)}),this.forEachInput((n,s,i,o)=>{this.setElementDisplayed(n,s<o),this.setElementDisabled(n,this.isConditionDisabled(i,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const r=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,r,t),this.removeComponents(this.eJoinOperatorsAnd,r,t),this.removeComponents(this.eJoinOperatorsOr,r,t)}removeElements(e,t,r){this.removeItems(e,t,r).forEach(s=>Gc(s))}removeComponents(e,t,r){this.removeItems(e,t,r).forEach(s=>{Gc(s.getGui()),this.destroyBean(s)})}removeItems(e,t,r){return r==null?e.splice(t):e.splice(t,r)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof gc&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,r=-1,n=!1;const s=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,r=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),n=!0,l&&r--)}let i=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),i=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),i=!0),i&&this.updateConditionStatusesAndValues(r,s),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r}getPlaceholderText(e,t){let r=this.translate(e);if(Cb(this.filterPlaceholder)){const n=this.filterPlaceholder,s=this.eTypes[t].getValue(),i=this.translate(s);r=n({filterOptionKey:s,filterOption:i,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,r,n,s)=>{if(!(t instanceof gc))return;const i=r===0&&s>1?"inRangeStart":r===0?"filterOoo":"inRangeEnd",o=r===0&&s>1?e("ariaFilterFromValue","Filter from value"):r===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(i,n)),t.setInputAriaLabel(o)})}setElementValue(e,t,r){e instanceof gc&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof gr&&Dr(e.getGui(),t)}setElementDisabled(e,t){e instanceof gr&&sp(e.getGui(),t)}attachElementOnChange(e,t){e instanceof gc&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,r)=>{this.forEachPositionTypeInput(r,t,e)})}forEachPositionInput(e,t){const r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,t)}forEachPositionTypeInput(e,t,r){const n=this.getNumberOfInputs(t),s=this.getInputs(e);for(let i=0;i<s.length;i++){const o=s[i];o!=null&&r(o,i,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(r=>r==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,r)=>this.resetJoinOperatorAnd(t,r,this.joinOperatorId+r)),this.eJoinOperatorsOr.forEach((t,r)=>this.resetJoinOperatorOr(t,r,this.joinOperatorId+r)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Br.resolve()}resetType(e){const r=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,r){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),r)}resetJoinOperatorOr(e,t,r){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),r)}resetJoinOperator(e,t,r,n,s){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const r=this.mapValuesFromModel(e);this.forEachInput((n,s,i)=>{i===t&&this.setElementValue(n,r[s]!=null?r[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,r,n)=>{this.setElementValue(t,r===0&&n===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,r=>{this.attachElementOnChange(r,this.listener)}))}individualConditionPasses(e,t){const r=this.getCellValue(e.node),n=this.mapValuesFromModel(t),s=this.optionsFactory.getCustomOption(t.type),i=this.evaluateCustomFilter(s,n,r);return i??(r==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,r,t,e))}evaluateCustomFilter(e,t,r){if(e==null)return;const{predicate:n}=e;if(n!=null&&!t.some(s=>s==null))return n(t,r)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},f4=class extends h4{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,r){const n=this.comparator(),s=e[0]!=null?n(e[0],t):0;switch(r.type){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const i=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?s>=0&&i<=0:s>0&&i<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return Pe('Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},Bre=65,Gre=67,Hre=86,Vre=68,Wre=90,$re=89;function p4(e){var r;return e.altKey||e.ctrlKey||e.metaKey?!1:((r=e.key)==null?void 0:r.length)===1}function Xx(e,t,r,n,s){const i=n?n.getColDef().suppressKeyboardEvent:void 0;if(!i)return!1;const o=e.addGridCommonParams({event:t,editing:s,column:n,node:r,data:r.data,colDef:n.getColDef()});return!!(i&&i(o))}function Ure(e,t,r,n){const s=n.getDefinition(),i=s&&s.suppressHeaderKeyboardEvent;if(!ke(i))return!1;const o=e.addGridCommonParams({colDef:s,column:n,headerRowIndex:r,event:t});return!!i(o)}function zre(e){const{keyCode:t}=e;let r;switch(t){case Bre:r=Ce.A;break;case Gre:r=Ce.C;break;case Hre:r=Ce.V;break;case Vre:r=Ce.D;break;case Wre:r=Ce.Z;break;case $re:r=Ce.Y;break;default:r=e.code}return r}function Kre(e,t=!1){return e===Ce.DELETE?!0:!t&&e===Ce.BACKSPACE?V3():!1}var su=class extends gc{constructor(e,t="ag-text-field",r="text"){super(e,t,r)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=ke(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=r=>{p4(r)&&r.key&&!e.test(r.key)&&r.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:r=>{var s;const n=(s=r.clipboardData)==null?void 0:s.getData("text");n&&n.split("").some(i=>!e.test(i))&&r.preventDefault()}})}},J0={selector:"AG-INPUT-TEXT-FIELD",component:su},jb=class extends su{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const s=parseFloat(this.eInput.value),i=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==i&&this.setValue(i)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:r,step:n}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof r=="number"&&this.setMax(r),typeof n=="number"&&this.setStep(n)}onWheel(e){Nr(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=this.precision)return e;if(this.precision>0)return`${r[0]}.${r[1].slice(0,this.precision)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,gi(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,gi(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,gi(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(r=>super.setValue(r,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,r){if(ke(r)){let n=this.isScientificNotation(r);if(n&&this.eInput.validity.valid)return e(r);if(!n){r=this.adjustPrecision(r);const s=this.normalizeValue(r);n=r!=s}if(n)return t(r)}return e(r)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},qre={selector:"AG-INPUT-NUMBER-FIELD",component:jb},g4=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Bb=class{constructor(e,t,r){this.localeService=e,this.optionsFactory=t,this.valueFormatter=r}getModelAsString(e){if(!e)return null;const t=e.operator!=null,r=this.localeService.getLocaleTextFunc();if(t){const n=e,i=(n.conditions??[]).map(a=>this.getModelAsString(a)),o=n.operator==="AND"?"andCondition":"orCondition";return i.join(` ${r(o,u4[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return r(e.type,e.type);{const n=e,s=this.optionsFactory.getCustomOption(n.type),{displayKey:i,displayName:o,numberOfInputs:a}=s||{};return i&&o&&a===0?(r(i,o),o):this.conditionToString(n,s)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},m4=class extends Bb{conditionToString(e,t){const{numberOfInputs:r}=t||{};return e.type=="inRange"||r===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function Qx(e){const{allowedCharPattern:t}=e??{};return t??null}var Yre=class extends f4{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:r,type:n}=e||{};return[this.processValue(t),this.processValue(r)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new m4(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return g4}setElementValue(e,t,r){const n=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,n)}createValueElement(){const e=Qx(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Ki(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,r,n){const s=this.createManagedBean(n?new su({allowedCharPattern:n}):new jb);s.addCssClass(`ag-filter-${r}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,s,i)=>{n<i&&t.push(this.processValue(this.stringToFloat(r.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Qo(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),r={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},v4=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],C4=class extends Bb{conditionToString(e,t){const{numberOfInputs:r}=t||{};return e.type=="inRange"||r===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function y4(e){const t=e&&e.trim();return t===""?e:t}var Xre=class extends h4{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:r})=>{if(r==null)return!1;switch(e){case"contains":return t.indexOf(r)>=0;case"notContains":return t.indexOf(r)<0;case"equals":return t===r;case"notEqual":return t!=r;case"startsWith":return t.indexOf(r)===0;case"endsWith":{const n=t.lastIndexOf(r);return n>=0&&n===t.length-r.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new C4(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(Pe("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:r,filterText:n})=>e(t,r,n)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),r={filterType:this.getFilterType(),type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const r=[];return this.forEachPositionInput(e,(n,s,i,o)=>{if(s<o){let a=Qo(n.getValue());t&&this.textFilterParams.trimInput&&(a=y4(a)??null,n.setValue(a,!0)),r.push(a)}}),r}getDefaultFilterOptions(){return v4}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Ki(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,r){const n=this.createManagedBean(new su);n.addCssClass(`ag-filter-${r}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:r,type:n}=e||{};return[t||null,r||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,r,n){const s=e.map(g=>this.formatter(g))||[],i=this.formatter(t),{api:o,colDef:a,column:l,context:u,textFormatter:h}=this.textFilterParams;if(r.type==="blank")return this.isBlank(t);if(r.type==="notBlank")return!this.isBlank(t);const p={api:o,colDef:a,column:l,context:u,node:n.node,data:n.data,filterOption:r.type,value:i,textFormatter:h};return s.some(g=>this.matcher({...p,filterText:g}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function w4(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}function to(e,t=Number.MAX_VALUE){return r=>{const n=w4(r);if(!(n==null||n<e||n>t))return n}}function Mf(e,t){return e.toString().padStart(t,"0")}function Qre(e,t){const r=[];for(let n=e;n<=t;n++)r.push(n);return r}function Jre(e,t,r){return typeof e!="number"?"":e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function mi(e,t=!0,r="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(s=>Mf(s,2)).join(r);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(s=>Mf(s,2)).join(":")),n}var Zw=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Nf(e,t="YYYY-MM-DD"){const r=Mf(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i={YYYY:()=>r.slice(r.length-4,r.length),YY:()=>r.slice(r.length-2,r.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>Mf(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Zw(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Zw(e.getDate())}`,DD:()=>Mf(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>s[e.getDay()],ddd:()=>s[e.getDay()].slice(0,3),dd:()=>s[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Zw(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(i).join("|"),"g");return t.replace(o,a=>a in i?i[a]():a)}function Es(e){if(!e)return null;const[t,r]=e.split(" ");if(!t)return null;const n=t.split("-").map(p=>parseInt(p,10));if(n.filter(p=>!isNaN(p)).length!==3)return null;const[s,i,o]=n,a=new Date(s,i-1,o);if(a.getFullYear()!==s||a.getMonth()!==i-1||a.getDate()!==o)return null;if(!r||r==="00:00:00")return a;const[l,u,h]=r.split(":").map(p=>parseInt(p,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),h>=0&&h<60&&a.setSeconds(h),a}var S4=class{constructor(e,t,r,n,s){this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(r).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(n.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),s==null||s(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Dr(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var r,n;let t=!1;(r=this.dateComp)!=null&&r.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&((n=this.dateComp)!=null&&n.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&Pe("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},x4=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],E4=class extends Bb{constructor(e,t,r){super(t,r),this.dateFilterParams=e}conditionToString(e,t){const{type:r}=e,{numberOfInputs:n}=t||{},s=r=="inRange"||n===2,i=Es(e.dateFrom),o=Es(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){const l=i!==null?Nf(i,a):"null",u=o!==null?Nf(o,a):"null";return`${l}-${u}`}return i!=null?Nf(i,a):`${r}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},Y2=1e3,X2=1/0,Zre=class extends f4{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Y2,this.maxValidYear=X2,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:r,type:n}=e||{};return[t&&Es(t)||null,r&&Es(r)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const r=t;return t==null||r<e?-1:r>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(r,n)=>{if(e[r]!=null)if(isNaN(e[r]))Pe(`DateFilter ${r} is not a number`);else return e[r]==null?n:Number(e[r]);return n};this.minValidYear=t("minValidYear",Y2),this.maxValidYear=t("maxValidYear",X2),this.minValidYear>this.maxValidYear&&Pe("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Es(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Es(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&Pe("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new E4(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new S4(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return x4}createValueElement(){const t=Hr(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,r,n){const i=Hr(this.gos).createElement("div");i.classList.add(`ag-filter-${n}`),i.classList.add(`ag-filter-date-${n}`),t.push(i),e.appendChild(i),r.push(this.createDateCompWrapper(i))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,r){this.removeItems(e,t,r).forEach(s=>s.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((r,n,s,i)=>{s!==e||!t||n>=i||(t=t&&this.isValidDateValue(r.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),r={},n=this.getValues(e);return n.length>0&&(r.dateFrom=mi(n[0])),n.length>1&&(r.dateTo=mi(n[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...r}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(r)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,s,i)=>{n<i&&t.push(r.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},Gb=class extends be{constructor(e,t,r,n){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=r}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Bt(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=ke(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),r=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,r),s=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===s&&this.setLeft(s)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!Sn(this.beans.gos,"print")||e.getPinned()==="left")return t;const n=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){const s=this.beans.visibleColsService.getBodyContainerWidth();return n+s+t}return n+t}setLeft(e){if(ke(e)&&(this.eCell.style.left=`${e}px`),Kr(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&Cte(this.ariaEl,t.length)}}},ene="ag-column-first",tne="ag-column-last";function b4(e,t,r,n){return Gt(e)?[]:nne(e.headerClass,e,t,r,n)}function R4(e,t,r){e.addOrRemoveCssClass(ene,r.isColAtEdge(t,"first")),e.addOrRemoveCssClass(tne,r.isColAtEdge(t,"last"))}function rne(e,t,r,n){return t.addGridCommonParams({colDef:e,column:r,columnGroup:n})}function nne(e,t,r,n,s){if(Gt(e))return[];let i;if(typeof e=="function"){const o=rne(t,r,n,s);i=e(o)}else i=e;return typeof i=="string"?[i]:Array.isArray(i)?[...i]:[]}var sne=0,T4=class F4 extends be{constructor(t,r,n){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=n,this.beans=r,this.instanceId=t.getUniqueId()+"-"+sne++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:r,column:n}=this.focusService.getFocusedHeader();return Ure(this.gos,t,r,n)}getWrapperHasFocus(){return Nr(this.gos)===this.eGui}setGui(t,r){this.eGui=t,this.addDomData(r),r.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),r.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:r,checkMeasuringCallback:n,compBean:s}=t,{animationFrameService:i,resizeObserverService:o,columnModel:a,gos:l}=this.beans,u=y=>{if(!this.isAlive()||!s.isAlive())return;const{paddingTop:S,paddingBottom:E,borderBottomWidth:b,borderTopWidth:T}=ru(this.getGui()),R=S+E+b+T,M=r.offsetHeight+R;if(y<5){const D=Hr(l),N=!D||!D.contains(r),O=M==0;if(N||O){i.requestAnimationFrame(()=>u(y+1));return}}a.setColHeaderHeight(this.column,M)};let h=!1,p;const g=()=>{const y=this.column.isAutoHeaderHeight();y&&!h&&C(),!y&&h&&w()},C=()=>{h=!0,u(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),p=o.observeResize(r,()=>u(0))},w=()=>{h=!1,p&&p(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),p=void 0};g(),s.addDestroyFunc(()=>w()),s.addManagedListeners(this.column,{widthChanged:()=>h&&u(0)}),s.addManagedEventListeners({sortChanged:()=>{h&&window.setTimeout(()=>u(0))}}),n&&n(g)}onDisplayedColumnsChanged(){const{comp:t,column:r,beans:n,eGui:s}=this;!t||!r||!s||(R4(t,r,n.visibleColsService),G3(s,n.visibleColsService.getAriaColIndex(r)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&t.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&gi(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){var o;const r=Nr(this.gos),n=t.key===Ce.LEFT||t.key===Ce.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),r!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||n)&&(t.preventDefault(),t.stopImmediatePropagation()),!n))return;const s=t.key===Ce.LEFT!==this.gos.get("enableRtl"),i=i4[s?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(a,t.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(i)}getViewportAdjustedResizeDiff(t){let r=this.getResizeDiff(t);if(this.column.getPinned()){const s=this.pinnedWidthService.getPinnedLeftWidth(),i=this.pinnedWidthService.getPinnedRightWidth(),o=_p(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(s+i+r>o)if(o>s+i)r=o-s-i;else return 0}return r}getResizeDiff(t){let r=t.key===Ce.LEFT!==this.gos.get("enableRtl");const n=this.column.getPinned(),s=this.gos.get("enableRtl");return n&&s!==(n==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var t;(t=this.resizeFeature)==null||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const r=this.getWrapperHasFocus();switch(t.key){case Ce.PAGE_DOWN:case Ce.PAGE_UP:case Ce.PAGE_HOME:case Ce.PAGE_END:r&&t.preventDefault()}}addDomData(t){const r=F4.DOM_DATA_KEY_HEADER_CTRL;jc(this.gos,this.eGui,r,this),t.addDestroyFunc(()=>jc(this.gos,this.eGui,r,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,r,n){const s=t??r;this.gos.get("preventDefaultOnContextMenu")&&s.preventDefault(),this.menuService.isHeaderContextMenuEnabled(n)&&this.menuService.showHeaderContextMenu(n,t,r),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(t,r){this.eventService.dispatchEvent({type:t,column:r})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};T4.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var Z0=T4,Hb=class extends be{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},ine=class extends Z0{constructor(e,t,r){super(e,t,r),this.iconCreated=!1,this.column=e}setComp(e,t,r,n,s){this.comp=e,s=Lp(this,this.beans.context,s),this.eButtonShowMainFilter=r,this.eFloatingFilterBody=n,this.setGui(t,s),this.setupActive(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s),s.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(s)}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,r=!!e.floatingFilter;this.active=t&&r}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Ws("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new nu(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();$d(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Nr(this.gos)===this.eGui)return;const n=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(n){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),n.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let r=this.column;do if(r=e?t.getColBefore(r):t.getColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Ce.UP:case Ce.DOWN:t||e.preventDefault();case Ce.LEFT:case Ce.RIGHT:if(t)return;e.stopPropagation();case Ce.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Ce.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&vd(e.relatedTarget,"ag-floating-filter");if(r&&n&&e.target===this.eGui){const i=this.lastFocusEvent,o=!!(i&&i.key===Ce.TAB);if(i&&o){const a=i.shiftKey;this.focusService.focusInto(this.eGui,a)}}const s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}setupHover(e){e.createManagedBean(new Hb([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const r=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new Gb(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,r=n=>{if((n==null?void 0:n.source)==="filterDestroyed"&&!this.isAlive())return;const s=this.comp.getFloatingFilterComp();s&&s.then(i=>{if(i){const o=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=n?{...n,columns:n.columns??[],source:n.source==="api"?"api":"columnFilter"}:null;i.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:r}),t!=null&&t.isFilterActive(this.column)&&r(null)}setupWidth(e){const t=()=>{const r=`${this.column.getActualWidth()}px`;this.comp.setWidth(r)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var i;const t=this.active;this.setupActive();const r=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.active?(i=this.beans.filterManager)==null?void 0:i.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!n?this.updateCompDetails(e,n,r):s.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,r):this.updateFloatingFilterParams(n)})}updateCompDetails(e,t,r){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),r&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var r;if(!e)return;const t=e.params;(r=this.comp.getFloatingFilterComp())==null||r.then(n=>{let s=!1;n!=null&&n.refresh&&typeof n.refresh=="function"&&n.refresh(t)!==null&&(s=!0),!s&&(n!=null&&n.onParamsUpdated)&&typeof n.onParamsUpdated=="function"&&n.onParamsUpdated(t)!==null&&Pe("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}},Rt="32.3.3";function one(e){var t,r;return!!((t=e.filterManager)!=null&&t.isColumnFilterPresent())||!!((r=e.filterManager)!=null&&r.isAggregateFilterPresent())}function ane(e,t,r){var n;return(n=e.filterManager)==null?void 0:n.getFilterInstance(t,r)}function lne(e,t){var r;return((r=e.filterManager)==null?void 0:r.getColumnFilterInstance(t))??Promise.resolve(void 0)}function cne(e,t){var n;const r=e.columnModel.getColDefCol(t);if(r)return(n=e.filterManager)==null?void 0:n.destroyFilter(r,"api")}function une(e,t){e.frameworkOverrides.wrapIncoming(()=>{var r;return(r=e.filterManager)==null?void 0:r.setFilterModel(t)})}function dne(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function hne(e,t){var r;return((r=e.filterManager)==null?void 0:r.getColumnFilterModel(t))??null}function fne(e,t,r){var n;return((n=e.filterManager)==null?void 0:n.setColumnFilterModel(t,r))??Promise.resolve()}function pne(e,t){const r=e.columnModel.getCol(t);if(!r){qt(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:r,containerType:"columnFilter",positionBy:"auto"})}function gne(e,t,r){if(t==null)return null;let n=null;const{compName:s,jsComp:i,fwComp:o}=n4.getCompKeys(e,t,Lb);return s?n={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[s]:i==null&&o==null&&t.filter===!0&&(n=r()),n}var Q2={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},J2=["january","february","march","april","may","june","july","august","september","october","november","december"],mne=class extends be{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){var s;if((s=this.dataTypeService)!=null&&s.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const r=[],n=this.getFilterModel(!0);if(e){const i=new Set(Object.keys(e));this.allColumnFilters.forEach((o,a)=>{const l=e[a];r.push(this.setModelOnFilterWrapper(o.filterPromise,l)),i.delete(a)}),i.forEach(o=>{const a=this.columnModel.getColDefCol(o)||this.columnModel.getCol(o);if(!a){Pe("setFilterModel() - no column found for colId: "+o);return}if(!a.isFilterAllowed()){Pe("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const l=this.getOrCreateFilterWrapper(a);if(!l){Pe("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}r.push(this.setModelOnFilterWrapper(l.filterPromise,e[o]))})}else this.allColumnFilters.forEach(i=>{r.push(this.setModelOnFilterWrapper(i.filterPromise,null))});Br.all(r).then(()=>{var a;const i=this.getFilterModel(!0),o=[];this.allColumnFilters.forEach((l,u)=>{const h=n?n[u]:null,p=i?i[u]:null;Jf(h,p)||o.push(l.column)}),o.length>0&&((a=this.filterManager)==null||a.onFilterChanged({columns:o,source:t}))})}setModelOnFilterWrapper(e,t){return new Br(r=>{e.then(n=>{typeof n.setModel!="function"&&(Pe("filter missing setModel method, which is needed for setFilterModel"),r()),(n.setModel(t)||Br.resolve()).then(()=>r())})})}getFilterModel(e){const t={},{allColumnFilters:r,initialFilterModel:n}=this;return r.forEach((s,i)=>{const o=this.getModelFromFilterWrapper(s);ke(o)&&(t[i]=o)}),e||Object.entries(n).forEach(([s,i])=>{var o;ke(i)&&!r.has(s)&&((o=this.columnModel.getCol(s))!=null&&o.isFilterAllowed())&&(t[s]=i)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(Pe("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=i=>i?i.isFilterActive?i.isFilterActive():(Pe("Filter is missing isFilterActive() method"),!1):!1,t=!!Bx(this.gos),r=i=>{if(!i.isPrimary())return!0;const a=!this.columnModel.isPivotActive();return!i.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:t},n=[],s=[];return this.forEachColumnFilter((i,o)=>{e(i)&&(r(o.column)?n.push(i):s.push(i))}).then(()=>{this.activeAggregateFilters=n,this.activeColumnFilters=s})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((r,n)=>n.column.setFilterActive(r.isFilterActive(),e,t))}forEachColumnFilter(e){return Br.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(r=>e(r,t))))}doColumnFiltersPass(e,t,r){const{data:n,aggData:s}=e,i=r?this.activeAggregateFilters:this.activeColumnFilters,o=r?s:n;for(let a=0;a<i.length;a++){const l=i[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>{var r;return(r=this.filterManager)==null?void 0:r.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:r}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",r).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(s=>{s&&s!==t&&s.onAnyFilterChanged&&s.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,r)=>{const n=r?this.columnModel.getCol(r):e;return n?this.valueService.getValue(n,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){var r;let t;if($w(this.gos))t="agSetColumnFilter";else{const n=(r=this.dataTypeService)==null?void 0:r.getBaseDataType(e);n==="number"?t="agNumberColumnFilter":n==="date"||n==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){var r;let t;if($w(this.gos))t="agSetColumnFloatingFilter";else{const n=(r=this.dataTypeService)==null?void 0:r.getBaseDataType(e);n==="number"?t="agNumberColumnFloatingFilter":n==="date"||n==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const r=this.getDefaultFilter(e),n=e.getColDef();let s;const i={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(s,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(s,e)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(s,a):!0},o=this.userComponentFactory.getFilterDetails(n,i,r);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a!=null&&a.then(l=>{s=l,t&&(t.filter=l)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:D3(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:r,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=(r==null?void 0:r())??null,t.compDetails=n,t}onColumnsChanged(){var r;const e=[];this.allColumnFilters.forEach((n,s)=>{let i;n.column.isPrimary()?i=this.columnModel.getColDefCol(s):i=this.columnModel.getCol(s),!(i&&i===n.column)&&(e.push(n.column),this.disposeFilterWrapper(n,"columnChanged"),this.disposeColumnListener(s))});const t=e.every(n=>n.getColDef().filter==="agGroupColumnFilter");e.length>0&&!t?(r=this.filterManager)==null||r.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:r}=this.allColumnFilters.get(e.getColId())??{};return r&&typeof(r==null?void 0:r.isFilterAllowed)=="function"?r.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const r=l=>{var h;const u=(h=this.getOrCreateFilterWrapper(e))==null?void 0:h.filterPromise;u!=null&&u.then(p=>{l(Df(p))})},n=e.getColDef(),s={...this.createFilterParams(e,n),filterChangedCallback:()=>r(l=>this.filterChangedCallbackFactory(l,e)())},i=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,Lb,s);let o=gne(this.frameworkOverrides,n,()=>this.getDefaultFloatingFilter(e));o==null&&(o="agReadOnlyFloatingFilter");const a={column:e,filterParams:i,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:r,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,a,o)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){var s;const r=e.getColId(),n=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialFilterModel[r],n&&(this.disposeFilterWrapper(n,t),(s=this.filterManager)==null||s.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(r=>{this.destroyBean(r),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return r=>{const n=(r==null?void 0:r.source)??"columnFilter",s={filter:e,additionalEventAttributes:r,columns:[t],source:n};this.callOnFilterChangedOutsideRenderCycle(s)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const r=t.column,{compDetails:n}=r.isFilterAllowed()?this.createFilterInstance(r):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(r,"paramsUpdated");return}const s=r.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(r,"paramsUpdated");return}t.filterPromise.then(i=>{(i!=null&&i.refresh?i.refresh({...this.createFilterParams(r,r.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(i,r),filterChangedCallback:this.filterChangedCallbackFactory(i,r),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(i,a):!0,...s}):!0)===!1&&this.destroyFilter(r,"paramsUpdated")})}setColumnFilterWrapper(e,t){const r=e.getColId();this.allColumnFilters.set(r,t),this.allColumnListeners.set(r,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(r)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:r}=e,{componentClass:n}=t;return!(r===n||(r==null?void 0:r.render)&&(n==null?void 0:n.render)&&r.render===n.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(r=>{const n=Df(r);t(n)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(r=>{t(Df(r))})})}getFilterInstanceImpl(e){var n;const t=this.columnModel.getColDefCol(e);return t?((n=this.getOrCreateFilterWrapper(t))==null?void 0:n.filterPromise)??Br.resolve(null):Br.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:r})=>{this.setColumnFilterModel(e,t).then(()=>r())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){var i;if((i=this.dataTypeService)!=null&&i.isPendingInference()){let o=()=>{};const a=new Promise(l=>{o=l});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:o}),a}const r=this.columnModel.getColDefCol(e),n=r?this.getOrCreateFilterWrapper(r):null;return n?(o=>new Promise(a=>{o.then(l=>a(l))}))(this.setModelOnFilterWrapper(n.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,r){const n=$w(this.gos),s=this.localeService.getLocaleTextFunc(),i=o=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...o}:o};switch(t.baseDataType){case"number":{n&&i({comparator:(o,a)=>{const l=o==null?0:parseInt(o),u=a==null?0:parseInt(a);return l===u?0:l>u?1:-1}});break}case"boolean":{i(n?{valueFormatter:o=>ke(o.value)?s(String(o.value),o.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{n&&i({valueFormatter:o=>{const a=r(o);return ke(a)?a:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(a===1&&o!=null){const l=J2[Number(o)-1];return s(l,Q2[l])}return o??s("blanks","(Blanks)")}});break}case"dateString":{const o=t.dateParser;i(n?{valueFormatter:a=>{const l=r(a);return ke(l)?l:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const u=J2[Number(a)-1];return s(u,Q2[u])}return a??s("blanks","(Blanks)")}}:{comparator:(a,l)=>{const u=o(l);return l==null||u<a?-1:u>a?1:0}});break}case"object":{n?i({valueFormatter:o=>{const a=r(o);return ke(a)?a:s("blanks","(Blanks)")}}):e.filterValueGetter=o=>r({column:o.column,node:o.node,value:this.valueService.getValue(o.column,o.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function vne(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function Cne(e,t="api"){var r;(r=e.filterManager)==null||r.onFilterChanged({source:t})}var yne=class extends gr{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[J0]),this.eFloatingFilterText=ft}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${r("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const r=t.getModelAsString(e);this.eFloatingFilterText.setValue(r)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},P4=class extends gr{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let r;t?r=e.conditions[0]:r=e,this.lastType=r.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const r=e;return this.isTypeEditable(r.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new d4,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(r)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:r}=t||{};return r==null||r==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();return`${t} ${r("ariaFilterInput","Filter Input")}`}},wne=class extends P4{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[J0]),this.eReadOnlyText=ft,this.eDateWrapper=ft}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return x4}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new E4(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const r=e;this.dateComp.setDate(Es(r.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Dr(this.eDateWrapper,e),Dr(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=mi(e);this.params.parentFilterInstance(r=>{if(r){const n=Es(t);r.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){const e=kb(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:ss(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new S4(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},Sne=class extends gr{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[J0]),this.eDateInput=ft}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:r=>{r.target===Nr(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&vo(),t.type=r?"date":"text";const{minValidYear:n,maxValidYear:s,minValidDate:i,maxValidDate:o}=e.filterParams||{};if(i&&n&&Pe("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&s&&Pe("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),i&&o){const[a,l]=[i,o].map(u=>u instanceof Date?u:Es(u));a&&l&&a.getTime()>l.getTime()&&Pe("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}i?i instanceof Date?t.min=Nf(i):t.min=i:n&&(t.min=`${n}-01-01`),o?o instanceof Date?t.max=Nf(o):t.max=o:s&&(t.max=`${s}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Es(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(mi(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:Tb()||Fb()||vo()&&H3()>=14.1}},A4=class extends be{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=ft,this.valueChangedListener=()=>{}}setupGui(e){var n;this.eFloatingFilterTextInput=this.createManagedBean(new su((n=this.params)==null?void 0:n.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const r=s=>this.valueChangedListener(s);this.addManagedListeners(t,{input:r,keydown:r})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},D4=class extends P4{constructor(){super(...arguments),this.eFloatingFilterInputContainer=ft}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Qv(this.params.filterParams),!this.isReadOnly()){const r=kb(this.params.filterParams,this.getDefaultDebounceMs()),n=ss(this.syncUpWithParentFilter.bind(this),r);this.floatingFilterInputService.setValueChangedListener(n)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();Ys(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===Ce.ENTER;if(this.applyActive&&!t)return;let r=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(r=y4(r),this.floatingFilterInputService.setValue(r,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,r||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},xne=class extends be{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new jb),this.eFloatingFilterTextInput=this.createManagedBean(new su),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),r=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(r),this.setupListeners(t,n=>this.valueChangedListener(n)),this.setupListeners(r,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},Ene=class extends D4{init(e){var t;super.init(e),this.filterModelFormatter=new m4(this.localeService,this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){Qx(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return g4}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=Qx(e.filterParams),this.allowedCharPattern?this.createManagedBean(new A4({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new xne)}},bne=class extends D4{init(e){super.init(e),this.filterModelFormatter=new C4(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return v4}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new A4)}};function Rne(e){var t;return!!((t=e.filterManager)!=null&&t.isQuickFilterPresent())}function Tne(e){return e.gos.get("quickFilterText")}function Fne(e){var t;(t=e.filterManager)==null||t.resetQuickFilterCache()}var Pne=class extends be{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var s;const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),r=this.columnModel.getColDefCols();let n=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(s=this.pivotResultColsService.getPivotResultCols())==null?void 0:s.list:r)??[];t&&(n=n.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?n:n.filter(i=>i.isVisible()||i.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(r=>t?this.doesRowPassQuickFilterCache(e,r):this.doesRowPassQuickFilterNoCache(e,r))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return ke(e)?Er(this.gos)?e.toUpperCase():(Pe("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){Pe(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),r=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,r&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(r=>{const n=this.getQuickFilterTextForColumn(r,e);return ke(n)&&n.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let r;e?(this.checkGenerateQuickFilterAggregateText(t),r=t.quickFilterAggregateText):r=this.getQuickFilterAggregateText(t);const{quickFilterParts:n,matcher:s}=this;return s(n,r)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let r=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const s=this.gos.addGridCommonParams({value:r,node:t,data:t.data,column:e,colDef:n});r=n.getQuickFilterText(s)}return ke(r)?r.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(r=>{const n=this.getQuickFilterTextForColumn(r,e);ke(n)&&t.push(n)}),t.join(`
`)}},Vb={version:Rt,moduleName:"@ag-grid-community/filter-core",beans:[Dre]},Ane={version:Rt,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:vne,onFilterChanged:Cne},dependantModules:[Vb]},Wb={version:Rt,moduleName:"@ag-grid-community/column-filter",beans:[mne],dependantModules:[Vb]},Dne={version:Rt,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:one,getFilterInstance:ane,getColumnFilterInstance:lne,destroyFilter:cne,setFilterModel:une,getFilterModel:dne,getColumnFilterModel:hne,setColumnFilterModel:fne,showColumnFilter:pne},dependantModules:[Wb,Ane]},M4={version:Rt,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:ine}],dependantModules:[Wb]},Mne={version:Rt,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:yne}],dependantModules:[M4]},Nne={version:Rt,moduleName:"@ag-grid-community/simple-filter",dependantModules:[Wb],userComponents:[{name:"agTextColumnFilter",classImp:Xre},{name:"agNumberColumnFilter",classImp:Yre},{name:"agDateColumnFilter",classImp:Zre},{name:"agDateInput",classImp:Sne}]},Ine={version:Rt,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[Nne,M4],userComponents:[{name:"agTextColumnFloatingFilter",classImp:bne},{name:"agNumberColumnFloatingFilter",classImp:Ene},{name:"agDateColumnFloatingFilter",classImp:wne}]},N4={version:Rt,moduleName:"@ag-grid-community/quick-filter-core",beans:[Pne],dependantModules:[Vb]},One={version:Rt,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:Rne,getQuickFilter:Tne,resetQuickFilter:Fne},dependantModules:[N4]},Lne={version:Rt,moduleName:"@ag-grid-community/quick-filter",dependantModules:[N4,One]},kne={version:Rt,moduleName:"@ag-grid-community/filter",dependantModules:[Ine,Mne,Lne,Dne]},Jx=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(Jx||{}),_ne=class extends be{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl});const e=Hr(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){var e;return((e=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:e.getRowCount())??0}getHeaderPositionForColumn(e,t){let r;if(typeof e=="string"?(r=this.columnModel.getCol(e),r||(r=this.visibleColService.getColumnGroup(e))):r=e,!r)return null;const n=this.ctrlsService.getHeaderRowContainerCtrl(),s=n==null?void 0:n.getAllCtrls(),i=Bt(s||[]).getType()==="filter",o=this.getHeaderRowCount()-1;let a=-1,l=r;for(;l;)a++,l=l.getParent();let u=a;return t&&i&&u===o-1&&u++,u===-1?null:{headerRowIndex:u,column:r}}navigateVertically(e,t,r){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n}=t,s=t.column,i=this.getHeaderRowCount(),o=e===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:u}=o?this.headerPositionUtils.getColumnVisibleParent(s,n):this.headerPositionUtils.getColumnVisibleChild(s,n),h=!1;return a<0&&(a=0,l=s,h=!0),a>=i?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):u!==void 0&&(this.currentHeaderRowWithoutSpan=u),!h&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:r})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,r){const n=this.focusService.getFocusedHeader(),s=e===2,i=this.gos.get("enableRtl");let o,a;if(this.currentHeaderRowWithoutSpan!==-1?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,s!==i?(a="Before",o=this.headerPositionUtils.findHeader(n,a)):(a="After",o=this.headerPositionUtils.findHeader(n,a)),o||!t)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:r});if(t){const l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(n,a,r)}focusNextHeaderRow(e,t,r){const n=e.headerRowIndex;let s=null,i;if(t==="Before"?n>0&&(i=n-1,this.currentHeaderRowWithoutSpan-=1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(i,"end")):(i=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),s=this.headerPositionUtils.findColAtEdgeForHeaderRow(i,"start")),!s)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(s.column,s==null?void 0:s.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:r})}scrollToColumn(e,t="After"){if(e.getPinned())return;let r;if(Kr(e)){const n=e.getDisplayedLeafColumns();r=t==="Before"?Bt(n):n[0]}else r=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}},jne=class extends be{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,r){this.comp=e,this.eGui=t,this.createManagedBean(new nu(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:n}),this.mockContextMenuForIPad(n),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var i;const{columnModel:e}=this;let t=0;const r=this.columnModel.getGroupRowsHeight().reduce((o,a)=>o+a,0),n=this.columnModel.getColumnHeaderRowHeight();if((i=this.filterManager)!=null&&i.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=r,t+=n,this.headerHeight===t)return;this.headerHeight=t;const s=`${t+1}px`;this.comp.setHeightAndMinHeight(s),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(r=>r.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),r=e.shiftKey,n=r!==t?2:3;(this.headerNavigationService.navigateHorizontally(n,!0,e)||!r&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(r,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case Ce.LEFT:t=2;case Ce.RIGHT:{ke(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case Ce.UP:t=0;case Ce.DOWN:{ke(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(Nr(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,r){var s;if(!e&&!r||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=e??t;(n===this.eGui||n===((s=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:s.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,e,r)}mockContextMenuForIPad(e){if(!Il())return;const t=new dl(this.eGui),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:r}),this.addDestroyFunc(()=>t.destroy())}},$b=class extends be{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Sn(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),r=this.visibleColsService.getColsLeftWidth(),n=this.visibleColsService.getDisplayedColumnsRightWidth();let s;e?s=t+r+n:(s=t,this.addSpacer&&(this.gos.get("enableRtl")?r:n)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.scrollVisibleService.getScrollbarWidth())),this.callback(s)}},Bne=class extends be{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(r=>{r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?this.columnsToAggregate.push(r):r.isAllowRowGroup()?this.columnsToGroup.push(r):r.isAllowPivot()&&this.columnsToPivot.push(r)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function I4(e){const{isFromHeader:t,fromLeft:r,xPosition:n,fromEnter:s,fakeEvent:i,pinned:o,gos:a,columnModel:l,columnMoveService:u,visibleColsService:h}=e;let{allMovingColumns:p}=e;if(t){const P=[];p.forEach(M=>{var O;let D=null,N=M.getParent();for(;N!=null&&N.getDisplayedLeafColumns().length===1;)D=N,N=N.getParent();D!=null?(!!((O=D.getColGroupDef())!=null&&O.marryChildren)?D.getProvidedColumnGroup().getLeafColumns():D.getLeafColumns()).forEach(B=>{P.includes(B)||P.push(B)}):P.includes(M)||P.push(M)}),p=P}const g=p.slice();l.sortColsLikeCols(g);const C=Wne({movingCols:g,draggingRight:r,xPosition:n,pinned:o,gos:a,columnModel:l,visibleColsService:h}),w=Gne(g,l);if(C.length===0)return;const y=C[0];let S=w!==null&&!s;if(t&&(S=w!==null),S&&!i&&(!r&&y>=w||r&&y<=w))return;const E=h.getAllCols(),b=[];let T=null;for(let P=0;P<C.length;P++){const M=C[P],D=u.getProposedColumnOrder(g,M);if(!u.doesOrderPassRules(D))continue;const N=D.filter(j=>E.includes(j));if(T===null)T=N;else if(!Nl(N,T))break;const O=Hne(D);b.push({move:M,fragCount:O})}if(b.length===0)return;b.sort((P,M)=>P.fragCount-M.fragCount);const R=b[0].move;if(!(R>l.getCols().length-p.length))return{columns:p,toIndex:R}}function Ub(e){const{columns:t,toIndex:r}=I4(e)||{},{finished:n,columnMoveService:s}=e;return!t||r==null?null:(s.moveColumns(t,r,"uiColumnMoved",n),n?null:{columns:t,toIndex:r})}function Gne(e,t){const r=t.getCols(),n=Dee(e.map(l=>r.indexOf(l))),s=n[0];return Bt(n)-s!==n.length-1?null:s}function Hne(e){function t(n){const s=[];let i=n.getOriginalParent();for(;i!=null;)s.push(i),i=i.getOriginalParent();return s}let r=0;for(let n=0;n<e.length-1;n++){let s=t(e[n]),i=t(e[n+1]);[s,i]=s.length>i.length?[s,i]:[i,s],s.forEach(o=>{i.indexOf(o)===-1&&r++})}return r}function Vne(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function Wne(e){const{movingCols:t,draggingRight:r,xPosition:n,pinned:s,gos:i,columnModel:o,visibleColsService:a}=e;if(i.get("suppressMovableColumns")||t.some(T=>T.getColDef().suppressMovable))return[];const u=Vne(a,s),h=o.getCols(),p=u.filter(T=>Fc(t,T)),g=u.filter(T=>!Fc(t,T)),C=h.filter(T=>!Fc(t,T));let w=0,y=n;if(r){let T=0;p.forEach(R=>T+=R.getActualWidth()),y-=T}if(y>0){for(let T=0;T<g.length;T++){const R=g[T];if(y-=R.getActualWidth(),y<0)break;w++}r&&w++}let S;if(w>0){const T=g[w-1];S=C.indexOf(T)+1}else S=C.indexOf(g[0]),S===-1&&(S=0);const E=[S],b=(T,R)=>T-R;if(r){let T=S+1;const R=h.length-1;for(;T<=R;)E.push(T),T++;E.sort(b)}else{let T=S;const R=h.length-1;let P=h[T];for(;T<=R&&u.indexOf(P)<0;)T++,E.push(T),P=h[T];T=S-1;const M=0;for(;T>=M;)E.push(T),T--;E.sort(b).reverse()}return E}function Jv(e){var u;const{pinned:t,fromKeyboard:r,gos:n,ctrlsService:s,useHeaderRow:i,skipScrollPadding:o}=e;let a=(u=s.getHeaderRowContainerCtrl(t))==null?void 0:u.getViewportElement(),{x:l}=e;return a?(r&&(l-=a.getBoundingClientRect().left),n.get("enableRtl")&&(i&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=s.get("center").getCenterViewportScrollLeft()),l):0}function Cd(e,t){for(const r of e)r.setMoving(t,"uiColumnMoved")}var Z2=7,Zx=100,Am=Zx/2,$ne=5,Une=100,zne=class extends be{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!ke(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){var t;const e=((t=this.lastDraggingEvent)==null?void 0:t.dragItem.columns)??[];for(const r of e){const n=r.getPinned();if(r.getColDef().lockPinned){if(n==this.pinned)return"move";continue}if(n===this.pinned||!this.pinned)return"move";if(!n&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,s=(t||[]).filter(i=>n[i.getId()]);this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,r=!1,n=!1){const s=this.gos.get("suppressMoveWhenColumnDragging");if(n&&!s){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&Gt(e.hDirection))return;const{pinned:i,gos:o,ctrlsService:a}=this,l=Jv({x:e.x,pinned:i,gos:o,ctrlsService:a});t||this.checkCenterForScrolling(l),s?this.handleColumnDragWhileSuppressingMovement(e,t,r,l,n):this.handleColumnDragWhileAllowingMovement(e,t,r,l,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,r){if(!e)return;const n=e.filter(s=>!s.getColDef().lockVisible);this.columnModel.setColsVisible(n,t,r)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,r,n,s){const i=this.getAllMovingColumns(e,!0);if(s){const o=this.isAttemptingToPin(i);o&&this.attemptToPinColumns(i,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(i,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:i,xPosition:l,fromEnter:t,fakeEvent:r,fromLeft:a})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(i,n)}}handleColumnDragWhileAllowingMovement(e,t,r,n,s){const i=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)===1,a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:i,isFromHeader:a,xPosition:n,fromLeft:o,fromEnter:t,fakeEvent:r}),u=Ub({...l,finished:s});u&&(this.lastMovedInfo=u)}getAllMovingColumns(e,t=!1){const r=e.dragSource.getDragItem();let n=null;t?(n=r.columnsInSplit,n||(n=r.columns)):n=r.columns;const s=i=>i.getColDef().lockPinned?i.getPinned()==this.pinned:!0;return n?n.filter(s):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:r,xPosition:n,fromLeft:s,fromEnter:i,fakeEvent:o}=e,{pinned:a,gos:l,columnModel:u,columnMoveService:h,visibleColsService:p}=this;return{allMovingColumns:t,isFromHeader:r,fromLeft:s,xPosition:n,pinned:a,fromEnter:i,fakeEvent:o,gos:l,columnModel:u,columnMoveService:h,visibleColsService:p}}findFirstAndLastMovingColumns(e){const t=e.length;let r,n;for(let s=0;s<=t;s++){if(!r){const i=e[s];i.getLeft()!=null&&(r=i)}if(!n){const i=e[t-1-s];i.getLeft()!=null&&(n=i)}if(r&&n)break}return{firstMovingCol:r,lastMovingCol:n}}highlightHoveredColumn(e,t){var h;const{gos:r,columnModel:n}=this,s=r.get("enableRtl"),i=n.getCols().filter(p=>p.isVisible()&&p.getPinned()===this.pinned);let o=null,a=null,l=null;for(const p of i){if(a=p.getActualWidth(),o=this.getNormalisedColumnLeft(p,0,s),o!=null){const g=o+a;if(o<=t&&g>=t){l=p;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let p=i.length-1;p>=0;p--){const g=i[p],C=i[p].getParent();if(!C){l=g;break}const w=C==null?void 0:C.getDisplayedLeafColumns();if(w.length){l=Bt(w);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,s),a=l.getActualWidth()}if(((h=this.lastHighlightedColumn)==null?void 0:h.column)!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let u;t-o<a/2!==s?u=0:u=1,l.setHighlighted(u),this.lastHighlightedColumn={column:l,position:u}}getNormalisedXPositionInfo(e,t){const{gos:r,visibleColsService:n}=this,s=r.get("enableRtl"),{firstMovingCol:i,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,s);if(!i||!o||a==null)return;const l=n.getAllCols(),u=l.indexOf(i),h=l.indexOf(o),p=a===0!==s,g=u<h||u===h&&!p;let C=0;if(p?g&&(C-=1):g||(C+=1),h+C===u)return;const w=l[h+C];if(!w)return;const y=this.getNormalisedColumnLeft(w,20,s);return{fromLeft:g,xPosition:y}}getColumnMoveAndTargetInfo(e,t,r){const n=this.lastHighlightedColumn||{},{firstMovingCol:s,lastMovingCol:i}=this.findFirstAndLastMovingColumns(e);if(!s||!i||n.column||!t)return{firstMovingCol:s,...n};const a=this.getPinDirection()==="left";return{firstMovingCol:s,position:a?1:0,column:a!==r?s:i}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,r){const{gos:n,ctrlsService:s}=this,i=e.getLeft();if(i==null)return null;const o=e.getActualWidth();return Jv({x:r?i+o-t:i+t,pinned:e.getPinned(),useHeaderRow:r,skipScrollPadding:!0,gos:n,ctrlsService:s})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,r=this.failedMoveAttempts>Z2;return t&&r||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:r,fromEnter:n,fakeEvent:s,fromLeft:i}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:r,fromLeft:i,fromEnter:n,fakeEvent:s}),{columns:a,toIndex:l}=I4(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),r=t.getCenterViewportScrollLeft(),n=r+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<r+Am,this.needToMoveLeft=e>n-Am):(this.needToMoveLeft=e<r+Am,this.needToMoveRight=e>n-Am),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),Une),(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName()))}moveInterval(){var n,s;let e;this.intervalCount++,e=10+this.intervalCount*$ne,e>Zx&&(e=Zx);let t=null;const r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=r.scrollHorizontally(-e):this.needToMoveRight&&(t=r.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=Z2+1)return;if((n=this.dragAndDropService.getDragAndDropImageComponent())==null||n.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const i=(s=this.lastDraggingEvent)==null?void 0:s.dragItem.columns;this.attemptToPinColumns(i,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,r=!1){const n=(e||[]).filter(s=>!s.getColDef().lockPinned);return n.length?(r&&(t=this.getPinDirection()),this.columnModel.setColsPinned(n,t,"uiColumnDragged"),r&&this.dragAndDropService.nudge(),n.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},Kne=class extends be{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new zne(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new Bne(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},qne=class extends be{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,r,n,s){super(),this.pinned=e,this.column=t,this.eResize=r,this.comp=n,this.ctrl=s}postConstruct(){const e=[];let t,r;const n=()=>{if(Dr(this.eResize,t),!t)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(o),r){const a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const u=new dl(this.eResize);u.addEventListener("doubleTap",l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),u.removeEventListener("doubleTap",l),u.destroy()})}},s=()=>{e.forEach(o=>o()),e.length=0},i=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==r)&&(t=o,r=a,s(),n())};i(),this.addDestroyFunc(s),this.ctrl.setRefreshFunction("resize",i)}onResizing(e,t){const{column:r,lastResizeAmount:n,resizeStartWidth:s}=this,i=this.normaliseResizeAmount(t),o=s+i,a=[{key:r,newWidth:o}];if(this.column.getPinned()){const l=this.pinnedWidthService.getPinnedLeftWidth(),u=this.pinnedWidthService.getPinnedRightWidth(),h=_p(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+u+(i-n)>h)return}this.lastResizeAmount=i,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const r=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?r&&(t*=-1):n&&(t*=-1),t}},Yne=class extends be{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Nr(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Ib),this.cbSelectAll.addCssClass("ag-header-select-all"),Ki(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${n} (${r})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return b3(this.gos)?!0:(Pe(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return Er(this.gos)||bo(this.gos)?!0:(Pe(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),r=this.isCurrentPageOnly();let n="uiSelectAll";r?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");const s={source:n,justFiltered:t,justCurrentPage:r};e?this.selectionService.selectAllRowNodes(s):this.selectionService.deselectAllRowNodes(s)}isCheckboxSelection(){const e=this.gos.get("rowSelection"),t=typeof e=="object"&&Hv(e)&&Op(this.column),r=this.column.getColDef().headerCheckboxSelection;let n=!1;return t?n=!0:typeof r=="function"?n=r(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):n=!!r,n&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},Xne=class extends Z0{constructor(e,t,r){super(e,t,r),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,r,n,s){this.comp=e,s=Lp(this,this.beans.context,s),this.setGui(t,s),this.updateState(),this.setupWidth(s),this.setupMovingCss(s),this.setupMenuClass(s),this.setupSortableClass(s),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:o=>this.setRefreshFunction("measuring",o),compBean:s}),this.addColumnHoverListener(s),this.setupFilterClass(s),this.setupClassesFromColDef(),this.setupTooltip(s),this.addActiveHeaderMouseListeners(s),this.setupSelectAll(s),this.setupUserComp(s),this.refreshAria(),this.resizeFeature=s.createManagedBean(new qne(this.getPinned(),this.column,r,e,this)),s.createManagedBean(new Hb([this.column],t)),s.createManagedBean(new Gb(this.column,t,this.beans)),s.createManagedBean(new nu(t,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(s),s.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(s)),s.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(s)}),s.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const i=()=>this.checkDisplayName(s);s.addManagedEventListeners({columnValueChanged:i,columnRowGroupChanged:i,columnPivotChanged:i,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),s.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){if(!this.column.isResizable())return;const r=this.column.getActualWidth(),n=this.column.getMinWidth(),s=this.column.getMaxWidth(),i=Math.min(Math.max(r+e,n),s);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:i}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:r,column:n,ctrlsService:s}=this,{gos:i,columnModel:o,columnMoveService:a,visibleColsService:l}=r,u=this.getPinned(),h=t.getBoundingClientRect().left,p=n.getActualWidth(),g=i.get("enableRtl"),w=Jv({x:e===0!==g?h-20:h+p+20,pinned:u,fromKeyboard:!0,gos:i,ctrlsService:s}),y=this.focusService.getFocusedHeader();Ub({allMovingColumns:[n],isFromHeader:!0,fromLeft:e===1,xPosition:w,pinned:u,fromEnter:!1,fakeEvent:!1,gos:i,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&y&&this.restoreFocus(y)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),r=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(r,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:r=>{this.menuService.showColumnMenu({column:this.column,buttonElement:r,positionBy:"button"})},showColumnMenuAfterMouseClick:r=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:r,positionBy:"mouse"})},showFilter:r=>{this.menuService.showFilterMenu({column:this.column,buttonElement:r,containerType:"columnFilter",positionBy:"button"})},progressSort:r=>{this.beans.sortController.progressSort(this.column,!!r,"uiColumnSorted")},setSort:(r,n)=>{this.beans.sortController.setSortForColumn(this.column,r,!!n,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(r,n)=>{this.setupTooltip(e,r,n)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new Yne(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Ce.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===Ce.ENTER&&this.onEnterKeyDown(e),e.key===Ce.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const r=this.comp.getUserCompInstance();!r||!(r instanceof qx)||r.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,r){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.gos.get("tooltipShowMode")==="whenTruncated",s=this.eGui,i=this.column.getColDef();!r&&n&&!i.headerComponent&&(r=()=>{const l=s.querySelector(".ag-header-cell-text");return l?l.scrollWidth>l.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>s,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:r},a=e.createManagedBean(new lh(o));this.setRefreshFunction("tooltip",()=>a.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),r=b4(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(r),r.forEach(s=>{n.has(s)?n.delete(s):this.comp.addOrRemoveCssClass(s,!0)}),n.forEach(s=>this.comp.addOrRemoveCssClass(s,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:r,displayName:n,dragAndDropService:s,gos:i}=this,{columnModel:o}=r;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),Cd([t],!0)},onDragStopped:()=>Cd([t],!1),onDragCancelled:()=>Cd([t],!1),onGridEnter:u=>{var h;if(a){const p=((h=u==null?void 0:u.columns)==null?void 0:h.filter(g=>!g.getColDef().lockVisible))||[];o.setColsVisible(p,!0,"uiColumnMoved")}},onGridExit:u=>{var h;if(a){const p=((h=u==null?void 0:u.columns)==null?void 0:h.filter(g=>!g.getColDef().lockVisible))||[];o.setColsVisible(p,!1,"uiColumnMoved")}}};s.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(t=>t())}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const r=this.column.getActualWidth();this.comp.setWidth(`${r}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const r=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",r),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,r=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",r)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:r,beans:n}=this,s=this.beans.columnModel.getGroupRowsHeight(),i=s.reduce((p,g)=>p+=g,0)===0;if(r.addOrRemoveCssClass("ag-header-parent-hidden",i),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),r.addOrRemoveCssClass("ag-header-span-height",!1),r.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();r.addOrRemoveCssClass("ag-header-span-height",o>0);const{columnModel:l}=n,u=l.getColumnHeaderRowHeight();if(o===0){r.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${u}px`);return}r.addOrRemoveCssClass("ag-header-span-total",a);let h=0;for(let p=0;p<o;p++)h+=s[s.length-1-p];e.style.setProperty("top",`${-h}px`),e.style.setProperty("height",`${u+h}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(lte(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Nr(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,r)=>t==="filter"?-1:r.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const r=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),r=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof qx?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},Qne=class extends be{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,r,n){super(),this.eResize=t,this.comp=e,this.pinned=r,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const r=[];this.columnGroup.getDisplayedLeafColumns().forEach(s=>{s.getColDef().suppressAutoSize||r.push(s.getColId())}),r.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:r,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,r="uiColumnResized"){const n=this.normaliseDragChange(t),s=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(s,r,e)}getInitialValues(e){const t=this.getColumnsToResize(),r=this.getInitialSizeOfColumns(t),n=this.getSizeRatiosOfColumns(t,r),s={columnsToResize:t,resizeStartWidth:r,resizeRatios:n};let i=null;if(e&&(i=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),i){const o=i.getDisplayedLeafColumns(),a=s.groupAfterColumns=o.filter(u=>u.isResizable()),l=s.groupAfterStartWidth=this.getInitialSizeOfColumns(a);s.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:r,resizeRatios:n,groupAfterColumns:s,groupAfterStartWidth:i,groupAfterRatios:o}=e;this.resizeCols=t,this.resizeStartWidth=r,this.resizeRatios=n,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=i,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();t>r.resizeStartWidth&&this.resizeColumns(r,t,e,!0)}resizeColumnsFromLocalValues(e,t,r=!0){if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(n,e,t,r)}resizeColumns(e,t,r,n=!0){const{columnsToResize:s,resizeStartWidth:i,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,h=[];if(h.push({columns:s,ratios:o,width:t}),a){const p=t-i;h.push({columns:a,ratios:u,width:l-p})}this.columnSizeService.resizeColumnSets({resizeSets:h,finished:n,source:r}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(r=>r.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},Jne=class extends be{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},Zne=class extends Z0{constructor(e,t,r){super(e,t,r),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const n=this.getGui();this.setDragSource(n)}},this.column=e}setComp(e,t,r,n,s){this.comp=e,s=Lp(this,this.beans.context,s),this.setGui(t,s),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(s),this.setupExpandable(s),this.setupTooltip(s),this.setupAutoHeight({wrapperElement:n,compBean:s}),this.setupUserComp(s),this.addHeaderMouseListeners(s),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const i=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();s.createManagedBean(new Hb(o,t)),s.createManagedBean(new Gb(this.column,t,this.beans)),s.createManagedBean(new Jne(e,this.column)),this.resizeFeature=s.createManagedBean(new Qne(e,r,i,this.column)),s.createManagedBean(new nu(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(s,o),s.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(s),s.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,r=e.get("groupHeaderHeight");r!=null?r===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(r):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const r of t)e.addManagedListeners(r,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,r)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),r=t[0]===e,n=Bt(t)===e;if(!r&&!n)return;const s=e.getHighlighted(),i=!!this.getParentRowCtrl().findHeaderCellCtrl(l=>l.getColumnGroupChild().isMoving());let o=!1,a=!1;if(i){const l=this.beans.gos.get("enableRtl"),u=s===1,h=s===0;r&&(l?a=u:o=h),n&&(l?o=h:a=u)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const r=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:r,column:n,ctrlsService:s}=this,{gos:i,columnModel:o,columnMoveService:a,visibleColsService:l}=t,u=i.get("enableRtl"),h=e===0,p=this.getPinned(),g=r.getBoundingClientRect(),C=g.left,w=g.width,y=Jv({x:h!==u?C-20:C+w+20,pinned:p,fromKeyboard:!0,gos:i,ctrlsService:s}),S=n.getGroupId(),E=this.focusService.getFocusedHeader();Ub({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:y,pinned:p,fromEnter:!1,fakeEvent:!1,gos:i,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0});const b=n.getDisplayedLeafColumns(),T=h?b[0]:Bt(b);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(T,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&E&&this.restoreFocus(S,n,E)}restoreFocus(e,t,r){const n=t.getLeafColumns();if(!n.length)return;const s=n[0].getParent();if(!s)return;const i=this.findGroupWidthId(s,e);i&&this.focusService.focusHeaderPosition({headerPosition:{...r,column:i}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:n=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),n,"gridInitializing")},setTooltip:(n,s)=>{this.setupTooltip(e,n,s)}}),r=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(r)}addHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),r=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,r){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.column.getColGroupDef(),s=this.gos.get("tooltipShowMode")==="whenTruncated",i=this.eGui;!r&&s&&!(n!=null&&n.headerGroupComponent)&&(r=()=>{const a=i.querySelector(".ag-header-group-text");return a?a.scrollWidth>a.clientWidth:!0});const o={getColumn:()=>this.column,getGui:()=>i,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(n&&n.headerTooltip),shouldDisplayTooltip:r};n&&(o.getColDef=()=>n),e.createManagedBean(new lh(o))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const r=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:r,expandableChanged:r})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=b4(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e!=null&&e.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(r=>this.comp.addOrRemoveCssClass(r,!0))}setupMovingCss(e){const r=this.column.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());r.forEach(s=>{e.addManagedListeners(s,{movingChanged:n})}),n()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Ce.ENTER){const r=this.column,n=!r.isExpanded();this.beans.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:r,displayName:n,gos:s,dragAndDropService:i}=this,{columnModel:o}=t,a=r.getProvidedColumnGroup().getLeafColumns();let l=!s.get("suppressDragLeaveHidesColumns");const u=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:n,getDragItem:()=>this.getDragItemForGroup(r),onDragStarted:()=>{l=!s.get("suppressDragLeaveHidesColumns"),Cd(a,!0)},onDragStopped:()=>Cd(a,!1),onDragCancelled:()=>Cd(a,!1),onGridEnter:h=>{if(l){const{columns:p=[],visibleState:g}=h??{},C=p.filter(w=>!w.getColDef().lockVisible&&(!g||g[w.getColId()]));o.setColsVisible(C,!0,"uiColumnMoved")}},onGridExit:h=>{var p;if(l){const g=((p=h==null?void 0:h.columns)==null?void 0:p.filter(C=>!C.getColDef().lockVisible))||[];o.setColsVisible(g,!1,"uiColumnMoved")}}};i.addDragSource(u,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),r={};t.forEach(o=>r[o.getId()]=o.isVisible());const n=[];this.beans.visibleColsService.getAllCols().forEach(o=>{t.indexOf(o)>=0&&(n.push(o),is(t,o))}),t.forEach(o=>n.push(o));const s=[],i=e.getLeafColumns();for(const o of n)i.indexOf(o)!==-1&&s.push(o);return{columns:n,columnsInSplit:s,visibleState:r}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(r=>{(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},ese=0,eS=class extends be{constructor(e,t,r){super(),this.instanceId=ese++,this.rowIndex=e,this.pinned=t,this.type=r;const n=r=="group"?"ag-header-row-column-group":r=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=Sn(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,t,r=!0){this.comp=e,t=Lp(this,this.beans.context,t),r&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return uv(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=Sn(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,r=[],n=e.getGroupRowsHeight(),s=e.getColumnHeaderRowHeight();r.push(...n),r.push(s),t!=null&&t.hasFloatingFilters()&&r.push(e.getFloatingFiltersHeight());let i=0;for(let a=0;a<this.rowIndex;a++)i+=r[a];const o=r[this.rowIndex];return{topOffset:i,rowHeight:o}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,r,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,e);const r=n=>{const{focusService:s,visibleColsService:i}=this.beans;return s.isHeaderWrapperFocused(n)?i.isVisible(n.getColumnGroupChild()):!1};if(e)for(const[n,s]of e)r(s)?this.headerCellCtrls.set(n,s):this.destroyBean(s);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const r=e.getUniqueId();let n;if(t&&(n=t.get(r),t.delete(r)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":n=this.createBean(new Zne(e,this.beans,this));break;default:n=this.createBean(new Xne(e,this.beans,this));break}this.headerCellCtrls.set(r,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:r}=this.beans;return["left",null,"right"].forEach(n=>{const s=r.getHeadersToRender(n,t);e=e.concat(s)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let r;return typeof e=="function"?r=t.find(e):r=t.find(n=>n.getColumnGroupChild()==e),r}focusHeader(e,t){const r=this.findHeaderCellCtrl(e);return r?r.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},tse=class extends be{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const r=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:r,advancedFilterEnabledChanged:r});const n=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(n,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new Ud,r=this.focusService.getFocusHeaderToUseAfterRefresh(),n=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const u=this.createBean(new eS(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(u)}},s=()=>{const a=t.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new eS(a,this.pinned,"column")))},i=()=>{var u;this.includeFloatingFilter=!!((u=this.filterManager)!=null&&u.hasFloatingFilters())&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const l=t.next();if(this.filtersRowCtrl){const h=this.filtersRowCtrl.getRowIndex()!==l;(!e||h)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new eS(l,this.pinned,"filter")))};n(),s(),i();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(r)}getHeaderCtrlForColumn(e){var t;if(xl(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let r=0;r<this.groupsRowCtrls.length;r++){const n=this.groupsRowCtrls[r].getHeaderCellCtrl(e);if(n)return n}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const r=this.getAllCtrls()[e];return r?r.getType():void 0}focusHeader(e,t,r){const s=this.getAllCtrls()[e];return s?s.focusHeader(t,r):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new Kne(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var t;const e=((t=this.filterManager)==null?void 0:t.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new $b(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const r=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(n==null)return;const s=n==0,i=this.hidden!==s,o=this.gos.get("enableRtl"),a=this.scrollVisibleService.getScrollbarWidth(),u=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?n+a:n;this.comp.setPinnedContainerWidth(`${u}px`),this.comp.setDisplayed(!s),i&&(this.hidden=s,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}},zb=class extends be{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},r=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(r,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(Pe(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},rse=class extends gr{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=ft,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==Ce.TAB||e.defaultPrevented||Jo(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=this.focusService.focusGridView(Bt(this.visibleColsService.getAllCols()),!0,!1):r=this.focusService.focusNextGridCoreContainer(!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const r=this.eOverlayWrapper.classList;r.toggle("ag-layout-auto-height",t.autoHeight),r.toggle("ag-layout-normal",t.normal),r.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new zb(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,r,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),r&&this.focusService.isGridFocused()){const s=Nr(this.gos);s&&!y3(this.gos)&&(this.elToFocusAfter=s)}e.then(s=>{if(this.activePromise!==e){this.activeOverlay!==s&&(this.destroyBean(s),s=null);return}if(this.activePromise=null,!s)return;if(this.activeOverlay!==s&&(this.eOverlayWrapper.appendChild(s.getGui()),this.activeOverlay=s,n)){const o=s;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:a})=>{var l;(l=o.refresh)==null||l.call(o,this.gos.addGridCommonParams({...a??{}}))})}const i=this.focusService;r&&i.isGridFocused()&&i.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var n;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const r=this.updateListenerDestroyFunc;r&&(r(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Ys(this.eOverlayWrapper),(n=t==null?void 0:t.focus)==null||n.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},O4=class extends gr{constructor(e,t){super(),this.direction=t,this.eViewport=ft,this.eContainer=ft,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",V3()||Il())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=$3(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),r=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:r,touchend:r})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();Cee(()=>Co(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},nse=class extends O4{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=ft,this.eRightSpacer=ft}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new $b(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const r=!this.enableRtl&&e,n=this.scrollVisibleService.getScrollbarWidth();r&&(t+=n),Vi(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let s=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(s+=n),Vi(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,r=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleService.getScrollbarWidth()||0,i=r?0:n===0&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Af(this.getGui(),i),Af(this.eViewport,i),Af(this.eContainer,i),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return qv(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){Co(this.getViewportElement())||this.attemptSettingScrollPosition(e),Yv(this.getViewportElement(),e,this.enableRtl)}},L4=class extends be{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},sse=class extends O4{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new L4(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,r=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=r===0&&t?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Vi(this.getGui(),n),Vi(this.eViewport,n),Vi(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,r=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),s=r.scrollTop;n!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!Co(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},e1=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(e1||{}),ise=class extends be{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=ss(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=ss(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(e1)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),r=t?ss(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),n=t?ss(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:r}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(e1),"Viewport"]){if(this.lastScrollSource[1]===t)continue;const r=this.getViewportForSource(t);Yv(r,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:r}=t;if(this.shouldBlockScrollUpdate(1,r,!0))return;const n=qv(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;e==="Viewport"?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,r=!1){return r&&!Il()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Ab(this.eBodyViewport),{scrollHeight:r}=this.eBodyViewport;return e<0||e+t>r}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:r}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&Kv()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>r}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&Kv()?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),Yv(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const r=this.rowModel.getRowCount();let n=-1;for(let s=0;s<r;s++){const i=this.rowModel.getRow(s);if(typeof e=="function"){if(i&&e(i)){n=s;break}}else if(e===i||e===i.data){n=s;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(Sn(this.gos,"print"))return;const r=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=r){Pe("Invalid row index for ensureIndexVisible: "+e);return}const s=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var h;s||(h=this.paginationService)==null||h.goToPageWithIndex(e);const i=this.ctrlsService.getGridBodyCtrl(),o=i.getStickyTopHeight(),a=i.getStickyBottomHeight(),l=this.rowModel.getRow(e);let u;do{const p=l.rowTop,g=l.rowHeight,C=this.pageBoundsService.getPixelOffset(),w=l.rowTop-C,y=w+l.rowHeight,S=this.getVScrollPosition(),E=this.heightScaler.getDivStretchOffset(),b=S.top+E,T=S.bottom+E,R=T-b,P=this.heightScaler.getScrollPositionForPixel(w),M=this.heightScaler.getScrollPositionForPixel(y-R),D=Math.min((P+M)/2,w),N=b+o>w,O=T-a<y;let j=null;t==="top"?j=P:t==="bottom"?j=M:t==="middle"?j=D:N?j=P-o:O&&(j=M+a),j!==null&&(this.setVerticalScrollPosition(j),this.rowRenderer.redraw({afterScroll:!0})),u=p!==l.rowTop||g!==l.rowHeight}while(u);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const r=this.columnModel.getCol(e);if(!r||r.isPinned()||!this.visibleColsService.isColDisplayed(r))return;const n=this.getPositionedHorizontalScroll(r,t);this.getFrameworkOverrides().wrapIncoming(()=>{n!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(n),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:r,columnAfterEnd:n}=this.isColumnOutsideViewport(e),s=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),i=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?r:n)||s,l=o?n:r;t!=="auto"&&(a=t==="start",l=t==="end");const u=t==="middle";if(a||l||u){const{colLeft:h,colMiddle:p,colRight:g}=this.getColumnBounds(e);return u?p-i/2:a?o?g:h:o?h-i:g-i}return null}isColumnOutsideViewport(e){const{start:t,end:r}=this.getViewportBounds(),{colLeft:n,colRight:s}=this.getColumnBounds(e),i=this.enableRtl,o=i?t>s:r<s,a=i?r<n:t>n;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,r=this.visibleColsService.getBodyContainerWidth(),n=e.getActualWidth(),s=e.getLeft(),i=t?-1:1,o=t?r-s:s,a=o+n*i,l=o+n/2*i;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),r=t,n=e+t;return{start:r,end:n,width:e}}},ose=class extends be{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=_p(e);if(t<=50)return;let r=this.getPinnedColumnsOverflowingViewport(t-50);const n=this.gos.getCallback("processUnpinnedColumns");r.length&&(n&&(r=n({columns:r,viewportWidth:t})),this.columnModel.setColsPinned(r,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),r=this.pinnedWidthService.getPinnedLeftWidth(),n=t+r;if(n<e)return[];const s=[...this.visibleColsService.getLeftCols()],i=[...this.visibleColsService.getRightCols()];let o=0,a=0;const l=0,u=[];let h=n-l-e;for(;(a<s.length||o<i.length)&&h>0;){if(o<i.length){const p=i[o++];h-=p.getActualWidth(),u.push(p)}if(a<s.length&&h>0){const p=s[a++];h-=p.getActualWidth(),u.push(p)}}return u}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=Ab(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},ase=class extends be{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{la(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),la(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},lse=class extends gr{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Ob]),this.eCheckbox=ft}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),r=Rb(e,t),[n,s]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],i=e(n,s);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${i} (${r})`)}onClicked(e,t,r){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:r.shiftKey,groupSelectsFiltered:t,event:r,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:n=>Wd(n),click:n=>{Wd(n);const s=wb(this.gos)==="filteredDescendants",i=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(i,s)?this.onClicked(!0,s,n||{})===0&&this.onClicked(!1,s,n):i?this.onClicked(!1,s,n):this.onClicked(!0,s,n||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),yb(this.gos)||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&Er(this.gos)}showOrHideSelect(){var s,i,o;let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if(typeof t=="function"){const a=(s=this.overrides)==null?void 0:s.callbackParams;if(!this.column)e=t({...a,node:this.rowNode,data:this.rowNode.data});else{const l=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...a,...l})}}else e=t??!1;const r=this.gos.get("rowSelection");if(r&&typeof r!="string"?!Eee(r):(i=this.column)==null?void 0:i.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if((o=this.overrides)!=null&&o.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){var t,r;if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&typeof e!="string"?Vd(e):(r=(t=this.column)==null?void 0:t.getColDef())==null?void 0:r.checkboxSelection}},cse=class extends gr{constructor(e,t,r){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=r}postConstruct(){this.getGui().appendChild(Ws("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const r=()=>{try{const n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}};if(t){const n=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(n)}else r()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},use=class extends be{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,r=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,r,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const r=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),n=e.cellStyle;t=n(r)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!0))}destroy(){super.destroy()}},dse=class extends be{constructor(e,t,r,n,s){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=s}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case Ce.ENTER:this.onEnterKeyDown(e);break;case Ce.F2:this.onF2KeyDown(e);break;case Ce.ESCAPE:this.onEscapeKeyDown(e);break;case Ce.TAB:this.onTabKeyDown(e);break;case Ce.BACKSPACE:case Ce.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Ce.DOWN:case Ce.UP:case Ce.RIGHT:case Ce.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:r,beans:n,rowNode:s}=this,{gos:i,rangeService:o,eventService:a}=n;if(!r.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),Kre(e,i.get("enableCellEditingOnBackspace"))){if(o&&la(i))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(r.isCellEditable()){const l=r.getColumn(),u=this.beans.valueService.getDeleteValue(l,s);s.setDataValue(l,u,"cellClear")}}else r.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?Ce.UP:Ce.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(Ce.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Ce.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const n=e.key;n===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(n,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&Bv(t)){const r=this.rowNode.isSelected(),n=!r,s=wb(t)==="filteredDescendants",i=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"});r===void 0&&i===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},hse=class extends be{constructor(e,t,r){super(),this.cellCtrl=e,this.beans=t,this.column=r}onMouseEvent(e,t){if(!Jo(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:r,gos:n}=this.beans,s=e.ctrlKey||e.metaKey;r&&s&&r.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&r.intersectLastRange(!0);const i=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(i);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(i)})},0),(n.get("singleClickEdit")||o.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&(r==null?void 0:r.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Il()||P3("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:r,cellCtrl:n}=this,{eventService:s,frameworkOverrides:i,gos:o}=r,a=t.getColDef(),l=n.createEvent(e,"cellDoubleClicked");s.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{i.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&n.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:r,shiftKey:n}=e,s=e.target,{cellCtrl:i,beans:o}=this,{eventService:a,rangeService:l,focusService:u,gos:h}=o;if(this.isRightClickInExistingRange(e))return;const p=l&&l.getCellRanges().length!=0;if(!n||!p){const C=h.get("enableCellTextSelection")&&e.defaultPrevented,w=(vo()||C)&&!i.isEditing()&&!Pb(s);i.focusCell(w)}if(n&&p&&!u.isCellFocused(i.getCellPosition())){e.preventDefault();const g=u.getFocusedCell();if(g){const{column:C,rowIndex:w,rowPinned:y}=g,S=o.rowRenderer.getRowByPosition({rowIndex:w,rowPinned:y}),E=S==null?void 0:S.getCellCtrl(C);E!=null&&E.isEditing()&&E.stopEditing(),u.setFocusedCell({column:C,rowIndex:w,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(l){const g=this.cellCtrl.getCellPosition();if(n)l.extendLatestRangeToCell(g);else{const C=t||r;l.setRangeToCell(g,C)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const r=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(r&&n)return!0}return!1}containsWidget(e){return vd(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),r=t.contains(e.target),n=t.contains(e.relatedTarget);return r&&n}destroy(){super.destroy()}},fse=class extends be{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Nl(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let r=this.column;const n=this.column.getPinned();for(let s=0;r&&s<e&&(t.push(r),r=this.beans.visibleColsService.getColAfter(r),!(!r||Gt(r)||n!==r.getPinned()));s++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Bt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=this.beans.visibleColsService.getBodyContainerWidth();return t+r+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const r=Tc(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${r}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},uf="ag-cell-range-selected",pse="ag-cell-range-chart",gse="ag-cell-range-single-cell",mse="ag-cell-range-chart-category",vse="ag-cell-range-handle",Cse="ag-cell-range-top",yse="ag-cell-range-right",wse="ag-cell-range-bottom",Sse="ag-cell-range-left",xse=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(uf,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${uf}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${uf}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${uf}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${uf}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(pse,this.hasChartRange),Uv(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(gse,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),r=!t&&e.top,n=!t&&e.right,s=!t&&e.bottom,i=!t&&e.left;this.cellComp.addOrRemoveCssClass(Cse,r),this.cellComp.addOrRemoveCssClass(yse,n),this.cellComp.addOrRemoveCssClass(wse,s),this.cellComp.addOrRemoveCssClass(Sse,i)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(r=>Fc([1,0],r.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,r=!1,n=!1,s=!1;const i=this.cellCtrl.getCellPosition().column,o=this.beans.visibleColsService;let a,l;e?(a=o.getColAfter(i),l=o.getColBefore(i)):(a=o.getColBefore(i),l=o.getColAfter(i));const u=this.rangeService.getCellRanges().filter(h=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),h));a||(s=!0),l||(r=!0);for(let h=0;h<u.length&&!(t&&r&&n&&s);h++){const p=u[h],g=this.rangeService.getRangeStartRow(p),C=this.rangeService.getRangeEndRow(p);!t&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(C,this.cellCtrl.getCellPosition())&&(n=!0),!s&&a&&p.columns.indexOf(a)<0&&(s=!0),!r&&l&&p.columns.indexOf(l)<0&&(r=!0)}return{top:t,right:r,bottom:n,left:s}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(vse,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),r=t.length;if(this.rangeCount<1||r<1)return!1;const n=Bt(t),s=this.cellCtrl.getCellPosition(),i=j2(e)&&!this.cellCtrl.isSuppressFillHandle(),o=Fee(e);let a=r===1&&!this.cellCtrl.isEditing()&&(i||o);if(this.hasChartRange){const u=t[0].type===1&&this.rangeService.isCellInSpecificRange(s,t[0]);this.cellComp.addOrRemoveCssClass(mse,u),a=n.type===0}return a&&n.endRow!=null&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,s)}addSelectionHandle(){const e=Bt(this.rangeService.getCellRanges()).type,r=j2(this.beans.gos)&&Gt(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(r)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},Ese="ag-cell",bse="ag-cell-auto-height",Rse="ag-cell-normal-height",Tse="ag-cell-focus",Fse="ag-cell-first-right-pinned",Pse="ag-cell-last-left-pinned",Ase="ag-cell-not-inline-editing",Dse="ag-column-hover",Mse="ag-cell-wrap-text",Nse=0,k4=class t1 extends be{constructor(t,r,n,s){super(),this.column=t,this.rowNode=r,this.beans=n,this.rowCtrl=s,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=t.getId()+"-"+Nse++,this.colIdSanitised=go(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new fse(this,this.beans),this.cellCustomStyleFeature=new use(this,this.beans),this.cellMouseListenerFeature=new hse(this,this.beans,this.column),this.cellKeyboardListenerFeature=new dse(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&la(this.beans.gos)&&(this.cellRangeFeature=new xse(this.beans,this))}removeFeatures(){const t=this.beans.context;this.cellPositionFeature=t.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=t.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=t.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=t.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=t.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(t,r){const n=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&ke(a))return Pf(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},s=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!r&&s&&!this.isCellRenderer()&&(r=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const i={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:n,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:r};this.tooltipFeature=new lh(i,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(t,r,n,s,i,o){var a,l,u,h;this.cellComp=t,this.eGui=r,this.printLayout=s,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.cellPositionFeature)==null||a.setComp(r),(l=this.cellCustomStyleFeature)==null||l.setComp(t),(u=this.tooltipFeature)==null||u.refreshToolTip(),(h=this.cellKeyboardListenerFeature)==null||h.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,r),i&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(p=>p()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t,r){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const n=t.parentElement,s=Sl(this.beans.gos,this.rowNode).height,i=l=>{if(this.editing||!this.isAlive()||!r.isAlive())return;const{paddingTop:u,paddingBottom:h,borderBottomWidth:p,borderTopWidth:g}=ru(n),C=u+h+p+g,y=t.offsetHeight+C;if(l<5){const E=Hr(this.beans.gos),b=!E||!E.contains(t),T=y==0;if(b||T){window.setTimeout(()=>i(l+1),0);return}}const S=Math.max(y,s);this.rowNode.setRowAutoHeight(S,this.column)},o=()=>i(0);o();const a=this.beans.resizeObserverService.observeResize(t,o);r.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){var g;const{beans:r,column:n,rowNode:s,cellRangeFeature:i,cellComp:o}=this,{userComponentFactory:a,animationFrameService:l}=r,u=this.getValueToDisplay();let h;if(s.stub&&((g=s.groupData)==null?void 0:g[this.column.getId()])==null){const C=this.createCellRendererParams();h=a.getLoadingCellRendererDetails(n.getColDef(),C)}else if(this.isCellRenderer()){const C=this.createCellRendererParams();h=a.getCellRendererDetails(n.getColDef(),C)}o.setRenderDetails(h,u,t),l.requestAnimationFrame(()=>i==null?void 0:i.refreshHandle())}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(t)),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}isCheckboxSelection(t){const{rowSelection:r}=this.beans.gridOptions;return t.checkboxSelection||Op(this.column)&&r&&typeof r!="string"&&Vd(r)}refreshShouldDestroy(){const t=this.column.getColDef(),r=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(t)),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),s=this.includeDndSource!=this.isIncludeControl(t.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return r||n||s||i}startEditing(t=null,r=!1,n=null){const{editService:s}=this.beans;return!this.isCellEditable()||this.editing||!s?!0:this.cellComp?s.startEditing(this,t,r,n):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,r,n)}),!0)}setEditing(t,r){this.editCompDetails=r,this.editing!==t&&(this.editing=t)}stopRowOrCellEdit(t=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){this.onCellEditorAttachedFuncs=[];const{editService:r}=this.beans;return!this.editing||!r?!1:r.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:r=>this.beans.valueService.setValue(this.rowNode,this.column,r),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(r,n,s,i)=>this.registerRowDragger(r,n,i),setTooltip:(r,n)=>{var s;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(r,n),(s=this.tooltipFeature)==null||s.refreshToolTip()}})}setFocusOutOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusOutOnEditor(this))}setFocusInOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusInOnEditor(this))}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var r;this.refreshShouldDestroy()?(r=this.rowCtrl)==null||r.recreateCell(this):this.refreshCell(t)}refreshCell(t){var h,p,g,C,w;if(this.suppressRefreshCell||this.editing)return;const r=this.column.getColDef(),n=t!=null&&!!t.newData,s=t!=null&&!!t.suppressFlash||!!r.suppressCellFlash,i=r.field==null&&r.valueGetter==null&&r.showRowGroup==null,o=t&&t.forceRefresh||i||n,a=!!this.cellComp,l=this.updateAndFormatValue(a),u=o||l;if(a){if(u){this.showValue(n);const y=(h=this.beans.filterManager)==null?void 0:h.isSuppressFlashingCellsBecauseFiltering();!s&&!y&&(this.beans.gos.get("enableCellChangeFlash")||r.enableCellChangeFlash)&&this.flashCell(),(p=this.cellCustomStyleFeature)==null||p.applyUserStyles(),(g=this.cellCustomStyleFeature)==null||g.applyClassesFromColDef()}(C=this.tooltipFeature)==null||C.refreshToolTip(),(w=this.cellCustomStyleFeature)==null||w.applyCellClassRules()}}stopEditingAndFocus(t=!1,r=!1){var n;(n=this.beans.editService)==null||n.stopEditingAndFocus(this,t,r)}flashCell(t){const r=(t==null?void 0:t.flashDuration)??(t==null?void 0:t.flashDelay),n=(t==null?void 0:t.fadeDuration)??(t==null?void 0:t.fadeDelay);this.animateCell("data-changed",r,n)}animateCell(t,r,n){if(!this.cellComp)return;const{gos:s}=this.beans;if(r||(r=s.get("cellFlashDuration")),r===0)return;ke(n)||(n=s.get("cellFadeDuration"));const i=`ag-cell-${t}`,o=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(i,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(i,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")},n))},r)})}onFlashCells(t){if(!this.cellComp)return;const r=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[r]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const r=this.value,n=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(r,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(t,r){const n=this.column.getColDef();return n.equals?n.equals(t,r):t===r}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const r=this.getGui();jc(this.beans.gos,r,t1.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc(()=>jc(this.beans.gos,r,t1.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,r){return this.beans.gos.addGridCommonParams({type:r,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var r;(r=this.cellKeyboardListenerFeature)==null||r.processCharacter(t)}onKeyDown(t){var r;(r=this.cellKeyboardListenerFeature)==null||r.onKeyDown(t)}onMouseEvent(t,r){var n;(n=this.cellMouseListenerFeature)==null||n.onMouseEvent(t,r)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&((t=this.cellPositionFeature)==null||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:r,beans:n}=this;R4(t,r,n.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);G3(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return(t=this.cellPositionFeature)==null?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,r=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,r):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,r)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&gi(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(Fse,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(Pse,t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const r=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){r&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(Tse,r),r&&t&&t.forceBrowserFocus){let s=this.cellComp.getFocusableElement();if(this.editing){const i=this.beans.focusService.findFocusableElements(s,null,!0);i.length&&(s=i[0])}s.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const n=this.beans.gos.get("editType")==="fullRow";!r&&!n&&this.editing&&this.stopRowOrCellEdit(),r&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Qo(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(Ese,!0),this.cellComp.addOrRemoveCssClass(Ase,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(bse,t),this.cellComp.addOrRemoveCssClass(Rse,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(Dse,t)}onColDefChanged(){var r;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(r=this.beans.editService)==null||r.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(Mse,t)}dispatchCellContextMenuEvent(t){const r=this.column.getColDef(),n=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(n),r.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{r.onCellContextMenu(n)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new lse;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new cse(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,r,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,r);return}const s=this.createRowDragComp(t,r,n);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}))}createRowDragComp(t,r,n){const s=this.beans.gos.get("pagination"),i=this.beans.gos.get("rowDragManaged"),o=Er(this.beans.gos);if(i){if(!o){Pe("managed row dragging is only allowed in the Client Side Row Model");return}if(s){Pe("managed row dragging is not possible when doing pagination");return}}const a=new Yx(()=>this.value,this.rowNode,this.column,t,r,n);return this.beans.context.createBean(a),a}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(t){this.onCellEditorAttachedFuncs.push(t)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(t=>t()),this.onCellEditorAttachedFuncs=[]}};k4.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var Pc=k4,Ise=0,_4=class r1 extends be{constructor(t,r,n,s,i){var o;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=r,this.gos=r.gos,this.rowNode=t,this.paginationPage=((o=r.paginationService)==null?void 0:o.getCurrentPage())??0,this.useAnimationFrameForCreate=s,this.printLayout=i,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+Ise++,this.rowId=go(t.id),this.initRowBusinessKey(),this.rowFocused=r.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=r.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=go(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(t,r){t==="left"?this.leftGui=r:t==="right"?this.rightGui=r:t==="fullWidth"?this.fullWidthGui=r:this.centerGui=r}setComp(t,r,n,s){s=Lp(this,this.beans.context,s);const i={rowComp:t,element:r,containerType:n,compBean:s};this.allRowGuis.push(i),this.updateGui(n,i),this.initialiseRowComp(i),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(r=>r.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const r=t?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=r)}initialiseRowComp(t){const r=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),Bv(r)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(i=>n.addOrRemoveCssClass(i,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&$v(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),jc(r,t.element,r1.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc(()=>jc(r,t.element,r1.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),r.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=go(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:r}=t;this.slideInAnimation[r]&&(k2(()=>{this.onTopChanged()}),this.slideInAnimation[r]=!1),this.fadeInAnimation[r]&&(k2(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[r]=!1)}addRowDraggerToRow(t){if(la(this.gos)){Pe("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const r=this.beans.localeService.getLocaleTextFunc(),n=new Yx(()=>`1 ${r("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),s=this.createBean(n,this.beans.context);this.rowDragComps.push(s),t.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==s),this.destroyBean(s,this.beans.context)})}setupFullWidth(t){const r=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const n=this.createFullWidthCompDetails(t.element,r);t.rowComp.showFullWidth(n)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,r;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var s;return(s=n==null?void 0:n.rowComp)==null?void 0:s.getFullWidthCellRenderer()}):[(r=(t=this.fullWidthGui)==null?void 0:t.rowComp)==null?void 0:r.getFullWidthCellRenderer()]}getCellElement(t){const r=this.getCellCtrl(t);return r?r.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const r={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(r)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),r=!!this.centerGui,n=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&r&&n}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this.rowNode}):!1}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),r=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,s=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&Y0(this.gos,s);t?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":r?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,r=!1){if(this.isFullWidth())return;if(t||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(r);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,r,n=null){const s={list:[],map:{}},i=(o,a)=>{s.list.push(a),s.map[o]=a};return r.forEach(o=>{const a=o.getInstanceId();let l=t.map[a];l||(l=new Pc(o,this.rowNode,this.beans,this)),i(a,l)}),t.list.forEach(o=>{const a=o.getColumn().getInstanceId();if(s.map[a]!=null)return;if(!this.isCellEligibleToBeRemoved(o,n)){i(a,o);return}o.destroy()}),s}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(r=>{const n=this.getCellCtrlsForContainer(r.containerType);r.rowComp.setCellCtrls(n,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,r=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const s=r.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");const i=r.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(t,r){if(t.getColumn().getPinned()!=r)return!0;const o=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||a){const u=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(u)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Sn(this.gos,"print")}listenOnDomOrder(t){const r=()=>{t.rowComp.setDomOrder(this.getDomOrder())};t.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],r)}setAnimateFlags(t){if(this.isSticky()||!t)return;const r=ke(this.rowNode.oldRowTop),n=this.beans.visibleColsService.isPinningLeft(),s=this.beans.visibleColsService.isPinningRight();if(r){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=s}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=s}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,r=t(this.fullWidthGui,null),n=t(this.centerGui,null),s=t(this.leftGui,"left"),i=t(this.rightGui,"right");return r&&n&&s&&i}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(r=>{this.addRowDraggerToRow(r)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(r=>r.onCellChanged(t))}})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(r=>{const n=t===0,s=t===1;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),r=this.rowNode.expanded==!0;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&r),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!r),$v(n.element,t&&r)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Qo(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(t){return this.allRowGuis.find(r=>r.element.contains(t))}onKeyboardNavigate(t){const r=this.findFullWidthRowGui(t.target);if(!((r?r.element:null)===t.target))return;const i=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:(o==null?void 0:o.column)??this.getColumnForFullWidth(r)};this.beans.navigationService.navigateToNextCell(t,t.key,a,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||Jo(t))return;const r=this.allRowGuis.find(l=>l.element.contains(t.target)),n=r?r.element:null,s=n===t.target,i=Nr(this.gos);let o=!1;n&&i&&(o=n.contains(i)&&i.classList.contains("ag-cell"));let a=null;!s&&!o&&(a=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&s||!a)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var r;const t=(r=this.allRowGuis.find(n=>Co(n.element)))==null?void 0:r.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const r=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(n=>{gi(n.element,"tabindex",r)})}onFullWidthRowFocused(t){var i;const r=this.rowNode,n=t?this.isFullWidth()&&t.rowIndex===r.rowIndex&&t.rowPinned==r.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)==null?void 0:i.element;s&&(s.classList.toggle("ag-full-width-focus",n),n&&(t!=null&&t.forceBrowserFocus)&&s.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,r){const n={list:[],map:{}};return t.list.forEach(s=>{s!==r&&(n.list.push(s),n.map[s.getColumn().getInstanceId()]=s)}),n}onMouseEvent(t,r){switch(t){case"dblclick":this.onRowDblClick(r);break;case"click":this.onRowClick(r);break;case"touchstart":case"mousedown":this.onRowMouseDown(r);break}}createRowEvent(t,r){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:r})}createRowEventWithSource(t,r){const n=this.createRowEvent(t,r);return n.source=this,n}onRowDblClick(t){Jo(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}getColumnForFullWidth(t){const{visibleColsService:r}=this.beans;switch(t==null?void 0:t.containerType){case"center":return r.getCenterCols()[0];case"left":return r.getLeftCols()[0];case"right":return r.getRightCols()[0];default:return r.getAllCols()[0]}}onRowMouseDown(t){if(this.lastMouseDownOnDragger=vd(t.target,"ag-row-drag",3),!this.isFullWidth())return;const r=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const n=this.findFullWidthRowGui(t.target),s=n==null?void 0:n.element,i=t.target;let o=!0;s&&s.contains(i)&&Pb(i)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:r.rowIndex,column:this.getColumnForFullWidth(n),rowPinned:r.rowPinned,forceBrowserFocus:o})}onRowClick(t){if(Jo(t)||this.lastMouseDownOnDragger)return;const{gos:n}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const s=t.ctrlKey||t.metaKey,i=t.shiftKey,o=this.rowNode.isSelected(),a=Bc(n),l=B2(n),u=Pee(n);if(a&&this.rowNode.group||this.isRowSelectionBlocked()||!u&&!o||!l&&o)return;const h=Aee(n),p="rowClicked";if(o)h?this.rowNode.setSelectedParams({newValue:!1,event:t,source:p}):s?l&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:p}):u&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!i,rangeSelect:i,event:t,source:p});else{const g=h?!1:!s;this.rowNode.setSelectedParams({newValue:!0,clearSelection:g,rangeSelect:i,event:t,source:p})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!Bv(this.gos)}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const r=()=>{const s=t.clientHeight;if(s!=null&&s>0){const i=()=>{this.rowNode.setRowHeight(s),(Er(this.gos)||bo(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(i,0)}},n=this.beans.resizeObserverService.observeResize(t,r);this.addDestroyFunc(n),r()}createFullWidthCompDetails(t,r){const{gos:n,rowNode:s}=this,i=n.addGridCommonParams({fullWidth:!0,data:s.data,node:s,value:s.key,valueFormatted:s.key,eGridCell:t,eParentOfValue:t,pinned:r,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,l,u,h)=>this.addFullWidthRowDragging(a,l,u,h),setTooltip:(a,l)=>this.refreshRowTooltip(a,l)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(i);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(i);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(i);default:return o.getFullWidthCellRendererDetails(i)}}refreshRowTooltip(t,r){if(!this.fullWidthGui)return;const n={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new lh(n,this.beans))}addFullWidthRowDragging(t,r,n="",s){if(!this.isFullWidth())return;const i=new Yx(()=>n,this.rowNode,void 0,t,r,s);this.createBean(i,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(i,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const r="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass(r,!0),s.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),r=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==r&&(this.lastRowOnPage=r,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",r)))}stopEditing(t=!1){var r;this.stoppingRowEdit||(r=this.beans.rowEditService)==null||r.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(r=>r.isEditing());this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,r=null,n=null){var s;return this.editingRow?!0:((s=this.beans.rowEditService)==null?void 0:s.startEditing(this,t,r,n))??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(r=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(r,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,r){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(r,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"||t==="right"?t:null}getInitialRowClasses(t){const r=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t=="function"){Pe("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const r=this.gos.getCallback("getRowStyle");let n;if(r){const s={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};n=r(s)}return n||t?Object.assign({},t,n):this.emptyStyle}onRowSelected(t){const r=!!this.rowNode.isSelected();this.forEachGui(t,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",r),Uv(n.element,r),n.element.contains(Nr(this.gos))&&(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&!B2(this.gos))return;const n=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(n,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{element:r,compBean:n}=t,{rowNode:s,beans:i,gos:o}=this;n.addManagedListeners(r,{mouseenter:()=>s.onMouseEnter(),mouseleave:()=>s.onMouseLeave()}),n.addManagedListeners(s,{mouseEnter:()=>{!i.dragService.isDragging()&&!o.get("suppressRowHoverHighlight")&&(r.classList.add("ag-row-hover"),s.setHovered(!0))},mouseLeave:()=>{r.classList.remove("ag-row-hover"),s.setHovered(!1)}})}roundRowTopToBounds(t){const r=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(r.top,!0)-100,s=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(n,t),s)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,r){t?r(t):this.allRowGuis.forEach(r)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const r=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=v3(this.gos)?Sl(this.gos,this.rowNode).height:void 0,o=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(t,a=>{a.element.style.height=`${r}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(t,r){super.addEventListener(t,r)}removeEventListener(t,r){super.removeEventListener(t,r)}destroyFirstPass(t=!1){if(this.active=!1,!t&&md(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const r=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(r),this.beans.eventService.dispatchEvent(r),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=r=>(r.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,r=>{r.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var r;const t=((r=this.beans.paginationService)==null?void 0:r.getCurrentPage())??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,r=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const n=this.beans.pageBoundsService.getPixelOffset();return t+n*(r?1:-1)}setRowTop(t){if(!this.printLayout&&ke(t)){const r=this.applyPaginationOffset(t),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}px`;this.setRowTopStyle(i)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const r=this.rowNode;let n;if(this.isSticky())n=r.stickyRowTop;else{const s=this.slideInAnimation[t]?this.roundRowTopToBounds(r.oldRowTop):r.rowTop,i=this.applyPaginationOffset(s);n=r.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(t){this.allRowGuis.forEach(r=>this.suppressRowTransform?r.rowComp.setTop(t):r.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let r=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==t&&(r=n)}),r!=null||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(t)>=0&&(r=n)}),r}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){var o;const r=this.rowNode.getRowIndexString();if(r===null)return;const n=this.beans.headerNavigationService.getHeaderRowCount()+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),s=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(t,a=>{a.rowComp.setRowIndex(r),a.rowComp.addOrRemoveCssClass("ag-row-even",s),a.rowComp.addOrRemoveCssClass("ag-row-odd",!s),mte(a.element,i)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};_4.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Ac=_4,Ose=class extends be{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",P3("touchstart")?"touchstart":"mousedown"].forEach(r=>{const n=this.processMouseEvent.bind(this,r);this.addManagedElementListeners(this.element,{[r]:n})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Jo(t))return;const r=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,r,n):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Il())return;const e=new dl(this.element),t=r=>{const n=this.getRowForEvent(r.touchEvent),s=this.mouseEventService.getRenderedCellForEvent(r.touchEvent);this.handleContextMenuMouseEvent(void 0,r.touchEvent,n,s)};this.addManagedListeners(e,{longTap:t}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const r=Zf(this.gos,t,Ac.DOM_DATA_KEY_ROW_CTRL);if(r)return r;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,r,n){const s=r?r.getRowNode():null,i=n?n.getColumn():null;let o=null;if(i){const u=e||t;n.dispatchCellContextMenuEvent(u??null),o=this.valueService.getValue(i,s)}const a=this.ctrlsService.getGridBodyCtrl(),l=n?n.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:s,column:i,value:o,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:Gx(this.gos,e,Pc.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Gx(this.gos,e,Ac.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(r?this.processCellKeyboardEvent(r,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,r){const n=e.getRowNode(),s=e.getColumn(),i=e.isEditing();!Xx(this.gos,r,n,s,i)&&t==="keydown"&&(!i&&this.navigationService.handlePageScrollingKey(r)||e.onKeyDown(r),this.doGridOperations(r,e.isEditing()),p4(r)&&e.processCharacter(r)),t==="keydown"&&this.eventService.dispatchEvent(e.createEvent(r,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,r){const n=e.getRowNode(),s=this.focusService.getFocusedCell(),i=s&&s.column;if(!Xx(this.gos,r,n,i,!1)){const a=r.key;if(t==="keydown")switch(a){case Ce.PAGE_HOME:case Ce.PAGE_END:case Ce.PAGE_UP:case Ce.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case Ce.UP:case Ce.DOWN:e.onKeyboardNavigate(r);break;case Ce.TAB:e.onTabKeyDown(r);break}}t==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",r))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const r=zre(e);if(r===Ce.A)return this.onCtrlAndA(e);if(r===Ce.C)return this.onCtrlAndC(e);if(r===Ce.D)return this.onCtrlAndD(e);if(r===Ce.V)return this.onCtrlAndV(e);if(r===Ce.X)return this.onCtrlAndX(e);if(r===Ce.Y)return this.onCtrlAndY();if(r===Ce.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:r,rangeService:n}=this;if(n&&r.isRowsToRender()){const[s,i]=[t.isEmpty("top"),t.isEmpty("bottom")],o=s?null:"top";let a,l;i?(a=null,l=r.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowCount()-1);const u=this.visibleColsService.getAllCols();if(Ks(u))return;n.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:u[0],columnEnd:Bt(u)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var e;(e=this.undoRedoService)==null||e.redo("ui")}},Lse=class extends be{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Dr(this.element,t),Vi(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},kse=class extends be{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Dr(this.element,t),Vi(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},Dm=e=>e.getTopRowCtrls(),Mm=e=>e.getStickyTopRowCtrls(),Nm=e=>e.getStickyBottomRowCtrls(),Im=e=>e.getBottomRowCtrls(),Om=e=>e.getCentreRowCtrls(),_se={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Om},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Om},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Om},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Om},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:Dm},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Dm},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Dm},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:Dm},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:Mm},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Mm},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Mm},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:Mm},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:Nm},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Nm},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Nm},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:Nm},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Im},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Im},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Im},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Im}};function ad(e){return _se[e]}var jse=["topCenter","topLeft","topRight"],Bse=["bottomCenter","bottomLeft","bottomRight"],Gse=["center","left","right"],Hse=["center","left","right","fullWidth"],Vse=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Wse=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],$se=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],j4=["stickyTopCenter","stickyTopLeft","stickyTopRight"],B4=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],Use=[...j4,"stickyTopFullWidth",...B4,"stickyBottomFullWidth"],zse=[...jse,...Bse,...Gse,...j4,...B4],Kse=class extends be{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=ad(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new ose(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,r){this.comp=e,this.eContainer=t,this.eViewport=r,this.createManagedBean(new Ose(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const n=()=>this.onPinnedWidthChanged();this.forContainers(Wse,()=>{this.pinnedWidthFeature=this.createManagedBean(new Lse(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:n})}),this.forContainers($se,()=>{this.pinnedWidthFeature=this.createManagedBean(new kse(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:n})}),this.forContainers(Hse,()=>this.createManagedBean(new L4(this.eContainer,this.name==="center"?r:void 0))),this.forContainers(zse,()=>this.createManagedBean(new ase(this.eContainer))),this.forContainers(Vse,()=>this.createManagedBean(new $b(s=>this.comp.setContainerWidth(`${s}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(Use.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const r=this.gos.get("ensureDomOrder"),n=Sn(this.gos,"print");this.comp.setDomOrder(r||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,r,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return _p(this.eViewport)}getCenterViewportScrollLeft(){return qv(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return q3(this.eViewport)}getViewportScrollLeft(){return qv(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||Pte(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Yv(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const r=Sn(this.gos,"print"),s=this.gos.get("embedFullWidthRows")||r,i=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!s&&a:s||!a});this.comp.setRowCtrls({rowCtrls:i,useFlushSync:e})}},qse="ag-force-vertical-scroll",Yse="ag-selectable",Xse="ag-column-moving",Qse=class extends be{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,r,n,s,i,o){var a;this.comp=e,this.eGridBody=t,this.eBodyViewport=r,this.eTop=n,this.eBottom=s,this.eStickyTop=i,this.eStickyBottom=o,this.eCenterColsViewport=r.querySelector(`.${ad("center").viewport}`),this.eFullWidthContainer=r.querySelector(`.${ad("fullWidth").container}`),this.eStickyTopFullWidthContainer=i.querySelector(`.${ad("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${ad("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new zb(this.comp)),this.bodyScrollFeature=this.createManagedBean(new ise(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,r,s,i,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(a=this.filterManager)==null||a.setupAdvancedFilterHeaderComp(n),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:r=>{const{target:n}=r,s=vd(n,"ag-root",t);t.classList.toggle("ag-has-focus",!s)},focusout:r=>{const{target:n,relatedTarget:s}=r,i=t.contains(s),o=vd(s,"ag-root",t);vd(n,"ag-root",t)||(!i||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(Xse,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(Yse,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.scrollVisibleService.getScrollbarWidth()||0,r=$3()?16:0,n=`calc(100% + ${t+r}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=r=>{const n=r.relatedTarget;if(Kx(n)===null){this.rowRenderer.stopEditing();return}let s=t.some(i=>i.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!s){const i=this.popupService;s=i.getActivePopups().some(o=>o.contains(n))||i.isElementWithinCustomPopup(n)}s||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(r=>this.addManagedElementListeners(r,{focusout:e}))}updateRowCount(){var n;const e=this.headerNavigationService.getHeaderRowCount()+(((n=this.filterManager)==null?void 0:n.getHeaderRowCount())??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=t===-1?-1:e+t;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?qse:null,r=Sn(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||r&&Ate(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const r=e&&md(this.gos)&&!this.rowContainerHeightService.isStretching(),n=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(n,r)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(r))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e,s=n||Math.abs(t)>Math.abs(r),i=e.target;s?(this.eStickyTopFullWidthContainer.contains(i)||this.eStickyBottomFullWidthContainer.contains(i))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(r))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:r}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||r})}onBodyViewportContextMenu(e,t,r){if(!e&&!r)return;this.gos.get("preventDefaultOnContextMenu")&&(e||r).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:r,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Il())return;const t=new dl(this.eBodyViewport),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:r}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Rre(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),r=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(r),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var s;const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((s=this.filterManager)==null?void 0:s.getHeaderHeight())??0),r=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;t>0&&(n+=t),r>0&&(n+=r),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),r=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,n=e+r;this.comp.setStickyBottomBottom(`${n}px`)}sizeColumnsToFit(e,t){const n=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,i=_p(this.eGridBody)-n;if(i>0){this.columnSizeService.sizeColumnsToFit(i,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):Pe("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};function df(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}`${df(["topLeft","topCenter","topRight","topFullWidth"])}${df(["left","center","right","fullWidth"])}${df(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}${df(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}${df(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}`;var Jse=class extends be{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),r=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==r)&&(this.horizontalScrollGap=t,this.verticalScrollGap=r,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),r=typeof e=="number"&&e>=0?e:Rte();r!=null&&(this.scrollbarWidth=r,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},eM="__ag_grid_instance",G4=class H4 extends be{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=H4.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[eM]=this.gridInstanceId}getRenderedCellForEvent(t){return Gx(this.gos,t.target,Pc.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let r=t;for(;r;){const n=r[eM];if(ke(n))return n===this.gridInstanceId;r=r.parentElement}return!1}getCellPositionForEvent(t){const r=this.getRenderedCellForEvent(t);return r?r.getCellPosition():null}getNormalisedPosition(t){const r=Sn(this.gos,"normal"),n=t;let s,i;if(n.clientX!=null||n.clientY!=null?(s=n.clientX,i=n.clientY):(s=n.x,i=n.y),r){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition(),l=o.getScrollFeature().getHScrollPosition();s+=l.left,i+=a.top}return{x:s,y:i}}};G4.gridInstanceSequence=new Ud;var Zse=G4,eie=class extends be{constructor(){super(),this.beanName="navigationService",this.onPageDown=_2(this.onPageDown,100),this.onPageUp=_2(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const r=e.key,n=e.altKey,s=e.ctrlKey||e.metaKey,i=!!this.rangeService&&e.shiftKey,o=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(r){case Ce.PAGE_HOME:case Ce.PAGE_END:!s&&!n&&(this.onHomeOrEndKey(r),a=!0);break;case Ce.LEFT:case Ce.RIGHT:case Ce.UP:case Ce.DOWN:if(!o)return!1;s&&!n&&!i&&(this.onCtrlUpDownLeftRight(r,o),a=!0);break;case Ce.PAGE_DOWN:case Ce.PAGE_UP:!s&&!n&&(a=this.handlePageUpDown(r,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,r){return r&&(t=this.focusService.getFocusedCell()),t?(e===Ce.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){var o;const{scrollIndex:t,scrollType:r,scrollColumn:n,focusIndex:s,focusColumn:i}=e;ke(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),ke(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,r),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:i,rowPinned:null,forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:s,rowPinned:null,column:i})}onPageDown(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),s=this.pageBoundsService.getPixelOffset(),i=r.top+n,o=this.rowModel.getRowIndexAtPixel(i+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.pageBoundsService.getPixelOffset(),s=r.top,i=this.rowModel.getRowIndexAtPixel(s+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,i,!0):this.navigateToNextPage(e,i,!0)}navigateToNextPage(e,t,r=!1){const n=this.getViewportHeight(),s=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow(),o=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=r?(a==null?void 0:a.rowHeight)-n-o:n-o,u=(a==null?void 0:a.rowTop)+l;let h=this.rowModel.getRowIndexAtPixel(u+o);if(h===e.rowIndex){const g=r?-1:1;t=h=e.rowIndex+g}let p;r?(p="bottom",h<s&&(h=s),t<s&&(t=s)):(p="top",h>i&&(h=i),t>i&&(t=i)),this.isRowTallerThanView(h)&&(t=h,p="top"),this.navigateTo({scrollIndex:t,scrollType:p,scrollColumn:null,focusIndex:h,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,r=!1){this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,r);this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const r=t?-1:1,n=this.getViewportHeight(),s=this.pageBoundsService.getLastRow();let i=0,o=e.rowIndex;for(;o>=0&&o<=s;){const a=this.rowModel.getRow(o);if(a){const l=a.rowHeight??0;if(i+l>n)break;i+=l}o+=r}return Math.max(0,Math.min(o,s))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let r=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(r-=t),r}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const r=t.rowHeight;return typeof r!="number"?!1:r>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const r=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n}=r,s=r.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s})}onHomeOrEndKey(e){const t=e===Ce.PAGE_HOME,r=this.visibleColsService.getAllCols(),n=t?r[0]:Bt(r),s=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:n,focusIndex:s,focusColumn:n})}onTabKeyDown(e,t){const r=t.shiftKey,n=this.tabToNextCellCommon(e,r,t);if(n!==!1){n?t.preventDefault():n===null&&this.focusService.allowFocusForNextGridCoreContainer(r);return}if(r){const{rowIndex:s,rowPinned:i}=e.getRowPosition();(i?s===0:s===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof Pc&&e.focusCell(!0),(!r&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(r))&&t.preventDefault()}tabToNextCell(e,t){const r=this.focusService.getFocusedCell();if(!r)return!1;let n=this.getCellByPosition(r);return!n&&(n=this.rowRenderer.getRowByPosition(r),!n||!n.isFullWidth())?!1:!!this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,r){let n=e.isEditing();if(!n&&e instanceof Pc){const o=e.getRowCtrl();o&&(n=o.isEditing())}let s;return n?this.gos.get("editType")==="fullRow"?s=this.moveToNextEditingRow(e,t,r):s=this.moveToNextEditingCell(e,t,r):s=this.moveToNextCellNotEditing(e,t),s===null?s:s||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,r=null){const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const s=this.findNextCellToFocusOn(n,t,!0);return s===!1?null:s==null?!1:(s.startEditing(null,!0,r),s.focusCell(!1),!0)}moveToNextEditingRow(e,t,r=null){const n=e.getCellPosition(),s=this.findNextCellToFocusOn(n,t,!0);if(s===!1)return null;if(s==null)return!1;const i=s.getCellPosition(),o=this.isCellEditable(n),a=this.isCellEditable(i),l=i&&n.rowIndex===i.rowIndex&&n.rowPinned===i.rowPinned;return o&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),s.getRowCtrl().startRowEditing(void 0,void 0,r)),a?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const r=this.visibleColsService.getAllCols();let n;e instanceof Ac?n={...e.getRowPosition(),column:t?r[0]:Bt(r)}:n=e.getCellPosition();const s=this.findNextCellToFocusOn(n,t,!1);if(s===!1)return null;if(s instanceof Pc)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),t);return ke(s)}findNextCellToFocusOn(e,t,r){var s;let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);const i=this.gos.getCallback("tabToNextCell");if(ke(i)){const u=i({backwards:t,editing:r,previousCellPosition:e,nextCellPosition:n||null});if(u===!0||u===null)u===null&&Pe("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),n=e;else{if(u===!1)return!1;n={rowIndex:u.rowIndex,column:u.column,rowPinned:u.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+n.rowIndex,column:n.column},fromCell:!0}),null}const o=this.gos.get("editType")==="fullRow";if(r&&!o&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const a=this.getCellByPosition(n);if(!a){const l=this.rowRenderer.getRowByPosition(n);if(!l||!l.isFullWidth()||r)continue;return l}if(!a.isSuppressNavigable())return(s=this.rangeService)==null||s.setRangeToCell(n),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,r,n){let s=r,i=!1;for(;s&&(s===r||!this.isValidNavigateCell(s));)this.gos.get("enableRtl")?t===Ce.LEFT&&(s=this.getLastCellOfColSpan(s)):t===Ce.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(t,s),i=Gt(s);if(i&&e&&e.key===Ce.UP&&(s={rowIndex:-1,rowPinned:null,column:r.column}),n){const a=this.gos.getCallback("navigateToNextCell");if(ke(a)){const u=a({key:t,previousCellPosition:r,nextCellPosition:s||null,event:e});ke(u)?s={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}:s=null}}if(!s)return;if(s.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+s.rowIndex,column:r.column},event:e||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(s);o?this.focusPosition(o):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const r=this.visibleColsService.getAllCols(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const s=this.focusService.getFocusedCell(),i={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Bt(r):r[0])};this.focusPosition(i);const o=t??(s!=null&&this.rowPositionUtils.before(i,s));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:i.column,isFullWidthCell:!0,fromBelow:o}),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const r=t.getColSpanningList();return r.length===1?e:{rowIndex:e.rowIndex,column:Bt(r),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=q0(this.gos),r=this.rowModel.getRow(e.rowIndex);!(t&&(r==null?void 0:r.sticky))&&Gt(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},tie=class extends be{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const r=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(r)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},rie=class extends be{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,r){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:r,mouseEvent:t,ePopup:n})},r,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,r){let n=-1,s="left";const i=this.menuService.isLegacyMenuEnabled();!i&&this.gos.get("enableRtl")&&(n=1,s="right");const o=i?void 0:4*n,a=i?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:r,eventSource:t,ePopup:l,nudgeX:o,nudgeY:a,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},r,t,i)}showPopup(e,t,r,n,s){const i=e?this.createBean(new Mre(e,"COLUMN_MENU")):void 0;if(this.activeMenu=i,!(i!=null&&i.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");Ki(o,"presentation"),o.classList.add("ag-menu"),s||o.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(o,{keydown:w=>this.trapFocusWithin(w,o)}),o.appendChild(i==null?void 0:i.getGui());let a;const l=()=>i==null?void 0:i.afterGuiDetached(),u=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,h=w=>{e.setMenuVisible(!1,"contextMenu");const y=w instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),y&&n&&Co(n)){const S=this.focusService.findTabbableParent(n);S&&S.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,r,e)},p=this.localeService.getLocaleTextFunc(),g=s&&r!=="columnFilter"?p("ariaLabelColumnMenu","Column Menu"):p("ariaLabelColumnFilter","Column Filter"),C=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:h,positionCallback:()=>t(o),anchorToElement:u,ariaLabel:g});C&&(this.hidePopup=a=C.hideFunc),i.afterInit().then(()=>{t(o),i.afterGuiAttached({container:r,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,r,e)}trapFocusWithin(e,t){e.key!==Ce.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,r){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:r??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},nie=class extends be{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const n=C3(this.gos).ResizeObserver,s=n?new n(t):null;return s==null||s.observe(e),()=>s==null?void 0:s.disconnect()}},sie=class extends be{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){var r;const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const n=((r=this.paginationService)==null?void 0:r.getCurrentPage())??0;n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&Pe(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,r){this.verifyAnimationFrameOn(r);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[r],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((r,n)=>r.index!==n.index?t*(n.index-r.index):n.createOrder-r.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,r=t.list,n=this.createTasksP2,s=n.list,i=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=e<=0,u=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!u.getScrollFeature().scrollGridIfNeeded()){let p;if(r.length)this.sortTaskList(t),p=r.pop().task;else if(s.length)this.sortTaskList(n),p=s.pop().task;else if(i.length)p=i.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}a=new Date().getTime()-o}r.length||s.length||i.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=C3(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}},iie=class extends be{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=Er(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(r=>{r.id&&t.has(r.id)&&(r.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:r})=>{t&&r&&e.push(r)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,r,n){e&&(r&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,r,n),e.setExpanded(t,void 0,n))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},oie=class extends be{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,r){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,r)}getContextMenuPosition(e,t){const r=this.getRowCtrl(e),n=this.getCellGui(r,t);if(!n)return r?{x:0,y:r.getRowYPosition()}:{x:0,y:0};const s=n.getBoundingClientRect();return{x:s.x+s.width/2,y:s.y+s.height/2}}showContextMenu(e){var i;const t=e.rowNode,r=e.column;let{anchorToElement:n,value:s}=e;t&&r&&s==null&&(s=this.valueService.getValueForDisplay(r,t)),n==null&&(n=this.getContextMenuAnchorElement(t,r)),(i=this.contextMenuFactory)==null||i.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,r??null,s,n)}showColumnChooser(e){var t;(t=this.columnChooserFactory)==null||t.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:r}=e.getColDef();return!(r??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&xl(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Il()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var n;const t=e.getColDef(),r=(n=t.floatingFilterComponentParams)==null?void 0:n.suppressFilterButton;return r!=null&&Pe("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),t.suppressFloatingFilterButton==null?!r:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,t,r,n){const{positionBy:s}=t,i=t.column;if(s==="button"){const{buttonElement:o}=t;e.showMenuAfterButtonClick(i,o,r,n)}else if(s==="mouse"){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(i,o,r,n)}else i&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var a;const o=(a=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()))==null?void 0:a.getHeaderCtrlForColumn(i);o&&e.showMenuAfterButtonClick(i,o.getAnchorElementForMenu(n),r,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:r}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:r})||void 0}getCellGui(e,t){if(!e||!t)return;const r=e.getCellCtrl(t);return(r==null?void 0:r.getGui())||void 0}getContextMenuAnchorElement(e,t){const r=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),n=this.getRowCtrl(e);if(!n)return r;const s=this.getCellGui(n,t);return s||(n.isFullWidth()?n.getFullWidthElement():r)}},aie=class extends gc{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const r=super.setValue(e,t);return this.eInput.value=e,r}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},lie={selector:"AG-INPUT-TEXT-AREA",component:aie},cie=class extends ch{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[lie]),this.eTextArea=ft}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),ke(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===Ce.LEFT||t===Ce.UP||t===Ce.RIGHT||t===Ce.DOWN||e.shiftKey&&t===Ce.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!ke(e)&&!ke(this.params.value)?this.params.value:this.params.parseValue(e)}},uie=class extends ch{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){jc(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,r=n=>{Xx(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:r})}},die=class extends ch{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[jre]),this.eSelect=ft,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:r,gos:n}=this,{values:s,value:i,eventKey:o}=e;if(Gt(s)){Pe("no values found for select cellEditor");return}this.startedByEnter=o!=null?o===Ce.ENTER:!1;let a=!1;s.forEach(p=>{const g={value:p},C=r.formatValue(e.column,null,p),w=C!=null;g.text=w?C:p,t.addOption(g),a=a||i===p}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:h}=e;l!=null&&t.setPickerGap(l),h!=null&&t.setPickerMaxHeight(h),u!=null&&t.setPickerMaxWidth(u),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},eC=class extends ch{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=ft}init(e){this.params=e;const{cellStartedEdit:t,eventKey:r,suppressPreventDefault:n}=e,s=this.eInput;this.cellEditorInput.init(s,e);let i,o=!0;t?(this.focusAfterAttached=!0,r===Ce.BACKSPACE||r===Ce.DELETE?i="":r&&r.length===1?n?o=!1:i=r:(i=this.cellEditorInput.getStartValue(),r!==Ce.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue()),o&&i!=null&&s.setStartValue(i),this.addManagedElementListeners(s.getGui(),{keydown:a=>{const{key:l}=a;(l===Ce.PAGE_UP||l===Ce.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var n,s;const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;vo()||t.getFocusableElement().focus();const r=t.getInputElement();this.highlightAllOnFocus?r.select():(s=(n=this.cellEditorInput).setCaret)==null||s.call(n)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),r=e.getInputElement();t.focus(),r.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},hie=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[J0]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!ke(e)&&!ke(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=ke(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},V4=class extends eC{constructor(){super(new hie)}},fie=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[qre]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const r=e.getInputElement();t.preventStepping?e.addManagedElementListeners(r,{keydown:this.preventStepping}):t.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===Ce.UP||e.key===Ce.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!ke(e)&&!ke(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){vo()&&this.eInput.getInputElement().focus({preventScroll:!0})}},pie=class extends eC{constructor(){super(new fie)}},gie=class extends su{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=vo();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Nr(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?mi(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,gi(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?mi(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,gi(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,gi(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return Es(this.getValue())??void 0}setDate(e,t){this.setValue(mi(e??null,!1),t)}},W4={selector:"AG-INPUT-DATE-FIELD",component:gie},mie=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[W4]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!ke(e)&&!ke(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return mi(e,!1)}},vie=class extends eC{constructor(){super(new mie)}},Cie=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[W4]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!ke(e)&&!ke(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return mi(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Es(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):mi(e??null,!1)??void 0}},yie=class extends eC{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new Cie(()=>this.dataTypeService))}},wie=class extends ch{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Ob]),this.eCheckbox=ft}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),r=Rb(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${r})`)}},Sf=class{constructor(e){this.cellValueChanges=e}},tS=class extends Sf{constructor(e,t,r,n){super(e),this.initialRange=t,this.finalRange=r,this.ranges=n}},Sie=10,tM=class{constructor(e){this.actionStack=[],this.maxStackSize=e||Sie,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},xie=class extends be{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},r=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(r||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:i,rowIndex:o,column:a,oldValue:l,value:u}=e,h={rowPinned:i,rowIndex:o,columnId:a.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(h)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new tM(e),this.redoStack=new tM(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,r,n,s){if(!e)return!1;const i=e.pop();return!i||!i.cellValueChanges?!1:(this.processAction(i,o=>o[n],s),i instanceof tS?this.processRange(this.rangeService,i.ranges||[i[r]]):this.processCell(i.cellValueChanges),t.push(i),!0)}processAction(e,t,r){e.cellValueChanges.forEach(n=>{const{rowIndex:s,rowPinned:i,columnId:o}=n,a={rowIndex:s,rowPinned:i},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(o,t(n),r)})}processRange(e,t){let r;e.removeAllCellRanges(!0),t.forEach((n,s)=>{if(!n)return;const i=n.startRow,o=n.endRow;s===t.length-1&&(r={rowPinned:i.rowPinned,rowIndex:i.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(r));const a={rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:n.startColumn,columns:n.columns};e.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:r,rowPinned:n}=t,s={rowIndex:r,rowPinned:n},i=this.rowPositionUtils.getRowNode(s),o={rowPinned:t.rowPinned,rowIndex:i.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:r,columnId:n,rowPinned:s}=e,i=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getCol(n);if(!o)return;i.ensureIndexVisible(r),i.ensureColumnVisible(o);const a={rowIndex:r,column:o,rowPinned:s};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t==null||t.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Sf(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const r=new Sf(this.cellValueChanges);this.pushActionsToUndoStack(r)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Sf(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new tS(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&la(this.gos)?e=new tS(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new Sf(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function Eie(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function bie(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function $4(e,t,r="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,r),"ensureVisible")}function U4(e,t,r){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,r),"ensureVisible")}function Rie(e,t,r=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,r),"ensureVisible")}function Tie(e){var t;(t=e.undoRedoService)==null||t.undo("api")}function Fie(e){var t;(t=e.undoRedoService)==null||t.redo("api")}function Pie(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(Df)}function Aie(e){return e.rowRenderer.getEditingCells()}function Die(e,t=!1){e.rowRenderer.stopEditing(t)}function Mie(e,t){const r=e.columnModel.getCol(t.colKey);if(!r){Pe(`no column found for ${t.colKey}`);return}const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:r};t.rowPinned==null&&U4(e,t.rowIndex),$4(e,t.colKey);const i=e.navigationService.getCellByPosition(n);if(!i)return;const{focusService:o,gos:a}=e,l=()=>{const h=Nr(a),p=i.getGui();return h!==p&&!!(p!=null&&p.contains(h))},u=a.get("stopEditingWhenCellsLoseFocus")&&l();(u||!o.isCellFocused(n))&&o.setFocusedCell({...n,forceBrowserFocus:u,preventScrollOnBrowserFocus:!0}),i.startRowOrCellEdit(t.key)}function Nie(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentUndoStackSize())??0}function Iie(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentRedoStackSize())??0}var Oie=class extends be{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,r=!1,n=null){var u;const s=this.createCellEditorParams(e,t,r),i=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(i,s),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!i.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:i.cellEditorPopupPosition;return e.setEditing(!0,o),e.getComp().setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!((u=o==null?void 0:o.params)!=null&&u.suppressPreventDefault)}stopEditing(e,t){const r=e.getComp(),{newValue:n,newValueExists:s}=this.takeValueFromCellEditor(t,r),i=e.getRowNode(),o=e.getColumn(),a=this.valueService.getValueForDisplay(o,i);let l=!1;return s&&(l=this.saveNewValue(e,a,n,i,o)),e.setEditing(!1,void 0),r.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:n,valueChanged:l}),l}handleColDefChanged(e){const t=e.getCellEditor();if(t!=null&&t.refresh){const{eventKey:r,cellStartedEdit:n}=e.getEditCompDetails().params,s=this.createCellEditorParams(e,r,n),i=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(i,s);t.refresh(o.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),r=t.getCellEditor();r!=null&&r.focusIn?r.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>{var n,s;return(s=(n=t.getCellEditor())==null?void 0:n.focusIn)==null?void 0:s.call(n)}))}stopEditingAndFocus(e,t=!1,r=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(r,e.getCellPosition())}createPopupEditorWrapper(e){return new uie(e)}takeValueFromCellEditor(e,t){const r={newValueExists:!1};if(e)return r;const n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?r:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t,r,n,s){if(r===t)return!1;e.setSuppressRefreshCell(!0);const i=n.setDataValue(s,r,"edit");return e.setSuppressRefreshCell(!1),i}createCellEditorParams(e,t,r){const n=e.getColumn(),s=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(n,s),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:s,data:s.data,cellStartedEdit:r,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:i=>this.valueService.parseValue(n,s,i,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const n=e?Ce.UP:Ce.DOWN;this.navigationService.navigateToNextCell(null,n,t,!1)}}},Lie=class extends be{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,r=null,n=null){let s=!0;return e.getAllCellCtrls().reduce((o,a)=>{const l=a===r;return l?s=a.startEditing(t,l,n):a.startEditing(null,l,n),o?!0:a.isEditing()},!1)&&this.setEditing(e,!0),s}stopEditing(e,t=!1){const r=e.getAllCellCtrls(),n=e.isEditing();e.setStoppingRowEdit(!0);let s=!1;for(const i of r){const o=i.stopEditing(t);n&&!t&&!s&&o&&(s=!0)}s&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));const r=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(r)}},iu={version:Rt,moduleName:"@ag-grid-community/edit-core",beans:[Oie]},kie={version:Rt,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:Tie,redoCellEditing:Fie,getCellEditorInstances:Pie,getEditingCells:Aie,stopEditing:Die,startEditingCell:Mie,getCurrentUndoSize:Nie,getCurrentRedoSize:Iie},dependantModules:[iu]},_ie={version:Rt,moduleName:"@ag-grid-community/undo-redo-edit",beans:[xie],dependantModules:[iu]},jie={version:Rt,moduleName:"@ag-grid-community/full-row-edit",beans:[Lie],dependantModules:[iu]},z4={version:Rt,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:V4}],dependantModules:[iu]},Bie={version:Rt,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:V4},{name:"agNumberCellEditor",classImp:pie,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:vie},{name:"agDateStringCellEditor",classImp:yie},{name:"agCheckboxCellEditor",classImp:wie}],dependantModules:[z4]},Gie={version:Rt,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:die}],dependantModules:[iu]},Hie={version:Rt,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:cie}],dependantModules:[iu]},Vie={version:Rt,moduleName:"@ag-grid-community/all-editors",dependantModules:[z4,Bie,Gie,Hie]},Wie={version:Rt,moduleName:"@ag-grid-community/editing",dependantModules:[iu,_ie,jie,Vie,kie]},$ie=class extends be{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const r=this.getHeaderCellForColumn(e);if(!r)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(r),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const r=this.centerRowContainerCtrl.getContainerElement();e.forEach(i=>this.cloneItemIntoDummy(i,t)),r.appendChild(t);const n=t.offsetWidth;r.removeChild(t);const s=this.getAutoSizePadding();return n+s}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(r=>{const n=r.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";const n=document.createElement("div"),s=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>r.classList.contains(a))?(s.add("ag-header","ag-header-row"),n.style.position="static"):s.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const u=o.classList[l];u!="ag-row-position-absolute"&&s.add(u)}break}o=o.parentElement}n.appendChild(r),t.appendChild(n)}},Uie=class extends be{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=Er(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,r;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let s=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(s=(r=e.sibling.childStore)==null?void 0:r.getStoreBounds()),((s==null?void 0:s.heightPx)??0)+((s==null?void 0:s.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=e.footer?e.sibling:e;for(;n.isExpandable()&&n.expanded;)if(n.master)n=n.detailNode;else if(n.childrenAfterSort){if(n.childrenAfterSort.length===0)break;n=Bt(n.childrenAfterSort)}return n.rowTop+n.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t=e==="top";let r=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,r);const n=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,s=new Set,i=u=>{if(s.add(u),t){const h=this.getLastPixelOfGroup(u),p=n+r+u.rowHeight;h<p?u.stickyRowTop=r+(h-p):u.stickyRowTop=r}else{const h=this.getFirstPixelOfGroup(u),p=n-(r+u.rowHeight);h>p?u.stickyRowTop=r-(h-p):u.stickyRowTop=r}r=0,s.forEach(h=>{const p=h.stickyRowTop+h.rowHeight;r<p&&(r=p)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=u=>{if(!u.displayed)return!1;if(u.footer){if(o===!0||o==="grand"&&u.level===-1||o==="group"&&u.level>-1)return!1;const h=u.sibling.rowIndex?u.sibling.rowIndex+1===u.rowIndex:!1;return e==="bottom"&&h?!1:!s.has(u)}return u.isExpandable()?a===!0||e==="bottom"?!1:!s.has(u)&&u.expanded:!1};for(let u=0;u<100;u++){let h=n+r;t||(h=n-r);const p=this.rowModel.getRowIndexAtPixel(h),g=this.rowModel.getRow(p);if(g==null)break;const w=this.getStickyAncestors(g).find(S=>(t?S.rowIndex<p:S.rowIndex>p)&&l(S));if(w){i(w);continue}if((t?g.rowTop<h:g.rowTop+g.rowHeight>h)&&l(g)){i(g);continue}break}return t||s.forEach(u=>{u.stickyRowTop=r-(u.stickyRowTop+u.rowHeight)}),this.refreshNodesAndContainerHeight(e,s,r)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=!!this.gos.get("groupIncludeFooter")||e==="group",r=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&r?!0:r?"grand":t?"group":!1}canRowsBeSticky(){const e=q0(this.gos),t=this.areFooterRowsStickySuppressed(),r=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!r)}getStickyAncestors(e){const t=[];let r=e.footer?e.sibling:e.parent;for(;r;)r.sibling&&t.push(r.sibling),t.push(r),r=r.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(r=>r.getRowNode()===e)){for(let r=0;r<this.stickyTopRowCtrls.length;r++){const n=this.stickyTopRowCtrls[r].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let r=0;r<this.stickyBottomRowCtrls.length;r++){const n=this.stickyBottomRowCtrls[r].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,r){const n=e==="top",s=n?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,i={},o=[];for(let g=0;g<s.length;g++){const C=s[g].getRowNode();if(!t.has(C)){i[C.id]=s[g],C.sticky=!1;continue}o.push(s[g])}const a=new Set;for(let g=0;g<o.length;g++)a.add(o[g].getRowNode());const l=[];t.forEach(g=>{a.has(g)||(g.sticky=!0,l.push(this.createRowCon(g,!1,!1)))});let u=!!l.length||o.length!==s.length;n?this.topContainerHeight!==r&&(this.topContainerHeight=r,this.gridBodyCtrl.setStickyTopHeight(r),u=!0):this.bottomContainerHeight!==r&&(this.bottomContainerHeight=r,this.gridBodyCtrl.setStickyBottomHeight(r),u=!0),this.destroyRowCtrls(i,!1);const h=[...o,...l];h.sort((g,C)=>C.getRowNode().rowIndex-g.getRowNode().rowIndex),n||h.reverse(),h.forEach(g=>g.setRowTop(g.getRowNode().stickyRowTop));let p=0;return n?(t.forEach(g=>{g.rowIndex<this.pageBoundsService.getFirstRow()&&(p+=g.rowHeight)}),p>this.topContainerHeight&&(p=this.topContainerHeight),this.setOffsetTop(p)):(t.forEach(g=>{g.rowIndex>this.pageBoundsService.getLastRow()&&(p+=g.rowHeight)}),p>this.bottomContainerHeight&&(p=this.bottomContainerHeight),this.setOffsetBottom(p)),u?(n?this.stickyTopRowCtrls=h:this.stickyBottomRowCtrls=h,!0):!1}ensureRowHeightsValid(){let e=!1;const t=r=>{const n=r.getRowNode();if(n.rowHeightEstimated){const s=Sl(this.gos,n);n.setRowHeight(s.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},zie=class extends be{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(i=>i.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(i=>i.updateRangeBordersIfRangeCount())},r=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},n=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{la(this.gos)?r():n()}),la(this.gos)&&r()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),q0(this.gos)&&(Er(this.gos)||bo(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new Uie(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Sn(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new Kie(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=Wx(this.rowCtrlsByRowIndex),t=Wx(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||r.length>0?this.allRowCtrls=[...e,...t,...r]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const r=l=>{this.getAllCellCtrls().forEach(u=>{u.getColumn()===t&&l(u)})},n=()=>{r(l=>l.onLeftChanged())},s=()=>{r(l=>l.onWidthChanged())},i=()=>{r(l=>l.onFirstRightPinnedChanged())},o=()=>{r(l=>l.onLastLeftPinnedChanged())},a=()=>{r(l=>l.onColDefChanged())};t.addEventListener("leftChanged",n),t.addEventListener("widthChanged",s),t.addEventListener("firstRightPinnedChanged",i),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",n),t.removeEventListener("widthChanged",s),t.removeEventListener("firstRightPinnedChanged",i),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Sn(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),r=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(r=>{const n=r.getCellElement(e);n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:r,beans:n,printLayout:s}=this,i=Object.fromEntries(e.map(a=>[a.getRowNode().id,a]));r.forEachPinnedRow(t,(a,l)=>{const u=e[l];u&&r.getPinnedRowById(u.getRowNode().id,t)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),a.id in i?(e[l]=i[a.id],delete i[a.id]):e[l]=new Ac(a,n,!1,!1,s)});const o=t==="top"?r.getPinnedTopRowCount():r.getPinnedBottomRowCount();e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var r;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((r=this.cachedRowCtrls)!=null&&r.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=s=>{const i=s[e.rowIndex];i&&i.getRowNode()===e&&(i.destroyFirstPass(),i.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const r=Nr(this.gos),n=Zf(this.gos,r,Pc.DOM_DATA_KEY_CELL_CTRL),s=Zf(this.gos,r,Ac.DOM_DATA_KEY_ROW_CTRL);return n||s?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const r=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&md(this.gos),s=r?this.getRowsToRecycle():null;if(r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const i=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();i&&this.updateContainerHeights(i)}this.recycleRows(s,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var n;const t=e.newData||e.newPage,r=this.gos.get("suppressScrollOnNewData");t&&!r&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(n=this.stickyRowFeature)==null||n.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.pageBoundsService.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,(t=(e=this.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),r=t.length;for(let n=0;n<r;n++){const s=t[n].getAllCellCtrls(),i=s.length;for(let o=0;o<i;o++)e.push(s[o])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],r=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const n in this.rowCtrlsByRowIndex)r.push(this.rowCtrlsByRowIndex[n]);return r}addRenderedRowListener(e,t,r){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,r)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const r of this.getCellCtrls(e.rowNodes,e.columns))r.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&U2()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const r of this.getRowCtrls(e)){if(!r.isFullWidth())continue;r.refreshFullWidth()||this.redrawRow(r.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){var s;const t=this.getCellCtrls(e.rowNodes,e.columns).map(i=>i.getCellRenderer()).filter(i=>i!=null);if((s=e.columns)!=null&&s.length)return t;const r=[],n=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(i=>{if(n&&!this.isRowInMap(i.getRowNode(),n)||!i.isFullWidth())return;const o=i.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&r.push(l)}}),[...r,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(r=>{const n=r.getCellEditor();n&&t.push(n)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const r=t.getCellPosition();e.push(r)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(r=>{const n=r.id;switch(r.rowPinned){case"top":t.top[n]=r;break;case"bottom":t.bottom[n]=r;break;default:t.normal[n]=r;break}}),t}isRowInMap(e,t){const r=e.id;switch(e.rowPinned){case"top":return t.top[r]!=null;case"bottom":return t.bottom[r]!=null;default:return t.normal[r]!=null}}getRowCtrls(e){const t=this.mapRowNodes(e),r=this.getAllRowCtrls();return!e||!t?r:r.filter(n=>{const s=n.getRowNode();return this.isRowInMap(s,t)})}getCellCtrls(e,t){let r;ke(t)&&(r={},t.forEach(s=>{const i=this.columnModel.getCol(s);ke(i)&&(r[i.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(s=>{s.getAllCellCtrls().forEach(i=>{const o=i.getColumn().getId();r&&!r[o]||n.push(i)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];_i(this.rowCtrlsByRowIndex,(r,n)=>{n.getRowNode().id==null&&e.push(r)}),this.removeRowCtrls(e);const t={};return _i(this.rowCtrlsByRowIndex,(r,n)=>{const s=n.getRowNode();t[s.id]=n}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(r=>{const n=this.rowCtrlsByRowIndex[r];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[r]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let r;this.stickyRowFeature&&U2()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let i=!1;if(this.stickyRowFeature){i=this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}const o=this.firstRenderedRow!==n||this.lastRenderedRow!==s;if(!(t&&!i&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!i),r!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();r!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){const r={};e.forEach(i=>r[i]=!0);const s=Object.keys(this.rowCtrlsByRowIndex).filter(i=>!r[i]);this.removeRowCtrls(s,t)}calculateIndexesToDraw(e){const t=Qre(this.firstRenderedRow,this.lastRenderedRow),r=(s,i)=>{const o=i.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(i)&&t.push(o)};_i(this.rowCtrlsByRowIndex,r),_i(e,r),t.sort((s,i)=>s-i);const n=[];for(let s=0;s<t.length;s++){const i=t[s],o=this.rowModel.getRow(i);o&&!o.sticky&&n.push(i)}return n}recycleRows(e,t=!1,r=!1){const n=this.calculateIndexesToDraw(e);(this.printLayout||r)&&(t=!1),this.removeRowCompsNotToDraw(n,!t),n.forEach(s=>{this.createOrUpdateRowCtrl(s,e,t,r)}),e&&(r&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const r=t.getRowNode().rowIndex;e.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(r=>{if(!r.isFullWidth())return!1;const n=r.getRowNode();return!(t!=null&&!this.isRowInMap(n,t))})}createOrUpdateRowCtrl(e,t,r,n){let s,i=this.rowCtrlsByRowIndex[e];if(i||(s=this.rowModel.getRow(e),ke(s)&&ke(t)&&t[s.id]&&s.alreadyRendered&&(i=t[s.id],t[s.id]=null)),!i)if(s||(s=this.rowModel.getRow(e)),ke(s))i=this.createRowCon(s,r,n);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=i,i}destroyRowCtrls(e,t){const r=[];_i(e,(n,s)=>{if(s){if(this.cachedRowCtrls&&s.isCacheable()){this.cachedRowCtrls.addRow(s);return}if(s.destroyFirstPass(!t),t){const i=s.instanceId;this.zombieRowCtrls[i]=s,r.push(()=>{s.destroySecondPass(),delete this.zombieRowCtrls[i]})}else s.destroySecondPass()}}),t&&(r.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),mee(r))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Tc(this.gos);return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.rowModel.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),u=this.gos.get("suppressRowVirtualisation");let h=!1,p,g;do{const E=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:b,pageLastPixel:T}=this.pageBoundsService.getCurrentPagePixelRange(),R=this.rowContainerHeightService.getDivStretchOffset(),P=l.getScrollFeature().getVScrollPosition(),M=P.top,D=P.bottom;u?(p=b+R,g=T+R):(p=Math.max(M+E-a,b)+R,g=Math.min(D+E+a,T)+R),this.firstVisibleVPixel=Math.max(M+E,b)+R,this.lastVisibleVPixel=Math.min(D+E,T)+R,h=this.ensureAllRowsInRangeHaveHeightsCalculated(p,g)}while(h);let C=this.rowModel.getRowIndexAtPixel(p),w=this.rowModel.getRowIndexAtPixel(g);const y=this.pageBoundsService.getFirstRow(),S=this.pageBoundsService.getLastRow();C<y&&(C=y),w>S&&(w=S),e=C,t=w}const r=Sn(this.gos,"normal"),n=this.gos.get("suppressMaxRenderedRowRestriction"),s=Math.max(this.getRowBuffer(),500);r&&!n&&t-e>s&&(t=e+s);const i=e!==this.firstRenderedRow,o=t!==this.lastRenderedRow;(i||o)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var i,o;const r=(i=this.pinnedRowModel)==null?void 0:i.ensureRowHeightsValid(),n=(o=this.stickyRowFeature)==null?void 0:o.ensureRowHeightsValid(),s=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(s||n)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),n||s||r?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const n=e.getRowNode(),s=this.focusService.isRowNodeFocused(n),i=e.isEditing(),o=n.detail;return s||i||o?!!this.isRowPresent(n):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,t,r){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const s=this.gos.get("suppressAnimationFrame"),i=r&&!s&&!this.printLayout;return new Ac(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:r}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[r];break;case"bottom":t=this.bottomRowCtrls[r];break;default:t=this.rowCtrlsByRowIndex[r],t||(t=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===r)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.getRowNode().rowIndex===r)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},Kie=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,r=this.entriesMap[t];delete this.entriesMap[t],is(this.entriesList,r)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],is(this.entriesList,e)}getEntries(){return this.entriesList}},qie=class extends be{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new rM,this.pinnedBottomRows=new rM}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=r=>{r.setRowHeight(r.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){var n,s;let e=!1,t=0;const r=i=>{if(i.rowHeightEstimated){const o=Sl(this.gos,i);i.setRowTop(t),i.setRowHeight(o.height),t+=o.height,e=!0}};return(n=this.pinnedBottomRows)==null||n.forEach(r),t=0,(s=this.pinnedTopRows)==null||s.forEach(r),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const r=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){r.clear();return}const n=oh(this.gos),s=t==="top"?Zo.ID_PREFIX_TOP_PINNED:Zo.ID_PREFIX_BOTTOM_PINNED,i=r.getIds(),o=[],a=new Set;let l=0,u=-1;for(const h of e){const p=(n==null?void 0:n({data:h,level:0,rowPinned:t}))??s+this.nextId++;if(a.has(p)){Pe("Duplicate ID",p,"found for pinned row with data",h,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}u++,a.add(p),o.push(p);const g=r.getById(p);if(g!==void 0)g.data!==h&&g.setData(h),l+=this.setRowTopAndRowIndex(g,l,u),i.delete(p);else{const C=new Zo(this.beans);C.id=p,C.data=h,C.rowPinned=t,l+=this.setRowTopAndRowIndex(C,l,u),r.push(C)}}i.forEach(h=>{var p;(p=r.getById(h))==null||p.clearRowTopAndRowIndex()}),r.removeAllById(i),r.setOrder(o)}setRowTopAndRowIndex(e,t,r){return e.setRowTop(t),e.setRowHeight(Sl(this.gos,e).height),e.setRowIndex(r),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return t==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return e==="top"?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(t===0)return 0;const r=e.getByIndex(t-1);return r===void 0?0:r.rowTop+r.rowHeight}},rM=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,r)=>{const n=this.cache[t];n&&e(n,r)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},Yie=class extends be{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,r){this.successCommon(e,{rowData:t,rowCount:r})}isRequestMostRecentAndLive(e){const t=e===this.version,r=this.isAlive();return t&&r}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){const t={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(t)}},Xie=class extends be{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=ss(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){is(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&Bi("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(r=>r.getState()==="needsLoading").slice(0,e);this.registerLoads(t.length),t.forEach(r=>r.load()),this.printCacheStatus()}getBlockState(){if(bo(this.gos))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:r,state:n}=t.getBlockStateJson();e[r]=n}),e}printCacheStatus(){this.gos.get("debug")&&Bi(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},Qie={version:Rt,moduleName:"@ag-grid-community/row-node-block",beans:[Xie]},Jie=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){var e;return this.root&&((e=this.root)==null?void 0:e.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var e;return this.end&&((e=this.end)==null?void 0:e.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const r=t[0].id===this.root.id,n=t.findIndex(s=>s.id===e.id);if(n>-1){const s=t.slice(0,n),i=t.slice(n+1);return this.setEndRange(e),r?{keep:s,discard:i}:{keep:i,discard:s}}else return{keep:t,discard:[]}}extend(e,t=!1){const r=this.getRoot();if(r==null){const s=this.getRange().slice();return t&&e.depthFirstSearch(i=>!i.group&&s.push(i)),s.push(e),this.setRoot(e),{keep:s,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(r,e).find(s=>{var i;return s.id===((i=this.end)==null?void 0:i.id)}))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const s=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:s}}}},Zie=class extends be{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,r,n){this.processClassRules(void 0,e.cellClassRules,t,r,n),this.processStaticCellClasses(e,t,r)}processClassRules(e,t,r,n,s){if(t==null&&e==null)return;const i={},o={},a=(l,u)=>{l.split(" ").forEach(h=>{h.trim()!=""&&u(h)})};if(t){const l=Object.keys(t);for(let u=0;u<l.length;u++){const h=l[u],p=t[h];let g;typeof p=="string"?g=this.expressionService.evaluate(p,r):typeof p=="function"&&(g=p(r)),a(h,C=>{g?i[C]=!0:o[C]=!0})}}e&&s&&Object.keys(e).forEach(l=>a(l,u=>{i[u]||(o[u]=!0)})),s&&Object.keys(o).forEach(s),Object.keys(i).forEach(n)}getStaticCellClasses(e,t){const{cellClass:r}=e;if(!r)return[];let n;return typeof r=="function"?n=r(t):n=r,typeof n=="string"&&(n=[n]),n||[]}processStaticCellClasses(e,t,r){this.getStaticCellClasses(e,t).forEach(s=>{r(s)})}},fv=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(fv||{}),K4=class extends be{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:r,eBottomGuard:n,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:i,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:h,onTabKeyDown:p,handleKeyDown:g,eFocusableElement:C}=e;this.comp=t,this.eTopGuard=r,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=C,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!i,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=h,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=g}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new nu(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){var l;const t=Hr(this.gos),r=this.focusService.findFocusableElements(t.body,null,!0),n=r.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let s,i;e?(s=0,i=n):(s=n+1,i=r.length);const o=r.slice(s,i),a=this.gos.get("tabIndex");o.sort((u,h)=>{const p=parseInt(u.getAttribute("tabindex")||"0"),g=parseInt(h.getAttribute("tabindex")||"0");return g===a?1:p===a?-1:p===0?1:g===0?-1:p-g}),(l=o[e?o.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const r=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),r&&(r.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},eoe=class extends be{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:r,eFocusableElement:n}=this,s=[t,r],i={setTabIndex:y=>{s.forEach(S=>y!=null?S.setAttribute("tabindex",y):S.removeAttribute("tabindex"))}};this.addTabGuards(t,r);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:p,shouldStopEventPropagation:g,forceFocusOutWhenTabGuardsAreEmpty:C,isFocusableContainer:w}=e;this.tabGuardCtrl=this.createManagedBean(new K4({comp:i,focusTrapActive:o,eTopGuard:t,eBottomGuard:r,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:p,shouldStopEventPropagation:g,forceFocusOutWhenTabGuardsAreEmpty:C,isFocusableContainer:w}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Hr(this.gos).createElement("div"),r=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",r),Ki(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Ys(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,r){Mb(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,r)}},toe=class extends gr{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new eoe(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,r){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,r)}},roe=0,noe=200,soe=class extends be{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:r}=e,n=this.getPopupIndex(r);if(n!==-1){const C=this.popupList[n];C.alignedToElement=t}const s=t.getBoundingClientRect(),i=this.getParentRect(),o=this.keepXYWithinBounds(r,s.top-i.top,0),a=r.clientWidth>0?r.clientWidth:200;r.style.minWidth=`${a}px`;const u=i.right-i.left-a;let h;this.gos.get("enableRtl")?(h=g(),h<0&&(h=p(),this.setAlignedStyles(r,"left")),h>u&&(h=0,this.setAlignedStyles(r,"right"))):(h=p(),h>u&&(h=g(),this.setAlignedStyles(r,"right")),h<0&&(h=0,this.setAlignedStyles(r,"left"))),r.style.left=`${h}px`,r.style.top=`${o}px`;function p(){return s.right-i.left-2}function g(){return s.left-i.left-a}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:r,nudgeY:n,skipObserver:s}=e;this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:!0,skipObserver:s,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:s,eventSource:i,alignSide:o="left",position:a="over",column:l,rowNode:u,type:h}=e,p=i.getBoundingClientRect(),g=this.getParentRect(),C=this.getPopupIndex(t);if(C!==-1){const y=this.popupList[C];y.alignedToElement=i}const w=()=>{let y=p.left-g.left;o==="right"&&(y-=t.offsetWidth-p.width);let S;return a==="over"?(S=p.top-g.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,p,g,e.nudgeY||0)==="under"?S=p.top-g.top+p.height:S=p.top-t.offsetHeight-(n||0)*2-g.top),{x:y,y:S}};this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:s,updatePosition:w,postProcessCallback:()=>this.callPostProcessPopup(h,t,i,null,l,u)})}shouldRenderUnderOrAbove(e,t,r,n){const s=r.bottom-t.bottom,i=t.top-r.top,o=e.offsetHeight+n;return s>o?"under":i>o||i>s?"above":"under"}setAlignedStyles(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r],{alignedToElement:s}=n;!s||(["right","left","over","above","under"].forEach(o=>{s.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(s.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,r,n,s,i){const o=this.gos.getCallback("postProcessPopup");o&&o({column:s,rowNode:i,ePopup:t,type:e,eventSource:r,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:r,nudgeX:n,nudgeY:s,skipObserver:i,updatePosition:o}=e,a={width:0,height:0},l=(u=!1)=>{let{x:h,y:p}=o();u&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(h+=n),s&&(p+=s),r&&(h=this.keepXYWithinBounds(t,h,1),p=this.keepXYWithinBounds(t,p,0)),t.style.left=`${h}px`,t.style.top=`${p}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!i){const u=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>u(),noe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=Hr(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),K3(t)}keepXYWithinBounds(e,t,r){const n=r===0,s=n?"clientHeight":"clientWidth",i=n?"top":"left",o=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=Hr(this.gos),u=l.documentElement,h=this.getPopupParent(),p=e.getBoundingClientRect(),g=h.getBoundingClientRect(),C=l.documentElement.getBoundingClientRect(),w=h===l.body,y=Math.ceil(p[o]);let E=w?(n?z3:zv)(u)+u[a]:h[s];w&&(E-=Math.abs(C[i]-g[i]));const b=E-y;return Math.min(Math.max(t,0),Math.abs(b))}addPopup(e){const t=Hr(this.gos),{eChild:r,ariaLabel:n,alwaysOnTop:s,positionCallback:i,anchorToElement:o}=e;if(!t)return Pe("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(r);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(r);const l=this.createPopupWrapper(r,n,!!s),u=this.addEventListenersToPopup({...e,wrapperEl:l});return i&&i(),this.addPopupToPopupList(r,l,u,o),{hideFunc:u}}initialisePopupPosition(e){const r=this.getPopupParent().getBoundingClientRect();ke(e.style.top)||(e.style.top=`${r.top*-1}px`),ke(e.style.left)||(e.style.left=`${r.left*-1}px`)}createPopupWrapper(e,t,r){const n=this.getPopupParent(),s=document.createElement("div");return this.environment.applyThemeClasses(s),s.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Ki(e,"dialog"),$d(e,t),s.appendChild(e),n.appendChild(s),r?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=Hr(this.gos),r=this.getPopupParent(),{wrapperEl:n,eChild:s,closedCallback:i,afterGuiAttached:o,closeOnEsc:a,modal:l}=e;let u=!1;const h=w=>{if(!n.contains(Nr(this.gos)))return;w.key===Ce.ESCAPE&&!Jo(w)&&C({keyboardEvent:w})},p=w=>C({mouseEvent:w}),g=w=>C({touchEvent:w}),C=(w={})=>{const{mouseEvent:y,touchEvent:S,keyboardEvent:E,forceHide:b}=w;!b&&(this.isEventFromCurrentPopup({mouseEvent:y,touchEvent:S},s)||u)||(u=!0,r.removeChild(n),t.removeEventListener("keydown",h),t.removeEventListener("mousedown",p),t.removeEventListener("touchstart",g),t.removeEventListener("contextmenu",p),this.eventService.removeEventListener("dragStarted",p),i&&i(y||S||E),this.removePopupFromPopupList(s))};return o&&o({hidePopup:C}),window.setTimeout(()=>{a&&t.addEventListener("keydown",h),l&&(t.addEventListener("mousedown",p),this.eventService.addEventListener("dragStarted",p),t.addEventListener("touchstart",g),t.addEventListener("contextmenu",p))},0),C}addPopupToPopupList(e,t,r,n){this.popupList.push({element:e,wrapper:t,hideFunc:r,instanceId:roe++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(i=>i&&i()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const s=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=s,n.isAnchored=!0,s}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),r=t.getBoundingClientRect(),{element:n,ePopup:s}=e,i=n.getBoundingClientRect(),o=p=>parseInt(p.substring(0,p.length-1),10),a=(p,g)=>{const C=r[p]-i[p],w=o(s.style[p]);return{initialDiff:C,lastDiff:C,initial:w,last:w,direction:g}},l=a("top",0),u=a("left",1),h=this.getFrameworkOverrides();return new Br(p=>{h.wrapIncoming(()=>{h.setInterval(()=>{const g=t.getBoundingClientRect(),C=n.getBoundingClientRect();if(C.top==0&&C.left==0&&C.height==0&&C.width==0){e.hidePopup();return}const y=(S,E)=>{const b=o(s.style[E]);S.last!==b&&(S.initial=b,S.last=b);const T=g[E]-C[E];if(T!=S.lastDiff){const R=this.keepXYWithinBounds(s,S.initial+S.initialDiff-T,S.direction);s.style[E]=`${R}px`,S.last=R}S.lastDiff=T};y(l,"top"),y(u,"left")},200).then(g=>{p(()=>{g!=null&&window.clearInterval(g)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:r,touchEvent:n}=e,s=r||n;if(!s)return!1;const i=this.getPopupIndex(t);if(i===-1)return!1;for(let o=i;o<this.popupList.length;o++){const a=this.popupList[o];if(Lee(a.element,s))return!0}return this.isElementWithinCustomPopup(s.target)}isElementWithinCustomPopup(e){const t=Hr(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const r=this.getWrapper(e);r&&(r.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(r))}bringPopupToFront(e){const t=this.getPopupParent(),r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=r.length,s=this.getWrapper(e);if(!s||n<=1||!t.contains(e))return;const i=[],o=[];for(const g of r)g!==s&&(g.classList.contains("ag-always-on-top")?o.push(g):i.push(g));const a=[],l=o.length,p=s.classList.contains("ag-always-on-top")||!l?[...i,...o,s]:[...i,s,...o];for(let g=0;g<=n;g++){const C=p[g];if(r[g]===p[g]||C===s)continue;C.querySelectorAll("div").forEach(y=>{y.scrollTop!==0&&a.push([y,y.scrollTop])}),g===0?t.insertAdjacentElement("afterbegin",C):p[g-1].insertAdjacentElement("afterend",C)}for(;a.length;){const g=a.pop();g[0].scrollTop=g[1]}}},ioe=["touchstart","touchend","touchmove","touchcancel"],q4=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new Br(r=>{r(window.setInterval(e,t))})}addEventListener(e,t,r,n){const s=Fc(ioe,t);e.addEventListener(t,r,{capture:!!n,passive:s})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},ooe=class extends be{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,r=!1){return r?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const r=e===Ce.UP,n=e===Ce.DOWN,s=e===Ce.LEFT;let i,o;if(r||n)o=r?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),i=t.column;else{const a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");o=t.rowIndex,i=s!==l?a[0]:Bt(a)}return{rowIndex:o,rowPinned:null,column:i}}getNextCellToFocusWithoutCtrlPressed(e,t){let r=t,n=!1;for(;!n;){switch(e){case Ce.UP:r=this.getCellAbove(r);break;case Ce.DOWN:r=this.getCellBelow(r);break;case Ce.RIGHT:this.gos.get("enableRtl")?r=this.getCellToLeft(r):r=this.getCellToRight(r);break;case Ce.LEFT:this.gos.get("enableRtl")?r=this.getCellToRight(r):r=this.getCellToLeft(r);break;default:r=null,Pe("unknown key for navigation ",e);break}r?n=this.isCellGoodToFocusOn(r):n=!0}return r}isCellGoodToFocusOn(e){const t=e.column;let r;switch(e.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:r=this.rowModel.getRow(e.rowIndex);break}return r?!t.isSuppressNavigable(r):!1}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,r=e.rowPinned;let n=!1;if(this.isLastRowInContainer(e))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else r&&(n=!0);const s=this.rowModel.getRow(e.rowIndex),i=n?void 0:this.getNextStickyPosition(s);return i||{rowIndex:t+1,rowPinned:r}}getNextStickyPosition(e,t){if(!q0(this.gos)||!e||!e.sticky)return;const r=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex);let n=[];r?n=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):n=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);const s=t?-1:1,i=n.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=n[i+s];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,r=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=r:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=r:this.pageBoundsService.getLastRow()<=r}getRowAbove(e){const t=e.rowIndex,r=e.rowPinned,n=r?t===0:t===this.pageBoundsService.getFirstRow();let s=!1;if(n)return r==="top"?null:r?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;r&&(s=!0);const i=this.rowModel.getRow(e.rowIndex),o=s?void 0:this.getNextStickyPosition(i,!0);return o||{rowIndex:t-1,rowPinned:r}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){var i;const t=this.visibleColsService.getAllCols();let r=e.rowIndex,n=e.rowPinned,s=this.visibleColsService.getColAfter(e.column);if(!s){s=t[0];const o=this.getRowBelow(e);if(Gt(o)||!o.rowPinned&&!(((i=this.paginationService)==null?void 0:i.isRowInPage(o))??!0))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:s,rowPinned:n}}getNextTabbedCellBackwards(e){var i;const t=this.visibleColsService.getAllCols();let r=e.rowIndex,n=e.rowPinned,s=this.visibleColsService.getColBefore(e.column);if(!s){s=Bt(t);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Gt(o)||!o.rowPinned&&!(((i=this.paginationService)==null?void 0:i.isRowInPage(o))??!0))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:s,rowPinned:n}}},Vn=(e,t)=>{for(const r in t)t[r]=e;return t},nM={...Vn("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Vn("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Vn("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...Vn("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Vn("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Vn("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Vn("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Vn("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Vn("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Vn("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...Vn("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Vn("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Vn("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Vn("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Vn("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},rS={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},aoe=(e,t)=>e.eventService.dispatchEvent(t),Y4=class{};Reflect.defineProperty(Y4,"name",{value:"GridApi"});var loe=class extends be{constructor(){super(),this.beanName="apiFunctionService",this.api=new Y4,this.fns={...rS,dispatchEvent:aoe},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in nM)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var s;const{fns:r,beans:n}=this;r!==rS&&(r[e]=((s=n==null?void 0:n.validationService)==null?void 0:s.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:r,fns:{[e]:n}}=this;return n?n(r,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:r,preDestroyLink:n}=this;if(!t)Pe(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${n}`);else{const s=nM[e];r.assertModuleRegistered(s,`api.${e}`)&&Pe(`API function '${e}' not registered to module '${s}'`)}}destroy(){super.destroy(),this.fns=rS,this.beans=null}};function coe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var uoe=class extends be{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,r){const n=[],s={};return e.forEach(i=>{const o=this.createDefFromColumn(i,t,r);let a=!0,l=o,u=i.getOriginalParent(),h=null;for(;u;){let p=null;if(u.isPadding()){u=u.getOriginalParent();continue}const g=s[u.getGroupId()];if(g){g.children.push(l),a=!1;break}if(p=this.createDefFromGroup(u),p&&(p.children=[l],s[p.groupId]=p,l=p,u=u.getOriginalParent()),u!=null&&h===u){a=!1;break}h=u}a&&n.push(l)}),n}createDefFromGroup(e){const t=Vx(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,r){const n=Vx(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?r.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},doe=class extends be{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:t})}genericColumnEvent(e,t,r){this.eventService.dispatchEvent({type:e,columns:t,column:t.length===1?t[0]:null,source:r})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:r,toIndex:n,finished:s}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&t.length===1?t[0]:null,toIndex:n,finished:s,source:r})}columnPinned(e,t){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,s=>s.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:n??null,columns:e,column:r,source:t})}columnVisible(e,t){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,s=>s.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:n,columns:e,column:r,source:t})}getCommonValue(e,t){if(!e||e.length==0)return;const r=t(e[0]);for(let n=1;n<e.length;n++)if(r!==t(e[n]))return;return r}columnChanged(e,t,r){this.eventService.dispatchEvent({type:e,columns:t,column:t&&t.length==1?t[0]:null,source:r})}columnResized(e,t,r,n=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:n,finished:t,source:r})}},hoe=class extends be{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){const e=this.columnModel.getColDefCols();if(Gt(e)||!this.columnModel.isAlive())return[];const r=this.columnModel.getAllCols().map(n=>this.createStateItemFromColumn(n));return this.orderColumnStateList(r),r}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),r=this.funcColsService.getPivotColumns(),n=e.isRowGroupActive()?t.indexOf(e):null,s=e.isPivotActive()?r.indexOf(e):null,i=e.isValueActive()?e.getAggFunc():null,o=e.getSort()!=null?e.getSort():null,a=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:a,aggFunc:i,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:s,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),r=new Map(t.map((n,s)=>[n.getColId(),s]));e.sort((n,s)=>{const i=r.has(n.colId)?r.get(n.colId):-1,o=r.has(s.colId)?r.get(s.colId):-1;return i-o})}},foe=class extends be{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[],t=this.columnModel.getColTree();return ca(null,t,r=>{qn(r)&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const r=[];ca(null,t,n=>{if(qn(n)){const s=n.getColGroupDef(),i={groupId:n.getGroupId(),open:s?s.openByDefault:void 0};r.push(i)}}),this.setColumnGroupState(r,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const n=[];e.forEach(s=>{const i=s.groupId,o=s.open,a=this.columnModel.getProvidedColGroup(i);a&&a.isExpanded()!==o&&(a.setExpanded(o),n.push(a))}),this.visibleColsService.refresh(t,!0),n.length&&this.eventDispatcher.groupOpened(n),this.columnAnimationService.finish()}},poe=class extends be{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,r=!1){const n=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const i=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=i-this.scrollPosition-this.scrollWidth,this.viewportRight=i-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(r)}}getHeadersToRender(e,t){let r;switch(e){case"left":r=this.rowsOfHeadersToRenderLeft[t];break;case"right":r=this.rowsOfHeadersToRenderRight[t];break;default:r=this.rowsOfHeadersToRenderCenter[t];break}return r||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,r=t+e.getActualWidth(),n=this.viewportLeft-200,s=this.viewportRight+200,i=t<n&&r<n,o=t>s&&r>s;return!i&&!o}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=s=>{const i=s.getLeft();return ke(i)&&i>this.viewportLeft},r=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),n=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,n,r,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),r=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(r).forEach(i=>e[i.getId()]=!0);const s=(i,o,a)=>{let l=!1;for(let u=0;u<i.length;u++){const h=i[u];let p=!1;if(xl(h))p=e[h.getId()]===!0;else{const C=h.getDisplayedChildren();C&&(p=s(C,o,a+1))}p&&(l=!0,o[a]||(o[a]=[]),o[a].push(h))}return l};s(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),s(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),s(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),r=this.colsWithinViewportHash!==t;return r&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),r}},goe=class extends be{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const r=this.componentMetadataProvider.retrieve(e);return r&&r.functionAdapter?r.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(){return!1}getGui(){return this.eGui}init(n){const s=e(n),i=typeof s;if(i==="string"||i==="number"||i==="boolean"){this.eGui=ip("<span>"+s+"</span>");return}if(s==null){this.eGui=ip("<span></span>");return}this.eGui=s}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},moe=class extends be{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},voe=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],sM=Object.fromEntries(voe.map((e,t)=>[e,t]));function Coe(e,t){const r=(e.beanName?sM[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?sM[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return r-n}function yoe(e,t){return(e==null?void 0:e.beanName)==="gridDestroyService"?-1:0}var woe=class extends be{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const r=this.registry[e];if(r!=null)return new r(...t)}},Soe=class extends be{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){var t,r;this.runReadyCallbacksAsync=((r=(t=e.frameworkOverrides).runWhenReadyAsync)==null?void 0:r.call(t))??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>(e==null?void 0:e.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const r=this.readyCallbacks.indexOf(t);r>=0&&this.readyCallbacks.splice(r,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:r}=this.params;return[e,r,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},xoe=class extends be{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:r,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:r})}createIdFromValues(e){const{rowIndex:t,rowPinned:r,column:n}=e;return`${t}.${r??"null"}.${n.getId()}`}equals(e,t){const r=e.column===t.column,n=e.rowPinned===t.rowPinned,s=e.rowIndex===t.rowIndex;return r&&n&&s}},Eoe=class extends be{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){Er(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const r=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]};t?r():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(r)),this.dispatchExpandedDebounced())}},boe=class extends be{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const r=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return r?(t="bottom",e=r-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):n&&(t="top",e=n-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ke(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}},iM={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},oM={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},aM={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Roe=class extends be{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(iM),this.getSizeEl(oM),this.getSizeEl(aM)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(iM)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(oM)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(aM)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){var e;return((e=this.gridTheme)==null?void 0:e.getCssClass())||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const r of Array.from(e.classList))r.startsWith("ag-theme-")&&!t.includes(r)&&e.classList.remove(r);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const r=`${t}px`;return e!=r?(this.eGridDiv.style.setProperty("--ag-line-height",r),t):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const r=this.measureSizeEl(e);return r==="detached"||r==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,r),r)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const r=t.offsetWidth;return r===lM?"no-styles":(this.sizesMeasured=!0,r)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let r=this.eMeasurementContainer;r||(r=this.eMeasurementContainer=document.createElement("div"),r.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(r),this.eGridDiv.appendChild(r)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${lM}px)`,r.appendChild(t),this.sizeEls.set(e,t);let n=this.measureSizeEl(e);n==="no-styles"&&Pe(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const s=this.resizeObserverService.observeResize(t,()=>{const i=this.measureSizeEl(e);i==="detached"||i==="no-styles"||(this.lastKnownValues.set(e,i),i!==n&&(n=i,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>s()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const r=this.readAncestorThemeClasses();Toe(r,this.ancestorThemeClasses)||(this.ancestorThemeClasses=r,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const r=Array.from(e.classList).filter(n=>n.startsWith("ag-theme-"));for(const n of r)t.includes(n)||t.unshift(n);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:r}=this,n=e.get("theme")||null;n!==r&&(r==null||r.stopUse(),this.gridTheme=n,n==null||n.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){var e;(e=this.gridTheme)==null||e.stopUse(),this.gridTheme=null}},Toe=(e,t)=>e.length===t.length&&e.findIndex((r,n)=>e[n]!==t[n])===-1,lM=15538,Foe=class extends be{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new ih}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=Gv(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,r){this.globalEventService.addEventListener(e,t,r)}removeEventListener(e,t,r){this.globalEventService.removeEventListener(e,t,r)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},Kb=class oi extends be{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",oi.toggleKeyboardMode),t.addEventListener("mousedown",oi.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",oi.toggleKeyboardMode),t.removeEventListener("mousedown",oi.toggleKeyboardMode))}static toggleKeyboardMode(t){const r=oi.keyboardModeActive,n=t.type==="keydown";n&&(t.ctrlKey||t.metaKey||t.altKey)||r!==n&&(oi.keyboardModeActive=n)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,r=>{this.gridCtrl=r.gridCtrl})}registerKeyboardFocusEvents(){const t=Hr(this.gos);oi.addKeyboardModeEvents(t),oi.instanceCount++,this.addDestroyFunc(()=>{oi.instanceCount--,oi.removeKeyboardModeEvents(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,r=this.columnModel.getCol(t.getId());t!==r&&this.clearFocusedCell()}isKeyboardMode(){return oi.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Nr(this.gos),Ac.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Nr(this.gos),Z0.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,r){let n=t;for(;n;){if(Zf(this.gos,n,r))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return this.isCellRestoreFocused(t)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,r){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),r())})}isCellRestoreFocused(t){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:r,rowPinned:n,column:s}=t,i={rowIndex:r,rowPinned:n,column:s,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:n});return o&&(i.isFullWidthCell=o.isFullWidth()),i}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:r,rowIndex:n,rowPinned:s,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:o=!1}=t,a=this.columnModel.getCol(r);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:n,rowPinned:Qo(s),column:a},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:i,preventScrollOnBrowserFocus:o})}isCellFocused(t){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null)return!1;const r=t.getColumnGroupChild(),n=t.getRowIndex(),s=t.getPinned(),{column:i,headerRowIndex:o}=this.focusedHeaderPosition;return r===i&&n===o&&s==i.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,r){this.focusedHeaderPosition={headerRowIndex:t,column:r}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){var u;if(this.isHeaderFocusSuppressed())return!1;const{direction:r,fromTab:n,allowUserOverride:s,event:i,fromCell:o,rowWithoutSpanValue:a}=t;let{headerPosition:l}=t;if(o&&((u=this.filterManager)!=null&&u.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter(l);if(s){const h=this.getFocusedHeader(),p=this.headerNavigationService.getHeaderRowCount();if(n){const g=this.gos.getCallback("tabToNextHeader");g&&(l=this.getHeaderPositionFromUserFunc({userFunc:g,direction:r,currentPosition:h,headerPosition:l,headerRowCount:p}))}else{const g=this.gos.getCallback("navigateToNextHeader");if(g&&i){const C={key:i.key,previousHeaderPosition:h,nextHeaderPosition:l,headerRowCount:p,event:i};l=g(C)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:r,event:i,fromCell:o,rowWithoutSpanValue:a}):!1}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:r,headerPosition:n,direction:s,event:i}=t,o=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),l=this.getHeaderPositionFromUserFunc({userFunc:r,direction:s,currentPosition:o,headerPosition:n,headerRowCount:a});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:s,event:i})}getHeaderPositionFromUserFunc(t){const{userFunc:r,direction:n,currentPosition:s,headerPosition:i,headerRowCount:o}=t,l=r({backwards:n==="Before",previousHeaderPosition:s,nextHeaderPosition:i,headerRowCount:o});return l===!0||l===null?(l===null&&Pe("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),s):l===!1?null:l}focusProvidedHeaderPosition(t){var p;const{headerPosition:r,direction:n,fromCell:s,rowWithoutSpanValue:i,event:o}=t,{column:a,headerRowIndex:l}=r;if(l===-1)return(p=this.filterManager)!=null&&p.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(r):this.focusGridView(a);this.headerNavigationService.scrollToColumn(a,n);const u=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned()),h=(u==null?void 0:u.focusHeader(r.headerRowIndex,a,o))||!1;return h&&(i!=null||s)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(i??-1),h}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const r=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:r,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const r=this.headerNavigationService.getHeaderRowCount()-1,n=Bt(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:r,column:n},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){var r;return(r=this.filterManager)!=null&&r.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,r){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===Qo(r)}findFocusableElements(t,r,n=!1){const s=Tte;let i=U3;r&&(i+=", "+r),n&&(i+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(t.querySelectorAll(s)).filter(u=>Co(u)),a=Array.prototype.slice.apply(t.querySelectorAll(i));return a.length?((u,h)=>u.filter(p=>h.indexOf(p)===-1))(o,a):o}focusInto(t,r=!1,n=!1){const s=this.findFocusableElements(t,null,n),i=r?Bt(s):s[0];return i?(i.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(t,r){if(!r)return null;const n=this.findFocusableElements(t),s=n.indexOf(r);if(s===-1)return null;let i=-1;for(let o=s-1;o>=0;o--)if(n[o].classList.contains("ag-tab-guard-top")){i=o;break}return i<=0?null:n[i-1]}findNextFocusableElement(t=this.eGridDiv,r,n){const s=this.findFocusableElements(t,r?':not([tabindex="-1"])':null),i=Nr(this.gos);let o;r?o=s.findIndex(l=>l.contains(i)):o=s.indexOf(i);const a=o+(n?-1:1);return a<0||a>=s.length?null:s[a]}isTargetUnderManagedComponent(t,r){if(!r)return!1;const n=t.querySelectorAll(`.${nu.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let s=0;s<n.length;s++)if(n[s].contains(r))return!0;return!1}findTabbableParent(t,r=5){let n=0;for(;t&&Kx(t)===null&&++n<=r;)t=t.parentElement;return Kx(t)===null?null:t}focusOverlay(t){var n;const r=this.overlayService.isVisible()&&((n=this.overlayService.getOverlayWrapper())==null?void 0:n.getGui());return!!r&&this.focusInto(r,t)}focusGridViewFailed(t,r){return r&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,r=!1,n=!0){var i,o;if(this.overlayService.isExclusive())return n&&this.focusOverlay(r);if(this.isCellFocusSuppressed())return r&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():n&&this.focusOverlay(r)?!0:this.focusNextGridCoreContainer(!1);const s=r?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(s){const{rowIndex:a,rowPinned:l}=s;if(t??(t=(i=this.getFocusedHeader())==null?void 0:i.column),t&&a!==void 0&&a!==null){if(this.navigationService.ensureCellVisible({rowIndex:a,column:t,rowPinned:l}),r){const u=this.rowRenderer.getRowByPosition(s);if(u!=null&&u.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(s,r))return!0}return this.setFocusedCell({rowIndex:a,column:t,rowPinned:Qo(l),forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:a,rowPinned:l,column:t}),!0}}return!!(n&&this.focusOverlay(r)||r&&this.focusLastHeader())}isGridFocused(){const t=Nr(this.gos);return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,r=!1){return!r&&this.gridCtrl.focusNextInnerContainer(t)?!0:((r||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){var r;return this.advancedFilterFocusColumn=t==null?void 0:t.column,((r=this.advancedFilterService)==null?void 0:r.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(t,r){var s;const n=(r?void 0:this.advancedFilterFocusColumn)??((s=this.visibleColsService.getAllCols())==null?void 0:s[0]);return t?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};Kb.keyboardModeActive=!1;Kb.instanceCount=0;var Poe=Kb,Aoe=class extends be{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=Sn(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),r=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},Doe=class extends be{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,r){this.view=e,this.eGridHostDiv=t,this.eGui=r,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:n,mouseEventService:s,ctrlsService:i,resizeObserverService:o}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:u=>u===1||u===0,getIconName:()=>"notAllowed"};n.addDropTarget(a),this.addDestroyFunc(()=>n.removeDropTarget(a)),s.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new zb(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const l=o.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>l()),i.register("gridCtrl",this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,r,n,s,i;const e=this.beans;return{paginationSelector:(t=e.paginationService)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:(r=e.columnDropZonesService)==null?void 0:r.getDropZoneSelector(),sideBarSelector:(n=e.sideBarService)==null?void 0:n.getSideBarSelector(),statusBarSelector:(s=e.statusBarService)==null?void 0:s.getStatusPanelSelector(),watermarkSelector:(i=e.licenseManager)==null?void 0:i.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:r,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(r>0){const s=this.visibleColsService.getAllCols(),i=Bt(s);if(this.focusService.focusGridView(i,!0))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const r=this.getFocusableContainers(),n=this.visibleColsService.getAllCols();if(e){if(r.length>1)return this.focusContainer(Bt(r),!0);const s=Bt(n);if(this.focusService.focusGridView(s,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(n[0]))return!0;for(let s=1;s<r.length;s++)if(this.focusService.focusInto(r[s].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var i;const t=this.view.getFocusableContainers(),{nextIndex:r,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||r<0||r>=t.length)return;const s=t[r];(i=s.setAllowFocus)==null||i.call(s,!0),setTimeout(()=>{var o;(o=s.setAllowFocus)==null||o.call(s,!1)})}getNextFocusableIndex(e,t){const r=Nr(this.gos),n=e.findIndex(i=>i.getGui().contains(r)),s=n+(t?-1:1);return{indexWithFocus:n,nextIndex:s}}focusContainer(e,t){var n,s;(n=e.setAllowFocus)==null||n.call(e,!0);const r=this.focusService.focusInto(e.getGui(),t);return(s=e.setAllowFocus)==null||s.call(e,!1),r}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Moe=class extends be{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";typeof e=="function"&&(e=e());const r=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(s=>{var o;if(!s){qt("alignedGrids contains an undefined option."),t||qt(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),qt(r());return}if(this.isGridApi(s))return s;const i=s;return"current"in i?(o=i.current)==null?void 0:o.api:(i.api||qt(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${r()}`),i.api)}).filter(s=>!!s&&!s.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const r=[];return e.columns?e.columns.forEach(n=>{r.push(t(n))}):e.column&&r.push(t(e.column)),r}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Pe("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(r=>{let n=null;r&&(n=t.getProvidedColGroup(r.getGroupId())),!(r&&!n)&&t.setColumnGroupOpened(n,r.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var u;const t=e.column;let r=null;if(t&&(r=this.columnModel.getColDefCol(t.getColId())),t&&!r)return;const n=this.getMasterColumns(e),{columnApplyStateService:s,columnSizeService:i,ctrlsService:o}=this;switch(e.type){case"columnMoved":{const p=e.api.getColumnState().map(g=>({colId:g.colId}));s.applyColumnState({state:p,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const p=e.api.getColumnState().map(g=>({colId:g.colId,hide:g.hide}));s.applyColumnState({state:p},"alignedGridChanged")}break;case"columnPinned":{const p=e.api.getColumnState().map(g=>({colId:g.colId,pinned:g.pinned}));s.applyColumnState({state:p},"alignedGridChanged")}break;case"columnResized":{const h=e,p={};n.forEach(g=>{p[g.getId()]={key:g.getColId(),newWidth:g.getActualWidth()}}),(u=h.flexColumns)==null||u.forEach(g=>{p[g.getId()]&&delete p[g.getId()]}),i.setColumnWidths(Object.values(p),!1,h.finished,"alignedGridChanged");break}}const l=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(h=>{h.setGridOption("alwaysShowVerticalScroll",l)})}},Noe={version:Rt,moduleName:"@ag-grid-community/aligned-grid",beans:[Moe]};function Ioe(e,t){const r=e.columnModel.getColDefCol(t);return r?r.getColDef():null}function Ooe(e){return e.columnModel.getColumnDefs()}function Loe(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function koe(e,t,r){e.columnModel.setColumnGroupOpened(t,r,"api")}function _oe(e,t,r){return e.visibleColsService.getColumnGroup(t,r)}function joe(e,t){return e.columnModel.getProvidedColGroup(t)}function Boe(e,t,r){return e.columnNameService.getDisplayNameForColumn(t,r)||""}function Goe(e,t,r){return e.columnNameService.getDisplayNameForColumnGroup(t,r)||""}function Hoe(e,t){return e.columnModel.getColDefCol(t)}function Voe(e){return e.columnModel.getColDefCols()}function Woe(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function $oe(e){return e.columnGetStateService.getColumnState()}function Uoe(e){e.columnApplyStateService.resetColumnState("api")}function zoe(e){return e.columnGroupStateService.getColumnGroupState()}function Koe(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function qoe(e){e.columnGroupStateService.resetColumnGroupState("api")}function Yoe(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function Xoe(e){return e.visibleColsService.isPinningLeft()}function Qoe(e){return e.visibleColsService.isPinningRight()}function Joe(e,t){return e.visibleColsService.getColAfter(t)}function Zoe(e,t){return e.visibleColsService.getColBefore(t)}function eae(e,t,r){e.columnModel.setColsVisible([t],r,"api")}function tae(e,t,r){e.columnModel.setColsVisible(t,r,"api")}function rae(e,t,r){e.columnModel.setColsPinned([t],r,"api")}function nae(e,t,r){e.columnModel.setColsPinned(t,r,"api")}function sae(e){return e.columnModel.getCols()}function iae(e){return e.visibleColsService.getLeftCols()}function oae(e){return e.visibleColsService.getCenterCols()}function aae(e){return e.visibleColsService.getRightCols()}function lae(e){return e.visibleColsService.getAllCols()}function cae(e){return e.columnViewportService.getViewportColumns()}function uae(e,t,r){e.columnMoveService.moveColumns([t],r,"api")}function dae(e,t,r){e.columnMoveService.moveColumnByIndex(t,r,"api")}function hae(e,t,r){e.columnMoveService.moveColumns(t,r,"api")}function fae(e,t,r,n=!0,s="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:r}],!1,n,s)}function pae(e,t,r=!0,n="api"){e.columnSizeService.setColumnWidths(t,!1,r,n)}function gae(e){return e.visibleColsService.getTreeLeft()}function mae(e){return e.visibleColsService.getTreeCenter()}function vae(e){return e.visibleColsService.getTreeRight()}function Cae(e){return e.visibleColsService.getAllTrees()}function yae(e,t,r){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:r,source:"api"})}function wae(e,t,r){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:r,source:"api"})}function Sae(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var xae=class extends be{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(lc(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=n=>s=>{const{column:i,node:o,value:a}=s;let l=i.getColDef().valueFormatter;return l===n.groupSafeValueFormatter&&(l=n.valueFormatter),this.valueService.formatValue(i,o,a,l)};Object.entries(e).forEach(([n,s])=>{const i={...s,groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)};this.dataTypeDefinitions[n]=i,this.formatValueFuncs[n]=t(i)});const r=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(r).forEach(([n,s])=>{const i=this.processDataTypeDefinition(s,r,[n],e);i&&(this.dataTypeDefinitions[n]=i,s.dataTypeMatcher&&(this.dataTypeMatchers[n]=s.dataTypeMatcher),this.formatValueFuncs[n]=t(i))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(n=>{const s=this.dataTypeMatchers[n];s&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=s??e[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const r={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(r.columnTypes=[...hv(e.columnTypes),...hv(t.columnTypes)]),r}processDataTypeDefinition(e,t,r,n){let s;const i=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=n[i];const a=t[i];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,i))return;s=this.mergeDataTypeDefinitions(o,e)}else{if(r.includes(i)){Pe('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=t[i];if(!this.validateDataTypeDefinition(e,o,i))return;const a=this.processDataTypeDefinition(o,t,[...r,i],n);if(!a)return;s=this.mergeDataTypeDefinitions(a,e)}return{...s,groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)}}validateDataTypeDefinition(e,t,r){return t?t.baseDataType!==e.baseDataType?(Pe('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(Pe(`The data type definition ${r} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var r,n;if((r=t.node)!=null&&r.group){const s=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&s!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&typeof t.value=="string"&&!((n=e.dataTypeMatcher)!=null&&n.call(e,t.value)))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,r){let{cellDataType:n}=t;const{field:s}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(s,r):!1),!n){e.cellDataType=!1;return}const i=this.dataTypeDefinitions[n];if(!i){Pe(`Missing data type definition - "${n}"`);return}return e.cellDataType=n,i.groupSafeValueFormatter&&(e.valueFormatter=i.groupSafeValueFormatter),i.valueParser&&(e.valueParser=i.valueParser),i.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,i,r),i.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const r=n=>{t.add(n.key)};e.addEventListener("columnStateUpdated",r),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",r))}canInferCellDataType(e,t){if(!Er(this.gos))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,r))return!1;const n=t.type===null?e.type:t.type;if(n){const s=this.gos.get("columnTypes")??{};if(hv(n).some(o=>{const a=s[o.trim()];return a&&this.doColDefPropsPreventInference(a,r)}))return!1}return!this.doColDefPropsPreventInference(e,r)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([r,n])=>this.doesColDefPropPreventInference(e,t,r,n))}doesColDefPropPreventInference(e,t,r,n){if(!t[r])return!1;const s=e[r];return s===null?(t[r]=!1,!1):n===void 0?!!s:s===n}inferCellDataType(e,t){if(!e)return;let r;const n=this.getInitialData();if(n){const i=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");r=Pf(n,e,i)}else this.initWaitForRowData(t);if(r==null)return;const[s]=Object.entries(this.dataTypeMatchers).find(([i,o])=>o(r))??["object"];return s}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[r]=this.addManagedEventListeners({rowDataUpdateStarted:n=>{const{firstRowData:s}=n;s&&(r==null||r(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const r=[];this.destroyColumnStateUpdateListeners();const n={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([i,o])=>{const a=this.columnModel.getCol(i);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(t&&u.type&&u.type!==l.type){const h=this.getUpdatedColumnState(a,o);h.rowGroup&&h.rowGroupIndex==null&&(n[i]=h),h.pivot&&h.pivotIndex==null&&(s[i]=h),r.push(h)}}),t&&r.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(n,s)),r.length&&this.columnApplyStateService.applyColumnState({state:r},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const r=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(n=>{delete r[n],n==="rowGroup"?delete r.rowGroupIndex:n==="pivot"&&delete r.pivotIndex}),r}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,r=e.object;this.hasObjectValueParser=t.valueParser!==r.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==r.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var n;if(t==null)return!0;const r=(n=this.getDataTypeDefinition(e))==null?void 0:n.dataTypeMatcher;return r?r(t):!0}validateColDef(e){const t=r=>Pe(`Cell data type is "object" but no Value ${r} has been provided. Please either provide an object data type definition with a Value ${r}, or set "colDef.value${r}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,r,n){var i;const s=this.formatValueFuncs[t];switch(r.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===Ce.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=s;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=s;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,a)=>{const l=this.columnModel.getColDefCol(n),u=l==null?void 0:l.getColDef();if(!l||!u)return 0;const h=o==null?"":s({column:l,node:null,value:o}),p=a==null?"":s({column:l,node:null,value:a});return h===p?0:h>p?1:-1},e.keyCreator=s;break}}(i=this.filterManager)==null||i.setColDefPropertiesForDataType(e,r,s)}getDefaultDataTypes(){const e=r=>!!r.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:r=>{var n,s;return((s=(n=r.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:Number(r.newValue)},valueFormatter:r=>r.value==null?"":typeof r.value!="number"||isNaN(r.value)?t("invalidNumber","Invalid Number"):String(r.value),dataTypeMatcher:r=>typeof r=="number"},text:{baseDataType:"text",valueParser:r=>r.newValue===""?null:Lx(r.newValue),dataTypeMatcher:r=>typeof r=="string"},boolean:{baseDataType:"boolean",valueParser:r=>{var n,s;return r.newValue==null?r.newValue:((s=(n=r.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:String(r.newValue).toLowerCase()==="true"},valueFormatter:r=>r.value==null?"":String(r.value),dataTypeMatcher:r=>typeof r=="boolean"},date:{baseDataType:"date",valueParser:r=>Es(r.newValue==null?null:String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):mi(r.value,!1)??"",dataTypeMatcher:r=>r instanceof Date},dateString:{baseDataType:"dateString",dateParser:r=>Es(r)??void 0,dateFormatter:r=>mi(r??null,!1)??void 0,valueParser:r=>e(String(r.newValue))?r.newValue:null,valueFormatter:r=>e(String(r.value))?r.value:"",dataTypeMatcher:r=>typeof r=="string"&&e(r)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:r=>Lx(r.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},Eae={version:Rt,moduleName:"@ag-grid-community/data-type",beans:[xae]},bae={version:Rt,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:Ioe,getColumnDefs:Ooe,sizeColumnsToFit:Loe,setColumnGroupOpened:koe,getColumnGroup:_oe,getProvidedColumnGroup:joe,getDisplayNameForColumn:Boe,getDisplayNameForColumnGroup:Goe,getColumn:Hoe,getColumns:Voe,applyColumnState:Woe,getColumnState:$oe,resetColumnState:Uoe,getColumnGroupState:zoe,setColumnGroupState:Koe,resetColumnGroupState:qoe,isPinning:Yoe,isPinningLeft:Xoe,isPinningRight:Qoe,getDisplayedColAfter:Joe,getDisplayedColBefore:Zoe,setColumnVisible:eae,setColumnsVisible:tae,setColumnPinned:rae,setColumnsPinned:nae,getAllGridColumns:sae,getDisplayedLeftColumns:iae,getDisplayedCenterColumns:oae,getDisplayedRightColumns:aae,getAllDisplayedColumns:lae,getAllDisplayedVirtualColumns:cae,moveColumn:uae,moveColumnByIndex:dae,moveColumns:hae,setColumnWidth:fae,setColumnWidths:pae,getLeftDisplayedColumnGroups:gae,getCenterDisplayedColumnGroups:mae,getRightDisplayedColumnGroups:vae,getAllDisplayedColumnGroups:Cae,autoSizeColumn:yae,autoSizeColumns:wae,autoSizeAllColumns:Sae}};function Rae(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function Tae(e,t){const r=e.dragAndDropService.findExternalZone(t);r&&e.dragAndDropService.removeDropTarget(r)}function Fae(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var Pae={version:Rt,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:Rae,removeRowDropZone:Tae,getRowDropZoneParams:Fae}};function Aae(e){return e.pinnedRowModel.getPinnedTopRowCount()}function Dae(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function Mae(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function Nae(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var Iae={version:Rt,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:Aae,getPinnedBottomRowCount:Dae,getPinnedTopRow:Mae,getPinnedBottomRow:Nae}};function Oae(e){e.overlayService.showLoadingOverlay()}function Lae(e){e.overlayService.showNoRowsOverlay()}function kae(e){e.overlayService.hideOverlay()}var _ae={version:Rt,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:Oae,showNoRowsOverlay:Lae,hideOverlay:kae}};function jae(e,t,r){if(!t)return;const n=e.ctrlsService.getGridBodyCtrl().getGui(),s=`aria-${t}`;r===null?n.removeAttribute(s):n.setAttribute(s,r)}function Bae(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function Gae(e,t={}){const r=n=>Pe(`Since v31.1 api.flashCells parameter '${n}Delay' is deprecated. Please use '${n}Duration' instead.`);ke(t.fadeDelay)&&r("fade"),ke(t.flashDelay)&&r("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function Hae(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function Vae(e){return e.animationFrameService.isQueueEmpty()}function Wae(e){e.animationFrameService.flushAllFrames()}function $ae(e){return{rowHeight:Tc(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function Uae(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(Df)}var zae={version:Rt,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:jae,refreshCells:Bae,flashCells:Gae,refreshHeader:Hae,isAnimationFrameQueueEmpty:Vae,flushAllAnimationFrames:Wae,getSizesForCurrentTheme:$ae,getCellRendererInstances:Uae}};function Kae(e){e.valueCache.expire()}function qae(e,t,r){return X4(e,{colKey:t,rowNode:r})}function X4(e,t){const{colKey:r,rowNode:n,useFormatter:s}=t,i=e.columnModel.getColDefCol(r)??e.columnModel.getCol(r);if(Gt(i))return null;const o=e.valueService.getValueForDisplay(i,n);return s?e.valueService.formatValue(i,n,o)??go(o,!0):o}function Yae(e){return e.context.getGridId()}function Xae(e){e.gridDestroyService.destroy()}function Qae(e){return e.gridDestroyService.isDestroyCalled()}function Jae(e,t){return e.gos.get(t)}function Zae(e,t,r){Q4(e,{[t]:r})}function Q4(e,t){e.gos.updateGridOptions({options:t})}function ele(e,t,r){e.apiEventService.addEventListener(t,r)}function tle(e,t,r){e.apiEventService.removeEventListener(t,r)}function rle(e,t){e.apiEventService.addGlobalListener(t)}function nle(e,t){e.apiEventService.removeGlobalListener(t)}function sle(e){return e.focusService.getFocusedCell()}function ile(e){return e.focusService.clearFocusedCell()}function ole(e,t,r,n){e.focusService.setFocusedCell({rowIndex:t,column:r,rowPinned:n,forceBrowserFocus:!0})}function ale(e,t){return e.navigationService.tabToNextCell(!1,t)}function lle(e,t){return e.navigationService.tabToNextCell(!0,t)}function cle(e,t,r=!1){const n=e.headerNavigationService.getHeaderPositionForColumn(t,r);n&&e.focusService.focusHeaderPosition({headerPosition:n})}function ule(e,t,r){const n=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:n,buttonElement:r,positionBy:"button"})}function dle(e,t,r){let n=e.columnModel.getCol(t);if(n||(n=e.columnModel.getColDefCol(t)),!n){qt(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:n,mouseEvent:r,positionBy:"mouse"})}function hle(e,t){const r=e.columnModel.getCol(t);if(!r){qt(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:r,positionBy:"auto"})}function fle(e){e.menuService.hidePopupMenu()}function ple(e,t={}){const r=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(r))}function gle(e,t,r,n,s){e.expansionService.setRowNodeExpanded(t,r,n,s)}function mle(e,t){return e.rowModel.getRowNode(t)}function vle(e,t,r,n){e.rowRenderer.addRenderedRowListener(t,r,n)}function Cle(e){return e.rowRenderer.getRenderedNodes()}function yle(e,t,r){e.rowModel.forEachNode(t,r)}function wle(e){return J4(e)}function J4(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function Sle(e){return Z4(e)}function Z4(e){return e.rowRenderer.getLastVirtualRenderedRow()}function xle(e,t){return e.rowModel.getRow(t)}function Ele(e){return e.rowModel.getRowCount()}function ble(e){return e.rowModel}function Rle(e,t){if(!t.nodes.every(a=>a.rowPinned?(Pe("cannot select pinned rows"),!1):a.id===void 0?(Pe("cannot select node until id for node is known"),!1):!0))return;const{nodes:n,source:s,newValue:i}=t,o=n;e.selectionService.setNodesSelected({nodes:o,source:s??"api",newValue:i})}function Tle(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function Fle(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function Ple(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function Ale(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function Dle(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function Mle(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function Nle(e){return e.selectionService.getSelectedNodes()}function Ile(e){return e.selectionService.getSelectedRows()}function Ole(e){e.sortController.onSortChanged("api")}var Lle={version:Rt,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:Yae,destroy:Xae,isDestroyed:Qae,getGridOption:Jae,setGridOption:Zae,updateGridOptions:Q4}},kle={version:Rt,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:Rle,selectAll:Tle,deselectAll:Fle,selectAllFiltered:Ple,deselectAllFiltered:Ale,selectAllOnCurrentPage:Dle,deselectAllOnCurrentPage:Mle,getSelectedNodes:Nle,getSelectedRows:Ile}},_le={version:Rt,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:ple,setRowNodeExpanded:gle,getRowNode:mle,addRenderedRowListener:vle,getRenderedNodes:Cle,forEachNode:yle,getFirstDisplayedRow:wle,getFirstDisplayedRowIndex:J4,getLastDisplayedRow:Sle,getLastDisplayedRowIndex:Z4,getDisplayedRowAtIndex:xle,getDisplayedRowCount:Ele,getModel:ble}},jle={version:Rt,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:Eie,getHorizontalPixelRange:bie,ensureColumnVisible:$4,ensureIndexVisible:U4,ensureNodeVisible:Rie}},Ble={version:Rt,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:sle,clearFocusedCell:ile,setFocusedCell:ole,setFocusedHeader:cle,tabToNextCell:ale,tabToPreviousCell:lle}},Gle={version:Rt,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:ele,addGlobalListener:rle,removeEventListener:tle,removeGlobalListener:nle}},Hle={version:Rt,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:Kae,getValue:qae,getCellValue:X4}},Vle={version:Rt,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:ule,showColumnMenuAfterMouseClick:dle,showColumnMenu:hle,hidePopupMenu:fle}},Wle={version:Rt,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:Ole}},$le={version:Rt,moduleName:"@ag-grid-community/api",dependantModules:[Lle,Iae,kle,bae,_le,Pae,jle,_ae,Ble,Gle,zae,Hle,Vle,Wle]};function Ule(e){var t;return((t=e.stateService)==null?void 0:t.getState())??{}}function zle(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=Kle(e)}return e}function Kle(e){return e.cellSelection=qle(e,"rangeSelection"),e}function qle(e,t){if(e&&typeof e=="object")return e[t]}var Yle=class extends be{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=ss(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=ss(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=ss(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=Er(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Rt),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,r]=this.addManagedEventListeners({newColumnsLoaded:({source:n})=>{n==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t==null||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{r==null||r(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return zle(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:r,pagination:n}=this.getInitialState(),s=this.gos.get("advancedFilterModel");(e||s)&&this.setFilterState(e,s),t&&this.setRowGroupExpansionState(t),r&&this.setRowSelectionState(r),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const i=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:i,columnRowGroupChanged:i,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{i()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:r,columnOrder:n}=this.getInitialState();r&&this.setFocusedCellState(r),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(n!=null&&n.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const s=this.getRangeSelectionState();this.updateCachedState("rangeSelection",s),this.updateCachedState("cellSelection",s),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:i=>{if(i.finished){const o=this.getRangeSelectionState();this.updateCachedState("rangeSelection",o),this.updateCachedState("cellSelection",o)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],r=[],n=[],s=[],i=[],o=[],a=[],l=[],u=[];let h=0;const p=this.columnGetStateService.getColumnState();for(let g=0;g<p.length;g++){const{colId:C,sort:w,sortIndex:y,rowGroup:S,rowGroupIndex:E,aggFunc:b,pivot:T,pivotIndex:R,pinned:P,hide:M,width:D,flex:N}=p[g];u.push(C),w&&(t[y??h++]={colId:C,sort:w}),S&&(r[E??0]=C),typeof b=="string"&&n.push({colId:C,aggFunc:b}),T&&(s[R??0]=C),P&&(P==="right"?o:i).push(C),M&&a.push(C),(N||D)&&l.push({colId:C,flex:N??void 0,width:D})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:s.length||e?{pivotMode:e,pivotColIds:s}:void 0,columnPinning:i.length||o.length?{leftColIds:i,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}setColumnState(e){const{sort:t,rowGroup:r,aggregation:n,pivot:s,columnPinning:i,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:u}=e,h={},p=S=>{let E=h[S];return E||(E={colId:S},h[S]=E,E)},g=u?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:S,sort:E},b)=>{const T=p(S);T.sort=E,T.sortIndex=b}),g.sort=null,g.sortIndex=null),r&&(r.groupColIds.forEach((S,E)=>{const b=p(S);b.rowGroup=!0,b.rowGroupIndex=E}),g.rowGroup=null,g.rowGroupIndex=null),n&&(n.aggregationModel.forEach(({colId:S,aggFunc:E})=>{p(S).aggFunc=E}),g.aggFunc=null),s&&(s.pivotColIds.forEach((S,E)=>{const b=p(S);b.pivot=!0,b.pivotIndex=E}),this.gos.updateGridOptions({options:{pivotMode:s.pivotMode},source:"gridInitializing"}),g.pivot=null,g.pivotIndex=null),i&&(i.leftColIds.forEach(S=>{p(S).pinned="left"}),i.rightColIds.forEach(S=>{p(S).pinned="right"}),g.pinned=null),o&&(o.hiddenColIds.forEach(S=>{p(S).hide=!0}),g.hide=null),a&&(a.columnSizingModel.forEach(({colId:S,flex:E,width:b})=>{const T=p(S);T.flex=E??null,T.width=b}),g.flex=null);const C=l==null?void 0:l.orderedColIds,w=!!(C!=null&&C.length),y=w?C.map(S=>p(S)):Object.values(h);y.length&&(this.columnStates=y,this.columnApplyStateService.applyColumnState({state:y,applyOrder:w,defaultState:g},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){const n=[];for(const s of t)this.pivotResultColsService.getPivotResultCol(s.colId)&&n.push(s);this.columnApplyStateService.applyColumnState({state:n,applyOrder:e},"gridInitializing")}r&&this.columnGroupStateService.setColumnGroupState(r,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:r,open:n})=>{n&&t.push(r)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var s;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set((s=e.columnGroup)==null?void 0:s.openColumnGroupIds),n=this.columnGroupStateService.getColumnGroupState().map(({groupId:i})=>{const o=t.has(i);return o&&t.delete(i),{groupId:i,open:o}});t.forEach(i=>{n.push({groupId:i,open:!0})}),n.length&&(this.columnGroupStates=n),this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}getFilterState(){var r,n;let e=(r=this.filterManager)==null?void 0:r.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const t=((n=this.filterManager)==null?void 0:n.getAdvancedFilterModel())??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){var s,i;const{filterModel:r,advancedFilterModel:n}=e??{advancedFilterModel:t};r&&((s=this.filterManager)==null||s.setFilterModel(r,"columnFilter")),n&&((i=this.filterManager)==null||i.setAdvancedFilterModel(n))}getRangeSelectionState(){var t;const e=(t=this.rangeService)==null?void 0:t.getCellRanges().map(r=>{const{id:n,type:s,startRow:i,endRow:o,columns:a,startColumn:l}=r;return{id:n,type:s,startRow:i,endRow:o,colIds:a.map(u=>u.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:r,columnModel:n,visibleColsService:s}=this;if(!la(t)||!r)return;const i=[];if(e.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(u=>{const h=n.getCol(u);h&&a.push(h)}),!a.length)return;let l=n.getCol(o.startColId);if(!l){const u=s.getAllCols(),h=new Set(a);l=u.find(p=>h.has(p))}i.push({...o,columns:a,startColumn:l})}),Ree(t)&&Tee(t)&&i.length>1)return Pe("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");r.setCellRanges(i)}getScrollState(){var n;if(!this.isClientSideRowModel)return;const e=(n=this.ctrlsService.getGridBodyCtrl())==null?void 0:n.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:r}=(e==null?void 0:e.getVScrollPosition())??{top:0};return r||t?{top:r,left:t}:void 0}setScrollState(e){var n;if(!this.isClientSideRowModel)return;const{top:t,left:r}=e;(n=this.ctrlsService.getGridBodyCtrl())==null||n.getScrollFeature().setScrollPosition(t,r)}getSideBarState(){var e,t;return(t=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:r,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:r,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:r,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:r,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){var r;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((r=e==null?void 0:e.toggledNodes)!=null&&r.length)?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let r=!1;Object.entries(t).forEach(([n,s])=>{Jf(s,this.cachedState[n])||(r=!0)}),this.cachedState={...this.cachedState,...t},r&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const r=this.cachedState[e];this.setCachedStateValue(e,t),Jf(t,r)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},ej={version:Rt,moduleName:"@ag-grid-community/state-core",beans:[Yle]},Xle={version:Rt,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:Ule},dependantModules:[ej]},Qle={version:Rt,moduleName:"@ag-grid-community/state",dependantModules:[ej,Xle]};function Jle(e){return e.rowModel.isLastRowIndexKnown()}function Zle(e){var t;return((t=e.paginationService)==null?void 0:t.getPageSize())??100}function ece(e){var t;return((t=e.paginationService)==null?void 0:t.getCurrentPage())??0}function tce(e){var t;return((t=e.paginationService)==null?void 0:t.getTotalPages())??1}function rce(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function nce(e){var t;(t=e.paginationService)==null||t.goToNextPage()}function sce(e){var t;(t=e.paginationService)==null||t.goToPreviousPage()}function ice(e){var t;(t=e.paginationService)==null||t.goToFirstPage()}function oce(e){var t;(t=e.paginationService)==null||t.goToLastPage()}function ace(e,t){var r;(r=e.paginationService)==null||r.goToPage(t)}var lce=class extends be{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const r=Math.max(Tc(this.gos),1),n=Math.floor(e/r);this.paginationService.setPageSize(n,"autoCalculated")};this.isBodyRendered?ss(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function cce(e,t,r){e.addManagedElementListeners(t,{keydown:n=>{if(!n.defaultPrevented&&n.key===Ce.TAB){const s=n.shiftKey;r.findNextFocusableElement(t,!1,s)||r.focusNextGridCoreContainer(s)&&n.preventDefault()}}})}var hf="paginationPageSizeSelector",uce=class extends gr{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(hf,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Ys(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(hf)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),r=!t||!e.includes(t);if(r){const s=this.gos.exists("paginationPageSize"),i=this.gos.get(hf)!==!0;Pe(`'paginationPageSize=${t}'${s?"":" (default value)"}, but ${t} is not included in${i?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),i||Pe(`Either set '${hf}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const n=String(r?"":t);this.selectPageSizeComp?(Nl(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=r}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const r=this.localeService.getLocaleTextFunc(),n=r("pageSizeSelectorLabel","Page Size:"),s=r("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new _b).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(s).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(hf);return!Array.isArray(t)||Ks(t)?e:[...t].sort((r,n)=>r-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},dce={selector:"AG-PAGE-SIZE-SELECTOR",component:uce},hce=class extends toe{constructor(){super(),this.btFirst=ft,this.btPrevious=ft,this.btNext=ft,this.btLast=ft,this.lbRecordCount=ft,this.lbFirstRowOnPage=ft,this.lbLastRowOnPage=ft,this.lbCurrent=ft,this.lbTotal=ft,this.pageSizeComp=ft,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[dce]);const{btFirst:t,btPrevious:r,btNext:n,btLast:s}=this;this.activateTabIndex([t,r,n,s]),t.insertAdjacentElement("afterbegin",Ws(e?"last":"first",this.gos)),r.insertAdjacentElement("afterbegin",Ws(e?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",Ws(e?"previous":"next",this.gos)),s.insertAdjacentElement("afterbegin",Ws(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:i=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(i):this.focusService.focusGridInnerElement(i)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:r}=e;this.addManagedListeners(t,{click:r,keydown:n=>{(n.key===Ce.ENTER||n.key===Ce.SPACE)&&(n.preventDefault(),r())}})}),cce(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const r=this.localeService.getLocaleTextFunc(),n=r("thousandSeparator",","),s=r("decimalSeparator",".");return Jre(e,n,s)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),r=e("to","to"),n=e("of","of"),s=e("firstPage","First Page"),i=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${r}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${n}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${i}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${n}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),r=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),s=e===r-1;this.nextButtonDisabled=s||n,this.lastButtonDisabled=!t||n||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){hte(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),r=this.paginationService.getMasterRowCount(),n=e?r:null;if(n===1){const b=this.rowModel.getRow(0);if(b&&b.group&&!(b.groupData||b.aggData)){this.setTotalLabelsToZero();return}}const s=this.paginationService.getCurrentPage(),i=this.paginationService.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=i*s+1,a=o+i-1,e&&a>n&&(a=n));const l=o+i-1,u=!e&&r<l,h=this.formatNumber(o);this.lbFirstRowOnPage.textContent=h;let p;const g=this.localeService.getLocaleTextFunc();u?p=g("pageLastRowUnknown","?"):p=this.formatNumber(a),this.lbLastRowOnPage.textContent=p;const w=t>0?s+1:0,y=this.formatNumber(w);this.lbCurrent.textContent=y;let S,E;if(e)S=this.formatNumber(t),E=this.formatNumber(n);else{const b=g("more","more");S=b,E=b}this.lbTotal.textContent=S,this.lbRecordCount.textContent=E,this.announceAriaStatus(h,p,E,y,S)}announceAriaStatus(e,t,r,n,s){const i=this.localeService.getLocaleTextFunc(),o=i("page","Page"),a=i("to","to"),l=i("of","of"),u=`${e} ${a} ${t} ${l} ${r}`,h=`${o} ${n} ${l} ${s}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,this.ariaAnnouncementService.announceValue(u,"paginationRow")),h!==this.ariaPageStatus&&(this.ariaPageStatus=h,this.ariaAnnouncementService.announceValue(h,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},fce={selector:"AG-PAGINATION",component:hce},pce=class extends be{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return fce}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ke(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:ke(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ke(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ke(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const r=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}r!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let r=this.pageSize*(this.currentPage+1)-1;if(r>e&&(r=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),r===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:r=!1,newPageSize:n=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:r,newPageSize:n,keepRenderedRows:t})}},tj={version:Rt,moduleName:"@ag-grid-community/pagination-core",beans:[pce,lce]},gce={version:Rt,moduleName:"@ag-grid-community/pagination-api",dependantModules:[tj],apiFunctions:{paginationIsLastPageFound:Jle,paginationGetPageSize:Zle,paginationGetCurrentPage:ece,paginationGetTotalPages:tce,paginationGetRowCount:rce,paginationGoToNextPage:nce,paginationGoToPreviousPage:sce,paginationGoToFirstPage:ice,paginationGoToLastPage:oce,paginationGoToPage:ace}},mce={version:Rt,moduleName:"@ag-grid-community/pagination",dependantModules:[tj,gce]},gs="clientSide",Wn="serverSide",$u="infinite",vce={onGroupExpandedOrCollapsed:[gs],refreshClientSideRowModel:[gs],isRowDataEmpty:[gs],forEachLeafNode:[gs],forEachNodeAfterFilter:[gs],forEachNodeAfterFilterAndSort:[gs],resetRowHeights:[gs],applyTransaction:[gs],applyTransactionAsync:[gs],flushAsyncTransactions:[gs],getBestCostNodeSelection:[gs],getServerSideSelectionState:[Wn],setServerSideSelectionState:[Wn],applyServerSideTransaction:[Wn],applyServerSideTransactionAsync:[Wn],applyServerSideRowData:[Wn],retryServerSideLoads:[Wn],flushServerSideAsyncTransactions:[Wn],refreshServerSide:[Wn],getServerSideGroupLevelState:[Wn],refreshInfiniteCache:[$u],purgeInfiniteCache:[$u],getInfiniteRowCount:[$u],isLastRowIndexKnown:[$u,Wn],expandAll:[gs,Wn],collapseAll:[gs,Wn],onRowHeightChanged:[gs,Wn],setRowCount:[$u,Wn],getCacheBlockState:[$u,Wn]},Cce={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function yce(e,t,r){const n=Cce[e];if(n){const{version:i,new:o,old:a,message:l}=n,u=a??e;return(...h)=>{const p=o?`Please use ${o} instead. `:"";return Pe(`Since ${i} api.${u} is deprecated. ${p}${l??""}`),t.apply(t,h)}}const s=vce[e];return s?(...i)=>{const o=r.rowModel.getType();if(!s.includes(o)){qt(`api.${e} can only be called when gridOptions.rowModelType is ${s.join(" or ")}`);return}return t.apply(t,i)}:t}var wce={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},Ha=(e,t)=>{const r=t.rowModelType??"clientSide";return r==="clientSide"||r==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},Sce={enableRowGroup:Ha,rowGroup:Ha,rowGroupIndex:Ha,enablePivot:Ha,enableValue:Ha,pivot:Ha,pivotIndex:Ha,aggFunc:Ha,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var r;const t=["columnsMenuTab","generalMenuTab"];return(r=e.menuTabs)!=null&&r.some(n=>t.includes(n))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>Zu},xce={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},Ece=Object.keys(xce),Zu={objectName:"colDef",allProperties:Ece,docsUrl:"column-properties/",deprecations:wce,validations:Sce},bce=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),Rce={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},Tce=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const r=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:r}case"serverSide":{const r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:r}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return typeof t=="boolean"||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>Zu,defaultColDef:()=>Zu,defaultColGroupDef:()=>Zu,autoGroupColumnDef:()=>Zu,selectionColumnDef:()=>Zu}),Fce=()=>({objectName:"gridOptions",allProperties:[...tp.ALL_PROPERTIES,...rp.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:bce(),validations:Tce()}),Pce=class extends be{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,Fce())}validateApiFunction(e,t){return yce(e,t,this.beans)}processOptions(e,t){const{validations:r,deprecations:n,allProperties:s,propertyExceptions:i,objectName:o,docsUrl:a}=t;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...i??[],...Object.keys(n)],s,o,a);const l=new Set;Object.keys(e).forEach(h=>{const p=n[h];if(p)if("renamed"in p){const{renamed:T,version:R}=p;l.add(`As of v${R}, ${String(h)} is deprecated. Please use ${String(T)} instead.`),e[T]=e[h]}else{const{message:T,version:R}=p;l.add(`As of v${R}, ${String(h)} is deprecated. ${T??""}`)}const g=e[h];if(g==null||g===!1)return;const C=r[h];let w;if(C)if(typeof C=="function"){const T=C(e,this.gridOptions);if(!T)return;if("objectName"in T){const R=e[h];if(Array.isArray(R)){R.forEach(P=>{this.processOptions(P,T)});return}this.processOptions(e[h],T);return}w=T}else w=C;else return;const{module:y,dependencies:S,validate:E,supportedRowModels:b}=w;if(b){const T=this.gridOptions.rowModelType??"clientSide";if(!b.includes(T)){l.add(`${String(h)} is not supported with the '${T}' row model.`);return}}if(y){const T=Array.isArray(y)?y:[y];let R=!0;if(T.forEach(P=>{this.gos.assertModuleRegistered(P,String(h))||(R=!1,l.add(`${String(h)} is only available when ${P} is loaded.`))}),!R)return}if(S){const T=this.checkForRequiredDependencies(h,S,e);if(T){l.add(T);return}}if(E){const T=E(e,this.gridOptions);if(T){l.add(T);return}}}),l.size>0&&l.forEach(h=>{Pe(h)})}checkForRequiredDependencies(e,t,r){const s=Object.entries(t).find(([a,l])=>{const u=r[a];return!l.includes(u)});if(!s)return null;const[i,o]=s;return o.length>1?`'${String(e)}' requires '${i}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${i}' to be ${o[0]}.`}checkProperties(e,t,r,n,s){const i=["__ob__","__v_skip","__metadata__"],o=Ace(Object.getOwnPropertyNames(e),[...i,...t,...r],r);if(_i(o,(a,l)=>{let u=`invalid ${n} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;r.includes("context")&&(u+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),Pe(u)}),Object.keys(o).length>0&&s){const a=this.getFrameworkOverrides().getDocLink(s);Pe(`to see all the valid ${n} properties please check: ${a}`)}}};function Ace(e,t,r){const n={},s=e.filter(i=>!t.some(o=>o===i));return s.length>0&&s.forEach(i=>n[i]=r4({inputValue:i,allSuggestions:r}).values),n}var Dce={version:Rt,moduleName:"@ag-grid-community/core"},Mce={version:Rt,moduleName:"@ag-grid-community/core-validations",beans:[Pce]},rj={version:Rt,moduleName:"@ag-grid-community/core-community-features",dependantModules:[Dce,Mce,Wie,kne,Qle,Eae,Noe,mce,$le]},Nce=class extends be{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){var e,t;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((e=this.beans.stateService)==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(t=this.beans.ctrlsService.get("gridCtrl"))==null||t.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},pv=new Set(["gridPreDestroyed","fillStart","pasteStart"]),Ice=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",Oce=new Map([...tp.BOOLEAN_PROPERTIES.map(e=>[e,_x]),...tp.NUMBER_PROPERTIES.map(e=>[e,w4]),["groupAggFiltering",e=>typeof e=="function"?e:_x(e)],["pageSize",to(1)],["autoSizePadding",to(0)],["keepDetailRowsCount",to(1)],["rowBuffer",to(0)],["infiniteInitialRowCount",to(1)],["cacheOverflowSize",to(1)],["cacheBlockSize",to(1)],["serverSideInitialRowCount",to(1)],["viewportRowModelPageSize",to(1)],["viewportRowModelBufferSize",to(0)]]);function nj(e,t){const r=Oce.get(e);return r?r(t):t}function Lce(e){const t={};return Object.entries(e).forEach(([r,n])=>{const s=nj(r,n);t[r]=s}),t}var sj=class ij extends be{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new ih,this.globalEventHandlerFactory=t=>(r,n)=>{if(!this.isAlive())return;const s=pv.has(r);if(s&&!t||!s&&t)return;const i=rp.getCallbackForEvent(r),o=this.gridOptions[i];typeof o=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{o(n)})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi,this.gridId=t.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:r})=>{this.updateGridOptions({options:r,force:!0,source:"gridOptionsUpdated"})}})}get(t){return this.gridOptions[t]??Rce[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return ke(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(n=>{const s=n;return s.api=this.api,s.context=this.gridOptionsContext,t(s)})}updateGridOptions({options:t,force:r,source:n="api"}){var o;const s={id:ij.changeSetId++,properties:[]},i=[];Object.entries(t).forEach(([a,l])=>{n==="api"&&ite[a]&&Pe(`${a} is an initial property and cannot be updated.`);const u=nj(a,l),h=r||typeof u=="object"&&n==="api",p=this.gridOptions[a];if(h||p!==u){this.gridOptions[a]=u;const g={type:a,currentValue:u,previousValue:p,changeSet:s,source:n};i.push(g)}}),(o=this.validationService)==null||o.processGridOptions(this.gridOptions),s.properties=i.map(a=>a.type),i.forEach(a=>{this.gridOptions.debug&&Bi(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(t,r){this.propertyEventService.addEventListener(t,r)}removePropertyEventListener(t,r){this.propertyEventService.removeEventListener(t,r)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const r=t;return r.api=this.api,r.context=this.gridOptionsContext,r}assertModuleRegistered(t,r){return uo.__assertRegistered(t,r,this.gridId)}isModuleRegistered(t){return uo.__isRegistered(t,this.gridId)}};sj.changeSetId=0;var kce=sj,_ce=class extends be{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let r,n;if(Kr(e.column)?r=this.visibleColsService.getGroupAtDirection(e.column,t):(n=`getCol${t}`,r=this.visibleColsService[n](e.column)),!r)return;const{headerRowIndex:s}=e;if(this.getHeaderRowType(s)!=="filter"){const a=[r];for(;r.getParent();)r=r.getParent(),a.push(r);r=a[a.length-1-s]}const{column:i,headerRowIndex:o}=this.getHeaderIndexToFocus(r,s);return{column:i,headerRowIndex:o}}getHeaderIndexToFocus(e,t){let r;if(Kr(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;r=n.getLeafColumns()[0];let s=r;for(;s!==n;)t++,s=s.getParent()}return{column:r||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const r=this.getHeaderRowType(t),n=r==="filter",s=r==="column";let i=n?e:e.getParent(),o=t-1,a=o;if(s&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;i&&i.isPadding();)i=i.getParent(),o--;a=o,o<0&&(i=e,o=t,a=void 0)}return{column:i,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,r="After"){const n=this.getHeaderRowType(t);let s=e,i=t+1;const o=i;if(n==="group"){const a=e.getDisplayedLeafColumns(),l=r==="After"?a[0]:Bt(a),u=[];let h=l;for(;h.getParent()!==e;)h=h.getParent(),u.push(h);if(s=l,l.isSpanHeaderHeight())for(let p=u.length-1;p>=0;p--){const g=u[p];if(!g.isPadding()){s=g;break}i++}else s=Bt(u),s||(s=l)}return{column:s,headerRowIndex:i,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const r=this.visibleColsService.getAllCols(),n=r[t==="start"?0:r.length-1];if(!n)return;const s=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()),i=s==null?void 0:s.getRowType(e);if(i=="group"){const o=this.visibleColsService.getColGroupAtLevel(n,e);return{headerRowIndex:e,column:o}}return{headerRowIndex:i==null?-1:e,column:n}}},jce=class extends be{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(r,n,s)=>e({key:r,defaultValue:n,variableValues:s});const t=this.gos.get("localeText");return(r,n,s)=>{let i=t&&t[r];if(i&&s&&s.length){let o=0;for(;!(o>=s.length||i.indexOf("${variable}")===-1);)i=i.replace("${variable}",s[o++])}return i??n}}},Bce=class extends be{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new xb(this.getFrameworkOverrides())}addEventListener(e,t){const r=this.frameworkEventWrappingService.wrap(t),n=Gv(this.gos)&&!pv.has(e),s=n?this.asyncEventListeners:this.syncEventListeners;s.has(e)||s.set(e,new Set),s.get(e).add(r),this.eventService.addEventListener(e,r,n)}removeEventListener(e,t){var i;const r=this.frameworkEventWrappingService.unwrap(t),n=this.asyncEventListeners.get(e),s=!!(n!=null&&n.delete(r));s||(i=this.syncEventListeners.get(e))==null||i.delete(r),this.eventService.removeEventListener(e,r,s)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(Gv(this.gos)){const n=(i,o)=>{pv.has(i)&&t(i,o)},s=(i,o)=>{pv.has(i)||t(i,o)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:s}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(s,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:n,asyncListener:s}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(s,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((r,n)=>{r.forEach(s=>this.eventService.removeEventListener(n,s,t)),r.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(r=>this.eventService.removeGlobalListener(r,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},Gce=class extends be{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},Hce=class extends be{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Gt(this.topRowBounds)||Gt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=ke(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},Vce=class extends be{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=ss(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=Hr(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),j3(t,"polite"),dte(t,"additions text"),ute(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Ys(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},Wce=class extends be{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),t();return}const r=n=>{for(;n.length;){const s=n.pop();s&&s()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),r(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),r(this.executeLaterFuncs)},200)})}},$ce=class extends be{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},Uce=class extends be{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=Er(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Pe("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,r){var s;const n=e.newAgStackInstance();(s=this.overlayWrapperComp)==null||s.showOverlay(n,t,this.isExclusive(),r),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;if(this.state===2){const t=this.ctrlsService.get("gridHeaderCtrl");e=(t==null?void 0:t.getHeaderHeight())||0}else this.wrapperPadding!==0&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},zce=class extends be{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return ke(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),G2(t,this.processClassesFromGridOptions(e.rowNode)),G2(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],r=i=>{typeof i=="string"?t.push(i):Array.isArray(i)&&i.forEach(o=>t.push(o))},n=this.gos.get("rowClass");if(n){if(typeof n=="function")return Pe("rowClass should not be a function, please use getRowClass instead"),[];r(n)}const s=this.gos.getCallback("getRowClass");if(s){const i={data:e.data,node:e,rowIndex:e.rowIndex},o=s(i);r(o)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,r=>{t.push(r)},()=>{}),t}processRowClassRules(e,t,r){const n=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),n,t,r)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},Kce=class extends be{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=xte(),this.gos.get("debug")&&Bi("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight();(t!==this.scrollY||r!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=r,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&Bi(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),r=e/t;return this.maxScrollY*r}},qce=class extends be{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=co(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=co(this.gos))}doFullSort(e,t){const r=(s,i)=>({currentPos:i,rowNode:s}),n=e.map(r);return n.sort(this.compareRowNodes.bind(this,t)),n.map(s=>s.rowNode)}compareRowNodes(e,t,r){const n=t.rowNode,s=r.rowNode;for(let i=0,o=e.length;i<o;i++){const a=e[i],l=a.sort==="desc",u=this.getValue(n,a.column),h=this.getValue(s,a.column);let p;const g=this.getComparator(a,n);if(g?p=g(u,h,n,s,l):p=wee(u,h,this.isAccentedSort),!isNaN(p)&&p!==0)return a.sort==="asc"?p:p*-1}return t.currentPos-r.currentPos}getComparator(e,t){const r=e.column,n=r.getColDef().comparator;if(n!=null)return n;if(!r.getColDef().showRowGroup)return;const s=!t.group&&r.getColDef().field;if(!s)return;const i=this.columnModel.getColDefCol(s);if(i)return i.getColDef().comparator}getValue(e,t){var n,s,i;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(Y0(this.gos,this.columnModel.isPivotActive())){const l=(n=e.allLeafChildren)==null?void 0:n[0];return l?this.valueService.getValue(t,l,!1,!1):void 0}const a=(s=this.showRowGroupColsService)==null?void 0:s.getShowRowGroupCol(t.getId());return a?(i=e.groupData)==null?void 0:i[a.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}},tC=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let r=0;r<e.children.length;r++)this.depthFirstSearchChangedPath(e.children[r],t);t(e.rowNode)}depthFirstSearchEverything(e,t,r){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const s=e.childrenAfterGroup[n];s.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,r):r&&t(s)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,r=!1){this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,r=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,r++,t=t.parent}return r}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let r=e;for(;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),t.forEach(n=>this.nodeIdsToColumns[r.id][n.getId()]=!0),r=r.parent}linkPathItems(e,t){let r=e;for(let n=0;n<t;n++){const s=this.mapToItems[r.id],i=this.mapToItems[r.parent.id];i.children||(i.children=[]),i.children.push(s),r=r.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const r=this.nodeIdsToColumns[e.id];return t.filter(s=>r[s.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const r=this.nodeIdsToColumns[e.id];return t.filter(s=>!r[s.getId()])}},oj=class extends be{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new Jie,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:r}=this;this.selectionCtx.init(t),this.rowSelectionMode=Vv(e),this.groupSelectsChildren=Bc(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const n=Bc(e),s=Vv(e);(n!==this.groupSelectsChildren||s!==this.rowSelectionMode)&&(this.groupSelectsChildren=n,this.rowSelectionMode=s,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:r.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,t){if(!Ice(t))return e;const r=this.selectionCtx.getRoot();return r?r.isSelected()??!1:!0}setNodesSelected(e){var p;const{newValue:t,clearSelection:r,suppressFinishActions:n,rangeSelect:s,nodes:i,event:o,source:a}=e;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return Pe("cannot multi select unless selection mode is 'multiRow'"),0;const l=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,u=i.map(g=>g.footer?g.sibling:g);if(s){if(u.length>1)return Pe("cannot range select while selecting multiple rows"),0;const g=u[0],C=this.overrideSelectionValue(t,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(g)){const w=this.selectionCtx.truncate(g);return C&&this.selectRange(w.discard,!1,a),this.selectRange(w.keep,C,a)}else if(this.selectionCtx.getRoot()!==g){const S=this.selectionCtx.extend(g,this.groupSelectsChildren);return C&&this.selectRange(S.discard,!1,a),this.selectRange(S.keep,C,a)}}}n||this.selectionCtx.setRoot(u[0]);let h=0;for(let g=0;g<u.length;g++){const C=u[g];l&&C.group||C.selectThisNode(t,o,a)&&h++,this.groupSelectsChildren&&((p=C.childrenAfterGroup)!=null&&p.length)&&(h+=this.selectChildren(C,t,l,a))}return n||(t&&(r||!this.isMultiSelect())&&(h+=this.clearOtherNodes(u[0],a)),h>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),h}selectRange(e,t,r){let n=0;return e.forEach(s=>{if(s.group&&this.groupSelectsChildren)return;s.selectThisNode(t,void 0,r)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r)),n}selectChildren(e,t,r,n){const s=r?e.childrenAfterAggFilter:e.childrenAfterGroup;return Gt(s)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:n,nodes:s})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((r,n)=>{r&&e(r)&&t.set(n,r)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||!Er(this.gos))return!1;const n=this.rowModel.getRootNode();t||(t=new tC(!0,n),t.setInactive());let s=!1;return t.forEachChangedNodeDepthFirst(i=>{if(i!==n){const o=i.calculateSelectedFromChildren();s=i.selectThisNode(o===null?!1:o,void 0,e)||s}}),s}clearOtherNodes(e,t){const r=new Map;let n=0;return this.selectedNodes.forEach(s=>{if(s&&s.id!==e.id){const i=this.selectedNodes.get(s.id);n+=i.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&s.parent&&r.set(s.parent.id,s.parent)}}),r.forEach(s=>{const i=s.calculateSelectedFromChildren();s.selectThisNode(i===null?!1:i,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(ke(t)&&e.id!==t.id&&t){const n=t.id;this.selectedNodes.get(n)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(!Er(this.gos))return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const r=[];function n(s){for(let i=0,o=s.length;i<o;i++){const a=s[i];if(a.isSelected())r.push(a);else{const l=a;l.group&&l.children&&n(l.children)}}}return n(t),r}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=o=>o.selectThisNode(!1,void 0,n),r=Er(this.gos),{source:n,justFiltered:s,justCurrentPage:i}=e;if(i||s){if(!r){qt("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(s,i).forEach(t)}else this.selectedNodes.forEach(o=>{o&&t(o)}),this.reset(n);this.selectionCtx.reset(),r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectedCounts(e,t){let r=0,n=0;const s=i=>{this.groupSelectsChildren&&i.group||(i.isSelected()?r++:i.selectable&&n++)};return this.getNodesToSelect(e,t).forEach(s),{selectedCount:r,notSelectedCount:n}}getSelectAllState(e,t){const{selectedCount:r,notSelectedCount:n}=this.getSelectedCounts(e,t);return r===0&&n===0?!1:r>0&&n>0?null:r>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(r=>r.selectable).length>0}getNodesToSelect(e=!1,t=!1){this.validateSelectAllType();const r=[];if(t)return this.forEachNodeOnPage(s=>{if(!s.group){r.push(s);return}if(!s.expanded){const i=o=>{var a;r.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(i)};i(s);return}this.groupSelectsChildren||r.push(s)}),r;const n=this.rowModel;return e?(n.forEachNodeAfterFilter(s=>{r.push(s)}),r):(n.forEachNode(s=>{r.push(s)}),r)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),r=this.pageBoundsService.getLastRow();for(let n=t;n<=r;n++){const s=this.rowModel.getRow(n);s&&e(s)}}selectAllRowNodes(e){if(bee(this.gos)&&!b3(this.gos))return Pe("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:r,justCurrentPage:n}=e,s=this.getNodesToSelect(r,n);s.forEach(i=>i.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(s[0]??null),this.selectionCtx.setEndRange(Bt(s)??null),Er(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return qt("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const r=new Set(e),n=[];this.rowModel.forEachNode(s=>{r.has(s.id)&&n.push(s)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!Er(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},Yce=class extends be{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:t}=this,r=Bv(t),n=yb(t);if(!r||!n)return;const s=Bc(t),i=Er(t)&&s,o=[],a=l=>{if(e&&!l.group)return;if(i&&l.group){const h=l.childrenAfterGroup.some(p=>p.selectable===!0);l.setRowSelectable(h,!0);return}const u=(n==null?void 0:n(l))??!0;l.setRowSelectable(u,!0),!u&&l.isSelected()&&o.push(l)};if(i){const l=this.rowModel;new tC(!1,l.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),i&&this.selectionService instanceof oj&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},cM=["asc","desc",null],Xce=class extends be{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,r){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,r)}setSortForColumn(e,t,r,n){t!=="asc"&&t!=="desc"&&(t=null);const s=co(this.gos);let i=[e];if(s&&e.getColDef().showRowGroup){const l=this.funcColsService.getSourceColumnsForGroupColumn(e),u=l==null?void 0:l.filter(h=>h.isSortable());u&&(i=[e,...u])}i.forEach(l=>l.setSort(t,n));const o=(r||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!o){const l=this.clearSortBarTheseColumns(i,n);a.push(...l)}this.updateSortIndex(e),a.push(...i),this.dispatchSortChangedEvents(n,a)}updateSortIndex(e){var a;const t=co(this.gos),r=(a=this.showRowGroupColsService)==null?void 0:a.getShowRowGroupCol(e.getId()),n=t&&r||e,s=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(l=>l.setSortIndex(null));const i=s.filter(l=>t&&l.getColDef().showRowGroup?!1:l!==n);(n.getSort()?[...i,n]:i).forEach((l,u)=>{l.setSortIndex(u)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(r=>!!r.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const r={type:"sortChanged",source:e};t&&(r.columns=t),this.eventService.dispatchEvent(r)}clearSortBarTheseColumns(e,t){const r=[];return this.columnModel.getAllCols().forEach(n=>{e.includes(n)||(n.getSort()&&r.push(n),n.setSort(void 0,t))}),r}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=cM,!Array.isArray(t)||t.length<=0)return Pe(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const r=t.indexOf(e.getSort()),n=r<0,s=r==t.length-1;let i;return n||s?i=t[0]:i=t[r+1],cM.indexOf(i)<0?(Pe("invalid sort type ",i),null):i}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(i=>!!i.getSort());if(this.columnModel.isPivotMode()){const i=co(this.gos);e=e.filter(o=>{var h;const a=!!o.getAggFunc(),l=!o.isPrimary(),u=i?(h=this.showRowGroupColsService)==null?void 0:h.getShowRowGroupCol(o.getId()):o.getColDef().showRowGroup;return a||l||u})}const t=this.funcColsService.getRowGroupColumns().filter(i=>!!i.getSort()),r={};e.forEach((i,o)=>r[i.getId()]=o),e.sort((i,o)=>{const a=i.getSortIndex(),l=o.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){const u=r[i.getId()],h=r[o.getId()];return u>h?1:-1}else return l==null?-1:1});const n=co(this.gos)&&!!t.length;n&&(e=[...new Set(e.map(i=>{var o;return((o=this.showRowGroupColsService)==null?void 0:o.getShowRowGroupCol(i.getId()))??i}))]);const s=new Map;return e.forEach((i,o)=>s.set(i,o)),n&&t.forEach(i=>{const o=this.showRowGroupColsService.getShowRowGroupCol(i.getId());s.set(i,s.get(o))}),s}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[r,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=co(this.gos),r=!!e.getColDef().showRowGroup;return t&&r}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,s=n[0].getSort();return n.every(o=>o.getSort()==s)?s:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},Qce=class extends be{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&Bi(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,lc(e.source))}}},Jce="paste",Zce=class extends be{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){Er(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==Jce&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const r=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gos.get("aggregateOnlyChangedColumns"),s=new tC(n,this.clientSideRowModel.getRootNode());s.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(i=>{r.push(i)})}this.rowRenderer.refreshCells({rowNodes:r})}},eue=class extends be{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);qt("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(r){return Bi("Processing of the expression failed"),Bi("Expression = ",e),Bi("Params = ",t),Bi("Exception = ",r),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},tue=class extends be{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,r){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=r)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},rue=class extends be{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=bo(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=r=>this.callColumnCellValueChangedHandler(r),t=Gv(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",r=>this.isTreeData=r.currentValue)}getValueForDisplay(e,t){const r=t.leafGroup&&this.columnModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!r,s=this.gos.get("groupSuppressBlankHeader");if(!n||s)return this.getValue(e,t);let i=!1;const o=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof o!="function"?i=!!o:i=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const a=n&&i;return this.getValue(e,t,!1,a)}getValue(e,t,r=!1,n=!1){if(this.initialised||this.init(),!t)return;const s=e.getColDef(),i=s.field,o=e.getColId(),a=t.data;let l;const u=t.groupData&&t.groupData[o]!==void 0,h=!n&&t.aggData&&t.aggData[o]!==void 0,p=this.isSsrm&&n&&!!e.getColDef().aggFunc,g=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(r&&s.filterValueGetter?l=this.executeFilterValueGetter(s.filterValueGetter,a,e,t):this.isTreeData&&h?l=t.aggData[o]:this.isTreeData&&s.valueGetter?l=this.executeValueGetter(s.valueGetter,a,e,t):this.isTreeData&&i&&a?l=Pf(a,i,e.isFieldContainsDots()):u?l=t.groupData[o]:h?l=t.aggData[o]:s.valueGetter?l=this.executeValueGetter(s.valueGetter,a,e,t):g?l=Pf(a,t.field,e.isFieldContainsDots()):i&&a&&!p&&(l=Pf(a,i,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const C=l.substring(1);l=this.executeValueGetter(C,a,e,t)}if(l==null){const C=this.getOpenedGroup(t,e);if(C!=null)return C}return l}parseValue(e,t,r,n){const s=e.getColDef(),i=s.valueParser;if(ke(i)){const o=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:n,newValue:r,colDef:s,column:e});return typeof i=="function"?i(o):this.expressionService.evaluate(i,o)}return r}getDeleteValue(e,t){return ke(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,r,n,s=!0){let i=null,o;const a=e.getColDef();if(n?o=n:s&&(o=a.valueFormatter),o){const l=this.gos.addGridCommonParams({value:r,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?i=o(l):i=this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[r]||"";return i==null&&Array.isArray(r)&&(i=r.join(", ")),i}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let s=e.parent;for(;s!=null;){if(s.rowGroupColumn&&(n===!0||n===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}setValue(e,t,r,n){const s=this.columnModel.getColDefCol(t);if(!e||!s)return!1;Gt(e.data)&&(e.data={});const{field:i,valueSetter:o}=s.getColDef();if(Gt(i)&&Gt(o))return Pe("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(s,r))return Pe("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(s,e),newValue:r,colDef:s.getColDef(),column:s});a.newValue=r;let l;if(ke(o)?typeof o=="function"?l=o(a):l=this.expressionService.evaluate(o,a):l=this.setValueUsingField(e.data,i,r,s.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const u=this.getValue(s,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:u,value:u,source:n}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,r,n){if(!t)return!1;let s=!1;if(!n)s=e[t]===r,s||(e[t]=r);else{const i=t.split(".");let o=e;for(;i.length>0&&o;){const a=i.shift();i.length===0?(s=o[a]===r,s||(o[a]=r)):o=o[a]}}return!s}executeFilterValueGetter(e,t,r,n){const s=this.gos.addGridCommonParams({data:t,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});return typeof e=="function"?e(s):this.expressionService.evaluate(e,s)}executeValueGetter(e,t,r,n){const s=r.getColId(),i=this.valueCache.getValue(n,s);if(i!==void 0)return i;const o=this.gos.addGridCommonParams({data:t,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});let a;return typeof e=="function"?a=e(o):a=this.expressionService.evaluate(e,o),this.valueCache.setValue(n,s,a),a}getValueCallback(e,t){const r=this.columnModel.getColDefCol(t);return r?this.getValue(r,e):null}getKeyForNode(e,t){const r=this.getValue(e,t),n=e.getColDef().keyCreator;let s=r;if(n){const i=this.gos.addGridCommonParams({value:r,colDef:e.getColDef(),column:e,node:t,data:t.data});s=n(i)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&Pe("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),s}},qb=class oc{static applyGlobalGridOptions(t){if(!oc.gridOptions)return t;let r={};return rs(r,oc.gridOptions,!0,!0),oc.mergeStrategy==="deep"?rs(r,t,!0,!0):r={...r,...t},oc.gridOptions.context&&(r.context=oc.gridOptions.context),t.context&&(oc.mergeStrategy==="deep"&&r.context&&rs(t.context,r.context,!0,!0),r.context=t.context),r}};qb.gridOptions=void 0;qb.mergeStrategy="shallow";var aj=qb;function nue(e){var t;return(t=aj.gridOptions)==null?void 0:t[e]}var sue=1,iue=class{create(e,t,r,n,s){const i=aj.applyGlobalGridOptions(t),o=Lce(i),a=o.gridId??String(sue++),l=this.getRegisteredModules(s,a),u=this.createBeansList(o.rowModelType,l,a),h=this.createProvidedBeans(e,o,s);if(!u){qt("Failed to create grid.");return}const p={providedBeanInstances:h,beanClasses:u,gridId:a,beanInitComparator:Coe,beanDestroyComparator:yoe,derivedBeans:[coe]},g=new xre(p);return this.registerModuleUserComponents(g,l),this.registerControllers(g,l),this.registerModuleApiFunctions(g,l),r(g),g.getBean("syncService").start(),n&&n(g),g.getBean("gridApi")}registerControllers(e,t){const r=e.getBean("ctrlsFactory");t.forEach(n=>{n.controllers&&n.controllers.forEach(s=>r.register(s))})}getRegisteredModules(e,t){const r=e?e.modules:null,n=uo.__getRegisteredModules(t),s=[],i={},o=(a,l,u)=>{(p=>{i[p.moduleName]||(i[p.moduleName]=!0,s.push(p),uo.__register(p,a,u))})(l),l.dependantModules&&l.dependantModules.forEach(p=>o(a,p,u))};return o(!!(r!=null&&r.length)||!uo.__isPackageBased(),rj,void 0),r&&r.forEach(a=>o(!0,a,t)),n&&n.forEach(a=>o(!uo.__isPackageBased(),a,void 0)),s}registerModuleUserComponents(e,t){const r=this.extractModuleEntity(t,s=>s.userComponents?s.userComponents:[]),n=e.getBean("userComponentRegistry");r.forEach(({name:s,classImp:i,params:o})=>{n.registerDefaultComponent(s,i,o)})}registerModuleApiFunctions(e,t){const r=e.getBean("apiFunctionService");t.forEach(n=>{const s=n.apiFunctions;s&&Object.keys(s).forEach(o=>{r==null||r.addFunction(o,s[o])})})}createProvidedBeans(e,t,r){let n=r?r.frameworkOverrides:null;Gt(n)&&(n=new q4);const s={gridOptions:t,eGridDiv:e,globalEventListener:r?r.globalEventListener:null,globalSyncEventListener:r?r.globalSyncEventListener:null,frameworkOverrides:n};return r&&r.providedBeanInstances&&Object.assign(s,r.providedBeanInstances),s}createBeansList(e="clientSide",t,r){const n=t.filter(l=>!l.rowModel||l.rowModel===e),s={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!s[e]){qt("Could not find row model for rowModelType = ",e);return}if(!uo.__assertRegistered(s[e],`rowModelType = '${e}'`,r))return;const i=[boe,xoe,_ce,Nce,loe,rre,goe,moe,nie,n4,Kce,tie,jce,qie,Tre,rte,Foe,kce,soe,oj,Uee,_ne,Hce,Gce,zie,eue,$ee,eie,tue,rue,$ie,rie,Ere,Poe,Zse,Roe,ooe,Zie,Jse,Xce,$ce,Wce,Yce,Zce,sie,uoe,zce,qce,Soe,Aoe,Eoe,woe,Qce,Uce,iie,Bce,Vce,oie,qee,doe,Yee,zee,hoe,foe,tte,Kee,Zee,poe,ete,Bee],o=this.extractModuleEntity(n,l=>l.beans?l.beans:[]);i.push(...o);const a=[];return i.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}},lj=class extends be{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function oue(e){e.expansionService.expandAll(!0)}function aue(e){e.expansionService.expandAll(!1)}function lue(e){var n,s;const t=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel(),r=(s=e.rowModelHelperService)==null?void 0:s.getServerSideRowModel();t?t.onRowHeightChanged():r&&r.onRowHeightChanged()}function cue(e,t,r){var i,o;const n=(i=e.rowModelHelperService)==null?void 0:i.getServerSideRowModel();if(n){if(e.funcColsService.isRowGroupEmpty()){n.setRowCount(t,r);return}qt("setRowCount cannot be used while using row grouping.");return}const s=(o=e.rowModelHelperService)==null?void 0:o.getInfiniteRowModel();if(s){s.setRowCount(t,r);return}}function uue(e){var t;return((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function due(e){return e.rowModel.isLastRowIndexKnown()}var hue={version:Rt,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:oue,collapseAll:aue,onRowHeightChanged:lue}},fue={version:Rt,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:cue,getCacheBlockState:uue,isLastRowIndexKnown:due}},pue=class{wrap(e,t,r=[],n){const s=this.createWrapper(e,n);return t.forEach(i=>{this.createMethod(s,i,!0)}),r.forEach(i=>{this.createMethod(s,i,!1)}),s}createMethod(e,t,r){e.addMethod(t,this.createMethodProxy(e,t,r))}createMethodProxy(e,t,r){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(r&&Pe("Framework component is missing the method "+t+"()"),null)}}},uh=typeof global>"u"?{}:global;uh.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;uh.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;uh.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;uh.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;uh.Node=typeof Node>"u"?{}:Node;uh.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var gue="ROOT_NODE_ID",nS=0,mue=class{constructor(e,t,r,n,s,i){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=r,this.funcColsService=n,this.beans=i,this.selectionService=s,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=gue,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return D3(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){Pe("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,r=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((n,s)=>this.createNode(n,this.rootNode,nS,s)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=t.childrenAfterFilter,r.childrenAfterGroup=t.childrenAfterGroup,r.childrenAfterAggFilter=t.childrenAfterAggFilter,r.childrenAfterSort=t.childrenAfterSort,r.childrenMapped=t.childrenMapped,r.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},r=[];return this.executeRemove(e,t,r),this.executeUpdate(e,t,r),this.executeAdd(e,t),this.updateSelection(r,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,r=(t==null?void 0:t.length)??0,n=new Map;let s=-1,i=-1;for(let o=0;o<r;++o){const a=t[o],l=a.data;l!==e[o]&&(i<0&&(s=o),i=o,n.set(l,a))}if(s<0)return!1;for(let o=s;o<=i;++o){const a=n.get(e[o]);a!==void 0&&(t[o]=a,a.sourceRowIndex=o)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}updateSelection(e,t){const r=e.length>0;r&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),r&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const r=e.add;if(Ks(r))return;const n=this.rootNode.allLeafChildren;let s=n.length;if(typeof e.addIndex=="number"&&(s=this.sanitizeAddIndex(e.addIndex),s>0&&this.gos.get("treeData")))for(let l=0;l<n.length;l++){const u=n[l];if((u==null?void 0:u.rowIndex)==s-1){s=l+1;break}}const i=r.map((a,l)=>this.createNode(a,this.rootNode,nS,s+l));if(s<n.length){const a=n.slice(0,s),l=n.slice(s,n.length),u=a.length+i.length;for(let h=0,p=l.length;h<p;++h)l[h].sourceRowIndex=u+h;this.rootNode.allLeafChildren=[...a,...i,...l],t.rowsInserted=!0}else this.rootNode.allLeafChildren=n.concat(i);const o=this.rootNode.sibling;o&&(o.allLeafChildren=n),t.rowNodeTransaction.add=i}sanitizeAddIndex(e){var r;const t=((r=this.rootNode.allLeafChildren)==null?void 0:r.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},r){var o,a;const{remove:n}=e;if(Ks(n))return;const s={};n.forEach(l=>{const u=this.lookupRowNode(l);u&&(u.isSelected()&&r.push(u),u.clearRowTopAndRowIndex(),s[u.id]=!0,delete this.allNodesMap[u.id],t.remove.push(u))}),this.rootNode.allLeafChildren=((o=this.rootNode.allLeafChildren)==null?void 0:o.filter(l=>!s[l.id]))??null,(a=this.rootNode.allLeafChildren)==null||a.forEach((l,u)=>{l.sourceRowIndex=u});const i=this.rootNode.sibling;i&&(i.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},r){const{update:n}=e;Ks(n)||n.forEach(s=>{const i=this.lookupRowNode(s);i&&(i.updateData(s),!i.selectable&&i.isSelected()&&r.push(i),this.setMasterForRow(i,s,nS,!1),t.update.push(i))})}lookupRowNode(e){var n;const t=oh(this.gos);let r;if(t){const s=t({data:e,level:0});if(r=this.allNodesMap[s],!r)return qt(`could not find row id=${s}, data item was not found for this id`),null}else if(r=(n=this.rootNode.allLeafChildren)==null?void 0:n.find(s=>s.data===e),!r)return qt("could not find data item as object was not found",e),qt("Consider using getRowId to help the Grid find matching row data"),null;return r||null}createNode(e,t,r,n){const s=new Zo(this.beans);return s.sourceRowIndex=n,s.group=!1,this.setMasterForRow(s,e,r,!0),t&&(s.parent=t),s.level=r,s.setDataAndId(e,this.nextId.toString()),this.allNodesMap[s.id]&&Pe(`duplicate node id '${s.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[s.id]=s,this.nextId++,s}setMasterForRow(e,t,r,n){if(this.gos.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const o=this.gos.get("isRowMaster");o?e.setMaster(o(t)):e.setMaster(!0)}else e.setMaster(!1);if(n){const o=this.funcColsService.getRowGroupColumns(),a=o?o.length:0,l=r+a;e.expanded=e.master?this.isExpanded(l):!1}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return t===-1?!0:e<t}},vue=class extends be{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=ss(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),r=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:r,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Zo(this.beans),this.nodeManager=new mue(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),r=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),i=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...r,...n,...n,...s,...i,...o,...a];this.addManagedPropertyListeners(l,u=>{var g;const h=(g=u.changeSet)==null?void 0:g.properties;if(!h)return;const p=C=>h.some(w=>C.has(w));if(p(e)){this.setRowData(this.rootNode.allLeafChildren.map(C=>C.data));return}if(p(t)){this.refreshModel({step:"group"});return}if(p(r)){this.refreshModel({step:"filter"});return}if(p(n)){this.refreshModel({step:"pivot"});return}if(p(s)){this.refreshModel({step:"aggregate"});return}if(p(i)){this.refreshModel({step:"sort"});return}if(p(o)){this.refreshModel({step:"filter_aggregates"});return}p(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,r,n){let s,i=!1;do{s=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,r),u=Math.min(a,n);for(let h=l;h<=u;h++){const p=this.getRow(h);if(p.rowHeightEstimated){const g=Sl(this.gos,p);p.setRowHeight(g.height),s=!0,i=!0}}s&&this.setRowTopAndRowIndex()}while(s);return i}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const r=new Set,n=Sn(this.gos,"normal");for(let s=0;s<this.rowsToDisplay.length;s++){const i=this.rowsToDisplay[s];if(i.id!=null&&r.add(i.id),i.rowHeight==null){const o=Sl(this.gos,i,n,e);i.setRowHeight(o.height,o.estimated)}i.setRowTop(t),i.setRowIndex(s),t+=i.rowHeight}return r}clearRowTopAndRowIndex(e,t){const r=e.isActive(),n=i=>{i&&i.id!=null&&!t.has(i.id)&&i.clearRowTopAndRowIndex()},s=i=>{if(n(i),n(i.detailNode),n(i.sibling),i.hasChildren()&&i.childrenAfterGroup){const o=i.level==-1;r&&!o&&!i.expanded||i.childrenAfterGroup.forEach(s)}};s(this.rootNode)}ensureRowsAtPixel(e,t,r=0){const n=this.getRowIndexAtPixel(t),s=this.getRow(n),i=!this.gos.get("suppressAnimationFrame");if(s===e[0])return!1;const o=this.rootNode.allLeafChildren;return e.forEach(a=>{is(o,a)}),e.forEach((a,l)=>{Wv(o,a,Math.max(n+r,0)+l)}),e.forEach((a,l)=>{a.sourceRowIndex=l}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:i,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const r=t!=null?this.getRowIndexAtPixel(t):null,n=r!=null?this.getRow(r):null;if(!n||!e||t==null){this.clearHighlightedRow();return}const s=this.getHighlightPosition(t,n),i=this.isHighlightingCurrentPosition(e,n,s),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==n;(i||o)&&(this.clearHighlightedRow(),i)||(n.setHighlighted(s),this.lastHighlightedRow=n)}getHighlightPosition(e,t){if(!t){const s=this.getRowIndexAtPixel(e);if(t=this.getRow(s||0),!t)return 1}const{rowTop:r,rowHeight:n}=t;return e-r<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,r){if(e===t)return!0;const n=r===0?-1:1;return this.getRow(t.rowIndex+n)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter,r=this.rootNode.sibling?1:0;return(t?t.length:0)+r}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let r=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;r-=1}const n=this.rowsToDisplay[this.rowsToDisplay.length-1],s=r>=this.rootNode.childrenAfterSort.length;if(n.footer&&s)return n.rowIndex;let i=this.rootNode.childrenAfterSort[r];if(this.gos.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex}getRowBounds(e){if(Gt(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=md(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=md(this.gos),n=e.columns.length===0||e.columns.some(s=>s.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=md(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=Ks(e),r=new tC(!1,this.rootNode);return t&&r.setInactive(),r}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(n=>n.add!=null&&n.add.length>0||n.remove!=null&&n.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group";const r={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(ke(e)&&(t=r[e]),Gt(t)){qt(`invalid step ${e}, available steps are ${Object.keys(r).join(", ")}`);return}const n=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const r=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,r,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(r);case"pivot":this.doPivot(r);case"aggregate":this.doAggregate(r);case"filter_aggregates":this.doFilterAggregates(r);case"sort":this.doSort(t.rowNodeTransactions,r);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,n),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=Gt(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Gt(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return ke(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let r=!1,n=!1;const s=[],i=Bc(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(n)return;if(r&&(o===t||o===e)&&(n=!0,o.group&&i)){s.push(...o.allLeafChildren);return}if(!r){if(o!==t&&o!==e)return;r=!0}if(!o.group||!i){s.push(o);return}}),s}setDatasource(e){qt("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,r=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Bt(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let s=-1,i=-1;for(;;){const o=Math.floor((t+r)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(r=o-1),s===t&&i===r))return o;s=t,i=r}}isRowInPixel(e,t){const r=e.rowTop,n=e.rowTop+e.rowHeight;return r<=t&&n>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,r)=>e(t,r))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:r,recursionType:n,includeFooterNodes:s}=e;let{index:i}=e;const o=a=>{var C;const l=(C=t[0])==null?void 0:C.parent;if(!l)return;const u=s&&w3(this.gos),h=S3(this.gos),p=s&&h({node:l});if(l===this.rootNode){u===a&&(l.createFooter(),r(l.sibling,i++));return}p===a&&(l.createFooter(),r(l.sibling,i++))};o("top");for(let a=0;a<t.length;a++){const l=t[a];if(r(l,i++),l.hasChildren()&&!l.footer){let u=null;switch(n){case 0:u=l.childrenAfterGroup;break;case 1:u=l.childrenAfterAggFilter;break;case 2:u=l.childrenAfterSort;break;case 3:u=l.leafGroup?null:l.childrenAfterSort;break}u&&(i=this.recursivelyWalkNodesAndCallback({nodes:[...u],callback:r,recursionType:n,index:i,includeFooterNodes:s}))}}return o("bottom"),i}doAggregate(e){var t;(t=this.aggregationStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),r=this.columnModel.isPivotActive(),n=s=>{s&&s.forEach(i=>{const o=()=>{i.expanded=e,n(i.childrenAfterGroup)};if(t){ke(i.childrenAfterGroup)&&o();return}if(r){!i.leafGroup&&o();return}i.group&&o()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,r,n){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:r,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:n}),Bc(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const s=this.rootNode,i=s.sibling;s.childrenAfterGroup=s.allLeafChildren,i&&(i.childrenAfterGroup=s.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(Zo.ID_PREFIX_ROW_GROUP)==0){let r;return this.forEachNode(n=>{n.id===e&&(r=n)}),r}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const r=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},r)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var n;this.valueCache.onDataChanged();const e=[],t=[];let r=!1;(n=this.rowDataTransactionBatch)==null||n.forEach(s=>{const{rowNodeTransaction:i,rowsInserted:o}=this.nodeManager.updateRowData(s.rowDataTransaction);o&&(r=!0),t.push(i),s.callback&&e.push(s.callback.bind(null,i))}),this.commonUpdateRowData(t,r),e.length>0&&window.setTimeout(()=>{e.forEach(s=>s())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:r}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],r),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const r=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:r})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const r=t.detailNode;r&&r.setRowHeight(r.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function Cue(e){e.expansionService.onGroupExpandedOrCollapsed()}function yue(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.refreshModel(t)}function wue(e){var t,r;return((r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:r.isEmpty())??!0}function Sue(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachLeafNode(t)}function xue(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachNodeAfterFilter(t)}function Eue(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachNodeAfterFilterAndSort(t)}function bue(e){var t,r;if(e.columnModel.isAutoRowHeightActive()){Pe("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null||r.resetRowHeights()}function Rue(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var r,n;return(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null?void 0:n.updateRowData(t)})}function Tue(e,t,r){e.frameworkOverrides.wrapIncoming(()=>{var n,s;return(s=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null?void 0:s.batchUpdateRowData(t,r)})}function Fue(e){e.frameworkOverrides.wrapIncoming(()=>{var t,r;return(r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:r.flushAsyncTransactions()})}function Pue(e){return e.selectionService.getBestCostNodeSelection()}var Aue=class extends be{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var r;const t=!!((r=this.filterManager)!=null&&r.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const r=(n,s)=>{n.hasChildren()&&e&&!s?n.childrenAfterFilter=n.childrenAfterGroup.filter(i=>{const o=i.childrenAfterFilter&&i.childrenAfterFilter.length>0,a=i.data&&this.filterManager.doesRowPassFilter({rowNode:i});return o||a}):n.childrenAfterFilter=n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const n=(i,o)=>{if(i.childrenAfterGroup)for(let a=0;a<i.childrenAfterGroup.length;a++){const l=i.childrenAfterGroup[a],u=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(i.childrenAfterGroup[a],u):r(l,u)}r(i,o)},s=i=>n(i,!1);t.executeFromRootNode(s)}else{const n=s=>r(s,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},Due=class extends be{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,r=[],n=this.columnModel.isPivotMode(),s=n&&t.leafGroup,i=s?[t]:t.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,i,r,n,0);const a=r.length>0;if(!s&&a&&o.grandTotalRow){t.createFooter();const u=o.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(o,t.sibling,r,0,u)}return r}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:x3(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:w3(this.gos),groupTotalRow:S3(this.gos)}}recursivelyAddToRowsToDisplay(e,t,r,n,s){if(!Ks(t))for(let i=0;i<t.length;i++){const o=t[i],a=o.hasChildren(),l=n&&!a,u=e.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,h=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,p=n&&o.leafGroup,g=e.hideOpenParents&&o.expanded&&!o.master&&!p;if(!l&&!g&&!u&&!h&&this.addRowNodeToRowsToDisplay(e,o,r,s),!(n&&o.leafGroup)){if(a){const w=u||h;if(o.expanded||w){const y=e.groupTotalRow({node:o});y||o.destroyFooter();const S=w?s:s+1;y==="top"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,r,S)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,r,n,S),y==="bottom"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,r,S))}}else if(o.master&&o.expanded){const w=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,w,r,s)}}}}addRowNodeToRowsToDisplay(e,t,r,n,s){s?r.unshift(t):r.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(ke(e.detailNode))return e.detailNode;const t=new Zo(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,ke(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},Mue=class extends be{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){Er(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const r=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:n,rowsInserted:s}=r.updateRowData(t);let i=!1;this.gos.get("suppressMaintainUnsortedOrder")||(i=r.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(n,i||s)}createTransactionForRowData(e){if(!Er(this.gos))return qt("ImmutableService only works with ClientSideRowModel"),null;const t=oh(this.gos);if(t==null)return qt("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const r=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),n=[],s=[],i=[];return ke(e)&&e.forEach(o=>{const a=t({data:o,level:0}),l=r[a];l?(l.data!==o&&s.push(o),r[a]=void 0):i.push(o)}),_i(r,(o,a)=>{a&&n.push(a.data)}),{remove:n,update:s,add:i}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},Nue=class extends be{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,r,n,s,i){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(g=>g.isRowGroupActive());let l={};r&&n&&(l=this.calculateDirtyNodes(n));const u=this.columnModel.isPivotMode(),h=this.gos.getCallback("postSortRows"),p=g=>{var y;this.pullDownGroupDataForHideOpenParents(g.childrenAfterAggFilter,!0);const C=u&&g.leafGroup;if(o&&a&&!g.leafGroup&&!i){const S=(y=this.funcColsService.getRowGroupColumns())==null?void 0:y[g.level+1],E=(S==null?void 0:S.getSort())===null,b=g.childrenAfterAggFilter.slice(0);if(g.childrenAfterSort&&!E){const T={};g.childrenAfterSort.forEach((R,P)=>{T[R.id]=P}),b.sort((R,P)=>(T[R.id]??0)-(T[P.id]??0))}g.childrenAfterSort=b}else!t||C?g.childrenAfterSort=g.childrenAfterAggFilter.slice(0):r?g.childrenAfterSort=this.doDeltaSort(g,l,s,e):g.childrenAfterSort=this.rowNodeSorter.doFullSort(g.childrenAfterAggFilter,e);if(g.sibling&&(g.sibling.childrenAfterSort=g.childrenAfterSort),this.updateChildIndexes(g),h){const S={nodes:g.childrenAfterSort};h(S)}};s&&s.forEachChangedNodeDepthFirst(p),this.updateGroupDataForHideOpenParents(s)}calculateDirtyNodes(e){const t={},r=n=>{n&&n.forEach(s=>t[s.id]=!0)};return e&&e.forEach(n=>{r(n.add),r(n.update),r(n.remove)}),t}doDeltaSort(e,t,r,n){const s=e.childrenAfterAggFilter,i=e.childrenAfterSort;if(!i)return this.rowNodeSorter.doFullSort(s,n);const o={},a=[];s.forEach(p=>{t[p.id]||!r.canSkip(p)?a.push(p):o[p.id]=!0});const l=i.filter(p=>o[p.id]),u=(p,g)=>({currentPos:g,rowNode:p}),h=a.map(u).sort((p,g)=>this.rowNodeSorter.compareRowNodes(n,p,g));return this.mergeSortedArrays(n,h,l.map(u)).map(({rowNode:p})=>p)}mergeSortedArrays(e,t,r){const n=[];let s=0,i=0;for(;s<t.length&&i<r.length;)this.rowNodeSorter.compareRowNodes(e,t[s],r[i])<0?n.push(t[s++]):n.push(r[i++]);for(;s<t.length;)n.push(t[s++]);for(;i<r.length;)n.push(r[i++]);return n}updateChildIndexes(e){if(Gt(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let r=0;r<t.length;r++){const n=t[r],s=r===0,i=r===e.childrenAfterSort.length-1;n.setFirstChild(s),n.setLastChild(i),n.setChildIndex(r)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return Pe("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=r=>{this.pullDownGroupDataForHideOpenParents(r.childrenAfterSort,!1),r.childrenAfterSort.forEach(n=>{n.hasChildren()&&t(n)})};e&&e.executeFromRootNode(r=>t(r))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||Gt(e)||e.forEach(r=>{var s;(((s=this.showRowGroupColsService)==null?void 0:s.getShowRowGroupCols())??[]).forEach(i=>{const o=i.getColDef().showRowGroup;if(typeof o!="string"){qt("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const a=o,l=this.columnModel.getColDefCol(a);if(l!==r.rowGroupColumn)if(t)r.setGroupValue(i.getId(),void 0);else{const h=this.getFirstChildOfFirstChild(r,l);h&&r.setGroupValue(i.getId(),h.key)}})})}getFirstChildOfFirstChild(e,t){let r=e;for(;r;){const n=r.parent;if(n&&r.firstChild){if(n.rowGroupColumn===t)return n}else return null;r=n}return null}},Iue=class extends be{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),r=ke(t)&&t.length>0,n=r&&ke(e.rowNodeTransactions)&&this.gos.get("deltaSort"),s=t.some(i=>co(this.gos)?i.column.isPrimary()&&i.column.isRowGroupActive():!!i.column.getColDef().showRowGroup);this.sortService.sort(t,r,n,e.rowNodeTransactions,e.changedPath,s)}},Yb="32.3.3",cj={version:Yb,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[vue,Aue,Iue,Due,Nue,Mue]},Oue={version:Yb,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[lj],apiFunctions:{onGroupExpandedOrCollapsed:Cue,refreshClientSideRowModel:yue,isRowDataEmpty:wue,forEachLeafNode:Sue,forEachNodeAfterFilter:xue,forEachNodeAfterFilterAndSort:Eue,resetRowHeights:bue,applyTransaction:Rue,applyTransactionAsync:Tue,flushAsyncTransactions:Fue,getBestCostNodeSelection:Pue},dependantModules:[cj,hue]},Lue={version:Yb,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[cj,Oue]},kue=class extends be{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},_ue=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:r,columnNameService:n,valueService:s,gos:i,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.columnModel=t,this.funcColsService=r,this.columnNameService=n,this.valueService=s,this.gos=i,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,r,n,s){const o=(!this.gos.get("groupHideOpenParents")||s.footer)&&this.shouldRenderGroupSummaryCell(s,e,t)?this.createValueForGroupNode(e,s):this.valueService.getValue(e,s);return this.processCell({accumulatedRowIndex:r,rowNode:s,column:e,value:o,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,r){var o;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){const a=(o=e.groupData)==null?void 0:o[t.getId()],l=this.gos.get("suppressGroupMaintainValueType");if(l&&a!=null||!l&&a!==void 0||bo(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const u=t.getColDef();return u==null||u.showRowGroup===!0||u.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const i=Y0(this.gos,this.columnModel.isPivotMode());return r===0&&i}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const r=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),s=l=>{var h;if(r||n)return l.key;const u=(h=l.groupData)==null?void 0:h[e.getId()];return!u||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?u:this.valueService.formatValue(l.rowGroupColumn,l,u)??u},i=t.footer,o=[s(t)];if(!x3(this.gos))for(;t.parent;)t=t.parent,o.push(s(t));const a=o.reverse().join(" -> ");return i?`Total ${a}`:a}processCell(e){const{accumulatedRowIndex:t,rowNode:r,column:n,value:s,processCellCallback:i,type:o}=e;return i?{value:i(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:n,node:r,value:s,type:o,parseValue:a=>this.valueService.parseValue(n,r,a,this.valueService.getValue(n,r)),formatValue:a=>this.valueService.formatValue(n,r,a)??a}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:s??"",valueFormatted:this.valueService.formatValue(n,r,s)}:{value:s??""}}},jue=class{static download(e,t){const r=document.defaultView||window;if(!r){Pe("There is no `window` associated with the current `document`");return}const n=document.createElement("a"),s=r.URL.createObjectURL(t);n.setAttribute("href",s),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(n),r.setTimeout(()=>{r.URL.revokeObjectURL(s)},0)}},uM=`\r
`,Bue=class extends _ue{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:r}=e;this.suppressQuotes=t,this.columnSeparator=r}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,uM),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((r,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r.data.value||""),r.mergeAcross&&this.appendEmptyCells(r.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,r,n){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,r){t!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",r);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Pe("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=uM),this.isFirstLine=!1}},Gue=class extends kue{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Pe("Export cancelled. Export is not allowed as per your configuration.");return}const t=this.getMergedParams(e),r=this.getData(t),n=new Blob(["\uFEFF",r],{type:"text/plain"}),s=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;jue.download(this.getFileName(s),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const r=t?Object.assign({},e):this.getMergedParams(e);return this.getData(r)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:r,funcColsService:n,valueService:s,gos:i}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:h,columnSeparator:p}=e;return new Bue({columnModel:t,columnNameService:r,funcColsService:n,valueService:s,gos:i,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:h||!1,columnSeparator:p||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function Hue(e,t){var r;return(r=e.csvCreator)==null?void 0:r.getDataAsCsv(t)}function Vue(e,t){var r;(r=e.csvCreator)==null||r.exportDataAsCsv(t)}var Wue=class extends be{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){const{allColumns:r,columnKeys:n,skipRowGroups:s}=t,i=this.getColumnsToExport(r,s,n);return yee(this.prepareSession(i),this.prependContent(t),this.exportColumnGroups(t,i),this.exportHeaders(t,i),this.processPinnedTopRows(t,i),this.processRows(t,i),this.processPinnedBottomRows(t,i),this.appendContent(t))(e).parse()}processRow(e,t,r,n){var E;const s=t.shouldRowBeSkipped||(()=>!1),i=this.gos.get("groupRemoveSingleChildren"),o=this.gos.get("groupRemoveLowestSingleChildren"),l=t.rowPositions!=null||!!t.onlySelected,u=this.gos.get("groupHideOpenParents")&&!l,h=this.columnModel.isPivotMode()?n.leafGroup:!n.group,p=!!n.footer,g=o&&n.leafGroup,C=n.allChildrenCount===1&&((E=n.childrenAfterGroup)==null?void 0:E.length)===1&&(i||g);if(!h&&!p&&(t.skipRowGroups||C||u)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!h&&!p||s(this.gos.addGridCommonParams({node:n})))return;const S=e.onNewBodyRow(n);if(r.forEach((b,T)=>{S.onColumn(b,T,n)}),t.getCustomContentBelowRow){const b=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));b&&e.addCustomContent(b)}}appendContent(e){return t=>{const r=e.appendContent;return r&&t.addCustomContent(r),t}}prependContent(e){return t=>{const r=e.prependContent;return r&&t.addCustomContent(r),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return r=>{if(!e.skipColumnGroupHeaders){const n=new O3,s=this.visibleColsService.createGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(s,r,e.processGroupHeaderCallback)}return r}}exportHeaders(e,t){return r=>{if(!e.skipColumnHeaders){const n=r.onNewHeaderRow();t.forEach((s,i)=>{n.onColumn(s,i,void 0)})}return r}}processPinnedTopRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="top").sort((s,i)=>s.rowIndex-i.rowIndex).map(s=>this.pinnedRowModel.getPinnedTopRow(s.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("top",n),r}}processRows(e,t){return r=>{const n=this.rowModel,s=Er(this.gos),i=bo(this.gos),o=!s&&e.onlySelected,a=this.processRow.bind(this,r,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(u=>u.rowPinned==null).sort((u,h)=>u.rowIndex-h.rowIndex).map(u=>n.getRow(u.rowIndex)).forEach(a);else if(this.columnModel.isPivotMode())s?n.forEachPivotNode(a,!0):i?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);else if(e.onlySelectedAllPages||o){const u=this.selectionService.getSelectedNodes();this.replicateSortedOrder(u),u.forEach(a)}else l==="all"?n.forEachNode(a):s||i?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return r}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),r=(n,s)=>{var i,o;return n.rowIndex!=null&&s.rowIndex!=null?n.rowIndex-s.rowIndex:n.level===s.level?((i=n.parent)==null?void 0:i.id)===((o=s.parent)==null?void 0:o.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:n,currentPos:n.rowIndex??-1},{rowNode:s,currentPos:s.rowIndex??-1}):r(n.parent,s.parent):n.level>s.level?r(n.parent,s):r(n,s.parent)};e.sort(r)}processPinnedBottomRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="bottom").sort((s,i)=>s.rowIndex-i.rowIndex).map(s=>this.pinnedRowModel.getPinnedBottomRow(s.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("bottom",n),r}}getColumnsToExport(e=!1,t=!1,r){const n=this.columnModel.isPivotMode();if(r&&r.length)return this.columnModel.getColsForKeys(r);const s=this.gos.get("treeData");let i=[];return e&&!n?i=this.columnModel.getCols():i=this.visibleColsService.getAllCols(),t&&!s&&(i=i.filter(o=>Hx(o)||Op(o))),i}recursivelyAddHeaderGroups(e,t,r){const n=[];e.forEach(s=>{const i=s;i.getChildren&&i.getChildren().forEach(o=>n.push(o))}),e.length>0&&Kr(e[0])&&this.doAddHeaderHeader(t,e,r),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,r)}doAddHeaderHeader(e,t,r){const n=e.onNewHeaderGroupingRow();let s=0;t.forEach(i=>{const o=i;let a;r?a=r(this.gos.addGridCommonParams({columnGroup:o})):a=this.columnNameService.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((u,h,p,g)=>{let C=Bt(u);return h.getColumnGroupShow()==="open"?(!C||C[1]!=null)&&(C=[p],u.push(C)):C&&C[1]==null&&(C[1]=p-1),p===g.length-1&&C&&C[1]==null&&(C[1]=p),u},[]);n.onColumn(o,a||"",s++,o.getLeafColumns().length-1,l)})}},Xb="32.3.3",uj={version:Xb,moduleName:"@ag-grid-community/csv-export-core",beans:[Gue,Wue]},$ue={version:Xb,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:Hue,exportDataAsCsv:Vue},dependantModules:[uj]},Uue={version:Xb,moduleName:"@ag-grid-community/csv-export",dependantModules:[uj,$ue]},zue=class extends Yie{wireBeans(e){this.beans=e}constructor(e,t,r){super(e),this.parentCache=t,this.params=r,this.startRow=e*r.blockSize,this.endRow=this.startRow+r.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,r){ke(t)?e.setDataAndId(t,r.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Gt(this.params.datasource.getRows)){Pe("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,r){this.rowNodes.forEach((n,s)=>{this.startRow+s<r&&e(n,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());const r=e-this.startRow;return this.rowNodes[r]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,r=new Zo(this.beans);r.setRowHeight(this.params.rowHeight),r.uiLevel=0,r.setRowIndex(t),r.setRowTop(this.params.rowHeight*t),this.rowNodes.push(r)}}processServerResult(e){this.rowNodes.forEach((r,n)=>{const s=e.rowData?e.rowData[n]:void 0;!r.id&&r.alreadyRendered&&s&&(this.rowNodes[n]=new Zo(this.beans),this.rowNodes[n].setRowIndex(r.rowIndex),this.rowNodes[n].setRowTop(r.rowTop),this.rowNodes[n].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],s,this.startRow+n)});const t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},Kue=2,que=class extends be{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){const r=Math.floor(e/this.params.blockSize);let n=this.blocks[r];if(!n){if(t)return;n=this.createBlock(r)}return n.getRow(e)}createBlock(e){const t=this.createBean(new zue(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&Bi(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),r=(o,a)=>a.getLastAccessed()-o.getLastAccessed();t.sort(r);const n=this.params.maxBlocksInCache>0,s=n?this.params.maxBlocksInCache-1:null,i=Kue-1;t.forEach((o,a)=>{const l=o.getState()==="needsLoading"&&a>=i,u=n?a>=s:!1;if(l||u){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const r=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=r&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),r=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,r)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}setRowCount(e,t){this.rowCount=e,ke(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new Ud;this.getBlocksInOrder().forEach(r=>r.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(r,n)=>r.getId()-n.getId();return Wx(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const r=[];let n=-1,s=!1;const i=new Ud;let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(s&&n+1!==l.getId()){o=!0;return}n=l.getId(),l.forEachNode(u=>{const h=u===e||u===t;(s||h)&&r.push(u),h&&(s=!s)},i,this.rowCount)}}),o||s?[]:r}},Yue=class extends be{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Tc(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&Pe("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Tc(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!Jf(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;oh(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){var e;this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:((e=this.filterManager)==null?void 0:e.getFilterModel())??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:Tc(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new Ud},this.infiniteCache=this.createBean(new que(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(r=>{r.id===e&&(t=r)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),r=this.getRowCount()-1;return t>r?r:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};function Xue(e){var t,r;(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||r.refreshCache()}function Que(e){var t,r;(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||r.purgeCache()}function Jue(e){var t,r;return(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null?void 0:r.getRowCount()}var Qb="32.3.3",dj={version:Qb,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[Yue],dependantModules:[Qie]},Zue={version:Qb,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[lj],apiFunctions:{refreshInfiniteCache:Xue,purgeInfiniteCache:Que,getInfiniteRowCount:Jue},dependantModules:[dj,fue]},ede={version:Qb,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[dj,Zue]};uo.__registerModules([rj,Lue,ede,Uue],!1,void 0);var Bn=De.createContext({}),Bp=(e,t,r,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const i=e.newAgStackInstance();if(i==null)return;let o,a,l=!1;return i.then(u=>{if(l){t.destroyBean(u);return}o=u,a=o.getGui(),r.appendChild(a),dM(n,o)}),()=>{var u;l=!0,o&&((u=a==null?void 0:a.parentElement)==null||u.removeChild(a),t.destroyBean(o),n&&dM(n,void 0))}},dM=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},Li=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),hi=class hj{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const s=new hj;return s.classesMap={...this.classesMap},s.classesMap[t]=r,s}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},dh=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},AI,n1=(AI=De.version)==null?void 0:AI.split(".")[0],tde=n1==="16"||n1==="17";function rde(){return n1==="19"}var gv=!1;function nde(e){return gv||setTimeout(()=>gv=!1,0),gv=!0,e()}var Jb=(e,t)=>{!tde&&e&&!gv?Zd.flushSync(t):t()};function Zb(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],s=[],i=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];i.set(l.instanceId,l),o.has(l.instanceId)&&n.push(l)}for(let a=0;a<t.length;a++){const l=t[a],u=l.instanceId;i.has(u)||s.push(l)}return n.length===e.length&&s.length===0?e:n.length===0&&s.length===t.length?t:n.length===0?s:s.length===0?n:[...n,...s]}var fj=m.forwardRef((e,t)=>{var se;const{ctrlsFactory:r,context:n}=m.useContext(Bn),s=m.useRef(null),i=m.useRef(null),o=m.useRef(null),a=m.useRef(null),l=m.useRef(null),u=m.useRef(),[h,p]=m.useState(),[g,C]=m.useState(),[w,y]=m.useState(),[S,E]=m.useState(()=>new hi),[b,T]=m.useState(()=>new hi("ag-hidden")),[R,P]=m.useState(()=>new hi("ag-hidden")),[M,D]=m.useState(()=>new hi("ag-invisible"));m.useImperativeHandle(t,()=>({refresh(){return!1}})),m.useLayoutEffect(()=>Bp(h,n,i.current),[h]);const N=m.useCallback(Z=>{if(s.current=Z,!Z){u.current=n.destroyBean(u.current);return}const ne={setInnerRenderer:(z,I)=>{p(z),y(I)},setChildCount:z=>C(z),addOrRemoveCssClass:(z,I)=>E(L=>L.setClass(z,I)),setContractedDisplayed:z=>P(I=>I.setClass("ag-hidden",!z)),setExpandedDisplayed:z=>T(I=>I.setClass("ag-hidden",!z)),setCheckboxVisible:z=>D(I=>I.setClass("ag-invisible",!z))},de=r.getInstance("groupCellRendererCtrl");de&&(u.current=n.createBean(de),u.current.init(ne,Z,o.current,a.current,l.current,fj,e))},[]),O=m.useMemo(()=>`ag-cell-wrapper ${S.toString()}`,[S]),j=m.useMemo(()=>`ag-group-expanded ${b.toString()}`,[b]),W=m.useMemo(()=>`ag-group-contracted ${R.toString()}`,[R]),B=m.useMemo(()=>`ag-group-checkbox ${M.toString()}`,[M]),oe=h&&h.componentFromFramework,pe=oe?h.componentClass:void 0,Se=h==null&&w!=null,we=go(w,!0);return De.createElement("span",{className:O,ref:N,...e.colDef?{}:{role:(se=u.current)==null?void 0:se.getCellAriaRole()}},De.createElement("span",{className:j,ref:a}),De.createElement("span",{className:W,ref:l}),De.createElement("span",{className:B,ref:o}),De.createElement("span",{className:"ag-group-value",ref:i},Se&&De.createElement(De.Fragment,null,we),oe&&De.createElement(pe,{...h.params})),De.createElement("span",{className:"ag-group-child-count"},g))}),hM=fj,eR=m.createContext({setMethods:()=>{}}),sde=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:n,setMethods:s}=e,[{key:i,...o},a]=m.useState(t);return m.useEffect(()=>{r(l=>a(l))},[]),De.createElement(eR.Provider,{value:{setMethods:s}},De.createElement(n,{key:i,...o}))},ide=m.memo(sde),ode=0;function fM(){return`agPortalKey_${++ode}`}var pj=class{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=fM(),this.portalKey=fM(),this.instanceCreated=this.isStatelessComponent()?Br.resolve(!1):new Br(s=>{this.resolveInstanceCreated=s})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(Pe('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(Pe('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const n=r[e];if(n)return n.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Br(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var r;this.componentInstance=t,this.addParentContainerStyleAndClasses(),(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=vi.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return m.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function tR(e,t,r){e.forEach(n=>{const s=t[n];s&&(r[n]=s)})}var To=class extends pj{constructor(){super(...arguments),this.awaitUpdateCallback=new Br(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=ide}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new Br(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,tR(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Br(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},ade=class extends To{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},lde=class extends To{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},cde=class extends To{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:n}=this;return e.label=t,e.icon=r,e.shake=n,e}},ude=class extends To{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function gj(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||Br.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var dde=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){tR(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),gj(this.floatingFilterParams,e)}},hde=class extends To{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),gj(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},fde=class extends To{refresh(e){this.sourceParams=e,this.refreshProps()}},pde=class extends To{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},gde=class extends To{refresh(e){this.sourceParams=e,this.refreshProps()}},mde=class extends To{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},vde=class extends To{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function rR(){Pe("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var Cde=1e3,yde=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||Cde}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},wde=({ctrl:e})=>{const t=e.isAlive(),{context:r}=m.useContext(Bn),n=t?e.getColId():void 0,[s,i]=m.useState(),o=m.useRef(),a=m.useRef(null),l=m.useRef(null),u=m.useRef(null),h=m.useRef(),p=m.useRef();t&&!p.current&&(p.current=new kp(()=>a.current));const g=m.useCallback(S=>{var T;if(a.current=S,o.current=S?r.createBean(new ah):r.destroyBean(o.current),!S||!t)return;const E={setWidth:R=>{a.current&&(a.current.style.width=R)},addOrRemoveCssClass:(R,P)=>p.current.addOrRemoveCssClass(R,P),setAriaSort:R=>{a.current&&(R?yte(a.current,R):wte(a.current))},setUserCompDetails:R=>i(R),getUserCompInstance:()=>h.current||void 0};e.setComp(E,S,l.current,u.current,o.current);const b=e.getSelectAllGui();(T=l.current)==null||T.insertAdjacentElement("afterend",b),o.current.addDestroyFunc(()=>b.remove())},[]);m.useLayoutEffect(()=>Bp(s,r,u.current,h),[s]),m.useEffect(()=>{e.setDragSource(a.current)},[s]);const C=m.useMemo(()=>!!((s==null?void 0:s.componentFromFramework)&&dh(s.componentClass)),[s]),w=s&&s.componentFromFramework,y=s&&s.componentClass;return De.createElement("div",{ref:g,className:"ag-header-cell","col-id":n,role:"columnheader"},De.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),De.createElement("div",{ref:u,className:"ag-header-cell-comp-wrapper",role:"presentation"},w&&C&&De.createElement(y,{...s.params}),w&&!C&&De.createElement(y,{...s.params,ref:h})))},Sde=m.memo(wde),xde=({ctrl:e})=>{const{context:t,gos:r}=m.useContext(Bn),[n,s]=m.useState(()=>new hi("ag-header-cell","ag-floating-filter")),[i,o]=m.useState(()=>new hi),[a,l]=m.useState(()=>new hi("ag-floating-filter-button","ag-hidden")),[u,h]=m.useState("false"),[p,g]=m.useState(),[,C]=m.useState(1),w=m.useRef(),y=m.useRef(null),S=m.useRef(null),E=m.useRef(null),b=m.useRef(null),T=m.useRef(),R=m.useRef(),P=we=>{we!=null&&T.current&&T.current(we)},M=m.useCallback(we=>{if(y.current=we,w.current=we?t.createBean(new ah):t.destroyBean(w.current),!we)return;R.current=new Br(Z=>{T.current=Z});const se={addOrRemoveCssClass:(Z,ne)=>s(de=>de.setClass(Z,ne)),addOrRemoveBodyCssClass:(Z,ne)=>o(de=>de.setClass(Z,ne)),setButtonWrapperDisplayed:Z=>{l(ne=>ne.setClass("ag-hidden",!Z)),h(Z?"false":"true")},setWidth:Z=>{y.current&&(y.current.style.width=Z)},setCompDetails:Z=>g(Z),getFloatingFilterComp:()=>R.current?R.current:null,setMenuIcon:Z=>{var ne;return(ne=b.current)==null?void 0:ne.appendChild(Z)}};e.setComp(se,we,b.current,S.current,w.current)},[]);m.useLayoutEffect(()=>Bp(p,t,S.current,P),[p]);const D=m.useMemo(()=>n.toString(),[n]),N=m.useMemo(()=>i.toString(),[i]),O=m.useMemo(()=>a.toString(),[a]),j=m.useMemo(()=>!!(p&&p.componentFromFramework&&dh(p.componentClass)),[p]),W=m.useMemo(()=>r.get("reactiveCustomComponents"),[]),B=m.useMemo(()=>{if(p)if(W){const we=new dde(p.params,()=>C(se=>se+1));return P(we),we}else p.componentFromFramework&&rR()},[p]),oe=B==null?void 0:B.getProps(),pe=p&&p.componentFromFramework,Se=p&&p.componentClass;return De.createElement("div",{ref:M,className:D,role:"gridcell"},De.createElement("div",{ref:S,className:N,role:"presentation"},pe&&!W&&De.createElement(Se,{...p.params,ref:j?()=>{}:P}),pe&&W&&De.createElement(eR.Provider,{value:{setMethods:we=>B.setMethods(we)}},De.createElement(Se,{...oe}))),De.createElement("div",{ref:E,"aria-hidden":u,className:O,role:"presentation"},De.createElement("button",{ref:b,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Ede=m.memo(xde),bde=({ctrl:e})=>{const{context:t}=m.useContext(Bn),[r,n]=m.useState(()=>new hi),[s,i]=m.useState(()=>new hi),[o,a]=m.useState("false"),[l,u]=m.useState(),[h,p]=m.useState(),g=m.useMemo(()=>e.getColId(),[]),C=m.useRef(),w=m.useRef(null),y=m.useRef(null),S=m.useRef(null),E=m.useRef(),b=m.useCallback(N=>{if(w.current=N,C.current=N?t.createBean(new ah):t.destroyBean(C.current),!N)return;const O={setWidth:j=>{w.current&&(w.current.style.width=j)},addOrRemoveCssClass:(j,W)=>n(B=>B.setClass(j,W)),setHeaderWrapperHidden:j=>{const W=S.current;W&&(j?W.style.setProperty("display","none"):W.style.removeProperty("display"))},setHeaderWrapperMaxHeight:j=>{const W=S.current;W&&(j!=null?W.style.setProperty("max-height",`${j}px`):W.style.removeProperty("max-height"),W.classList.toggle("ag-header-cell-comp-wrapper-limited-height",j!=null))},setUserCompDetails:j=>p(j),setResizableDisplayed:j=>{i(W=>W.setClass("ag-hidden",!j)),a(j?"false":"true")},setAriaExpanded:j=>u(j),getUserCompInstance:()=>E.current||void 0};e.setComp(O,N,y.current,S.current,C.current)},[]);m.useLayoutEffect(()=>Bp(h,t,S.current),[h]),m.useEffect(()=>{w.current&&e.setDragSource(w.current)},[h]);const T=m.useMemo(()=>!!((h==null?void 0:h.componentFromFramework)&&dh(h.componentClass)),[h]),R=m.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),P=m.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),M=h&&h.componentFromFramework,D=h&&h.componentClass;return De.createElement("div",{ref:b,className:R,"col-id":g,role:"columnheader","aria-expanded":l},De.createElement("div",{ref:S,className:"ag-header-cell-comp-wrapper",role:"presentation"},M&&T&&De.createElement(D,{...h.params}),M&&!T&&De.createElement(D,{...h.params,ref:E})),De.createElement("div",{ref:y,"aria-hidden":o,className:P}))},Rde=m.memo(bde),Tde=({ctrl:e})=>{const{context:t}=m.useContext(Bn),{topOffset:r,rowHeight:n}=m.useMemo(()=>e.getTopAndHeight(),[]),s=e.getAriaRowIndex(),i=e.getHeaderRowClass(),[o,a]=m.useState(()=>n+"px"),[l,u]=m.useState(()=>r+"px"),h=m.useRef(null),p=m.useRef(null),[g,C]=m.useState(()=>e.getHeaderCtrls()),w=m.useRef(),y=m.useRef(null),S=m.useCallback(T=>{if(y.current=T,w.current=T?t.createBean(new ah):t.destroyBean(w.current),!T)return;const R={setHeight:P=>a(P),setTop:P=>u(P),setHeaderCtrls:(P,M,D)=>{p.current=h.current,h.current=P;const N=Zb(p.current,P,M);N!==p.current&&Jb(D,()=>C(N))},setWidth:P=>{y.current&&(y.current.style.width=P)}};e.setComp(R,w.current,!1)},[]),E=m.useMemo(()=>({height:o,top:l}),[o,l]),b=m.useCallback(T=>{switch(e.getType()){case Jx.COLUMN_GROUP:return De.createElement(Rde,{ctrl:T,key:T.instanceId});case Jx.FLOATING_FILTER:return De.createElement(Ede,{ctrl:T,key:T.instanceId});default:return De.createElement(Sde,{ctrl:T,key:T.instanceId})}},[]);return De.createElement("div",{ref:S,className:i,role:"row",style:E,"aria-rowindex":s},g.map(b))},Fde=m.memo(Tde),Pde=({pinned:e})=>{const[t,r]=m.useState(!0),[n,s]=m.useState([]),{context:i}=m.useContext(Bn),o=m.useRef(null),a=m.useRef(null),l=m.useRef(),u=e==="left",h=e==="right",p=!u&&!h,g=m.useCallback(y=>{if(o.current=y,l.current=y?i.createBean(new tse(e)):i.destroyBean(l.current),!y)return;const S={setDisplayed:r,setCtrls:E=>s(E),setCenterWidth:E=>{a.current&&(a.current.style.width=E)},setViewportScrollLeft:E=>{o.current&&(o.current.scrollLeft=E)},setPinnedContainerWidth:E=>{o.current&&(o.current.style.width=E,o.current.style.minWidth=E,o.current.style.maxWidth=E)}};l.current.setComp(S,o.current)},[]),C=t?"":"ag-hidden",w=()=>n.map(y=>De.createElement(Fde,{ctrl:y,key:y.instanceId}));return De.createElement(De.Fragment,null,u&&De.createElement("div",{ref:g,className:"ag-pinned-left-header "+C,"aria-hidden":!t,role:"rowgroup"},w()),h&&De.createElement("div",{ref:g,className:"ag-pinned-right-header "+C,"aria-hidden":!t,role:"rowgroup"},w()),p&&De.createElement("div",{ref:g,className:"ag-header-viewport "+C,role:"presentation"},De.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},w())))},sS=m.memo(Pde),Ade=()=>{const[e,t]=m.useState(()=>new hi),[r,n]=m.useState(),{context:s}=m.useContext(Bn),i=m.useRef(null),o=m.useRef(),a=m.useCallback(h=>{if(i.current=h,o.current=h?s.createBean(new jne):s.destroyBean(o.current),!h)return;const p={addOrRemoveCssClass:(g,C)=>t(w=>w.setClass(g,C)),setHeightAndMinHeight:g=>n(g)};o.current.setComp(p,h,h)},[]),l=m.useMemo(()=>"ag-header "+e.toString(),[e]),u=m.useMemo(()=>({height:r,minHeight:r}),[r]);return De.createElement("div",{ref:a,className:l,style:u,role:"presentation"},De.createElement(sS,{pinned:"left"}),De.createElement(sS,{pinned:null}),De.createElement(sS,{pinned:"right"}))},Dde=m.memo(Ade),Mde=(e,t)=>{m.useEffect(()=>{const r=t.current;if(r){const n=r.parentElement;if(n){const s=document.createComment(e);return n.insertBefore(s,r),()=>{n.removeChild(s)}}}},[e])},uc=Mde,Nde=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Br(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){tR(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Ide=e=>{const t=m.useRef(e),r=m.useRef(),n=m.useRef(!1),s=m.useRef(!1),[,i]=m.useState(0);n.current&&(s.current=!0),m.useEffect(()=>(n.current||(r.current=t.current(),n.current=!0),i(o=>o+1),()=>{var o;s.current&&((o=r.current)==null||o.call(r))}),[])},Ode=e=>{const[t,r]=m.useState(),{context:n,popupService:s,localeService:i,gos:o,editService:a}=m.useContext(Bn);return Ide(()=>{var R,P;const{editDetails:l,cellCtrl:u,eParentCell:h}=e,{compDetails:p}=l,g=o.get("stopEditingWhenCellsLoseFocus"),C=n.createBean(a.createPopupEditorWrapper(p.params)),w=C.getGui();if(e.jsChildComp){const M=e.jsChildComp.getGui();M&&w.appendChild(M)}const y={column:u.getColumn(),rowNode:u.getRowNode(),type:"popupCellEditor",eventSource:h,ePopup:w,position:l.popupPosition,keepWithinBounds:!0},S=s.positionPopupByComponent.bind(s,y),E=i.getLocaleTextFunc(),b=s.addPopup({modal:g,eChild:w,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:h,positionCallback:S,ariaLabel:E("ariaLabelCellEditor","Cell Editor")}),T=b?b.hideFunc:void 0;return r(C),(P=(R=e.jsChildComp)==null?void 0:R.afterGuiAttached)==null||P.call(R),()=>{T==null||T(),n.destroyBean(C)}}),De.createElement(De.Fragment,null,t&&e.wrappedContent&&vi.createPortal(e.wrappedContent,t.getGui()))},pM=m.memo(Ode),Lde=(e,t,r,n,s,i)=>{const{context:o}=m.useContext(Bn),a=m.useCallback(()=>{const l=s.current;if(!l)return;const u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),o.destroyBean(l),s.current=void 0},[]);m.useEffect(()=>{const l=e!=null,u=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,h=t&&r==null;if(!(l&&u&&!h)){a();return}const g=e.compDetails;if(s.current){const w=s.current,S=w.refresh!=null&&e.force==!1?w.refresh(g.params):!1;if(S===!0||S===void 0)return;a()}const C=g.newAgStackInstance();C!=null&&C.then(w=>{if(!w)return;const y=w.getGui();if(!y)return;(t?r:i.current).appendChild(y),s.current=w})},[e,t,n]),m.useEffect(()=>a,[])},kde=Lde,_de=(e,t,r)=>{const{compProxy:n}=e;r(n);const s=n.getProps(),i=dh(t);return De.createElement(eR.Provider,{value:{setMethods:o=>n.setMethods(o)}},i?De.createElement(t,{...s}):De.createElement(t,{...s,ref:o=>n.setRef(o)}))},gM=(e,t,r)=>{const n=e.compProxy;return De.createElement(De.Fragment,null,n?_de(e,t,r):De.createElement(t,{...e.compDetails.params,ref:r}))},jde=(e,t,r,n,s)=>{const i=e.compDetails,o=i.componentClass,a=i.componentFromFramework&&!e.popup,l=i.componentFromFramework&&e.popup,u=!i.componentFromFramework&&e.popup;return De.createElement(De.Fragment,null,a&&gM(e,o,t),l&&De.createElement(pM,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:gM(e,o,t)}),u&&s&&De.createElement(pM,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:s}))},Bde=(e,t,r,n,s,i,o)=>{const{compDetails:a,value:l}=e,u=!a,h=a&&a.componentFromFramework,p=a&&a.componentClass,g=l!=null&&l.toString?l.toString():l,C=()=>De.createElement(De.Fragment,null,u&&De.createElement(De.Fragment,null,g),h&&!i&&De.createElement(p,{...a.params,key:t,ref:n}),h&&i&&De.createElement(p,{...a.params,key:t}));return De.createElement(De.Fragment,null,s?De.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:o},C()):C())},Gde=({cellCtrl:e,printLayout:t,editingRow:r})=>{const{context:n}=m.useContext(Bn),{colIdSanitised:s,instanceId:i}=e,o=m.useRef(),[a,l]=m.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,h]=m.useState(),[p,g]=m.useState(1),[C,w]=m.useState(),[y,S]=m.useState(!1),[E,b]=m.useState(!1),[T,R]=m.useState(!1),[P,M]=m.useState(),D=m.useMemo(()=>e.isForceWrapper(),[e]),N=m.useMemo(()=>e.getCellAriaRole(),[e]),O=m.useRef(null),j=m.useRef(null),W=m.useRef(),B=m.useRef(),oe=m.useRef(),pe=m.useRef([]),Se=m.useRef(),[we,se]=m.useState(0),Z=m.useCallback(Q=>{Se.current=Q,se(re=>re+1)},[]),ne=a!=null&&(y||T||E),de=D||ne,z=m.useCallback(Q=>{if(B.current=Q,Q){const re=Q.isCancelBeforeStart&&Q.isCancelBeforeStart();setTimeout(()=>{re?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),I=m.useRef();I.current||(I.current=new kp(()=>O.current)),kde(a,de,Se.current,we,W,O);const L=m.useRef();m.useLayoutEffect(()=>{var Ye;const Q=L.current,re=a;if(L.current=a,Q==null||Q.compDetails==null||re==null||re.compDetails==null)return;const Me=Q.compDetails,Fe=re.compDetails;if(Me.componentClass!=Fe.componentClass||((Ye=j.current)==null?void 0:Ye.refresh)==null)return;j.current.refresh(Fe.params)!=!0&&g(ut=>ut+1)},[a]),m.useLayoutEffect(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const re=u.compDetails,Me=u.popup===!0,Fe=re.newAgStackInstance();return Fe.then(We=>{if(!We)return;const Ye=We.getGui();if(z(We),!Me){const ut=(D?oe:O).current;ut==null||ut.appendChild(Ye),We.afterGuiAttached&&We.afterGuiAttached()}M(We)}),()=>{Fe.then(We=>{var ut;const Ye=We.getGui();n.destroyBean(We),z(void 0),M(void 0),(ut=Ye==null?void 0:Ye.parentElement)==null||ut.removeChild(Ye)})}},[u]);const H=m.useCallback(Q=>{if(oe.current=Q,!Q){pe.current.forEach(Me=>Me()),pe.current=[];return}const re=Me=>{if(Me){const Fe=Me.getGui();Q.insertAdjacentElement("afterbegin",Fe),pe.current.push(()=>{n.destroyBean(Me),Gc(Fe)})}return Me};if(y){const Me=e.createSelectionCheckbox();re(Me)}T&&re(e.createDndSource()),E&&re(e.createRowDragComp())},[e,n,T,E,y]),G=m.useCallback(Q=>{if(O.current=Q,o.current=Q?n.createBean(new ah):n.destroyBean(o.current),!Q||!e)return;const re={addOrRemoveCssClass:(Fe,We)=>I.current.addOrRemoveCssClass(Fe,We),setUserStyles:Fe=>w(Fe),getFocusableElement:()=>O.current,setIncludeSelection:Fe=>S(Fe),setIncludeRowDrag:Fe=>b(Fe),setIncludeDndSource:Fe=>R(Fe),getCellEditor:()=>B.current||null,getCellRenderer:()=>j.current??W.current,getParentOfValue:()=>Se.current??oe.current??O.current,setRenderDetails:(Fe,We,Ye)=>{l(ut=>(ut==null?void 0:ut.compDetails)!==Fe||(ut==null?void 0:ut.value)!==We||(ut==null?void 0:ut.force)!==Ye?{value:We,compDetails:Fe,force:Ye}:ut)},setEditDetails:(Fe,We,Ye,ut)=>{if(Fe){let gt;ut?gt=new Nde(Fe.params,()=>g(Ve=>Ve+1)):Fe.componentFromFramework&&rR(),h({compDetails:Fe,popup:We,popupPosition:Ye,compProxy:gt}),We||l(void 0)}else h(gt=>{gt!=null&&gt.compProxy&&(B.current=void 0)})}},Me=oe.current||void 0;e.setComp(re,Q,Me,t,r,o.current)},[]),J=m.useMemo(()=>{var re;return!!(((re=a==null?void 0:a.compDetails)==null?void 0:re.componentFromFramework)&&dh(a.compDetails.componentClass))},[a]);m.useLayoutEffect(()=>{var Q;O.current&&(I.current.addOrRemoveCssClass("ag-cell-value",!de),I.current.addOrRemoveCssClass("ag-cell-inline-editing",!!u&&!u.popup),I.current.addOrRemoveCssClass("ag-cell-popup-editing",!!u&&!!u.popup),I.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!u||!!u.popup),(Q=e.getRowCtrl())==null||Q.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.isEditing()&&O.current.focus({preventScroll:!0}))});const ie=()=>De.createElement(De.Fragment,null,a!=null&&Bde(a,p,i,j,de,J,Z),u!=null&&jde(u,z,O.current,e,P)),fe=m.useCallback(()=>e.onFocusOut(),[]);return De.createElement("div",{ref:G,style:C,role:N,"col-id":s,onBlur:fe},de?De.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:H},ie()):ie())},Hde=m.memo(Gde),Vde=({rowCtrl:e,containerType:t})=>{const{context:r,gos:n}=m.useContext(Bn),s=m.useRef(),i=m.useRef(e.getDomOrder()),o=e.isFullWidth(),a=e.getRowNode().displayed,[l,u]=m.useState(()=>a?e.getRowIndex():null),[h,p]=m.useState(()=>e.getRowId()),[g,C]=m.useState(()=>e.getBusinessKey()),[w,y]=m.useState(()=>e.getRowStyles()),S=m.useRef(null),E=m.useRef(null),[b,T]=m.useState(()=>null),[R,P]=m.useState(),[M,D]=m.useState(()=>a?e.getInitialRowTop(t):void 0),[N,O]=m.useState(()=>a?e.getInitialTransform(t):void 0),j=m.useRef(null),W=m.useRef(),B=m.useRef(!1),[oe,pe]=m.useState(0);m.useEffect(()=>{var G;if(B.current||!R||oe>10)return;const H=(G=j.current)==null?void 0:G.firstChild;H?(e.setupDetailRowAutoHeight(H),B.current=!0):pe(J=>J+1)},[R,oe]);const Se=m.useRef();Se.current||(Se.current=new kp(()=>j.current));const we=m.useCallback(H=>{if(j.current=H,s.current=H?r.createBean(new ah):r.destroyBean(s.current),!H){e.unsetComp(t);return}if(!e.isAlive())return;const G={setTop:D,setTransform:O,addOrRemoveCssClass:(J,ie)=>Se.current.addOrRemoveCssClass(J,ie),setDomOrder:J=>i.current=J,setRowIndex:u,setRowId:p,setRowBusinessKey:C,setUserStyles:y,setCellCtrls:(J,ie)=>{E.current=S.current,S.current=J;const fe=Zb(E.current,J,i.current);fe!==E.current&&Jb(ie,()=>T(fe))},showFullWidth:J=>P(J),getFullWidthCellRenderer:()=>W.current,refreshFullWidth:J=>z.current?(P(ie=>({...ie,params:J()})),!0):!W.current||!W.current.refresh?!1:W.current.refresh(J())};e.setComp(G,H,t,s.current)},[]);m.useLayoutEffect(()=>Bp(R,r,j.current,W),[R]);const se=m.useMemo(()=>{const H={top:M,transform:N};return Object.assign(H,w),H},[M,N,w]),Z=o&&(R==null?void 0:R.componentFromFramework),ne=!o&&b!=null,de=m.useMemo(()=>!!((R==null?void 0:R.componentFromFramework)&&dh(R.componentClass)),[R]),z=m.useRef(!1);m.useEffect(()=>{z.current=de&&!!R&&!!n.get("reactiveCustomComponents")},[de,R]);const I=()=>b==null?void 0:b.map(H=>De.createElement(Hde,{cellCtrl:H,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:H.instanceId})),L=()=>{const H=R.componentClass;return De.createElement(De.Fragment,null,de?De.createElement(H,{...R.params}):De.createElement(H,{...R.params,ref:W}))};return De.createElement("div",{ref:we,role:"row",style:se,"row-index":l,"row-id":h,"row-business-key":g},ne&&I(),Z&&L())},Wde=m.memo(Vde),$de=({name:e})=>{const{context:t}=m.useContext(Bn),r=m.useMemo(()=>ad(e),[e]),n=m.useRef(null),s=m.useRef(null),i=m.useRef([]),o=m.useRef([]),[a,l]=m.useState(()=>[]),u=m.useRef(!1),h=m.useRef(),p=m.useMemo(()=>Li(r.viewport),[r]),g=m.useMemo(()=>Li(r.container),[r]),C=r.type==="center",w=C?n:s;uc(" AG Row Container "+e+" ",w);const y=m.useCallback(()=>C?n.current!=null&&s.current!=null:s.current!=null,[]),S=m.useCallback(()=>C?n.current==null&&s.current==null:s.current==null,[]),E=m.useCallback(()=>{if(S()&&(h.current=t.destroyBean(h.current)),y()){const P=D=>{const N=Zb(o.current,i.current,u.current);N!==o.current&&(o.current=N,Jb(D,()=>l(N)))},M={setHorizontalScroll:D=>{n.current&&(n.current.scrollLeft=D)},setViewportHeight:D=>{n.current&&(n.current.style.height=D)},setRowCtrls:({rowCtrls:D,useFlushSync:N})=>{const O=!!N&&i.current.length>0&&D.length>0;i.current=D,P(O)},setDomOrder:D=>{u.current!=D&&(u.current=D,P(!1))},setContainerWidth:D=>{s.current&&(s.current.style.width=D)},setOffsetTop:D=>{s.current&&(s.current.style.transform=`translateY(${D})`)}};h.current=t.createBean(new Kse(e)),h.current.setComp(M,s.current,n.current)}},[y,S]),b=m.useCallback(P=>{s.current=P,E()},[E]),T=m.useCallback(P=>{n.current=P,E()},[E]),R=()=>De.createElement("div",{className:g,ref:b,role:"rowgroup"},a.map(P=>De.createElement(Wde,{rowCtrl:P,containerType:r.type,key:P.instanceId})));return De.createElement(De.Fragment,null,C?De.createElement("div",{className:p,ref:T,role:"presentation"},R()):R())},Ude=m.memo($de),zde=()=>{const{context:e,resizeObserverService:t}=m.useContext(Bn),[r,n]=m.useState(""),[s,i]=m.useState(0),[o,a]=m.useState(0),[l,u]=m.useState("0px"),[h,p]=m.useState("0px"),[g,C]=m.useState("100%"),[w,y]=m.useState("0px"),[S,E]=m.useState("0px"),[b,T]=m.useState("100%"),[R,P]=m.useState(""),[M,D]=m.useState(""),[N,O]=m.useState(null),[j,W]=m.useState(""),[B,oe]=m.useState(null),[pe,Se]=m.useState("ag-layout-normal"),we=m.useRef();we.current||(we.current=new kp(()=>se.current));const se=m.useRef(null),Z=m.useRef(null),ne=m.useRef(null),de=m.useRef(null),z=m.useRef(null),I=m.useRef(null),L=m.useRef(null),H=m.useRef([]),G=m.useRef([]);uc(" AG Grid Body ",se),uc(" AG Pinned Top ",Z),uc(" AG Sticky Top ",ne),uc(" AG Middle ",I),uc(" AG Pinned Bottom ",L);const J=m.useCallback(lt=>{if(se.current=lt,!lt){H.current=e.destroyBeans(H.current),G.current.forEach(tt=>tt()),G.current=[];return}if(!e)return;const Mt=(tt,mt)=>{tt.appendChild(mt),G.current.push(()=>tt.removeChild(mt))},ue=tt=>{const mt=e.createBean(new tt);return H.current.push(mt),mt},$e=(tt,mt,Lt)=>{Mt(tt,document.createComment(Lt)),Mt(tt,ue(mt).getGui())};$e(lt,nse," AG Fake Horizontal Scroll "),$e(lt,rse," AG Overlay Wrapper "),z.current&&$e(z.current,sse," AG Fake Vertical Scroll ");const ze={setRowAnimationCssOnBodyViewport:n,setColumnCount:tt=>{se.current&&vte(se.current,tt)},setRowCount:tt=>{se.current&&gte(se.current,tt)},setTopHeight:i,setBottomHeight:a,setStickyTopHeight:u,setStickyTopTop:p,setStickyTopWidth:C,setTopDisplay:P,setBottomDisplay:D,setColumnMovingCss:(tt,mt)=>we.current.addOrRemoveCssClass(tt,mt),updateLayoutClasses:Se,setAlwaysVerticalScrollClass:O,setPinnedTopBottomOverflowY:W,setCellSelectableCss:(tt,mt)=>oe(mt?tt:null),setBodyViewportWidth:tt=>{I.current&&(I.current.style.width=tt)},registerBodyViewportResizeListener:tt=>{if(I.current){const mt=t.observeResize(I.current,tt);G.current.push(()=>mt())}},setStickyBottomHeight:y,setStickyBottomBottom:E,setStickyBottomWidth:T},et=e.createBean(new Qse);H.current.push(et),et.setComp(ze,lt,I.current,Z.current,L.current,ne.current,de.current)},[]),ie=m.useMemo(()=>Li("ag-root","ag-unselectable",pe),[pe]),fe=m.useMemo(()=>Li("ag-body-viewport",r,pe,N,B),[r,pe,N,B]),Q=m.useMemo(()=>Li("ag-body",pe),[pe]),re=m.useMemo(()=>Li("ag-floating-top",B),[B]),Me=m.useMemo(()=>Li("ag-sticky-top",B),[B]),Fe=m.useMemo(()=>Li("ag-sticky-bottom",w==="0px"?"ag-hidden":null,B),[B,w]),We=m.useMemo(()=>Li("ag-floating-bottom",B),[B]),Ye=m.useMemo(()=>({height:s,minHeight:s,display:R,overflowY:j}),[s,R,j]),ut=m.useMemo(()=>({height:l,top:h,width:g}),[l,h,g]),gt=m.useMemo(()=>({height:w,bottom:S,width:b}),[w,S,b]),Ve=m.useMemo(()=>({height:o,minHeight:o,display:M,overflowY:j}),[o,M,j]),le=lt=>De.createElement(Ude,{name:lt,key:`${lt}-container`}),Be=({section:lt,children:Mt,className:ue,style:$e})=>De.createElement("div",{ref:lt,className:ue,role:"presentation",style:$e},Mt.map(le));return De.createElement("div",{ref:J,className:ie,role:"treegrid"},De.createElement(Dde,null),Be({section:Z,className:re,style:Ye,children:["topLeft","topCenter","topRight","topFullWidth"]}),De.createElement("div",{className:Q,ref:z,role:"presentation"},Be({section:I,className:fe,children:["left","center","right","fullWidth"]})),Be({section:ne,className:Me,style:ut,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Be({section:de,className:Fe,style:gt,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Be({section:L,className:We,style:Ve,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Kde=m.memo(zde),qde=(e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:s,gridCtrl:i,forceFocusOutWhenTabGuardsAreEmpty:o}=e,{context:a}=m.useContext(Bn),l=m.useRef(null),u=m.useRef(null),h=m.useRef(),p=S=>{const E=S==null?void 0:parseInt(S,10).toString();[l,u].forEach(b=>{var T,R;E===void 0?(T=b.current)==null||T.removeAttribute("tabindex"):(R=b.current)==null||R.setAttribute("tabindex",E)})};m.useImperativeHandle(t,()=>({forceFocusOutOfContainer(S){var E;(E=h.current)==null||E.forceFocusOutOfContainer(S)}}));const g=m.useCallback(()=>{const S=l.current,E=u.current;if(!S&&!E){h.current=a.destroyBean(h.current);return}if(S&&E){const b={setTabIndex:p};h.current=a.createBean(new K4({comp:b,eTopGuard:S,eBottomGuard:E,eFocusableElement:n,onTabKeyDown:s,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:T=>i.focusInnerElement(T)}))}},[]),C=m.useCallback(S=>{l.current=S,g()},[g]),w=m.useCallback(S=>{u.current=S,g()},[g]),y=S=>{const E=S==="top"?fv.TAB_GUARD_TOP:fv.TAB_GUARD_BOTTOM;return De.createElement("div",{className:`${fv.TAB_GUARD} ${E}`,role:"presentation",ref:S==="top"?C:w})};return De.createElement(De.Fragment,null,y("top"),r,y("bottom"))},Yde=m.forwardRef(qde),Xde=m.memo(Yde),Qde=({context:e})=>{const[t,r]=m.useState(""),[n,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(null),[u,h]=m.useState(null),[p,g]=m.useState(!1),[C,w]=m.useState(),y=m.useRef(),S=m.useRef(null),E=m.useRef(),[b,T]=m.useState(null),R=m.useRef(()=>{}),P=m.useRef(),M=m.useRef([]),D=m.useCallback(()=>{},[]),N=m.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);uc(" AG Grid ",S);const O=m.useCallback(pe=>{if(S.current=pe,y.current=pe?e.createBean(new Doe):e.destroyBean(y.current),!pe||e.isDestroyed())return;const Se=y.current;R.current=Se.focusInnerElement.bind(Se);const we={destroyGridUi:()=>{},setRtlClass:r,setGridThemeClass:s,forceFocusOutOfContainer:se=>{var Z,ne;if(!se&&((Z=P.current)!=null&&Z.isDisplayed())){P.current.forceFocusOutOfContainer(se);return}(ne=E.current)==null||ne.forceFocusOutOfContainer(se)},updateLayoutClasses:o,getFocusableContainers:()=>{var ne;const se=[],Z=(ne=S.current)==null?void 0:ne.querySelector(".ag-root");return Z&&se.push({getGui:()=>Z}),M.current.forEach(de=>{de.isDisplayed()&&se.push(de)}),se},setCursor:l,setUserSelect:h};Se.setComp(we,pe,pe),g(!0)},[]);m.useEffect(()=>{const pe=y.current,Se=S.current;if(!C||!N||!pe||!b||!Se)return;const we=[],{watermarkSelector:se,paginationSelector:Z,sideBarSelector:ne,statusBarSelector:de,gridHeaderDropZonesSelector:z}=pe.getOptionalSelectors(),I=[];if(z){const H=e.createBean(new z.component),G=H.getGui();Se.insertAdjacentElement("afterbegin",G),I.push(G),we.push(H)}if(ne){const H=e.createBean(new ne.component),G=H.getGui(),J=b.querySelector(".ag-tab-guard-bottom");J&&(J.insertAdjacentElement("beforebegin",G),I.push(G)),we.push(H),M.current.push(H)}const L=H=>{const G=e.createBean(new H),J=G.getGui();return Se.insertAdjacentElement("beforeend",J),I.push(J),we.push(G),G};if(de&&L(de.component),Z){const H=L(Z.component);P.current=H,M.current.push(H)}return se&&L(se.component),()=>{e.destroyBeans(we),I.forEach(H=>{var G;(G=H.parentElement)==null||G.removeChild(H)})}},[C,b,N]);const j=m.useMemo(()=>Li("ag-root-wrapper",t,n,i),[t,n,i]),W=m.useMemo(()=>Li("ag-root-wrapper-body","ag-focus-managed",i),[i]),B=m.useMemo(()=>({userSelect:u??"",WebkitUserSelect:u??"",cursor:a??""}),[u,a]),oe=m.useCallback(pe=>{E.current=pe,w(pe!==null)},[]);return De.createElement("div",{ref:O,className:j,style:B,role:"presentation"},De.createElement("div",{className:W,ref:T,role:"presentation"},p&&b&&N&&De.createElement(Bn.Provider,{value:N},De.createElement(Xde,{ref:oe,eFocusableElement:b,onTabKeyDown:D,gridCtrl:y.current,forceFocusOutWhenTabGuardsAreEmpty:!0},De.createElement(Kde,null)))))},Jde=m.memo(Qde),Zde=class extends be{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},mj=e=>{var S;const t=m.useRef(),r=m.useRef(null),n=m.useRef(null),s=m.useRef([]),i=m.useRef([]),o=m.useRef(e),a=m.useRef(),l=m.useRef(),u=m.useRef(!1),[h,p]=m.useState(void 0),[,g]=m.useState(0),C=m.useCallback(E=>{if(r.current=E,!E){s.current.forEach(W=>W()),s.current.length=0;return}const b=e.modules||[];n.current||(n.current=new yde(()=>g(W=>W+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),s.current.push(()=>{var W;(W=n.current)==null||W.destroy(),n.current=null}));const T=ote(e.gridOptions,e),R=()=>{if(u.current){const W=()=>{var oe;return(oe=a.current)!=null&&oe.shouldQueueUpdates()?void 0:i.current.shift()};let B=W();for(;B;)B(),B=W()}},P=new nhe(R);a.current=P;const M=new Zde,D={providedBeanInstances:{frameworkComponentWrapper:new the(n.current,T.reactiveCustomComponents??nue("reactiveCustomComponents")??!0),renderStatusService:M},modules:b,frameworkOverrides:P},N=W=>{p(W),W.createBean(M),s.current.push(()=>{W.destroy()}),W.getBean("ctrlsService").whenReady({addDestroyFunc:B=>{s.current.push(B)}},()=>{var oe;if(W.isDestroyed())return;const B=t.current;B&&((oe=e.setGridApi)==null||oe.call(e,B))})},O=W=>{W.getBean("ctrlsService").whenReady({addDestroyFunc:B=>{s.current.push(B)}},()=>{i.current.forEach(B=>B()),i.current.length=0,u.current=!0})},j=new iue;T.gridId??(T.gridId=l.current),t.current=j.create(E,T,N,O,D),s.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),w=m.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),y=m.useCallback(E=>{var b;u.current&&!((b=a.current)!=null&&b.shouldQueueUpdates())?E():i.current.push(E)},[]);return m.useEffect(()=>{const E=ehe(o.current,e);o.current=e,y(()=>{t.current&&ate(E,t.current)})},[e]),De.createElement("div",{style:w,className:e.className,ref:C},h&&!h.isDestroyed()?De.createElement(Jde,{context:h}):null,((S=n.current)==null?void 0:S.getPortals())??null)};function ehe(e,t){const r={};return Object.keys(t).forEach(n=>{const s=t[n];e[n]!==s&&(r[n]=s)}),r}var the=class extends pue{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const s=(i=>{switch(i){case"filter":return ude;case"floatingFilterComponent":return hde;case"dateComponent":return lde;case"dragAndDropImageComponent":return cde;case"loadingOverlayComponent":return fde;case"noRowsOverlayComponent":return gde;case"statusPanel":return mde;case"toolPanel":return vde;case"menuItem":return pde;case"cellRenderer":return ade}})(t.propertyName);if(s)return new s(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":rR();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new pj(e,this.parent,t,r)}},rhe=m.forwardRef((e,t)=>{const{ctrlsFactory:r,context:n,gos:s,resizeObserverService:i,rowModel:o}=m.useContext(Bn),[a,l]=m.useState(()=>new hi),[u,h]=m.useState(()=>new hi),[p,g]=m.useState(),[C,w]=m.useState(),y=m.useRef(),S=m.useRef(null),E=m.useRef(),b=m.useMemo(()=>uo.__getGridRegisteredModules(e.api.getGridId()),[e]),T=m.useMemo(()=>a.toString()+" ag-details-row",[a]),R=m.useMemo(()=>u.toString()+" ag-details-grid",[u]);t&&m.useImperativeHandle(t,()=>({refresh(){var D;return((D=y.current)==null?void 0:D.refresh())??!1}})),e.template&&Pe("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const P=m.useCallback(D=>{var j;if(S.current=D,!D){y.current=n.destroyBean(y.current),(j=E.current)==null||j.call(E);return}const N={addOrRemoveCssClass:(W,B)=>l(oe=>oe.setClass(W,B)),addOrRemoveDetailGridCssClass:(W,B)=>h(oe=>oe.setClass(W,B)),setDetailGrid:W=>g(W),setRowData:W=>w(W),getGui:()=>S.current},O=r.getInstance("detailCellRenderer");if(O&&(n.createBean(O),O.init(N,e),y.current=O,s.get("detailRowAutoHeight"))){const W=()=>{if(S.current==null)return;const B=S.current.clientHeight;B!=null&&B>0&&setTimeout(()=>{e.node.setRowHeight(B),(Er(s)||bo(s))&&o.onRowHeightChanged()},0)};E.current=i.observeResize(D,W),W()}},[]),M=m.useCallback(D=>{var N;(N=y.current)==null||N.registerDetailWithMaster(D)},[]);return De.createElement("div",{className:T,ref:P},p&&De.createElement(mj,{className:R,...p,modules:b,rowData:C,setGridApi:M}))}),nhe=class extends q4{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:hM,agGroupRowRenderer:hM,agDetailCellRenderer:rhe},this.wrapIncoming=(t,r)=>r==="ensureVisible"?nde(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return rde()}},she=class extends m.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return De.createElement(mj,{...this.props,setGridApi:this.setGridApi})}};function ihe(e){return jn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zM160 224c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32zm128-64l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32s32 14.3 32 32zm64 32c17.7 0 32 14.3 32 32l0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96c0-17.7 14.3-32 32-32zM480 96l0 224c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-224c0-17.7 14.3-32 32-32s32 14.3 32 32z"},child:[]}]})(e)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Zv={};Zv.version="0.18.5";var vj=1252,ohe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Cj=function(e){ohe.indexOf(e)!=-1&&(vj=e)};function ahe(){Cj(1252)}var op=function(e){Cj(e)};function lhe(){op(1200),ahe()}var Lm=function(t){return String.fromCharCode(t)},mM=function(t){return String.fromCharCode(t)},dc,al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ap(e){for(var t="",r=0,n=0,s=0,i=0,o=0,a=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,s=e.charCodeAt(u++),a=(n&15)<<2|s>>6,l=s&63,isNaN(n)?a=l=64:isNaN(s)&&(l=64),t+=al.charAt(i)+al.charAt(o)+al.charAt(a)+al.charAt(l);return t}function ua(e){var t="",r=0,n=0,s=0,i=0,o=0,a=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=al.indexOf(e.charAt(u++)),o=al.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),a=al.indexOf(e.charAt(u++)),n=(o&15)<<4|a>>2,a!==64&&(t+=String.fromCharCode(n)),l=al.indexOf(e.charAt(u++)),s=(a&3)<<6|l,l!==64&&(t+=String.fromCharCode(s));return t}var Qt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),pa=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Hc(e){return Qt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function vM(e){return Qt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ji=function(t){return Qt?pa(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function rC(e){if(typeof ArrayBuffer>"u")return ji(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Gp(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function che(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var yn=Qt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:pa(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function uhe(e){for(var t=[],r=0,n=e.length+250,s=Hc(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=e.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|a>>6&15|(o&3)<<4,s[r++]=128|a&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(t.push(s.slice(0,r)),r=0,s=Hc(65535),n=65530)}return t.push(s.slice(0,r)),yn(t)}var If=/\u0000/g,km=/[\u0001-\u0006]/g;function yd(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Gi(e,t){var r=""+e;return r.length>=t?r:jr("0",t-r.length)+r}function nR(e,t){var r=""+e;return r.length>=t?r:jr(" ",t-r.length)+r}function e0(e,t){var r=""+e;return r.length>=t?r:r+jr(" ",t-r.length)}function dhe(e,t){var r=""+Math.round(e);return r.length>=t?r:jr("0",t-r.length)+r}function hhe(e,t){var r=""+e;return r.length>=t?r:jr("0",t-r.length)+r}var CM=Math.pow(2,32);function Uu(e,t){if(e>CM||e<-CM)return dhe(e,t);var r=Math.round(e);return hhe(r,t)}function t0(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var yM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],iS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function fhe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Vr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},wM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},phe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function r0(e,t,r){for(var n=e<0?-1:1,s=e*n,i=0,o=1,a=0,l=1,u=0,h=0,p=Math.floor(s);u<t&&(p=Math.floor(s),a=p*o+i,h=p*u+l,!(s-p<5e-8));)s=1/(s-p),i=o,o=a,l=u,u=h;if(h>t&&(u>t?(h=l,a=i):(h=u,a=o)),!r)return[0,n*a,h];var g=Math.floor(n*a/h);return[g,n*a-g*h,h]}function _m(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),i=0,o=[],a={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(n+=1462),a.u>.9999&&(a.u=0,++s==86400&&(a.T=s=0,++n,++a.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=She(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=s%60,s=Math.floor(s/60),a.M=s%60,s=Math.floor(s/60),a.H=s,a.q=i,a}var yj=new Date(1899,11,31,0,0,0),ghe=yj.getTime(),mhe=new Date(1900,2,1,0,0,0);function wj(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=mhe&&(r+=24*60*60*1e3),(r-(ghe+(e.getTimezoneOffset()-yj.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function sR(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function vhe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Che(e){var t=e<0?12:11,r=sR(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function yhe(e){var t=sR(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function whe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Che(e):t===10?r=e.toFixed(10).substr(0,12):r=yhe(e),sR(vhe(r.toUpperCase()))}function s1(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):whe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return El(14,wj(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function She(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function xhe(e,t,r,n){var s="",i=0,o=0,a=r.y,l,u=0;switch(e){case 98:a=r.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,u=2;break;default:l=a%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return iS[r.m-1][1];case 5:return iS[r.m-1][0];default:return iS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return yM[r.q][0];default:return yM[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Gi(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=Gi(i,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=a,u=1;break}var h=u>0?Gi(l,u):"";return h}function ll(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Sj=/%/g;function Ehe(e,t,r){var n=t.replace(Sj,""),s=t.length-n.length;return ea(e,n,r*Math.pow(10,2*s))+jr("%",s)}function bhe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ea(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function xj(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+xj(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,h){return l+u+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Ej=/# (\?+)( ?)\/( ?)(\d+)/;function Rhe(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),i=Math.floor(s/n),o=s-i*n,a=n;return r+(i===0?"":""+i)+" "+(o===0?jr(" ",e[1].length+1+e[4].length):nR(o,e[1].length)+e[2]+"/"+e[3]+Gi(a,e[4].length))}function The(e,t,r){return r+(t===0?"":""+t)+jr(" ",e[1].length+2+e[4].length)}var bj=/^#*0*\.([0#]+)/,Rj=/\).*[0#]/,Tj=/\(###\) ###\\?-####/;function zn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function SM(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function xM(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Fhe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Phe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ai(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Rj)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ai("n",n,r):"("+ai("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return bhe(e,t,r);if(t.indexOf("%")!==-1)return Ehe(e,t,r);if(t.indexOf("E")!==-1)return xj(t,r);if(t.charCodeAt(0)===36)return"$"+ai(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,a,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Uu(l,t.length);if(t.match(/^[#?]+$/))return s=Uu(r,0),s==="0"&&(s=""),s.length>t.length?s:zn(t.substr(0,t.length-s.length))+s;if(i=t.match(Ej))return Rhe(i,l,u);if(t.match(/^#+0+$/))return u+Uu(l,t.length-t.indexOf("0"));if(i=t.match(bj))return s=SM(r,i[1].length).replace(/^([^\.]+)$/,"$1."+zn(i[1])).replace(/\.$/,"."+zn(i[1])).replace(/\.(\d*)$/,function(w,y){return"."+y+jr("0",zn(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+SM(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+ll(Uu(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ai(e,t,-r):ll(""+(Math.floor(r)+Fhe(r,i[1].length)))+"."+Gi(xM(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ai(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=yd(ai(e,t.replace(/[\\-]/g,""),r)),o=0,yd(yd(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(t.match(Tj))return s=ai(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),a=r0(l,Math.pow(10,o)-1,!1),s=""+u,h=ea("n",i[1],a[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=e0(a[2],o),h.length<i[4].length&&(h=zn(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),a=r0(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?nR(a[1],o)+i[2]+"/"+i[3]+e0(a[2],o):jr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=Uu(r,0),t.length<=s.length?s:zn(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=t.indexOf(".")-o,g=t.length-s.length-p;return zn(t.substr(0,p)+s+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=xM(r,i[1].length),r<0?"-"+ai(e,t,-r):ll(Phe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Gi(0,3-w.length):"")+w})+"."+Gi(o,i[1].length);switch(t){case"###,##0.00":return ai(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var C=ll(Uu(l,0));return C!=="0"?u+C:"";case"###,###.00":return ai(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ai(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Ahe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ea(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Dhe(e,t,r){var n=t.replace(Sj,""),s=t.length-n.length;return ea(e,n,r*Math.pow(10,2*s))+jr("%",s)}function Fj(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Fj(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,h){return l+u+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ro(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Rj)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ro("n",n,r):"("+ro("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Ahe(e,t,r);if(t.indexOf("%")!==-1)return Dhe(e,t,r);if(t.indexOf("E")!==-1)return Fj(t,r);if(t.charCodeAt(0)===36)return"$"+ro(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,a,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Gi(l,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:zn(t.substr(0,t.length-s.length))+s;if(i=t.match(Ej))return The(i,l,u);if(t.match(/^#+0+$/))return u+Gi(l,t.length-t.indexOf("0"));if(i=t.match(bj))return s=(""+r).replace(/^([^\.]+)$/,"$1."+zn(i[1])).replace(/\.$/,"."+zn(i[1])),s=s.replace(/\.(\d*)$/,function(w,y){return"."+y+jr("0",zn(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+ll(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ro(e,t,-r):ll(""+r)+"."+jr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ro(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=yd(ro(e,t.replace(/[\\-]/g,""),r)),o=0,yd(yd(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(t.match(Tj))return s=ro(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),a=r0(l,Math.pow(10,o)-1,!1),s=""+u,h=ea("n",i[1],a[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=e0(a[2],o),h.length<i[4].length&&(h=zn(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),a=r0(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?nR(a[1],o)+i[2]+"/"+i[3]+e0(a[2],o):jr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:zn(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=t.indexOf(".")-o,g=t.length-s.length-p;return zn(t.substr(0,p)+s+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ro(e,t,-r):ll(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Gi(0,3-w.length):"")+w})+"."+Gi(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var C=ll(""+l);return C!=="0"?u+C:"";default:if(t.match(/\.[0#?]*$/))return ro(e,t.slice(0,t.lastIndexOf(".")),r)+zn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ea(e,t,r){return(r|0)===r?ro(e,t,r):ai(e,t,r)}function Mhe(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Pj=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Aj(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":t0(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Pj))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Nhe(e,t,r,n){for(var s=[],i="",o=0,a="",l="t",u,h,p,g="H";o<e.length;)switch(a=e.charAt(o)){case"G":if(!t0(e,o))throw new Error("unrecognized character "+a+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(p=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(p);s[s.length]={t:"t",v:i},++o;break;case"\\":var C=e.charAt(++o),w=C==="("||C===")"?C:"t";s[s.length]={t:w,v:C},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=_m(t,r,e.charAt(o+1)==="2"),u==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=_m(t,r),u==null))return"";for(i=a;++o<e.length&&e.charAt(o).toLowerCase()===a;)i+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=g),s[s.length]={t:a,v:i},l=a;break;case"A":case"a":case"":var y={t:a,v:a};if(u==null&&(u=_m(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(y.v=u.H>=12?"P":"A"),y.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(y.v=u.H>=12?"PM":"AM"),y.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(y.v=u.H>=12?"":""),y.t="T",o+=5,g="h"):(y.t="t",++o),u==null&&y.t==="T")return"";s[s.length]=y,l=a;break;case"[":for(i=a;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Pj)){if(u==null&&(u=_m(t,r),u==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Aj(e)||(s[s.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=a;++o<e.length&&(a=e.charAt(o))==="0";)i+=a;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=a;++o<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(o))>-1;)i+=a;s[s.length]={t:"n",v:i};break;case"?":for(i=a;e.charAt(++o)===a;)i+=a;s[s.length]={t:a,v:i},l=a;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=a;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:a,v:a},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+e);s[s.length]={t:"t",v:a},++o;break}var S=0,E=0,b;for(o=s.length-1,l="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=g,l="h",S<1&&(S=1);break;case"s":(b=s[o].v.match(/\.0+$/))&&(E=Math.max(E,b[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":l=s[o].t;break;case"m":l==="s"&&(s[o].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&s[o].v.match(/[Hh]/)&&(S=1),S<2&&s[o].v.match(/[Mm]/)&&(S=2),S<3&&s[o].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var T="",R;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=xhe(s[o].t.charCodeAt(0),s[o].v,u,E),s[o].t="t";break;case"n":case"?":for(R=o+1;s[R]!=null&&((a=s[R].t)==="?"||a==="D"||(a===" "||a==="t")&&s[R+1]!=null&&(s[R+1].t==="?"||s[R+1].t==="t"&&s[R+1].v==="/")||s[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(s[R].v==="/"||s[R].v===" "&&s[R+1]!=null&&s[R+1].t=="?"));)s[o].v+=s[R].v,s[R]={v:"",t:";"},++R;T+=s[o].v,o=R-1;break;case"G":s[o].t="t",s[o].v=s1(t,r);break}var P="",M,D;if(T.length>0){T.charCodeAt(0)==40?(M=t<0&&T.charCodeAt(0)===45?-t:t,D=ea("n",T,M)):(M=t<0&&n>1?-t:t,D=ea("n",T,M),M<0&&s[0]&&s[0].t=="t"&&(D=D.substr(1),s[0].v="-"+s[0].v)),R=D.length-1;var N=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){N=o;break}var O=s.length;if(N===s.length&&D.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(R>=s[o].v.length-1?(R-=s[o].v.length,s[o].v=D.substr(R+1,s[o].v.length)):R<0?s[o].v="":(s[o].v=D.substr(0,R+1),R=-1),s[o].t="t",O=o);R>=0&&O<s.length&&(s[O].v=D.substr(0,R+1)+s[O].v)}else if(N!==s.length&&D.indexOf("E")===-1){for(R=D.indexOf(".")-1,o=N;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(h=s[o].v.indexOf(".")>-1&&o===N?s[o].v.indexOf(".")-1:s[o].v.length-1,P=s[o].v.substr(h+1);h>=0;--h)R>=0&&(s[o].v.charAt(h)==="0"||s[o].v.charAt(h)==="#")&&(P=D.charAt(R--)+P);s[o].v=P,s[o].t="t",O=o}for(R>=0&&O<s.length&&(s[O].v=D.substr(0,R+1)+s[O].v),R=D.indexOf(".")+1,o=N;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==N)){for(h=s[o].v.indexOf(".")>-1&&o===N?s[o].v.indexOf(".")+1:0,P=s[o].v.substr(0,h);h<s[o].v.length;++h)R<D.length&&(P+=D.charAt(R++));s[o].v=P,s[o].t="t",O=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(M=n>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=ea(s[o].t,s[o].v,M),s[o].t="t");var j="";for(o=0;o!==s.length;++o)s[o]!=null&&(j+=s[o].v);return j}var EM=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function bM(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Ihe(e,t){var r=Mhe(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(EM),a=r[1].match(EM);return bM(t,o)?[n,r[0]]:bM(t,a)?[n,r[1]]:[n,r[o!=null&&a!=null?2:1]]}return[n,i]}function El(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Vr)[e],n==null&&(n=r.table&&r.table[wM[e]]||Vr[wM[e]]),n==null&&(n=phe[e]||"General");break}if(t0(n,0))return s1(t,r);t instanceof Date&&(t=wj(t,r.date1904));var s=Ihe(n,t);if(t0(s[1]))return s1(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Nhe(s[1],t,r,s[0])}function Dj(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Vr[r]==null){t<0&&(t=r);continue}if(Vr[r]==e){t=r;break}}t<0&&(t=391)}return Vr[t]=e,t}function nC(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Dj(e[t],t)}function sC(){Vr=fhe()}var Mj=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Ohe(e){var t=typeof e=="number"?Vr[e]:e;return t=t.replace(Mj,"(\\d+)"),new RegExp("^"+t+"$")}function Lhe(e,t,r){var n=-1,s=-1,i=-1,o=-1,a=-1,l=-1;(t.match(Mj)||[]).forEach(function(p,g){var C=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=C;break;case"d":i=C;break;case"h":o=C;break;case"s":l=C;break;case"m":o>=0?a=C:s=C;break}}),l>=0&&a==-1&&s>=0&&(a=s,s=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?u:n==-1&&s==-1&&i==-1?h:u+"T"+h}var khe=function(){var e={};e.version="1.2.0";function t(){for(var D=0,N=new Array(256),O=0;O!=256;++O)D=O,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,N[O]=D;return typeof Int32Array<"u"?new Int32Array(N):N}var r=t();function n(D){var N=0,O=0,j=0,W=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)W[j]=D[j];for(j=0;j!=256;++j)for(O=D[j],N=256+j;N<4096;N+=256)O=W[N]=O>>>8^D[O&255];var B=[];for(j=1;j!=16;++j)B[j-1]=typeof Int32Array<"u"?W.subarray(j*256,j*256+256):W.slice(j*256,j*256+256);return B}var s=n(r),i=s[0],o=s[1],a=s[2],l=s[3],u=s[4],h=s[5],p=s[6],g=s[7],C=s[8],w=s[9],y=s[10],S=s[11],E=s[12],b=s[13],T=s[14];function R(D,N){for(var O=N^-1,j=0,W=D.length;j<W;)O=O>>>8^r[(O^D.charCodeAt(j++))&255];return~O}function P(D,N){for(var O=N^-1,j=D.length-15,W=0;W<j;)O=T[D[W++]^O&255]^b[D[W++]^O>>8&255]^E[D[W++]^O>>16&255]^S[D[W++]^O>>>24]^y[D[W++]]^w[D[W++]]^C[D[W++]]^g[D[W++]]^p[D[W++]]^h[D[W++]]^u[D[W++]]^l[D[W++]]^a[D[W++]]^o[D[W++]]^i[D[W++]]^r[D[W++]];for(j+=15;W<j;)O=O>>>8^r[(O^D[W++])&255];return~O}function M(D,N){for(var O=N^-1,j=0,W=D.length,B=0,oe=0;j<W;)B=D.charCodeAt(j++),B<128?O=O>>>8^r[(O^B)&255]:B<2048?(O=O>>>8^r[(O^(192|B>>6&31))&255],O=O>>>8^r[(O^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,oe=D.charCodeAt(j++)&1023,O=O>>>8^r[(O^(240|B>>8&7))&255],O=O>>>8^r[(O^(128|B>>2&63))&255],O=O>>>8^r[(O^(128|oe>>6&15|(B&3)<<4))&255],O=O>>>8^r[(O^(128|oe&63))&255]):(O=O>>>8^r[(O^(224|B>>12&15))&255],O=O>>>8^r[(O^(128|B>>6&63))&255],O=O>>>8^r[(O^(128|B&63))&255]);return~O}return e.table=r,e.bstr=R,e.buf=P,e.str=M,e}(),ur=function(){var t={};t.version="1.2.1";function r(_,K){for(var V=_.split("/"),U=K.split("/"),q=0,Y=0,ve=Math.min(V.length,U.length);q<ve;++q){if(Y=V[q].length-U[q].length)return Y;if(V[q]!=U[q])return V[q]<U[q]?-1:1}return V.length-U.length}function n(_){if(_.charAt(_.length-1)=="/")return _.slice(0,-1).indexOf("/")===-1?_:n(_.slice(0,-1));var K=_.lastIndexOf("/");return K===-1?_:_.slice(0,K+1)}function s(_){if(_.charAt(_.length-1)=="/")return s(_.slice(0,-1));var K=_.lastIndexOf("/");return K===-1?_:_.slice(K+1)}function i(_,K){typeof K=="string"&&(K=new Date(K));var V=K.getHours();V=V<<6|K.getMinutes(),V=V<<5|K.getSeconds()>>>1,_.write_shift(2,V);var U=K.getFullYear()-1980;U=U<<4|K.getMonth()+1,U=U<<5|K.getDate(),_.write_shift(2,U)}function o(_){var K=_.read_shift(2)&65535,V=_.read_shift(2)&65535,U=new Date,q=V&31;V>>>=5;var Y=V&15;V>>>=4,U.setMilliseconds(0),U.setFullYear(V+1980),U.setMonth(Y-1),U.setDate(q);var ve=K&31;K>>>=5;var Ae=K&63;return K>>>=6,U.setHours(K),U.setMinutes(Ae),U.setSeconds(ve<<1),U}function a(_){js(_,0);for(var K={},V=0;_.l<=_.length-4;){var U=_.read_shift(2),q=_.read_shift(2),Y=_.l+q,ve={};switch(U){case 21589:V=_.read_shift(1),V&1&&(ve.mtime=_.read_shift(4)),q>5&&(V&2&&(ve.atime=_.read_shift(4)),V&4&&(ve.ctime=_.read_shift(4))),ve.mtime&&(ve.mt=new Date(ve.mtime*1e3));break}_.l=Y,K[U]=ve}return K}var l;function u(){return l||(l={})}function h(_,K){if(_[0]==80&&_[1]==75)return xi(_,K);if((_[0]|32)==109&&(_[1]|32)==105)return ag(_,K);if(_.length<512)throw new Error("CFB file size "+_.length+" < 512");var V=3,U=512,q=0,Y=0,ve=0,Ae=0,me=0,ye=[],xe=_.slice(0,512);js(xe,0);var Ge=p(xe);switch(V=Ge[0],V){case 3:U=512;break;case 4:U=4096;break;case 0:if(Ge[1]==0)return xi(_,K);default:throw new Error("Major Version: Expected 3 or 4 saw "+V)}U!==512&&(xe=_.slice(0,U),js(xe,28));var Je=_.slice(0,U);g(xe,V);var it=xe.read_shift(4,"i");if(V===3&&it!==0)throw new Error("# Directory Sectors: Expected 0 saw "+it);xe.l+=4,ve=xe.read_shift(4,"i"),xe.l+=4,xe.chk("00100000","Mini Stream Cutoff Size: "),Ae=xe.read_shift(4,"i"),q=xe.read_shift(4,"i"),me=xe.read_shift(4,"i"),Y=xe.read_shift(4,"i");for(var Ke=-1,Ue=0;Ue<109&&(Ke=xe.read_shift(4,"i"),!(Ke<0));++Ue)ye[Ue]=Ke;var Dt=C(_,U);S(me,Y,Dt,U,ye);var pr=b(Dt,ve,ye,U);pr[ve].name="!Directory",q>0&&Ae!==oe&&(pr[Ae].name="!MiniFAT"),pr[ye[0]].name="!FAT",pr.fat_addrs=ye,pr.ssz=U;var mr={},Wr=[],Vl=[],Ca=[];T(ve,pr,Dt,Wr,q,mr,Vl,Ae),w(Vl,Ca,Wr),Wr.shift();var Xi={FileIndex:Vl,FullPaths:Ca};return K&&K.raw&&(Xi.raw={header:Je,sectors:Dt}),Xi}function p(_){if(_[_.l]==80&&_[_.l+1]==75)return[0,0];_.chk(pe,"Header Signature: "),_.l+=16;var K=_.read_shift(2,"u");return[_.read_shift(2,"u"),K]}function g(_,K){var V=9;switch(_.l+=2,V=_.read_shift(2)){case 9:if(K!=3)throw new Error("Sector Shift: Expected 9 saw "+V);break;case 12:if(K!=4)throw new Error("Sector Shift: Expected 12 saw "+V);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+V)}_.chk("0600","Mini Sector Shift: "),_.chk("000000000000","Reserved: ")}function C(_,K){for(var V=Math.ceil(_.length/K)-1,U=[],q=1;q<V;++q)U[q-1]=_.slice(q*K,(q+1)*K);return U[V-1]=_.slice(V*K),U}function w(_,K,V){for(var U=0,q=0,Y=0,ve=0,Ae=0,me=V.length,ye=[],xe=[];U<me;++U)ye[U]=xe[U]=U,K[U]=V[U];for(;Ae<xe.length;++Ae)U=xe[Ae],q=_[U].L,Y=_[U].R,ve=_[U].C,ye[U]===U&&(q!==-1&&ye[q]!==q&&(ye[U]=ye[q]),Y!==-1&&ye[Y]!==Y&&(ye[U]=ye[Y])),ve!==-1&&(ye[ve]=U),q!==-1&&U!=ye[U]&&(ye[q]=ye[U],xe.lastIndexOf(q)<Ae&&xe.push(q)),Y!==-1&&U!=ye[U]&&(ye[Y]=ye[U],xe.lastIndexOf(Y)<Ae&&xe.push(Y));for(U=1;U<me;++U)ye[U]===U&&(Y!==-1&&ye[Y]!==Y?ye[U]=ye[Y]:q!==-1&&ye[q]!==q&&(ye[U]=ye[q]));for(U=1;U<me;++U)if(_[U].type!==0){if(Ae=U,Ae!=ye[Ae])do Ae=ye[Ae],K[U]=K[Ae]+"/"+K[U];while(Ae!==0&&ye[Ae]!==-1&&Ae!=ye[Ae]);ye[U]=-1}for(K[0]+="/",U=1;U<me;++U)_[U].type!==2&&(K[U]+="/")}function y(_,K,V){for(var U=_.start,q=_.size,Y=[],ve=U;V&&q>0&&ve>=0;)Y.push(K.slice(ve*B,ve*B+B)),q-=B,ve=hc(V,ve*4);return Y.length===0?Te(0):yn(Y).slice(0,_.size)}function S(_,K,V,U,q){var Y=oe;if(_===oe){if(K!==0)throw new Error("DIFAT chain shorter than expected")}else if(_!==-1){var ve=V[_],Ae=(U>>>2)-1;if(!ve)return;for(var me=0;me<Ae&&(Y=hc(ve,me*4))!==oe;++me)q.push(Y);S(hc(ve,U-4),K-1,V,U,q)}}function E(_,K,V,U,q){var Y=[],ve=[];q||(q=[]);var Ae=U-1,me=0,ye=0;for(me=K;me>=0;){q[me]=!0,Y[Y.length]=me,ve.push(_[me]);var xe=V[Math.floor(me*4/U)];if(ye=me*4&Ae,U<4+ye)throw new Error("FAT boundary crossed: "+me+" 4 "+U);if(!_[xe])break;me=hc(_[xe],ye)}return{nodes:Y,data:NM([ve])}}function b(_,K,V,U){var q=_.length,Y=[],ve=[],Ae=[],me=[],ye=U-1,xe=0,Ge=0,Je=0,it=0;for(xe=0;xe<q;++xe)if(Ae=[],Je=xe+K,Je>=q&&(Je-=q),!ve[Je]){me=[];var Ke=[];for(Ge=Je;Ge>=0;){Ke[Ge]=!0,ve[Ge]=!0,Ae[Ae.length]=Ge,me.push(_[Ge]);var Ue=V[Math.floor(Ge*4/U)];if(it=Ge*4&ye,U<4+it)throw new Error("FAT boundary crossed: "+Ge+" 4 "+U);if(!_[Ue]||(Ge=hc(_[Ue],it),Ke[Ge]))break}Y[Je]={nodes:Ae,data:NM([me])}}return Y}function T(_,K,V,U,q,Y,ve,Ae){for(var me=0,ye=U.length?2:0,xe=K[_].data,Ge=0,Je=0,it;Ge<xe.length;Ge+=128){var Ke=xe.slice(Ge,Ge+128);js(Ke,64),Je=Ke.read_shift(2),it=cR(Ke,0,Je-ye),U.push(it);var Ue={name:it,type:Ke.read_shift(1),color:Ke.read_shift(1),L:Ke.read_shift(4,"i"),R:Ke.read_shift(4,"i"),C:Ke.read_shift(4,"i"),clsid:Ke.read_shift(16),state:Ke.read_shift(4,"i"),start:0,size:0},Dt=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);Dt!==0&&(Ue.ct=R(Ke,Ke.l-8));var pr=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);pr!==0&&(Ue.mt=R(Ke,Ke.l-8)),Ue.start=Ke.read_shift(4,"i"),Ue.size=Ke.read_shift(4,"i"),Ue.size<0&&Ue.start<0&&(Ue.size=Ue.type=0,Ue.start=oe,Ue.name=""),Ue.type===5?(me=Ue.start,q>0&&me!==oe&&(K[me].name="!StreamData")):Ue.size>=4096?(Ue.storage="fat",K[Ue.start]===void 0&&(K[Ue.start]=E(V,Ue.start,K.fat_addrs,K.ssz)),K[Ue.start].name=Ue.name,Ue.content=K[Ue.start].data.slice(0,Ue.size)):(Ue.storage="minifat",Ue.size<0?Ue.size=0:me!==oe&&Ue.start!==oe&&K[me]&&(Ue.content=y(Ue,K[me].data,(K[Ae]||{}).data))),Ue.content&&js(Ue.content,0),Y[it]=Ue,ve.push(Ue)}}function R(_,K){return new Date((Hs(_,K+4)/1e7*Math.pow(2,32)+Hs(_,K)/1e7-11644473600)*1e3)}function P(_,K){return u(),h(l.readFileSync(_),K)}function M(_,K){var V=K&&K.type;switch(V||Qt&&Buffer.isBuffer(_)&&(V="buffer"),V||"base64"){case"file":return P(_,K);case"base64":return h(ji(ua(_)),K);case"binary":return h(ji(_),K)}return h(_,K)}function D(_,K){var V=K||{},U=V.root||"Root Entry";if(_.FullPaths||(_.FullPaths=[]),_.FileIndex||(_.FileIndex=[]),_.FullPaths.length!==_.FileIndex.length)throw new Error("inconsistent CFB structure");_.FullPaths.length===0&&(_.FullPaths[0]=U+"/",_.FileIndex[0]={name:U,type:5}),V.CLSID&&(_.FileIndex[0].clsid=V.CLSID),N(_)}function N(_){var K="Sh33tJ5";if(!ur.find(_,"/"+K)){var V=Te(4);V[0]=55,V[1]=V[3]=50,V[2]=54,_.FileIndex.push({name:K,type:2,content:V,size:4,L:69,R:69,C:69}),_.FullPaths.push(_.FullPaths[0]+K),O(_)}}function O(_,K){D(_);for(var V=!1,U=!1,q=_.FullPaths.length-1;q>=0;--q){var Y=_.FileIndex[q];switch(Y.type){case 0:U?V=!0:(_.FileIndex.pop(),_.FullPaths.pop());break;case 1:case 2:case 5:U=!0,isNaN(Y.R*Y.L*Y.C)&&(V=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(V=!0);break;default:V=!0;break}}if(!(!V&&!K)){var ve=new Date(1987,1,19),Ae=0,me=Object.create?Object.create(null):{},ye=[];for(q=0;q<_.FullPaths.length;++q)me[_.FullPaths[q]]=!0,_.FileIndex[q].type!==0&&ye.push([_.FullPaths[q],_.FileIndex[q]]);for(q=0;q<ye.length;++q){var xe=n(ye[q][0]);U=me[xe],U||(ye.push([xe,{name:s(xe).replace("/",""),type:1,clsid:we,ct:ve,mt:ve,content:null}]),me[xe]=!0)}for(ye.sort(function(it,Ke){return r(it[0],Ke[0])}),_.FullPaths=[],_.FileIndex=[],q=0;q<ye.length;++q)_.FullPaths[q]=ye[q][0],_.FileIndex[q]=ye[q][1];for(q=0;q<ye.length;++q){var Ge=_.FileIndex[q],Je=_.FullPaths[q];if(Ge.name=s(Je).replace("/",""),Ge.L=Ge.R=Ge.C=-(Ge.color=1),Ge.size=Ge.content?Ge.content.length:0,Ge.start=0,Ge.clsid=Ge.clsid||we,q===0)Ge.C=ye.length>1?1:-1,Ge.size=0,Ge.type=5;else if(Je.slice(-1)=="/"){for(Ae=q+1;Ae<ye.length&&n(_.FullPaths[Ae])!=Je;++Ae);for(Ge.C=Ae>=ye.length?-1:Ae,Ae=q+1;Ae<ye.length&&n(_.FullPaths[Ae])!=n(Je);++Ae);Ge.R=Ae>=ye.length?-1:Ae,Ge.type=1}else n(_.FullPaths[q+1]||"")==n(Je)&&(Ge.R=q+1),Ge.type=2}}}function j(_,K){var V=K||{};if(V.fileType=="mad")return Gl(_,V);switch(O(_),V.fileType){case"zip":return Ds(_,V)}var U=function(it){for(var Ke=0,Ue=0,Dt=0;Dt<it.FileIndex.length;++Dt){var pr=it.FileIndex[Dt];if(pr.content){var mr=pr.content.length;mr>0&&(mr<4096?Ke+=mr+63>>6:Ue+=mr+511>>9)}}for(var Wr=it.FullPaths.length+3>>2,Vl=Ke+7>>3,Ca=Ke+127>>7,Xi=Vl+Ue+Wr+Ca,sn=Xi+127>>7,xh=sn<=109?0:Math.ceil((sn-109)/127);Xi+sn+xh+127>>7>sn;)xh=++sn<=109?0:Math.ceil((sn-109)/127);var $r=[1,xh,sn,Ca,Wr,Ue,Ke,0];return it.FileIndex[0].size=Ke<<6,$r[7]=(it.FileIndex[0].start=$r[0]+$r[1]+$r[2]+$r[3]+$r[4]+$r[5])+($r[6]+7>>3),$r}(_),q=Te(U[7]<<9),Y=0,ve=0;{for(Y=0;Y<8;++Y)q.write_shift(1,Se[Y]);for(Y=0;Y<8;++Y)q.write_shift(2,0);for(q.write_shift(2,62),q.write_shift(2,3),q.write_shift(2,65534),q.write_shift(2,9),q.write_shift(2,6),Y=0;Y<3;++Y)q.write_shift(2,0);for(q.write_shift(4,0),q.write_shift(4,U[2]),q.write_shift(4,U[0]+U[1]+U[2]+U[3]-1),q.write_shift(4,0),q.write_shift(4,4096),q.write_shift(4,U[3]?U[0]+U[1]+U[2]-1:oe),q.write_shift(4,U[3]),q.write_shift(-4,U[1]?U[0]-1:oe),q.write_shift(4,U[1]),Y=0;Y<109;++Y)q.write_shift(-4,Y<U[2]?U[1]+Y:-1)}if(U[1])for(ve=0;ve<U[1];++ve){for(;Y<236+ve*127;++Y)q.write_shift(-4,Y<U[2]?U[1]+Y:-1);q.write_shift(-4,ve===U[1]-1?oe:ve+1)}var Ae=function(it){for(ve+=it;Y<ve-1;++Y)q.write_shift(-4,Y+1);it&&(++Y,q.write_shift(-4,oe))};for(ve=Y=0,ve+=U[1];Y<ve;++Y)q.write_shift(-4,se.DIFSECT);for(ve+=U[2];Y<ve;++Y)q.write_shift(-4,se.FATSECT);Ae(U[3]),Ae(U[4]);for(var me=0,ye=0,xe=_.FileIndex[0];me<_.FileIndex.length;++me)xe=_.FileIndex[me],xe.content&&(ye=xe.content.length,!(ye<4096)&&(xe.start=ve,Ae(ye+511>>9)));for(Ae(U[6]+7>>3);q.l&511;)q.write_shift(-4,se.ENDOFCHAIN);for(ve=Y=0,me=0;me<_.FileIndex.length;++me)xe=_.FileIndex[me],xe.content&&(ye=xe.content.length,!(!ye||ye>=4096)&&(xe.start=ve,Ae(ye+63>>6)));for(;q.l&511;)q.write_shift(-4,se.ENDOFCHAIN);for(Y=0;Y<U[4]<<2;++Y){var Ge=_.FullPaths[Y];if(!Ge||Ge.length===0){for(me=0;me<17;++me)q.write_shift(4,0);for(me=0;me<3;++me)q.write_shift(4,-1);for(me=0;me<12;++me)q.write_shift(4,0);continue}xe=_.FileIndex[Y],Y===0&&(xe.start=xe.size?xe.start-1:oe);var Je=Y===0&&V.root||xe.name;if(ye=2*(Je.length+1),q.write_shift(64,Je,"utf16le"),q.write_shift(2,ye),q.write_shift(1,xe.type),q.write_shift(1,xe.color),q.write_shift(-4,xe.L),q.write_shift(-4,xe.R),q.write_shift(-4,xe.C),xe.clsid)q.write_shift(16,xe.clsid,"hex");else for(me=0;me<4;++me)q.write_shift(4,0);q.write_shift(4,xe.state||0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,xe.start),q.write_shift(4,xe.size),q.write_shift(4,0)}for(Y=1;Y<_.FileIndex.length;++Y)if(xe=_.FileIndex[Y],xe.size>=4096)if(q.l=xe.start+1<<9,Qt&&Buffer.isBuffer(xe.content))xe.content.copy(q,q.l,0,xe.size),q.l+=xe.size+511&-512;else{for(me=0;me<xe.size;++me)q.write_shift(1,xe.content[me]);for(;me&511;++me)q.write_shift(1,0)}for(Y=1;Y<_.FileIndex.length;++Y)if(xe=_.FileIndex[Y],xe.size>0&&xe.size<4096)if(Qt&&Buffer.isBuffer(xe.content))xe.content.copy(q,q.l,0,xe.size),q.l+=xe.size+63&-64;else{for(me=0;me<xe.size;++me)q.write_shift(1,xe.content[me]);for(;me&63;++me)q.write_shift(1,0)}if(Qt)q.l=q.length;else for(;q.l<q.length;)q.write_shift(1,0);return q}function W(_,K){var V=_.FullPaths.map(function(me){return me.toUpperCase()}),U=V.map(function(me){var ye=me.split("/");return ye[ye.length-(me.slice(-1)=="/"?2:1)]}),q=!1;K.charCodeAt(0)===47?(q=!0,K=V[0].slice(0,-1)+K):q=K.indexOf("/")!==-1;var Y=K.toUpperCase(),ve=q===!0?V.indexOf(Y):U.indexOf(Y);if(ve!==-1)return _.FileIndex[ve];var Ae=!Y.match(km);for(Y=Y.replace(If,""),Ae&&(Y=Y.replace(km,"!")),ve=0;ve<V.length;++ve)if((Ae?V[ve].replace(km,"!"):V[ve]).replace(If,"")==Y||(Ae?U[ve].replace(km,"!"):U[ve]).replace(If,"")==Y)return _.FileIndex[ve];return null}var B=64,oe=-2,pe="d0cf11e0a1b11ae1",Se=[208,207,17,224,161,177,26,225],we="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:oe,FREESECT:-1,HEADER_SIGNATURE:pe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:we,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Z(_,K,V){u();var U=j(_,V);l.writeFileSync(K,U)}function ne(_){for(var K=new Array(_.length),V=0;V<_.length;++V)K[V]=String.fromCharCode(_[V]);return K.join("")}function de(_,K){var V=j(_,K);switch(K&&K.type||"buffer"){case"file":return u(),l.writeFileSync(K.filename,V),V;case"binary":return typeof V=="string"?V:ne(V);case"base64":return ap(typeof V=="string"?V:ne(V));case"buffer":if(Qt)return Buffer.isBuffer(V)?V:pa(V);case"array":return typeof V=="string"?ji(V):V}return V}var z;function I(_){try{var K=_.InflateRaw,V=new K;if(V._processChunk(new Uint8Array([3,0]),V._finishFlushFlag),V.bytesRead)z=_;else throw new Error("zlib does not expose bytesRead")}catch(U){console.error("cannot use native zlib: "+(U.message||U))}}function L(_,K){if(!z)return fn(_,K);var V=z.InflateRaw,U=new V,q=U._processChunk(_.slice(_.l),U._finishFlushFlag);return _.l+=U.bytesRead,q}function H(_){return z?z.deflateRawSync(_):Oe(_)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function fe(_){var K=(_<<1|_<<11)&139536|(_<<5|_<<15)&558144;return(K>>16|K>>8|K)&255}for(var Q=typeof Uint8Array<"u",re=Q?new Uint8Array(256):[],Me=0;Me<256;++Me)re[Me]=fe(Me);function Fe(_,K){var V=re[_&255];return K<=8?V>>>8-K:(V=V<<8|re[_>>8&255],K<=16?V>>>16-K:(V=V<<8|re[_>>16&255],V>>>24-K))}function We(_,K){var V=K&7,U=K>>>3;return(_[U]|(V<=6?0:_[U+1]<<8))>>>V&3}function Ye(_,K){var V=K&7,U=K>>>3;return(_[U]|(V<=5?0:_[U+1]<<8))>>>V&7}function ut(_,K){var V=K&7,U=K>>>3;return(_[U]|(V<=4?0:_[U+1]<<8))>>>V&15}function gt(_,K){var V=K&7,U=K>>>3;return(_[U]|(V<=3?0:_[U+1]<<8))>>>V&31}function Ve(_,K){var V=K&7,U=K>>>3;return(_[U]|(V<=1?0:_[U+1]<<8))>>>V&127}function le(_,K,V){var U=K&7,q=K>>>3,Y=(1<<V)-1,ve=_[q]>>>U;return V<8-U||(ve|=_[q+1]<<8-U,V<16-U)||(ve|=_[q+2]<<16-U,V<24-U)||(ve|=_[q+3]<<24-U),ve&Y}function Be(_,K,V){var U=K&7,q=K>>>3;return U<=5?_[q]|=(V&7)<<U:(_[q]|=V<<U&255,_[q+1]=(V&7)>>8-U),K+3}function lt(_,K,V){var U=K&7,q=K>>>3;return V=(V&1)<<U,_[q]|=V,K+1}function Mt(_,K,V){var U=K&7,q=K>>>3;return V<<=U,_[q]|=V&255,V>>>=8,_[q+1]=V,K+8}function ue(_,K,V){var U=K&7,q=K>>>3;return V<<=U,_[q]|=V&255,V>>>=8,_[q+1]=V&255,_[q+2]=V>>>8,K+16}function $e(_,K){var V=_.length,U=2*V>K?2*V:K+5,q=0;if(V>=K)return _;if(Qt){var Y=vM(U);if(_.copy)_.copy(Y);else for(;q<_.length;++q)Y[q]=_[q];return Y}else if(Q){var ve=new Uint8Array(U);if(ve.set)ve.set(_);else for(;q<V;++q)ve[q]=_[q];return ve}return _.length=U,_}function ze(_){for(var K=new Array(_),V=0;V<_;++V)K[V]=0;return K}function et(_,K,V){var U=1,q=0,Y=0,ve=0,Ae=0,me=_.length,ye=Q?new Uint16Array(32):ze(32);for(Y=0;Y<32;++Y)ye[Y]=0;for(Y=me;Y<V;++Y)_[Y]=0;me=_.length;var xe=Q?new Uint16Array(me):ze(me);for(Y=0;Y<me;++Y)ye[q=_[Y]]++,U<q&&(U=q),xe[Y]=0;for(ye[0]=0,Y=1;Y<=U;++Y)ye[Y+16]=Ae=Ae+ye[Y-1]<<1;for(Y=0;Y<me;++Y)Ae=_[Y],Ae!=0&&(xe[Y]=ye[Ae+16]++);var Ge=0;for(Y=0;Y<me;++Y)if(Ge=_[Y],Ge!=0)for(Ae=Fe(xe[Y],U)>>U-Ge,ve=(1<<U+4-Ge)-1;ve>=0;--ve)K[Ae|ve<<Ge]=Ge&15|Y<<4;return U}var tt=Q?new Uint16Array(512):ze(512),mt=Q?new Uint16Array(32):ze(32);if(!Q){for(var Lt=0;Lt<512;++Lt)tt[Lt]=0;for(Lt=0;Lt<32;++Lt)mt[Lt]=0}(function(){for(var _=[],K=0;K<32;K++)_.push(5);et(_,mt,32);var V=[];for(K=0;K<=143;K++)V.push(8);for(;K<=255;K++)V.push(9);for(;K<=279;K++)V.push(7);for(;K<=287;K++)V.push(8);et(V,tt,288)})();var qr=function(){for(var K=Q?new Uint8Array(32768):[],V=0,U=0;V<ie.length-1;++V)for(;U<ie[V+1];++U)K[U]=V;for(;U<32768;++U)K[U]=29;var q=Q?new Uint8Array(259):[];for(V=0,U=0;V<J.length-1;++V)for(;U<J[V+1];++U)q[U]=V;function Y(Ae,me){for(var ye=0;ye<Ae.length;){var xe=Math.min(65535,Ae.length-ye),Ge=ye+xe==Ae.length;for(me.write_shift(1,+Ge),me.write_shift(2,xe),me.write_shift(2,~xe&65535);xe-- >0;)me[me.l++]=Ae[ye++]}return me.l}function ve(Ae,me){for(var ye=0,xe=0,Ge=Q?new Uint16Array(32768):[];xe<Ae.length;){var Je=Math.min(65535,Ae.length-xe);if(Je<10){for(ye=Be(me,ye,+(xe+Je==Ae.length)),ye&7&&(ye+=8-(ye&7)),me.l=ye/8|0,me.write_shift(2,Je),me.write_shift(2,~Je&65535);Je-- >0;)me[me.l++]=Ae[xe++];ye=me.l*8;continue}ye=Be(me,ye,+(xe+Je==Ae.length)+2);for(var it=0;Je-- >0;){var Ke=Ae[xe];it=(it<<5^Ke)&32767;var Ue=-1,Dt=0;if((Ue=Ge[it])&&(Ue|=xe&-32768,Ue>xe&&(Ue-=32768),Ue<xe))for(;Ae[Ue+Dt]==Ae[xe+Dt]&&Dt<250;)++Dt;if(Dt>2){Ke=q[Dt],Ke<=22?ye=Mt(me,ye,re[Ke+1]>>1)-1:(Mt(me,ye,3),ye+=5,Mt(me,ye,re[Ke-23]>>5),ye+=3);var pr=Ke<8?0:Ke-4>>2;pr>0&&(ue(me,ye,Dt-J[Ke]),ye+=pr),Ke=K[xe-Ue],ye=Mt(me,ye,re[Ke]>>3),ye-=3;var mr=Ke<4?0:Ke-2>>1;mr>0&&(ue(me,ye,xe-Ue-ie[Ke]),ye+=mr);for(var Wr=0;Wr<Dt;++Wr)Ge[it]=xe&32767,it=(it<<5^Ae[xe])&32767,++xe;Je-=Dt-1}else Ke<=143?Ke=Ke+48:ye=lt(me,ye,1),ye=Mt(me,ye,re[Ke]),Ge[it]=xe&32767,++xe}ye=Mt(me,ye,0)-1}return me.l=(ye+7)/8|0,me.l}return function(me,ye){return me.length<8?Y(me,ye):ve(me,ye)}}();function Oe(_){var K=Te(50+Math.floor(_.length*1.1)),V=qr(_,K);return K.slice(0,V)}var vt=Q?new Uint16Array(32768):ze(32768),fr=Q?new Uint16Array(32768):ze(32768),bn=Q?new Uint16Array(128):ze(128),As=1,Ne=1;function St(_,K){var V=gt(_,K)+257;K+=5;var U=gt(_,K)+1;K+=5;var q=ut(_,K)+4;K+=4;for(var Y=0,ve=Q?new Uint8Array(19):ze(19),Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],me=1,ye=Q?new Uint8Array(8):ze(8),xe=Q?new Uint8Array(8):ze(8),Ge=ve.length,Je=0;Je<q;++Je)ve[G[Je]]=Y=Ye(_,K),me<Y&&(me=Y),ye[Y]++,K+=3;var it=0;for(ye[0]=0,Je=1;Je<=me;++Je)xe[Je]=it=it+ye[Je-1]<<1;for(Je=0;Je<Ge;++Je)(it=ve[Je])!=0&&(Ae[Je]=xe[it]++);var Ke=0;for(Je=0;Je<Ge;++Je)if(Ke=ve[Je],Ke!=0){it=re[Ae[Je]]>>8-Ke;for(var Ue=(1<<7-Ke)-1;Ue>=0;--Ue)bn[it|Ue<<Ke]=Ke&7|Je<<3}var Dt=[];for(me=1;Dt.length<V+U;)switch(it=bn[Ve(_,K)],K+=it&7,it>>>=3){case 16:for(Y=3+We(_,K),K+=2,it=Dt[Dt.length-1];Y-- >0;)Dt.push(it);break;case 17:for(Y=3+Ye(_,K),K+=3;Y-- >0;)Dt.push(0);break;case 18:for(Y=11+Ve(_,K),K+=7;Y-- >0;)Dt.push(0);break;default:Dt.push(it),me<it&&(me=it);break}var pr=Dt.slice(0,V),mr=Dt.slice(V);for(Je=V;Je<286;++Je)pr[Je]=0;for(Je=U;Je<30;++Je)mr[Je]=0;return As=et(pr,vt,286),Ne=et(mr,fr,30),K}function Ht(_,K){if(_[0]==3&&!(_[1]&3))return[Hc(K),2];for(var V=0,U=0,q=vM(K||1<<18),Y=0,ve=q.length>>>0,Ae=0,me=0;!(U&1);){if(U=Ye(_,V),V+=3,U>>>1)U>>1==1?(Ae=9,me=5):(V=St(_,V),Ae=As,me=Ne);else{V&7&&(V+=8-(V&7));var ye=_[V>>>3]|_[(V>>>3)+1]<<8;if(V+=32,ye>0)for(!K&&ve<Y+ye&&(q=$e(q,Y+ye),ve=q.length);ye-- >0;)q[Y++]=_[V>>>3],V+=8;continue}for(;;){!K&&ve<Y+32767&&(q=$e(q,Y+32767),ve=q.length);var xe=le(_,V,Ae),Ge=U>>>1==1?tt[xe]:vt[xe];if(V+=Ge&15,Ge>>>=4,!(Ge>>>8&255))q[Y++]=Ge;else{if(Ge==256)break;Ge-=257;var Je=Ge<8?0:Ge-4>>2;Je>5&&(Je=0);var it=Y+J[Ge];Je>0&&(it+=le(_,V,Je),V+=Je),xe=le(_,V,me),Ge=U>>>1==1?mt[xe]:fr[xe],V+=Ge&15,Ge>>>=4;var Ke=Ge<4?0:Ge-2>>1,Ue=ie[Ge];for(Ke>0&&(Ue+=le(_,V,Ke),V+=Ke),!K&&ve<it&&(q=$e(q,it+100),ve=q.length);Y<it;)q[Y]=q[Y-Ue],++Y}}}return K?[q,V+7>>>3]:[q.slice(0,Y),V+7>>>3]}function fn(_,K){var V=_.slice(_.l||0),U=Ht(V,K);return _.l+=U[1],U[0]}function Si(_,K){if(_)typeof console<"u"&&console.error(K);else throw new Error(K)}function xi(_,K){var V=_;js(V,0);var U=[],q=[],Y={FileIndex:U,FullPaths:q};D(Y,{root:K.root});for(var ve=V.length-4;(V[ve]!=80||V[ve+1]!=75||V[ve+2]!=5||V[ve+3]!=6)&&ve>=0;)--ve;V.l=ve+4,V.l+=4;var Ae=V.read_shift(2);V.l+=6;var me=V.read_shift(4);for(V.l=me,ve=0;ve<Ae;++ve){V.l+=20;var ye=V.read_shift(4),xe=V.read_shift(4),Ge=V.read_shift(2),Je=V.read_shift(2),it=V.read_shift(2);V.l+=8;var Ke=V.read_shift(4),Ue=a(V.slice(V.l+Ge,V.l+Ge+Je));V.l+=Ge+Je+it;var Dt=V.l;V.l=Ke+4,Qs(V,ye,xe,Y,Ue),V.l=Dt}return Y}function Qs(_,K,V,U,q){_.l+=2;var Y=_.read_shift(2),ve=_.read_shift(2),Ae=o(_);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var me=_.read_shift(4),ye=_.read_shift(4),xe=_.read_shift(4),Ge=_.read_shift(2),Je=_.read_shift(2),it="",Ke=0;Ke<Ge;++Ke)it+=String.fromCharCode(_[_.l++]);if(Je){var Ue=a(_.slice(_.l,_.l+Je));(Ue[21589]||{}).mt&&(Ae=Ue[21589].mt),((q||{})[21589]||{}).mt&&(Ae=q[21589].mt)}_.l+=Je;var Dt=_.slice(_.l,_.l+ye);switch(ve){case 8:Dt=L(_,xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ve)}var pr=!1;Y&8&&(me=_.read_shift(4),me==134695760&&(me=_.read_shift(4),pr=!0),ye=_.read_shift(4),xe=_.read_shift(4)),ye!=K&&Si(pr,"Bad compressed size: "+K+" != "+ye),xe!=V&&Si(pr,"Bad uncompressed size: "+V+" != "+xe),Do(U,it,Dt,{unsafe:!0,mt:Ae})}function Ds(_,K){var V=K||{},U=[],q=[],Y=Te(1),ve=V.compression?8:0,Ae=0,me=0,ye=0,xe=0,Ge=0,Je=_.FullPaths[0],it=Je,Ke=_.FileIndex[0],Ue=[],Dt=0;for(me=1;me<_.FullPaths.length;++me)if(it=_.FullPaths[me].slice(Je.length),Ke=_.FileIndex[me],!(!Ke.size||!Ke.content||it=="Sh33tJ5")){var pr=xe,mr=Te(it.length);for(ye=0;ye<it.length;++ye)mr.write_shift(1,it.charCodeAt(ye)&127);mr=mr.slice(0,mr.l),Ue[Ge]=khe.buf(Ke.content,0);var Wr=Ke.content;ve==8&&(Wr=H(Wr)),Y=Te(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,Ae),Y.write_shift(2,ve),Ke.mt?i(Y,Ke.mt):Y.write_shift(4,0),Y.write_shift(-4,Ue[Ge]),Y.write_shift(4,Wr.length),Y.write_shift(4,Ke.content.length),Y.write_shift(2,mr.length),Y.write_shift(2,0),xe+=Y.length,U.push(Y),xe+=mr.length,U.push(mr),xe+=Wr.length,U.push(Wr),Y=Te(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,Ae),Y.write_shift(2,ve),Y.write_shift(4,0),Y.write_shift(-4,Ue[Ge]),Y.write_shift(4,Wr.length),Y.write_shift(4,Ke.content.length),Y.write_shift(2,mr.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,pr),Dt+=Y.l,q.push(Y),Dt+=mr.length,q.push(mr),++Ge}return Y=Te(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Ge),Y.write_shift(2,Ge),Y.write_shift(4,Dt),Y.write_shift(4,xe),Y.write_shift(2,0),yn([yn(U),yn(q),Y])}var Ao={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ng(_,K){if(_.ctype)return _.ctype;var V=_.name||"",U=V.match(/\.([^\.]+)$/);return U&&Ao[U[1]]||K&&(U=(V=K).match(/[\.\\]([^\.\\])+$/),U&&Ao[U[1]])?Ao[U[1]]:"application/octet-stream"}function sg(_){for(var K=ap(_),V=[],U=0;U<K.length;U+=76)V.push(K.slice(U,U+76));return V.join(`\r
`)+`\r
`}function ig(_){var K=_.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ye){var xe=ye.charCodeAt(0).toString(16).toUpperCase();return"="+(xe.length==1?"0"+xe:xe)});K=K.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),K.charAt(0)==`
`&&(K="=0D"+K.slice(1)),K=K.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var V=[],U=K.split(`\r
`),q=0;q<U.length;++q){var Y=U[q];if(Y.length==0){V.push("");continue}for(var ve=0;ve<Y.length;){var Ae=76,me=Y.slice(ve,ve+Ae);me.charAt(Ae-1)=="="?Ae--:me.charAt(Ae-2)=="="?Ae-=2:me.charAt(Ae-3)=="="&&(Ae-=3),me=Y.slice(ve,ve+Ae),ve+=Ae,ve<Y.length&&(me+="="),V.push(me)}}return V.join(`\r
`)}function og(_){for(var K=[],V=0;V<_.length;++V){for(var U=_[V];V<=_.length&&U.charAt(U.length-1)=="=";)U=U.slice(0,U.length-1)+_[++V];K.push(U)}for(var q=0;q<K.length;++q)K[q]=K[q].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return ji(K.join(`\r
`))}function wh(_,K,V){for(var U="",q="",Y="",ve,Ae=0;Ae<10;++Ae){var me=K[Ae];if(!me||me.match(/^\s*$/))break;var ye=me.match(/^(.*?):\s*([^\s].*)$/);if(ye)switch(ye[1].toLowerCase()){case"content-location":U=ye[2].trim();break;case"content-type":Y=ye[2].trim();break;case"content-transfer-encoding":q=ye[2].trim();break}}switch(++Ae,q.toLowerCase()){case"base64":ve=ji(ua(K.slice(Ae).join("")));break;case"quoted-printable":ve=og(K.slice(Ae));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+q)}var xe=Do(_,U.slice(V.length),ve,{unsafe:!0});Y&&(xe.ctype=Y)}function ag(_,K){if(ne(_.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var V=K&&K.root||"",U=(Qt&&Buffer.isBuffer(_)?_.toString("binary"):ne(_)).split(`\r
`),q=0,Y="";for(q=0;q<U.length;++q)if(Y=U[q],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),V||(V=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,V.length)!=V))for(;V.length>0&&(V=V.slice(0,V.length-1),V=V.slice(0,V.lastIndexOf("/")+1),Y.slice(0,V.length)!=V););var ve=(U[1]||"").match(/boundary="(.*?)"/);if(!ve)throw new Error("MAD cannot find boundary");var Ae="--"+(ve[1]||""),me=[],ye=[],xe={FileIndex:me,FullPaths:ye};D(xe);var Ge,Je=0;for(q=0;q<U.length;++q){var it=U[q];it!==Ae&&it!==Ae+"--"||(Je++&&wh(xe,U.slice(Ge,q),V),Ge=q)}return xe}function Gl(_,K){var V=K||{},U=V.boundary||"SheetJS";U="------="+U;for(var q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+U.slice(2)+'"',"","",""],Y=_.FullPaths[0],ve=Y,Ae=_.FileIndex[0],me=1;me<_.FullPaths.length;++me)if(ve=_.FullPaths[me].slice(Y.length),Ae=_.FileIndex[me],!(!Ae.size||!Ae.content||ve=="Sh33tJ5")){ve=ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Dt){return"_x"+Dt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Dt){return"_u"+Dt.charCodeAt(0).toString(16)+"_"});for(var ye=Ae.content,xe=Qt&&Buffer.isBuffer(ye)?ye.toString("binary"):ne(ye),Ge=0,Je=Math.min(1024,xe.length),it=0,Ke=0;Ke<=Je;++Ke)(it=xe.charCodeAt(Ke))>=32&&it<128&&++Ge;var Ue=Ge>=Je*4/5;q.push(U),q.push("Content-Location: "+(V.root||"file:///C:/SheetJS/")+ve),q.push("Content-Transfer-Encoding: "+(Ue?"quoted-printable":"base64")),q.push("Content-Type: "+ng(Ae,ve)),q.push(""),q.push(Ue?ig(xe):sg(xe))}return q.push(U+`--\r
`),q.join(`\r
`)}function Sh(_){var K={};return D(K,_),K}function Do(_,K,V,U){var q=U&&U.unsafe;q||D(_);var Y=!q&&ur.find(_,K);if(!Y){var ve=_.FullPaths[0];K.slice(0,ve.length)==ve?ve=K:(ve.slice(-1)!="/"&&(ve+="/"),ve=(ve+K).replace("//","/")),Y={name:s(K),type:2},_.FileIndex.push(Y),_.FullPaths.push(ve),q||ur.utils.cfb_gc(_)}return Y.content=V,Y.size=V?V.length:0,U&&(U.CLSID&&(Y.clsid=U.CLSID),U.mt&&(Y.mt=U.mt),U.ct&&(Y.ct=U.ct)),Y}function PC(_,K){D(_);var V=ur.find(_,K);if(V){for(var U=0;U<_.FileIndex.length;++U)if(_.FileIndex[U]==V)return _.FileIndex.splice(U,1),_.FullPaths.splice(U,1),!0}return!1}function Hl(_,K,V){D(_);var U=ur.find(_,K);if(U){for(var q=0;q<_.FileIndex.length;++q)if(_.FileIndex[q]==U)return _.FileIndex[q].name=s(V),_.FullPaths[q]=V,!0}return!1}function Cu(_){O(_,!0)}return t.find=W,t.read=M,t.parse=h,t.write=de,t.writeFile=Z,t.utils={cfb_new:Sh,cfb_add:Do,cfb_del:PC,cfb_mov:Hl,cfb_gc:Cu,ReadShift:Lf,CheckField:Yj,prep_blob:js,bconcat:yn,use_zlib:I,_deflateRaw:Oe,_inflateRaw:fn,consts:se},t}();function _he(e){return typeof e=="string"?rC(e):Array.isArray(e)?che(e):e}function Hp(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=rC(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?cp(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var s=new Blob([_he(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=Gp(t)),a.write(t),a.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function En(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function RM(e,t){for(var r=[],n=En(e),s=0;s!==n.length;++s)r[e[n[s]][t]]==null&&(r[e[n[s]][t]]=n[s]);return r}function iR(e){for(var t=[],r=En(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function iC(e){for(var t=[],r=En(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function jhe(e){for(var t=[],r=En(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var n0=new Date(1899,11,30,0,0,0);function Rs(e,t){var r=e.getTime(),n=n0.getTime()+(e.getTimezoneOffset()-n0.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Nj=new Date,Bhe=n0.getTime()+(Nj.getTimezoneOffset()-n0.getTimezoneOffset())*6e4,TM=Nj.getTimezoneOffset();function Ij(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Bhe),t.getTimezoneOffset()!==TM&&t.setTime(t.getTime()+(t.getTimezoneOffset()-TM)*6e4),t}var FM=new Date("2017-02-19T19:06:09.000Z"),Oj=isNaN(FM.getFullYear())?new Date("2/19/17"):FM,Ghe=Oj.getFullYear()==2017;function os(e,t){var r=new Date(e);if(Ghe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Oj.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function oC(e,t){if(Qt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function Ts(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ts(e[r]));return t}function jr(e,t){for(var r="";r.length<t;)r+=e;return r}function ta(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Hhe=["january","february","march","april","may","june","july","august","september","october","november","december"];function lp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Hhe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Ot(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Qt?n=pa(r):n=uhe(r),ur.utils.cfb_add(e,t,n)}ur.utils.cfb_add(e,t,r)}else e.file(t,r)}function oR(){return ur.utils.cfb_new()}var Zr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Vhe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},aR=iR(Vhe),lR=/[&<>'"]/g,Whe=/[\u0000-\u0008\u000b-\u001f]/g;function lr(e){var t=e+"";return t.replace(lR,function(r){return aR[r]}).replace(Whe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function PM(e){return lr(e).replace(/ /g,"_x0020_")}var Lj=/[\u0000-\u001f]/g;function $he(e){var t=e+"";return t.replace(lR,function(r){return aR[r]}).replace(/\n/g,"<br/>").replace(Lj,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Uhe(e){var t=e+"";return t.replace(lR,function(r){return aR[r]}).replace(Lj,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function zhe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Khe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function oS(e){for(var t="",r=0,n=0,s=0,i=0,o=0,a=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(r++),a=((n&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(a&1023))}return t}function AM(e){var t=Hc(2*e.length),r,n,s=1,i=0,o=0,a;for(n=0;n<e.length;n+=s)s=1,(a=e.charCodeAt(n))<128?r=a:a<224?(r=(a&31)*64+(e.charCodeAt(n+1)&63),s=2):a<240?(r=(a&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(a&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function DM(e){return pa(e,"binary").toString("utf8")}var jm="foo bar baz",Of=Qt&&(DM(jm)==oS(jm)&&DM||AM(jm)==oS(jm)&&AM)||oS,cp=Qt?function(e){return pa(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},qhe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}}(),kj=/(^\s|\s$|\n)/;function wn(e,t){return"<"+e+(t.match(kj)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function up(e){return En(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Xe(e,t,r){return"<"+e+(r!=null?up(r):"")+(t!=null?(t.match(kj)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function i1(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Yhe(e,t){switch(typeof e){case"string":var r=Xe("vt:lpwstr",lr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Xe((e|0)==e?"vt:i4":"vt:r8",lr(String(e)));case"boolean":return Xe("vt:bool",e?"true":"false")}if(e instanceof Date)return Xe("vt:filetime",i1(e));throw new Error("Unable to serialize "+e)}var un={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},hh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Gs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Xhe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function Qhe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=n?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var a=0;a<=5;++a,i/=256)e[r+a]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|n}var MM=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,i=e[0][n].length;s<i;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},NM=Qt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:pa(t)})):MM(e)}:MM,IM=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(xf(e,s)));return n.join("").replace(If,"")},cR=Qt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(If,""):IM(e,t,r)}:IM,OM=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},_j=Qt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):OM(e,t,r)}:OM,LM=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(ed(e,s)));return n.join("")},Vp=Qt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):LM(t,r,n)}:LM,jj=function(e,t){var r=Hs(e,t);return r>0?Vp(e,t+4,t+4+r-1):""},Bj=jj,Gj=function(e,t){var r=Hs(e,t);return r>0?Vp(e,t+4,t+4+r-1):""},Hj=Gj,Vj=function(e,t){var r=2*Hs(e,t);return r>0?Vp(e,t+4,t+4+r-1):""},Wj=Vj,$j=function(t,r){var n=Hs(t,r);return n>0?cR(t,r+4,r+4+n):""},Uj=$j,zj=function(e,t){var r=Hs(e,t);return r>0?Vp(e,t+4,t+4+r):""},Kj=zj,qj=function(e,t){return Xhe(e,t)},s0=qj,uR=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Qt&&(Bj=function(t,r){if(!Buffer.isBuffer(t))return jj(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Hj=function(t,r){if(!Buffer.isBuffer(t))return Gj(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Wj=function(t,r){if(!Buffer.isBuffer(t))return Vj(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Uj=function(t,r){if(!Buffer.isBuffer(t))return $j(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Kj=function(t,r){if(!Buffer.isBuffer(t))return zj(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},s0=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):qj(t,r)},uR=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var ed=function(e,t){return e[t]},xf=function(e,t){return e[t+1]*256+e[t]},Jhe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Hs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},hc=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Zhe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Lf(e,t){var r="",n,s,i=[],o,a,l,u;switch(t){case"dbcs":if(u=this.l,Qt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(xf(this,u)),u+=2;e*=2;break;case"utf8":r=Vp(this,this.l,this.l+e);break;case"utf16le":e*=2,r=cR(this,this.l,this.l+e);break;case"wstr":return Lf.call(this,e,"dbcs");case"lpstr-ansi":r=Bj(this,this.l),e=4+Hs(this,this.l);break;case"lpstr-cp":r=Hj(this,this.l),e=4+Hs(this,this.l);break;case"lpwstr":r=Wj(this,this.l),e=4+2*Hs(this,this.l);break;case"lpp4":e=4+Hs(this,this.l),r=Uj(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Hs(this,this.l),r=Kj(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=ed(this,this.l+e++))!==0;)i.push(Lm(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=xf(this,this.l+e))!==0;)i.push(Lm(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=ed(this,u),this.l=u+1,a=Lf.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+a;i.push(Lm(xf(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=ed(this,u),this.l=u+1,a=Lf.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+a;i.push(Lm(ed(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=ed(this,this.l),this.l++,n;case 2:return n=(t==="i"?Jhe:xf)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?hc:Zhe)(this,this.l),this.l+=4,n):(s=Hs(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=s0(this,this.l):s=s0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=_j(this,this.l,e);break}}return this.l+=e,r}var efe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},tfe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},rfe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function nfe(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)rfe(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,efe(this,t,this.l);break;case 8:if(n=8,r==="f"){Qhe(this,t,this.l);break}case 16:break;case-4:n=4,tfe(this,t,this.l);break}return this.l+=n,this}function Yj(e,t){var r=_j(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function js(e,t){e.l=t,e.read_shift=Lf,e.chk=Yj,e.write_shift=nfe}function yo(e,t){e.l+=t}function Te(e){var t=Hc(e);return js(t,0),t}function bs(){var e=[],t=Qt?256:2048,r=function(u){var h=Te(u);return js(h,0),h},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(s(),n=r(Math.max(u+1,t)))},o=function(){return s(),yn(e)},a=function(u){s(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:a,end:o,_bufs:e}}function Ie(e,t,r,n){var s=+t,i;if(!isNaN(s)){n||(n=X0e[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var a=0;a!=4;++a)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&uR(r)&&e.push(r)}}function kf(e,t,r){var n=Ts(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function kM(e,t,r){var n=Ts(e);return n.s=kf(n.s,t.s,r),n.e=kf(n.e,t.s,r),n}function _f(e,t){if(e.cRel&&e.c<0)for(e=Ts(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ts(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=cr(e);return!e.cRel&&e.cRel!=null&&(r=ofe(r)),!e.rRel&&e.rRel!=null&&(r=sfe(r)),r}function aS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ln(e.s.c)+":"+(e.e.cRel?"":"$")+Ln(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+xn(e.s.r)+":"+(e.e.rRel?"":"$")+xn(e.e.r):_f(e.s,t.biff)+":"+_f(e.e,t.biff)}function dR(e){return parseInt(ife(e),10)-1}function xn(e){return""+(e+1)}function sfe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ife(e){return e.replace(/\$(\d+)$/,"$1")}function hR(e){for(var t=afe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ln(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function ofe(e){return e.replace(/^([A-Z])/,"$$$1")}function afe(e){return e.replace(/^\$([A-Z])/,"$1")}function lfe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function dn(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function cr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Xs(e){var t=e.indexOf(":");return t==-1?{s:dn(e),e:dn(e)}:{s:dn(e.slice(0,t)),e:dn(e.slice(t+1))}}function Qr(e,t){return typeof t>"u"||typeof t=="number"?Qr(e.s,e.e):(typeof e!="string"&&(e=cr(e)),typeof t!="string"&&(t=cr(t)),e==t?e:e+":"+t)}function br(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=e.length;for(r=0;n<i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function _M(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=El(e.z,r?Rs(t):t)}catch{}try{return e.w=El((e.XF||{}).numFmtId||(r?14:0),r?Rs(t):t)}catch{return""+t}}function da(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Wp[e.v]||e.v:t==null?_M(e,e.v):_M(e,t))}function ou(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Xj(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,i=e||(s?[]:{}),o=0,a=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?dn(n.origin):n.origin;o=l.r,a=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=br(i["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(u.e.r=o=h.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[p].length;++g)if(!(typeof t[p][g]>"u")){var C={v:t[p][g]},w=o+p,y=a+g;if(u.s.r>w&&(u.s.r=w),u.s.c>y&&(u.s.c=y),u.e.r<w&&(u.e.r=w),u.e.c<y&&(u.e.c=y),t[p][g]&&typeof t[p][g]=="object"&&!Array.isArray(t[p][g])&&!(t[p][g]instanceof Date))C=t[p][g];else if(Array.isArray(C.v)&&(C.f=t[p][g][1],C.v=C.v[0]),C.v===null)if(C.f)C.t="n";else if(n.nullError)C.t="e",C.v=0;else if(n.sheetStubs)C.t="z";else continue;else typeof C.v=="number"?C.t="n":typeof C.v=="boolean"?C.t="b":C.v instanceof Date?(C.z=n.dateNF||Vr[14],n.cellDates?(C.t="d",C.w=El(C.z,Rs(C.v))):(C.t="n",C.v=Rs(C.v),C.w=El(C.z,C.v))):C.t="s";if(s)i[w]||(i[w]=[]),i[w][y]&&i[w][y].z&&(C.z=i[w][y].z),i[w][y]=C;else{var S=cr({c:y,r:w});i[S]&&i[S].z&&(C.z=i[S].z),i[S]=C}}}return u.s.c<1e7&&(i["!ref"]=Qr(u)),i}function fh(e,t){return Xj(null,e,t)}function cfe(e){return e.read_shift(4,"i")}function Wi(e,t){return t||(t=Te(4)),t.write_shift(4,e),t}function kn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function hn(e,t){var r=!1;return t==null&&(r=!0,t=Te(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function ufe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function dfe(e,t){return t||(t=Te(4)),t.write_shift(2,0),t.write_shift(2,0),t}function fR(e,t){var r=e.l,n=e.read_shift(1),s=kn(e),i=[],o={t:s,h:s};if(n&1){for(var a=e.read_shift(4),l=0;l!=a;++l)i.push(ufe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function hfe(e,t){var r=!1;return t==null&&(r=!0,t=Te(15+4*e.t.length)),t.write_shift(1,0),hn(e.t,t),r?t.slice(0,t.l):t}var ffe=fR;function pfe(e,t){var r=!1;return t==null&&(r=!0,t=Te(23+4*e.t.length)),t.write_shift(1,1),hn(e.t,t),t.write_shift(4,1),dfe({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Ci(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function au(e,t){return t==null&&(t=Te(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function lu(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function cu(e,t){return t==null&&(t=Te(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var gfe=kn,Qj=hn;function pR(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function i0(e,t){var r=!1;return t==null&&(r=!0,t=Te(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var mfe=kn,o1=pR,gR=i0;function Jj(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?s0([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):hc(t,0)>>2;return r?s/100:s}function Zj(e,t){t==null&&(t=Te(4));var r=0,n=0,s=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:s==(s|0)&&s>=-(1<<29)&&s<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function eB(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function vfe(e,t){return t||(t=Te(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var uu=eB,ph=vfe;function gh(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Vc(e,t){return(t||Te(8)).write_shift(8,e,"f")}function Cfe(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var u=Ffe[s];u&&(t.rgb=qM(u));break;case 2:t.rgb=qM([o,a,l]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function o0(e,t){if(t||(t=Te(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function yfe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function wfe(e,t){t||(t=Te(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var tB=2,_s=3,Bm=11,a0=19,Gm=64,Sfe=65,xfe=71,Efe=4108,bfe=4126,Cn=80,jM={1:{n:"CodePage",t:tB},2:{n:"Category",t:Cn},3:{n:"PresentationFormat",t:Cn},4:{n:"ByteCount",t:_s},5:{n:"LineCount",t:_s},6:{n:"ParagraphCount",t:_s},7:{n:"SlideCount",t:_s},8:{n:"NoteCount",t:_s},9:{n:"HiddenCount",t:_s},10:{n:"MultimediaClipCount",t:_s},11:{n:"ScaleCrop",t:Bm},12:{n:"HeadingPairs",t:Efe},13:{n:"TitlesOfParts",t:bfe},14:{n:"Manager",t:Cn},15:{n:"Company",t:Cn},16:{n:"LinksUpToDate",t:Bm},17:{n:"CharacterCount",t:_s},19:{n:"SharedDoc",t:Bm},22:{n:"HyperlinksChanged",t:Bm},23:{n:"AppVersion",t:_s,p:"version"},24:{n:"DigSig",t:Sfe},26:{n:"ContentType",t:Cn},27:{n:"ContentStatus",t:Cn},28:{n:"Language",t:Cn},29:{n:"Version",t:Cn},255:{},2147483648:{n:"Locale",t:a0},2147483651:{n:"Behavior",t:a0},1919054434:{}},BM={1:{n:"CodePage",t:tB},2:{n:"Title",t:Cn},3:{n:"Subject",t:Cn},4:{n:"Author",t:Cn},5:{n:"Keywords",t:Cn},6:{n:"Comments",t:Cn},7:{n:"Template",t:Cn},8:{n:"LastAuthor",t:Cn},9:{n:"RevNumber",t:Cn},10:{n:"EditTime",t:Gm},11:{n:"LastPrinted",t:Gm},12:{n:"CreatedDate",t:Gm},13:{n:"ModifiedDate",t:Gm},14:{n:"PageCount",t:_s},15:{n:"WordCount",t:_s},16:{n:"CharCount",t:_s},17:{n:"Thumbnail",t:xfe},18:{n:"Application",t:Cn},19:{n:"DocSecurity",t:_s},255:{},2147483648:{n:"Locale",t:a0},2147483651:{n:"Behavior",t:a0},1919054434:{}};function Rfe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Tfe=Rfe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ffe=Ts(Tfe),Wp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Pfe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Hm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function rB(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function nB(e,t){var r=jhe(Pfe),n=[],s;n[n.length]=Zr,n[n.length]=Xe("Types",null,{xmlns:un.CT,"xmlns:xsd":un.xsd,"xmlns:xsi":un.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Xe("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(s=e[l][0],n[n.length]=Xe("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Hm[l][t.bookType]||Hm[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(u){n[n.length]=Xe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Hm[l][t.bookType]||Hm[l].xlsx})})},a=function(l){(e[l]||[]).forEach(function(u){n[n.length]=Xe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return i("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Kt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function sB(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function wd(e){var t=[Zr,Xe("Relationships",null,{xmlns:un.RELS})];return En(e["!id"]).forEach(function(r){t[t.length]=Xe("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ar(e,t,r,n,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[Kt.HLINK,Kt.XPATH,Kt.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function Afe(e){var t=[Zr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function GM(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Dfe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Mfe(e){var t=[Zr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(GM(e[r][0],e[r][1])),t.push(Dfe("",e[r][0]));return t.push(GM("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function iB(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Zv.version+"</meta:generator></office:meta></office:document-meta>"}var Dc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function lS(e,t,r,n,s){s[e]!=null||t==null||t===""||(s[e]=t,t=lr(t),n[n.length]=r?Xe(e,t,r):wn(e,t))}function oB(e,t){var r=t||{},n=[Zr,Xe("cp:coreProperties",null,{"xmlns:cp":un.CORE_PROPS,"xmlns:dc":un.dc,"xmlns:dcterms":un.dcterms,"xmlns:dcmitype":un.dcmitype,"xmlns:xsi":un.xsi})],s={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&lS("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:i1(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),e.ModifiedDate!=null&&lS("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:i1(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=Dc.length;++i){var o=Dc[i],a=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&lS(o[0],a,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Sd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],aB=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function lB(e){var t=[],r=Xe;return e||(e={}),e.Application="SheetJS",t[t.length]=Zr,t[t.length]=Xe("Properties",null,{xmlns:un.EXT_PROPS,"xmlns:vt":un.vt}),Sd.forEach(function(n){if(e[n[1]]!==void 0){var s;switch(n[2]){case"string":s=lr(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+lr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function cB(e){var t=[Zr,Xe("Properties",null,{xmlns:un.CUST_PROPS,"xmlns:vt":un.vt})];if(!e)return t.join("");var r=1;return En(e).forEach(function(s){++r,t[t.length]=Xe("property",Yhe(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:lr(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var HM={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Nfe(e,t){var r=[];return En(HM).map(function(n){for(var s=0;s<Dc.length;++s)if(Dc[s][1]==n)return Dc[s];for(s=0;s<Sd.length;++s)if(Sd[s][1]==n)return Sd[s];throw n}).forEach(function(n){if(e[n[1]]!=null){var s=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(wn(HM[n[1]]||n[1],s))}}),Xe("DocumentProperties",r.join(""),{xmlns:Gs.o})}function Ife(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&En(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Dc.length;++o)if(i==Dc[o][1])return;for(o=0;o<Sd.length;++o)if(i==Sd[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var a=e[i],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),s.push(Xe(PM(i),a,{"dt:dt":l}))}}),t&&En(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),s.push(Xe(PM(i),o,{"dt:dt":a}))}}),"<"+n+' xmlns="'+Gs.o+'">'+s.join("")+"</"+n+">"}function Ofe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var o=Te(8);return o.write_shift(4,n),o.write_shift(4,s),o}function VM(e,t){var r=Te(4),n=Te(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Te(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Ofe(t);break;case 31:case 80:for(n=Te(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return yn([r,n])}var uB=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Lfe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function WM(e,t,r){var n=Te(8),s=[],i=[],o=8,a=0,l=Te(8),u=Te(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),i.push(l),s.push(u),o+=8+l.length,!t){u=Te(8),u.write_shift(4,0),s.unshift(u);var h=[Te(4)];for(h[0].write_shift(4,e.length),a=0;a<e.length;++a){var p=e[a][0];for(l=Te(8+2*(p.length+1)+(p.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,p.length+1),l.write_shift(0,p,"dbcs");l.l!=l.length;)l.write_shift(1,0);h.push(l)}l=yn(h),i.unshift(l),o+=8+l.length}for(a=0;a<e.length;++a)if(!(t&&!t[e[a][0]])&&!(uB.indexOf(e[a][0])>-1||aB.indexOf(e[a][0])>-1)&&e[a][1]!=null){var g=e[a][1],C=0;if(t){C=+t[e[a][0]];var w=r[C];if(w.p=="version"&&typeof g=="string"){var y=g.split(".");g=(+y[0]<<16)+(+y[1]||0)}l=VM(w.t,g)}else{var S=Lfe(g);S==-1&&(S=31,g=String(g)),l=VM(S,g)}i.push(l),u=Te(8),u.write_shift(4,t?C:2+a),s.push(u),o+=8+l.length}var E=8*(i.length+1);for(a=0;a<i.length;++a)s[a].write_shift(4,E),E+=i[a].length;return n.write_shift(4,o),n.write_shift(4,i.length),yn([n].concat(s).concat(i))}function $M(e,t,r,n,s,i){var o=Te(s?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,ur.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var l=WM(e,r,n);if(a.push(l),s){var u=WM(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+l.length),a.push(u)}return yn(a)}function kfe(e,t){t||(t=Te(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function _fe(e,t){return e.read_shift(t)===1}function Kn(e,t){return t||(t=Te(2)),t.write_shift(2,+!!e),t}function dB(e){return e.read_shift(2,"u")}function di(e,t){return t||(t=Te(2)),t.write_shift(2,e),t}function hB(e,t,r){return r||(r=Te(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function fB(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?e.read_shift(n,s):"";return o}function jfe(e){var t=e.t||"",r=Te(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Te(2*t.length);n.write_shift(2*t.length,t,"utf16le");var s=[r,n];return yn(s)}function Bfe(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Gfe(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Bfe(e,n,r)}function Hfe(e,t,r){if(r.biff>5)return Gfe(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function pB(e,t,r){return r||(r=Te(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function UM(e,t){t||(t=Te(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Vfe(e){var t=Te(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),UM(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var a=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(a.length+1)),r=0;r<a.length;++r)t.write_shift(2,a.charCodeAt(r));t.write_shift(2,0),i&8&&UM(s>-1?n.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Wc(e,t,r,n){return n||(n=Te(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Wfe(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[s,i,o]}function $fe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function gB(e,t){return t||(t=Te(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function mR(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Te(s);return i.write_shift(2,n),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Ufe(e,t){var r=!t||t.biff==8,n=Te(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function zfe(e,t){var r=!t||t.biff>=8?2:1,n=Te(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function Kfe(e,t){var r=Te(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],s=0;s<e.length;++s)n[s]=jfe(e[s]);var i=yn([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function qfe(){var e=Te(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Yfe(e){var t=Te(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Xfe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,s=n?15+r.length:16+2*r.length,i=Te(s);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Qfe(e,t,r,n){var s=Te(10);return Wc(e,t,n,s),s.write_shift(4,r),s}function Jfe(e,t,r,n,s){var i=!s||s.biff==8,o=Te(8+ +i+(1+i)*r.length);return Wc(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function Zfe(e,t,r,n){var s=r&&r.biff==5;n||(n=Te(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function epe(e,t){var r=t.biff==8||!t.biff?4:2,n=Te(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function zM(e,t,r,n){var s=r&&r.biff==5;n||(n=Te(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function tpe(e){var t=Te(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function rpe(e,t,r,n,s,i){var o=Te(8);return Wc(e,t,n,o),hB(r,i,o),o}function npe(e,t,r,n){var s=Te(14);return Wc(e,t,n,s),Vc(r,s),s}function spe(e,t,r){if(r.biff<8)return ipe(e,t,r);for(var n=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Wfe(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function ipe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=fB(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function ope(e){var t=Te(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)gB(e[r],t);return t}function ape(e){var t=Te(24),r=dn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return yn([t,Vfe(e[1])])}function lpe(e){var t=e[1].Tooltip,r=Te(10+2*(t.length+1));r.write_shift(2,2048);var n=dn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function cpe(e){return e||(e=Te(4)),e.write_shift(2,1),e.write_shift(2,1),e}function upe(e,t,r){if(!r.cellStyles)return yo(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),a=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s,e:i,w:o,ixfe:a,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function dpe(e,t){var r=Te(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function hpe(e){for(var t=Te(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function fpe(e,t,r){var n=Te(15);return Up(n,e,t),n.write_shift(8,r,"f"),n}function ppe(e,t,r){var n=Te(9);return Up(n,e,t),n.write_shift(2,r),n}var gpe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=iR({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(a,l){var u=[],h=Hc(1);switch(l.type){case"base64":h=ji(ua(a));break;case"binary":h=ji(a);break;case"buffer":case"array":h=a;break}js(h,0);var p=h.read_shift(1),g=!!(p&136),C=!1,w=!1;switch(p){case 2:break;case 3:break;case 48:C=!0,g=!0;break;case 49:C=!0,g=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var y=0,S=521;p==2&&(y=h.read_shift(2)),h.l+=3,p!=2&&(y=h.read_shift(4)),y>1048576&&(y=1e6),p!=2&&(S=h.read_shift(2));var E=h.read_shift(2),b=l.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(b=e[h[h.l]]),h.l+=1,h.l+=2),w&&(h.l+=36);for(var T=[],R={},P=Math.min(h.length,p==2?521:S-10-(C?264:0)),M=w?32:11;h.l<P&&h[h.l]!=13;)switch(R={},R.name=dc.utils.decode(b,h.slice(h.l,h.l+M)).replace(/[\u0000\r\n].*$/g,""),h.l+=M,R.type=String.fromCharCode(h.read_shift(1)),p!=2&&!w&&(R.offset=h.read_shift(4)),R.len=h.read_shift(1),p==2&&(R.offset=h.read_shift(2)),R.dec=h.read_shift(1),R.name.length&&T.push(R),p!=2&&(h.l+=w?13:14),R.type){case"B":(!C||R.len!=8)&&l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(h[h.l]!==13&&(h.l=S-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=S;var D=0,N=0;for(u[0]=[],N=0;N!=T.length;++N)u[0][N]=T[N].name;for(;y-- >0;){if(h[h.l]===42){h.l+=E;continue}for(++h.l,u[++D]=[],N=0,N=0;N!=T.length;++N){var O=h.slice(h.l,h.l+T[N].len);h.l+=T[N].len,js(O,0);var j=dc.utils.decode(b,O);switch(T[N].type){case"C":j.trim().length&&(u[D][N]=j.replace(/\s+$/,""));break;case"D":j.length===8?u[D][N]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):u[D][N]=j;break;case"F":u[D][N]=parseFloat(j.trim());break;case"+":case"I":u[D][N]=w?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":u[D][N]=!0;break;case"N":case"F":u[D][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[D][N]="##MEMO##"+(w?parseInt(j.trim(),10):O.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(u[D][N]=+j||0);break;case"@":u[D][N]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":u[D][N]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":u[D][N]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[D][N]=-O.read_shift(-8,"f");break;case"B":if(C&&T[N].len==8){u[D][N]=O.read_shift(8,"f");break}case"G":case"P":O.l+=T[N].len;break;case"0":if(T[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[N].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=T,u}function n(a,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var h=fh(r(a,u),u);return h["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,h}function s(a,l){try{return ou(n(a,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var u=l||{};if(+u.codepage>=0&&op(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=bs(),p=h0(a,{header:1,raw:!0,cellDates:!0}),g=p[0],C=p.slice(1),w=a["!cols"]||[],y=0,S=0,E=0,b=1;for(y=0;y<g.length;++y){if(((w[y]||{}).DBF||{}).name){g[y]=w[y].DBF.name,++E;continue}if(g[y]!=null){if(++E,typeof g[y]=="number"&&(g[y]=g[y].toString(10)),typeof g[y]!="string")throw new Error("DBF Invalid column name "+g[y]+" |"+typeof g[y]+"|");if(g.indexOf(g[y])!==y){for(S=0;S<1024;++S)if(g.indexOf(g[y]+"_"+S)==-1){g[y]+="_"+S;break}}}}var T=br(a["!ref"]),R=[],P=[],M=[];for(y=0;y<=T.e.c-T.s.c;++y){var D="",N="",O=0,j=[];for(S=0;S<C.length;++S)C[S][y]!=null&&j.push(C[S][y]);if(j.length==0||g[y]==null){R[y]="?";continue}for(S=0;S<j.length;++S){switch(typeof j[S]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=j[S]instanceof Date?"D":"C";break;default:N="C"}O=Math.max(O,String(j[S]).length),D=D&&D!=N?"C":N}O>250&&(O=250),N=((w[y]||{}).DBF||{}).type,N=="C"&&w[y].DBF.len>O&&(O=w[y].DBF.len),D=="B"&&N=="N"&&(D="N",M[y]=w[y].DBF.dec,O=w[y].DBF.len),P[y]=D=="C"||N=="N"?O:i[D]||0,b+=P[y],R[y]=D}var W=h.next(32);for(W.write_shift(4,318902576),W.write_shift(4,C.length),W.write_shift(2,296+32*E),W.write_shift(2,b),y=0;y<4;++y)W.write_shift(4,0);for(W.write_shift(4,0|(+t[vj]||3)<<8),y=0,S=0;y<g.length;++y)if(g[y]!=null){var B=h.next(32),oe=(g[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,oe,"sbcs"),B.write_shift(1,R[y]=="?"?"C":R[y],"sbcs"),B.write_shift(4,S),B.write_shift(1,P[y]||i[R[y]]||0),B.write_shift(1,M[y]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),S+=P[y]||i[R[y]]||0}var pe=h.next(264);for(pe.write_shift(4,13),y=0;y<65;++y)pe.write_shift(4,0);for(y=0;y<C.length;++y){var Se=h.next(b);for(Se.write_shift(1,0),S=0;S<g.length;++S)if(g[S]!=null)switch(R[S]){case"L":Se.write_shift(1,C[y][S]==null?63:C[y][S]?84:70);break;case"B":Se.write_shift(8,C[y][S]||0,"f");break;case"N":var we="0";for(typeof C[y][S]=="number"&&(we=C[y][S].toFixed(M[S]||0)),E=0;E<P[S]-we.length;++E)Se.write_shift(1,32);Se.write_shift(1,we,"sbcs");break;case"D":C[y][S]?(Se.write_shift(4,("0000"+C[y][S].getFullYear()).slice(-4),"sbcs"),Se.write_shift(2,("00"+(C[y][S].getMonth()+1)).slice(-2),"sbcs"),Se.write_shift(2,("00"+C[y][S].getDate()).slice(-2),"sbcs")):Se.write_shift(8,"00000000","sbcs");break;case"C":var se=String(C[y][S]!=null?C[y][S]:"").slice(0,P[S]);for(Se.write_shift(1,se,"sbcs"),E=0;E<P[S]-se.length;++E)Se.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}}(),mpe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+En(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,C){var w=e[C];return typeof w=="number"?mM(w):w},n=function(g,C,w){var y=C.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return y==59?g:mM(y)};e["|"]=254;function s(g,C){switch(C.type){case"base64":return i(ua(g),C);case"binary":return i(g,C);case"buffer":return i(Qt&&Buffer.isBuffer(g)?g.toString("binary"):Gp(g),C);case"array":return i(oC(g),C)}throw new Error("Unrecognized type "+C.type)}function i(g,C){var w=g.split(/[\n\r]+/),y=-1,S=-1,E=0,b=0,T=[],R=[],P=null,M={},D=[],N=[],O=[],j=0,W;for(+C.codepage>=0&&op(+C.codepage);E!==w.length;++E){j=0;var B=w[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),oe=B.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),pe=oe[0],Se;if(B.length>0)switch(pe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":oe[1].charAt(0)=="P"&&R.push(B.slice(3).replace(/;;/g,";"));break;case"C":var we=!1,se=!1,Z=!1,ne=!1,de=-1,z=-1;for(b=1;b<oe.length;++b)switch(oe[b].charAt(0)){case"A":break;case"X":S=parseInt(oe[b].slice(1))-1,se=!0;break;case"Y":for(y=parseInt(oe[b].slice(1))-1,se||(S=0),W=T.length;W<=y;++W)T[W]=[];break;case"K":Se=oe[b].slice(1),Se.charAt(0)==='"'?Se=Se.slice(1,Se.length-1):Se==="TRUE"?Se=!0:Se==="FALSE"?Se=!1:isNaN(ta(Se))?isNaN(lp(Se).getDate())||(Se=os(Se)):(Se=ta(Se),P!==null&&Aj(P)&&(Se=Ij(Se))),we=!0;break;case"E":ne=!0;var I=pge(oe[b].slice(1),{r:y,c:S});T[y][S]=[T[y][S],I];break;case"S":Z=!0,T[y][S]=[T[y][S],"S5S"];break;case"G":break;case"R":de=parseInt(oe[b].slice(1))-1;break;case"C":z=parseInt(oe[b].slice(1))-1;break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+B)}if(we&&(T[y][S]&&T[y][S].length==2?T[y][S][0]=Se:T[y][S]=Se,P=null),Z){if(ne)throw new Error("SYLK shared formula cannot have own formula");var L=de>-1&&T[de][z];if(!L||!L[1])throw new Error("SYLK shared formula cannot find base");T[y][S][1]=gge(L[1],{r:y-de,c:S-z})}break;case"F":var H=0;for(b=1;b<oe.length;++b)switch(oe[b].charAt(0)){case"X":S=parseInt(oe[b].slice(1))-1,++H;break;case"Y":for(y=parseInt(oe[b].slice(1))-1,W=T.length;W<=y;++W)T[W]=[];break;case"M":j=parseInt(oe[b].slice(1))/20;break;case"F":break;case"G":break;case"P":P=R[parseInt(oe[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=oe[b].slice(1).split(" "),W=parseInt(O[0],10);W<=parseInt(O[1],10);++W)j=parseInt(O[2],10),N[W-1]=j===0?{hidden:!0}:{wch:j},vR(N[W-1]);break;case"C":S=parseInt(oe[b].slice(1))-1,N[S]||(N[S]={});break;case"R":y=parseInt(oe[b].slice(1))-1,D[y]||(D[y]={}),j>0?(D[y].hpt=j,D[y].hpx=wB(j)):j===0&&(D[y].hidden=!0);break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+B)}H<1&&(P=null);break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+B)}}return D.length>0&&(M["!rows"]=D),N.length>0&&(M["!cols"]=N),C&&C.sheetRows&&(T=T.slice(0,C.sheetRows)),[T,M]}function o(g,C){var w=s(g,C),y=w[0],S=w[1],E=fh(y,C);return En(S).forEach(function(b){E[b]=S[b]}),E}function a(g,C){return ou(o(g,C),C)}function l(g,C,w,y){var S="C;Y"+(w+1)+";X"+(y+1)+";K";switch(g.t){case"n":S+=g.v||0,g.f&&!g.F&&(S+=";E"+yR(g.f,{r:w,c:y}));break;case"b":S+=g.v?"TRUE":"FALSE";break;case"e":S+=g.w||g.v;break;case"d":S+='"'+(g.w||g.v)+'"';break;case"s":S+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function u(g,C){C.forEach(function(w,y){var S="F;W"+(y+1)+" "+(y+1)+" ";w.hidden?S+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=l0(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=c0(w.wpx)),typeof w.wch=="number"&&(S+=Math.round(w.wch))),S.charAt(S.length-1)!=" "&&g.push(S)})}function h(g,C){C.forEach(function(w,y){var S="F;";w.hidden?S+="M0;":w.hpt?S+="M"+20*w.hpt+";":w.hpx&&(S+="M"+20*u0(w.hpx)+";"),S.length>2&&g.push(S+"R"+(y+1))})}function p(g,C){var w=["ID;PWXL;N;E"],y=[],S=br(g["!ref"]),E,b=Array.isArray(g),T=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),g["!cols"]&&u(w,g["!cols"]),g["!rows"]&&h(w,g["!rows"]),w.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var R=S.s.r;R<=S.e.r;++R)for(var P=S.s.c;P<=S.e.c;++P){var M=cr({r:R,c:P});E=b?(g[R]||[])[P]:g[M],!(!E||E.v==null&&(!E.f||E.F))&&y.push(l(E,g,R,P))}return w.join(T)+T+y.join(T)+T+"E"+T}return{to_workbook:a,to_sheet:o,from_sheet:p}}(),vpe=function(){function e(i,o){switch(o.type){case"base64":return t(ua(i),o);case"binary":return t(i,o);case"buffer":return t(Qt&&Buffer.isBuffer(i)?i.toString("binary"):Gp(i),o);case"array":return t(oC(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var a=i.split(`
`),l=-1,u=-1,h=0,p=[];h!==a.length;++h){if(a[h].trim()==="BOT"){p[++l]=[],u=0;continue}if(!(l<0)){var g=a[h].trim().split(","),C=g[0],w=g[1];++h;for(var y=a[h]||"";(y.match(/["]/g)||[]).length&1&&h<a.length-1;)y+=`
`+a[++h];switch(y=y.trim(),+C){case-1:if(y==="BOT"){p[++l]=[],u=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?p[l][u]=!0:y==="FALSE"?p[l][u]=!1:isNaN(ta(w))?isNaN(lp(w).getDate())?p[l][u]=w:p[l][u]=os(w):p[l][u]=ta(w),++u;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),p[l][u++]=y!==""?y:null;break}if(y==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function r(i,o){return fh(e(i,o),o)}function n(i,o){return ou(r(i,o),o)}var s=function(){var i=function(l,u,h,p,g){l.push(u),l.push(h+","+p),l.push('"'+g.replace(/"/g,'""')+'"')},o=function(l,u,h,p){l.push(u+","+h),l.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(l){var u=[],h=br(l["!ref"]),p,g=Array.isArray(l);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,h.e.r-h.s.r+1,""),i(u,"TUPLES",0,h.e.c-h.s.c+1,""),i(u,"DATA",0,0,"");for(var C=h.s.r;C<=h.e.r;++C){o(u,-1,0,"BOT");for(var w=h.s.c;w<=h.e.c;++w){var y=cr({r:C,c:w});if(p=g?(l[C]||[])[w]:l[y],!p){o(u,1,0,"");continue}switch(p.t){case"n":var S=p.w;!S&&p.v!=null&&(S=p.v),S==null?p.f&&!p.F?o(u,1,0,"="+p.f):o(u,1,0,""):o(u,0,S,"V");break;case"b":o(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=El(p.z||Vr[14],Rs(os(p.v)))),o(u,0,p.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var E=`\r
`,b=u.join(E);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:s}}(),mB=function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var C=p.split(`
`),w=-1,y=-1,S=0,E=[];S!==C.length;++S){var b=C[S].trim().split(":");if(b[0]==="cell"){var T=dn(b[1]);if(E.length<=T.r)for(w=E.length;w<=T.r;++w)E[w]||(E[w]=[]);switch(w=T.r,y=T.c,b[2]){case"t":E[w][y]=e(b[3]);break;case"v":E[w][y]=+b[3];break;case"vtf":var R=b[b.length-1];case"vtc":switch(b[3]){case"nl":E[w][y]=!!+b[4];break;default:E[w][y]=+b[4];break}b[2]=="vtf"&&(E[w][y]=[E[w][y],R])}}}return g&&g.sheetRows&&(E=E.slice(0,g.sheetRows)),E}function n(p,g){return fh(r(p,g),g)}function s(p,g){return ou(n(p,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var g=[],C=[],w,y="",S=Xs(p["!ref"]),E=Array.isArray(p),b=S.s.r;b<=S.e.r;++b)for(var T=S.s.c;T<=S.e.c;++T)if(y=cr({r:b,c:T}),w=E?(p[b]||[])[T]:p[y],!(!w||w.v==null||w.t==="z")){switch(C=["cell",y,"t"],w.t){case"s":case"str":C.push(t(w.v));break;case"n":w.f?(C[2]="vtf",C[3]="n",C[4]=w.v,C[5]=t(w.f)):(C[2]="v",C[3]=w.v);break;case"b":C[2]="vt"+(w.f?"f":"c"),C[3]="nl",C[4]=w.v?"1":"0",C[5]=t(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var R=Rs(os(w.v));C[2]="vtc",C[3]="nd",C[4]=""+R,C[5]=w.w||El(w.z||Vr[14],R);break;case"e":continue}g.push(C.join(":"))}return g.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(p){return[i,o,a,o,u(p),l].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:h}}(),Cpe=function(){function e(h,p,g,C,w){w.raw?p[g][C]=h:h===""||(h==="TRUE"?p[g][C]=!0:h==="FALSE"?p[g][C]=!1:isNaN(ta(h))?isNaN(lp(h).getDate())?p[g][C]=h:p[g][C]=os(h):p[g][C]=ta(h))}function t(h,p){var g=p||{},C=[];if(!h||h.length===0)return C;for(var w=h.split(/[\r\n]/),y=w.length-1;y>=0&&w[y].length===0;)--y;for(var S=10,E=0,b=0;b<=y;++b)E=w[b].indexOf(" "),E==-1?E=w[b].length:E++,S=Math.max(S,E);for(b=0;b<=y;++b){C[b]=[];var T=0;for(e(w[b].slice(0,S).trim(),C,b,T,g),T=1;T<=(w[b].length-S)/10+1;++T)e(w[b].slice(S+(T-1)*10,S+T*10).trim(),C,b,T,g)}return g.sheetRows&&(C=C.slice(0,g.sheetRows)),C}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(h){for(var p={},g=!1,C=0,w=0;C<h.length;++C)(w=h.charCodeAt(C))==34?g=!g:!g&&w in r&&(p[w]=(p[w]||0)+1);w=[];for(C in p)Object.prototype.hasOwnProperty.call(p,C)&&w.push([p[C],C]);if(!w.length){p=n;for(C in p)Object.prototype.hasOwnProperty.call(p,C)&&w.push([p[C],C])}return w.sort(function(y,S){return y[0]-S[0]||n[y[1]]-n[S[1]]}),r[w.pop()[1]]||44}function i(h,p){var g=p||{},C="",w=g.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(C=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(C=h.charAt(4),h=h.slice(6)):C=s(h.slice(0,1024)):g&&g.FS?C=g.FS:C=s(h.slice(0,1024));var S=0,E=0,b=0,T=0,R=0,P=C.charCodeAt(0),M=!1,D=0,N=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var O=g.dateNF!=null?Ohe(g.dateNF):null;function j(){var W=h.slice(T,R),B={};if(W.charAt(0)=='"'&&W.charAt(W.length-1)=='"'&&(W=W.slice(1,-1).replace(/""/g,'"')),W.length===0)B.t="z";else if(g.raw)B.t="s",B.v=W;else if(W.trim().length===0)B.t="s",B.v=W;else if(W.charCodeAt(0)==61)W.charCodeAt(1)==34&&W.charCodeAt(W.length-1)==34?(B.t="s",B.v=W.slice(2,-1).replace(/""/g,'"')):mge(W)?(B.t="n",B.f=W.slice(1)):(B.t="s",B.v=W);else if(W=="TRUE")B.t="b",B.v=!0;else if(W=="FALSE")B.t="b",B.v=!1;else if(!isNaN(b=ta(W)))B.t="n",g.cellText!==!1&&(B.w=W),B.v=b;else if(!isNaN(lp(W).getDate())||O&&W.match(O)){B.z=g.dateNF||Vr[14];var oe=0;O&&W.match(O)&&(W=Lhe(W,g.dateNF,W.match(O)||[]),oe=1),g.cellDates?(B.t="d",B.v=os(W,oe)):(B.t="n",B.v=Rs(os(W,oe))),g.cellText!==!1&&(B.w=El(B.z,B.v instanceof Date?Rs(B.v):B.v)),g.cellNF||delete B.z}else B.t="s",B.v=W;if(B.t=="z"||(g.dense?(w[S]||(w[S]=[]),w[S][E]=B):w[cr({c:E,r:S})]=B),T=R+1,N=h.charCodeAt(T),y.e.c<E&&(y.e.c=E),y.e.r<S&&(y.e.r=S),D==P)++E;else if(E=0,++S,g.sheetRows&&g.sheetRows<=S)return!0}e:for(;R<h.length;++R)switch(D=h.charCodeAt(R)){case 34:N===34&&(M=!M);break;case P:case 10:case 13:if(!M&&j())break e;break}return R-T>0&&j(),w["!ref"]=Qr(y),w}function o(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,p):fh(t(h,p),p)}function a(h,p){var g="",C=p.type=="string"?[0,0,0,0]:DCe(h,p);switch(p.type){case"base64":g=ua(h);break;case"binary":g=h;break;case"buffer":p.codepage==65001?g=h.toString("utf8"):p.codepage&&typeof dc<"u"?g=dc.utils.decode(p.codepage,h):g=Qt&&Buffer.isBuffer(h)?h.toString("binary"):Gp(h);break;case"array":g=oC(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+p.type)}return C[0]==239&&C[1]==187&&C[2]==191?g=Of(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=Of(g):p.type=="binary"&&typeof dc<"u"&&p.codepage&&(g=dc.utils.decode(p.codepage,dc.utils.encode(28591,g))),g.slice(0,19)=="socialcalc:version:"?mB.to_sheet(p.type=="string"?g:Of(g),p):o(g,p)}function l(h,p){return ou(a(h,p),p)}function u(h){for(var p=[],g=br(h["!ref"]),C,w=Array.isArray(h),y=g.s.r;y<=g.e.r;++y){for(var S=[],E=g.s.c;E<=g.e.c;++E){var b=cr({r:y,c:E});if(C=w?(h[y]||[])[E]:h[b],!C||C.v==null){S.push("          ");continue}for(var T=(C.w||(da(C),C.w)||"").slice(0,10);T.length<10;)T+=" ";S.push(T+(E===0?" ":""))}p.push(S.join(""))}return p.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:u}}(),KM=function(){function e(I,L,H){if(I){js(I,I.l||0);for(var G=H.Enum||de;I.l<I.length;){var J=I.read_shift(2),ie=G[J]||G[65535],fe=I.read_shift(2),Q=I.l+fe,re=ie.f&&ie.f(I,fe,H);if(I.l=Q,L(re,ie,J))return}}}function t(I,L){switch(L.type){case"base64":return r(ji(ua(I)),L);case"binary":return r(ji(I),L);case"buffer":case"array":return r(I,L)}throw"Unsupported type "+L.type}function r(I,L){if(!I)return I;var H=L||{},G=H.dense?[]:{},J="Sheet1",ie="",fe=0,Q={},re=[],Me=[],Fe={s:{r:0,c:0},e:{r:0,c:0}},We=H.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)H.Enum=de,e(I,function(Ve,le,Be){switch(Be){case 0:H.vers=Ve,Ve>=4096&&(H.qpro=!0);break;case 6:Fe=Ve;break;case 204:Ve&&(ie=Ve);break;case 222:ie=Ve;break;case 15:case 51:H.qpro||(Ve[1].v=Ve[1].v.slice(1));case 13:case 14:case 16:Be==14&&(Ve[2]&112)==112&&(Ve[2]&15)>1&&(Ve[2]&15)<15&&(Ve[1].z=H.dateNF||Vr[14],H.cellDates&&(Ve[1].t="d",Ve[1].v=Ij(Ve[1].v))),H.qpro&&Ve[3]>fe&&(G["!ref"]=Qr(Fe),Q[J]=G,re.push(J),G=H.dense?[]:{},Fe={s:{r:0,c:0},e:{r:0,c:0}},fe=Ve[3],J=ie||"Sheet"+(fe+1),ie="");var lt=H.dense?(G[Ve[0].r]||[])[Ve[0].c]:G[cr(Ve[0])];if(lt){lt.t=Ve[1].t,lt.v=Ve[1].v,Ve[1].z!=null&&(lt.z=Ve[1].z),Ve[1].f!=null&&(lt.f=Ve[1].f);break}H.dense?(G[Ve[0].r]||(G[Ve[0].r]=[]),G[Ve[0].r][Ve[0].c]=Ve[1]):G[cr(Ve[0])]=Ve[1];break}},H);else if(I[2]==26||I[2]==14)H.Enum=z,I[2]==14&&(H.qpro=!0,I.l=0),e(I,function(Ve,le,Be){switch(Be){case 204:J=Ve;break;case 22:Ve[1].v=Ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ve[3]>fe&&(G["!ref"]=Qr(Fe),Q[J]=G,re.push(J),G=H.dense?[]:{},Fe={s:{r:0,c:0},e:{r:0,c:0}},fe=Ve[3],J="Sheet"+(fe+1)),We>0&&Ve[0].r>=We)break;H.dense?(G[Ve[0].r]||(G[Ve[0].r]=[]),G[Ve[0].r][Ve[0].c]=Ve[1]):G[cr(Ve[0])]=Ve[1],Fe.e.c<Ve[0].c&&(Fe.e.c=Ve[0].c),Fe.e.r<Ve[0].r&&(Fe.e.r=Ve[0].r);break;case 27:Ve[14e3]&&(Me[Ve[14e3][0]]=Ve[14e3][1]);break;case 1537:Me[Ve[0]]=Ve[1],Ve[0]==fe&&(J=Ve[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(G["!ref"]=Qr(Fe),Q[ie||J]=G,re.push(ie||J),!Me.length)return{SheetNames:re,Sheets:Q};for(var Ye={},ut=[],gt=0;gt<Me.length;++gt)Q[re[gt]]?(ut.push(Me[gt]||re[gt]),Ye[Me[gt]]=Q[Me[gt]]||Q[re[gt]]):(ut.push(Me[gt]),Ye[Me[gt]]={"!ref":"A1"});return{SheetNames:ut,Sheets:Ye}}function n(I,L){var H=L||{};if(+H.codepage>=0&&op(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var G=bs(),J=br(I["!ref"]),ie=Array.isArray(I),fe=[];Qe(G,0,i(1030)),Qe(G,6,l(J));for(var Q=Math.min(J.e.r,8191),re=J.s.r;re<=Q;++re)for(var Me=xn(re),Fe=J.s.c;Fe<=J.e.c;++Fe){re===J.s.r&&(fe[Fe]=Ln(Fe));var We=fe[Fe]+Me,Ye=ie?(I[re]||[])[Fe]:I[We];if(!(!Ye||Ye.t=="z"))if(Ye.t=="n")(Ye.v|0)==Ye.v&&Ye.v>=-32768&&Ye.v<=32767?Qe(G,13,C(re,Fe,Ye.v)):Qe(G,14,y(re,Fe,Ye.v));else{var ut=da(Ye);Qe(G,15,p(re,Fe,ut.slice(0,239)))}}return Qe(G,1),G.end()}function s(I,L){var H=L||{};if(+H.codepage>=0&&op(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var G=bs();Qe(G,0,o(I));for(var J=0,ie=0;J<I.SheetNames.length;++J)(I.Sheets[I.SheetNames[J]]||{})["!ref"]&&Qe(G,27,ne(I.SheetNames[J],ie++));var fe=0;for(J=0;J<I.SheetNames.length;++J){var Q=I.Sheets[I.SheetNames[J]];if(!(!Q||!Q["!ref"])){for(var re=br(Q["!ref"]),Me=Array.isArray(Q),Fe=[],We=Math.min(re.e.r,8191),Ye=re.s.r;Ye<=We;++Ye)for(var ut=xn(Ye),gt=re.s.c;gt<=re.e.c;++gt){Ye===re.s.r&&(Fe[gt]=Ln(gt));var Ve=Fe[gt]+ut,le=Me?(Q[Ye]||[])[gt]:Q[Ve];if(!(!le||le.t=="z"))if(le.t=="n")Qe(G,23,j(Ye,gt,fe,le.v));else{var Be=da(le);Qe(G,22,D(Ye,gt,fe,Be.slice(0,239)))}}++fe}}return Qe(G,1),G.end()}function i(I){var L=Te(2);return L.write_shift(2,I),L}function o(I){var L=Te(26);L.write_shift(2,4096),L.write_shift(2,4),L.write_shift(4,0);for(var H=0,G=0,J=0,ie=0;ie<I.SheetNames.length;++ie){var fe=I.SheetNames[ie],Q=I.Sheets[fe];if(!(!Q||!Q["!ref"])){++J;var re=Xs(Q["!ref"]);H<re.e.r&&(H=re.e.r),G<re.e.c&&(G=re.e.c)}}return H>8191&&(H=8191),L.write_shift(2,H),L.write_shift(1,J),L.write_shift(1,G),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(1,1),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(4,0),L}function a(I,L,H){var G={s:{c:0,r:0},e:{c:0,r:0}};return L==8&&H.qpro?(G.s.c=I.read_shift(1),I.l++,G.s.r=I.read_shift(2),G.e.c=I.read_shift(1),I.l++,G.e.r=I.read_shift(2),G):(G.s.c=I.read_shift(2),G.s.r=I.read_shift(2),L==12&&H.qpro&&(I.l+=2),G.e.c=I.read_shift(2),G.e.r=I.read_shift(2),L==12&&H.qpro&&(I.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function l(I){var L=Te(8);return L.write_shift(2,I.s.c),L.write_shift(2,I.s.r),L.write_shift(2,I.e.c),L.write_shift(2,I.e.r),L}function u(I,L,H){var G=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(G[0].c=I.read_shift(1),G[3]=I.read_shift(1),G[0].r=I.read_shift(2),I.l+=2):(G[2]=I.read_shift(1),G[0].c=I.read_shift(2),G[0].r=I.read_shift(2)),G}function h(I,L,H){var G=I.l+L,J=u(I,L,H);if(J[1].t="s",H.vers==20768){I.l++;var ie=I.read_shift(1);return J[1].v=I.read_shift(ie,"utf8"),J}return H.qpro&&I.l++,J[1].v=I.read_shift(G-I.l,"cstr"),J}function p(I,L,H){var G=Te(7+H.length);G.write_shift(1,255),G.write_shift(2,L),G.write_shift(2,I),G.write_shift(1,39);for(var J=0;J<G.length;++J){var ie=H.charCodeAt(J);G.write_shift(1,ie>=128?95:ie)}return G.write_shift(1,0),G}function g(I,L,H){var G=u(I,L,H);return G[1].v=I.read_shift(2,"i"),G}function C(I,L,H){var G=Te(7);return G.write_shift(1,255),G.write_shift(2,L),G.write_shift(2,I),G.write_shift(2,H,"i"),G}function w(I,L,H){var G=u(I,L,H);return G[1].v=I.read_shift(8,"f"),G}function y(I,L,H){var G=Te(13);return G.write_shift(1,255),G.write_shift(2,L),G.write_shift(2,I),G.write_shift(8,H,"f"),G}function S(I,L,H){var G=I.l+L,J=u(I,L,H);if(J[1].v=I.read_shift(8,"f"),H.qpro)I.l=G;else{var ie=I.read_shift(2);R(I.slice(I.l,I.l+ie),J),I.l+=ie}return J}function E(I,L,H){var G=L&32768;return L&=-32769,L=(G?I:0)+(L>=8192?L-16384:L),(G?"":"$")+(H?Ln(L):xn(L))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(I,L){js(I,0);for(var H=[],G=0,J="",ie="",fe="",Q="";I.l<I.length;){var re=I[I.l++];switch(re){case 0:H.push(I.read_shift(8,"f"));break;case 1:ie=E(L[0].c,I.read_shift(2),!0),J=E(L[0].r,I.read_shift(2),!1),H.push(ie+J);break;case 2:{var Me=E(L[0].c,I.read_shift(2),!0),Fe=E(L[0].r,I.read_shift(2),!1);ie=E(L[0].c,I.read_shift(2),!0),J=E(L[0].r,I.read_shift(2),!1),H.push(Me+Fe+":"+ie+J)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(I.read_shift(2));break;case 6:{for(var We="";re=I[I.l++];)We+=String.fromCharCode(re);H.push('"'+We.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:Q=H.pop(),fe=H.pop(),H.push(["AND","OR"][re-20]+"("+fe+","+Q+")");break;default:if(re<32&&T[re])Q=H.pop(),fe=H.pop(),H.push(fe+T[re]+Q);else if(b[re]){if(G=b[re][1],G==69&&(G=I[I.l++]),G>H.length){console.error("WK1 bad formula parse 0x"+re.toString(16)+":|"+H.join("|")+"|");return}var Ye=H.slice(-G);H.length-=G,H.push(b[re][0]+"("+Ye.join(",")+")")}else return re<=7?console.error("WK1 invalid opcode "+re.toString(16)):re<=24?console.error("WK1 unsupported op "+re.toString(16)):re<=30?console.error("WK1 invalid opcode "+re.toString(16)):re<=115?console.error("WK1 unsupported function opcode "+re.toString(16)):console.error("WK1 unrecognized opcode "+re.toString(16))}}H.length==1?L[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function P(I){var L=[{c:0,r:0},{t:"n",v:0},0];return L[0].r=I.read_shift(2),L[3]=I[I.l++],L[0].c=I[I.l++],L}function M(I,L){var H=P(I);return H[1].t="s",H[1].v=I.read_shift(L-4,"cstr"),H}function D(I,L,H,G){var J=Te(6+G.length);J.write_shift(2,I),J.write_shift(1,H),J.write_shift(1,L),J.write_shift(1,39);for(var ie=0;ie<G.length;++ie){var fe=G.charCodeAt(ie);J.write_shift(1,fe>=128?95:fe)}return J.write_shift(1,0),J}function N(I,L){var H=P(I);H[1].v=I.read_shift(2);var G=H[1].v>>1;if(H[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return H[1].v=G,H}function O(I,L){var H=P(I),G=I.read_shift(4),J=I.read_shift(4),ie=I.read_shift(2);if(ie==65535)return G===0&&J===3221225472?(H[1].t="e",H[1].v=15):G===0&&J===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var fe=ie&32768;return ie=(ie&32767)-16446,H[1].v=(1-fe*2)*(J*Math.pow(2,ie+32)+G*Math.pow(2,ie)),H}function j(I,L,H,G){var J=Te(14);if(J.write_shift(2,I),J.write_shift(1,H),J.write_shift(1,L),G==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var ie=0,fe=0,Q=0,re=0;return G<0&&(ie=1,G=-G),fe=Math.log2(G)|0,G/=Math.pow(2,fe-31),re=G>>>0,re&2147483648||(G/=2,++fe,re=G>>>0),G-=re,re|=2147483648,re>>>=0,G*=Math.pow(2,32),Q=G>>>0,J.write_shift(4,Q),J.write_shift(4,re),fe+=16383+(ie?32768:0),J.write_shift(2,fe),J}function W(I,L){var H=O(I);return I.l+=L-14,H}function B(I,L){var H=P(I),G=I.read_shift(4);return H[1].v=G>>6,H}function oe(I,L){var H=P(I),G=I.read_shift(8,"f");return H[1].v=G,H}function pe(I,L){var H=oe(I);return I.l+=L-10,H}function Se(I,L){return I[I.l+L-1]==0?I.read_shift(L,"cstr"):""}function we(I,L){var H=I[I.l++];H>L-1&&(H=L-1);for(var G="";G.length<H;)G+=String.fromCharCode(I[I.l++]);return G}function se(I,L,H){if(!(!H.qpro||L<21)){var G=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var J=I.read_shift(L-21,"cstr");return[G,J]}}function Z(I,L){for(var H={},G=I.l+L;I.l<G;){var J=I.read_shift(2);if(J==14e3){for(H[J]=[0,""],H[J][0]=I.read_shift(2);I[I.l];)H[J][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return H}function ne(I,L){var H=Te(5+I.length);H.write_shift(2,14e3),H.write_shift(2,L);for(var G=0;G<I.length;++G){var J=I.charCodeAt(G);H[H.l++]=J>127?95:J}return H[H.l++]=0,H}var de={0:{n:"BOF",f:dB},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Se},222:{n:"SHEETNAMELP",f:we},65535:{n:""}},z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:M},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:W},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:oe},40:{n:"FORMULA28",f:pe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}}(),ype=/^\s|\s$|[\t\n\r]/;function vB(e,t){if(!t.bookSST)return"";var r=[Zr];r[r.length]=Xe("sst",null,{xmlns:hh[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var s=e[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(ype)&&(i+=' xml:space="preserve"'),i+=">"+lr(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function wpe(e){return[e.read_shift(4),e.read_shift(4)]}function Spe(e,t){return t||(t=Te(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var xpe=hfe;function Epe(e){var t=bs();Ie(t,159,Spe(e));for(var r=0;r<e.length;++r)Ie(t,19,xpe(e[r]));return Ie(t,160),t.end()}function bpe(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function CB(e){var t=0,r,n=bpe(e),s=n.length+1,i,o,a,l,u;for(r=Hc(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)o=r[i],a=t&16384?1:0,l=t<<1&32767,u=a|l,t=u^o;return t^52811}var Rpe=function(){function e(s,i){switch(i.type){case"base64":return t(ua(s),i);case"binary":return t(s,i);case"buffer":return t(Qt&&Buffer.isBuffer(s)?s.toString("binary"):Gp(s),i);case"array":return t(oC(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},a=o.dense?[]:{},l=s.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(h,p){Array.isArray(a)&&(a[p]=[]);for(var g=/\\\w+\b/g,C=0,w,y=-1;w=g.exec(h);){switch(w[0]){case"\\cell":var S=h.slice(C,g.lastIndex-w[0].length);if(S[0]==" "&&(S=S.slice(1)),++y,S.length){var E={v:S,t:"s"};Array.isArray(a)?a[p][y]=E:a[cr({r:p,c:y})]=E}break}C=g.lastIndex}y>u.e.c&&(u.e.c=y)}),a["!ref"]=Qr(u),a}function r(s,i){return ou(e(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],o=br(s["!ref"]),a,l=Array.isArray(s),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var p=cr({r:u,c:h});a=l?(s[u]||[])[h]:s[p],!(!a||a.v==null&&(!a.f||a.F))&&(i.push(" "+(a.w||(da(a),a.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function qM(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Tpe=6,ra=Tpe;function l0(e){return Math.floor((e+Math.round(128/ra)/256)*ra)}function c0(e){return Math.floor((e-5)/ra*100+.5)/100}function a1(e){return Math.round((e*ra+5)/ra*256)/256}function vR(e){e.width?(e.wpx=l0(e.width),e.wch=c0(e.wpx),e.MDW=ra):e.wpx?(e.wch=c0(e.wpx),e.width=a1(e.wch),e.MDW=ra):typeof e.wch=="number"&&(e.width=a1(e.wch),e.wpx=l0(e.width),e.MDW=ra),e.customWidth&&delete e.customWidth}var Fpe=96,yB=Fpe;function u0(e){return e*96/yB}function wB(e){return e*yB/96}function Ppe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Xe("numFmt",null,{numFmtId:n,formatCode:lr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Xe("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Ape(e){var t=[];return t[t.length]=Xe("cellXfs",null),e.forEach(function(r){t[t.length]=Xe("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Xe("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function SB(e,t){var r=[Zr,Xe("styleSheet",null,{xmlns:hh[0],"xmlns:vt":un.vt})],n;return e.SSF&&(n=Ppe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Ape(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Dpe(e,t){var r=e.read_shift(2),n=kn(e);return[r,n]}function Mpe(e,t,r){r||(r=Te(6+4*t.length)),r.write_shift(2,e),hn(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Npe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=yfe(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var a=e.read_shift(1);a>0&&(n.family=a);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=Cfe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=kn(e),n}function Ipe(e,t){t||(t=Te(25+4*32)),t.write_shift(2,e.sz*20),wfe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),o0(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),hn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Ope=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],cS,Lpe=yo;function YM(e,t){t||(t=Te(4*3+8*7+16*1)),cS||(cS=iR(Ope));var r=cS[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(o0({auto:1},t),o0({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function kpe(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}function xB(e,t,r){r||(r=Te(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function ff(e,t){return t||(t=Te(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var _pe=yo;function jpe(e,t){return t||(t=Te(51)),t.write_shift(1,0),ff(null,t),ff(null,t),ff(null,t),ff(null,t),ff(null,t),t.length>t.l?t.slice(0,t.l):t}function Bpe(e,t){return t||(t=Te(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),i0(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Gpe(e,t,r){var n=Te(2052);return n.write_shift(4,e),i0(t,n),i0(r,n),n.length>n.l?n.slice(0,n.l):n}function Hpe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&++r}),r!=0&&(Ie(e,615,Wi(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Ie(e,44,Mpe(s,t[s]))}),Ie(e,616))}}function Vpe(e){var t=1;Ie(e,611,Wi(t)),Ie(e,43,Ipe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ie(e,612)}function Wpe(e){var t=2;Ie(e,603,Wi(t)),Ie(e,45,YM({patternType:"none"})),Ie(e,45,YM({patternType:"gray125"})),Ie(e,604)}function $pe(e){var t=1;Ie(e,613,Wi(t)),Ie(e,46,jpe()),Ie(e,614)}function Upe(e){var t=1;Ie(e,626,Wi(t)),Ie(e,47,xB({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ie(e,627)}function zpe(e,t){Ie(e,617,Wi(t.length)),t.forEach(function(r){Ie(e,47,xB(r,0))}),Ie(e,618)}function Kpe(e){var t=1;Ie(e,619,Wi(t)),Ie(e,48,Bpe({xfId:0,builtinId:0,name:"Normal"})),Ie(e,620)}function qpe(e){var t=0;Ie(e,505,Wi(t)),Ie(e,506)}function Ype(e){var t=0;Ie(e,508,Gpe(t,"TableStyleMedium9","PivotStyleMedium4")),Ie(e,509)}function Xpe(e,t){var r=bs();return Ie(r,278),Hpe(r,e.SSF),Vpe(r),Wpe(r),$pe(r),Upe(r),zpe(r,t.cellXfs),Kpe(r),qpe(r),Ype(r),Ie(r,279),r.end()}function EB(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Zr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Qpe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:kn(e)}}function Jpe(e){var t=Te(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),hn(e.name,t),t.slice(0,t.l)}function Zpe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function ege(e){var t=Te(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function tge(e,t){var r=Te(8+2*t.length);return r.write_shift(4,e),hn(t,r),r.slice(0,r.l)}function rge(e){return e.l+=4,e.read_shift(4)!=0}function nge(e,t){var r=Te(8);return r.write_shift(4,e),r.write_shift(4,1),r}function sge(){var e=bs();return Ie(e,332),Ie(e,334,Wi(1)),Ie(e,335,Jpe({name:"XLDAPR",version:12e4,flags:3496657072})),Ie(e,336),Ie(e,339,tge(1,"XLDAPR")),Ie(e,52),Ie(e,35,Wi(514)),Ie(e,4096,Wi(0)),Ie(e,4097,di(1)),Ie(e,36),Ie(e,53),Ie(e,340),Ie(e,337,nge(1)),Ie(e,51,ege([[1,0]])),Ie(e,338),Ie(e,333),e.end()}function bB(){var e=[Zr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function ige(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=cr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var ld=1024;function RB(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Xe("xml",null,{"xmlns:v":Gs.v,"xmlns:o":Gs.o,"xmlns:x":Gs.x,"xmlns:mv":Gs.mv}).replace(/\/>/,">"),Xe("o:shapelayout",Xe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Xe("v:shapetype",[Xe("v:stroke",null,{joinstyle:"miter"}),Xe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];ld<e*1e3;)ld+=1e3;return t.forEach(function(i){var o=dn(i[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?Xe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Xe("v:fill",l,a),h={on:"t",obscured:"t"};++ld,s=s.concat(["<v:shape"+up({id:"_x0000_s"+ld,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Xe("v:shadow",null,h),Xe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",wn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),wn("x:AutoFill","False"),wn("x:Row",String(o.r)),wn("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function TB(e){var t=[Zr,Xe("comments",null,{xmlns:hh[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(s){var i=lr(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(s=r.indexOf(lr(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(wn("t",lr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,a=1;a<i.length;++a)o+=`Reply:
    `+i[a]+`
`;t.push(wn("t",lr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function oge(e,t,r){var n=[Zr,Xe("ThreadedComments",null,{xmlns:un.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var l={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};a==0?i=l.id:l.parentId=i,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(Xe("threadedComment",wn("text",o.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function age(e){var t=[Zr,Xe("personList",null,{xmlns:un.TCMNT,"xmlns:x":hh[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Xe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function lge(e){var t={};t.iauthor=e.read_shift(4);var r=uu(e);return t.rfx=r.s,t.ref=cr(r.s),e.l+=16,t}function cge(e,t){return t==null&&(t=Te(36)),t.write_shift(4,e[1].iauthor),ph(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var uge=kn;function dge(e){return hn(e.slice(0,54))}function hge(e){var t=bs(),r=[];return Ie(t,628),Ie(t,630),e.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Ie(t,632,dge(s.a)))})}),Ie(t,631),Ie(t,633),e.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:dn(n[0]),e:dn(n[0])};Ie(t,635,cge([i,s])),s.t&&s.t.length>0&&Ie(t,637,pfe(s)),Ie(t,636),delete s.iauthor})}),Ie(t,634),Ie(t,629),t.end()}function fge(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&ur.utils.cfb_add(e,s,t.FileIndex[n].content)}})}var FB=["xlsb","xlsm","xlam","biff8","xla"],pge=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,i,o){var a=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return a?h+=t.c:--h,l?u+=t.r:--u,s+(a?"":"$")+Ln(h)+(l?"":"$")+xn(u)}return function(s,i){return t=i,s.replace(e,r)}}(),CR=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,yR=function(){return function(t,r){return t.replace(CR,function(n,s,i,o,a,l){var u=hR(o)-(i?0:r.c),h=dR(l)-(a?0:r.r),p=h==0?"":a?h+1:"["+h+"]",g=u==0?"":i?u+1:"["+u+"]";return s+"R"+p+"C"+g})}}();function gge(e,t){return e.replace(CR,function(r,n,s,i,o,a){return n+(s=="$"?s+i:Ln(hR(i)+t.c))+(o=="$"?o+a:xn(dR(a)+t.r))})}function mge(e){return e.length!=1}function Xr(e){e.l+=1}function bl(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function PB(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return AB(e);r.biff==12&&(n=4)}var s=e.read_shift(n),i=e.read_shift(n),o=bl(e),a=bl(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function AB(e){var t=bl(e),r=bl(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function vge(e,t,r){if(r.biff<8)return AB(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=bl(e),o=bl(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function DB(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Cge(e);var n=e.read_shift(r&&r.biff==12?4:2),s=bl(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function Cge(e){var t=bl(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function yge(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function wge(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Sge(e);var s=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,a=(i&32768)>>15;if(i&=16383,a==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:a}}function Sge(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function xge(e,t,r){var n=(e[e.l++]&96)>>5,s=PB(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function Ege(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=PB(e,i,r);return[n,s,o]}function bge(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Rge(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,s]}function Tge(e,t,r){var n=(e[e.l++]&96)>>5,s=vge(e,t-1,r);return[n,s]}function Fge(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function XM(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Pge(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function Age(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Dge(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Mge(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Nge(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function MB(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Ige(e){return e.read_shift(2),MB(e)}function Oge(e){return e.read_shift(2),MB(e)}function Lge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=DB(e,0,r);return[n,s]}function kge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=wge(e,0,r);return[n,s]}function _ge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=DB(e,0,r);return[n,s,i]}function jge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[jme[s],OB[s],n]}function Bge(e,t,r){var n=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Gge(e);return[s,(i[0]===0?OB:_me)[i[1]]]}function Gge(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Hge(e,t,r){e.l+=r&&r.biff==2?3:4}function Vge(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function Wge(e){return e.l++,Wp[e.read_shift(1)]}function $ge(e){return e.l++,e.read_shift(2)}function Uge(e){return e.l++,e.read_shift(1)!==0}function zge(e){return e.l++,gh(e)}function Kge(e,t,r){return e.l++,fB(e,t-1,r)}function qge(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=_fe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Wp[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=gh(e);break;case 2:r[1]=Hfe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Yge(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?uu:$fe)(e));return s}function Xge(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var a=0;a!=s;++a)o[i][a]=qge(e,r.biff);return o}function Qge(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Jge(e,t,r){if(r.biff==5)return Zge(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[n,s,i]}function Zge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function eme(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function tme(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function rme(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function nme(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,s]}var sme=yo,ime=yo,ome=yo;function $p(e,t,r){return e.l+=2,[yge(e)]}function wR(e){return e.l+=6,[]}var ame=$p,lme=wR,cme=wR,ume=$p;function NB(e){return e.l+=2,[dB(e),e.read_shift(2)&1]}var dme=$p,hme=NB,fme=wR,pme=$p,gme=$p,mme=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vme(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=mme[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:s,C:i}}function Cme(e){return e.l+=2,[e.read_shift(4)]}function yme(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function wme(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Sme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function xme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Eme(e){return e.l+=4,[0,0]}var QM={1:{n:"PtgExp",f:Vge},2:{n:"PtgTbl",f:ome},3:{n:"PtgAdd",f:Xr},4:{n:"PtgSub",f:Xr},5:{n:"PtgMul",f:Xr},6:{n:"PtgDiv",f:Xr},7:{n:"PtgPower",f:Xr},8:{n:"PtgConcat",f:Xr},9:{n:"PtgLt",f:Xr},10:{n:"PtgLe",f:Xr},11:{n:"PtgEq",f:Xr},12:{n:"PtgGe",f:Xr},13:{n:"PtgGt",f:Xr},14:{n:"PtgNe",f:Xr},15:{n:"PtgIsect",f:Xr},16:{n:"PtgUnion",f:Xr},17:{n:"PtgRange",f:Xr},18:{n:"PtgUplus",f:Xr},19:{n:"PtgUminus",f:Xr},20:{n:"PtgPercent",f:Xr},21:{n:"PtgParen",f:Xr},22:{n:"PtgMissArg",f:Xr},23:{n:"PtgStr",f:Kge},26:{n:"PtgSheet",f:yme},27:{n:"PtgEndSheet",f:wme},28:{n:"PtgErr",f:Wge},29:{n:"PtgBool",f:Uge},30:{n:"PtgInt",f:$ge},31:{n:"PtgNum",f:zge},32:{n:"PtgArray",f:Fge},33:{n:"PtgFunc",f:jge},34:{n:"PtgFuncVar",f:Bge},35:{n:"PtgName",f:Qge},36:{n:"PtgRef",f:Lge},37:{n:"PtgArea",f:xge},38:{n:"PtgMemArea",f:eme},39:{n:"PtgMemErr",f:sme},40:{n:"PtgMemNoMem",f:ime},41:{n:"PtgMemFunc",f:tme},42:{n:"PtgRefErr",f:rme},43:{n:"PtgAreaErr",f:bge},44:{n:"PtgRefN",f:kge},45:{n:"PtgAreaN",f:Tge},46:{n:"PtgMemAreaN",f:Sme},47:{n:"PtgMemNoMemN",f:xme},57:{n:"PtgNameX",f:Jge},58:{n:"PtgRef3d",f:_ge},59:{n:"PtgArea3d",f:Ege},60:{n:"PtgRefErr3d",f:nme},61:{n:"PtgAreaErr3d",f:Rge},255:{}},bme={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Rme={1:{n:"PtgElfLel",f:NB},2:{n:"PtgElfRw",f:pme},3:{n:"PtgElfCol",f:ame},6:{n:"PtgElfRwV",f:gme},7:{n:"PtgElfColV",f:ume},10:{n:"PtgElfRadical",f:dme},11:{n:"PtgElfRadicalS",f:fme},13:{n:"PtgElfColS",f:lme},15:{n:"PtgElfColSV",f:cme},16:{n:"PtgElfRadicalLel",f:hme},25:{n:"PtgList",f:vme},29:{n:"PtgSxName",f:Cme},255:{}},Tme={0:{n:"PtgAttrNoop",f:Eme},1:{n:"PtgAttrSemi",f:Nge},2:{n:"PtgAttrIf",f:Dge},4:{n:"PtgAttrChoose",f:Pge},8:{n:"PtgAttrGoto",f:Age},16:{n:"PtgAttrSum",f:Hge},32:{n:"PtgAttrBaxcel",f:XM},33:{n:"PtgAttrBaxcel",f:XM},64:{n:"PtgAttrSpace",f:Ige},65:{n:"PtgAttrSpaceSemi",f:Oge},128:{n:"PtgAttrIfError",f:Mge},255:{}};function Fme(e,t,r,n){if(n.biff<8)return yo(e,t);for(var s=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Xge(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Yge(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&i.push(yo(e,t)),i}function Pme(e,t,r){for(var n=e.l+t,s,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],s=QM[i]||QM[bme[i]],(i===24||i===25)&&(s=(i===24?Rme:Tme)[e[e.l+1]]),!s||!s.f?yo(e,t):o.push([s.n,s.f(e,t,r)]);return o}function Ame(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var Dme={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Mme(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function IB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function JM(e,t,r){var n=IB(e,t,r);return n=="#REF"?n:Mme(n,r)}function zd(e,t,r,n,s){var i=s&&s.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},a=[],l,u,h,p=0,g=0,C,w="";if(!e[0]||!e[0][0])return"";for(var y=-1,S="",E=0,b=e[0].length;E<b;++E){var T=e[0][E];switch(T[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),u=a.pop(),y>=0){switch(e[0][y][1][0]){case 0:S=jr(" ",e[0][y][1][1]);break;case 1:S=jr("\r",e[0][y][1][1]);break;default:if(S="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}u=u+S,y=-1}a.push(u+Dme[T[0]]+l);break;case"PtgIsect":l=a.pop(),u=a.pop(),a.push(u+" "+l);break;case"PtgUnion":l=a.pop(),u=a.pop(),a.push(u+","+l);break;case"PtgRange":l=a.pop(),u=a.pop(),a.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=kf(T[1][1],o,s),a.push(_f(h,i));break;case"PtgRefN":h=r?kf(T[1][1],r,s):T[1][1],a.push(_f(h,i));break;case"PtgRef3d":p=T[1][1],h=kf(T[1][2],o,s),w=JM(n,p,s),a.push(w+"!"+_f(h,i));break;case"PtgFunc":case"PtgFuncVar":var R=T[1][0],P=T[1][1];R||(R=0),R&=127;var M=R==0?[]:a.slice(-R);a.length-=R,P==="User"&&(P=M.shift()),a.push(P+"("+M.join(",")+")");break;case"PtgBool":a.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(T[1]);break;case"PtgNum":a.push(String(T[1]));break;case"PtgStr":a.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(T[1]);break;case"PtgAreaN":C=kM(T[1][1],r?{s:r}:o,s),a.push(aS(C,s));break;case"PtgArea":C=kM(T[1][1],o,s),a.push(aS(C,s));break;case"PtgArea3d":p=T[1][1],C=T[1][2],w=JM(n,p,s),a.push(w+"!"+aS(C,s));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=T[1][2];var D=(n.names||[])[g-1]||(n[0]||[])[g],N=D?D.Name:"SH33TJSNAME"+String(g);N&&N.slice(0,6)=="_xlfn."&&!s.xlfn&&(N=N.slice(6)),a.push(N);break;case"PtgNameX":var O=T[1][1];g=T[1][2];var j;if(s.biff<=5)O<0&&(O=-O),n[O]&&(j=n[O][g]);else{var W="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][g]&&n[O][g].itab>0&&(W=n.SheetNames[n[O][g].itab-1]+"!"):W=n.SheetNames[g-1]+"!"),n[O]&&n[O][g])W+=n[O][g].Name;else if(n[0]&&n[0][g])W+=n[0][g].Name;else{var B=(IB(n,O,s)||"").split(";;");B[g-1]?W=B[g-1]:W+="SH33TJSERRX"}a.push(W);break}j||(j={Name:"SH33TJSERRY"}),a.push(j.Name);break;case"PtgParen":var oe="(",pe=")";if(y>=0){switch(S="",e[0][y][1][0]){case 2:oe=jr(" ",e[0][y][1][1])+oe;break;case 3:oe=jr("\r",e[0][y][1][1])+oe;break;case 4:pe=jr(" ",e[0][y][1][1])+pe;break;case 5:pe=jr("\r",e[0][y][1][1])+pe;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}a.push(oe+a.pop()+pe);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":h={c:T[1][1],r:T[1][0]};var Se={c:r.c,r:r.r};if(n.sharedf[cr(h)]){var we=n.sharedf[cr(h)];a.push(zd(we,o,Se,n,s))}else{var se=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){a.push(zd(u[1],o,Se,n,s)),se=!0;break}se||a.push(T[1])}break;case"PtgArray":a.push("{"+Ame(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var Z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&y>=0&&Z.indexOf(e[0][E][0])==-1){T=e[0][y];var ne=!0;switch(T[1][0]){case 4:ne=!1;case 0:S=jr(" ",T[1][1]);break;case 5:ne=!1;case 1:S=jr("\r",T[1][1]);break;default:if(S="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}a.push((ne?S:"")+a.pop()+(ne?"":S)),y=-1}}if(a.length>1&&s.WTF)throw new Error("bad formula stack");return a[0]}function Nme(e){if(e==null){var t=Te(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Vc(e);return Vc(0)}function Ime(e,t,r,n,s){var i=Wc(t,r,s),o=Nme(e.v),a=Te(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var u=Te(e.bf.length),h=0;h<e.bf.length;++h)u[h]=e.bf[h];var p=yn([i,o,a,u]);return p}function aC(e,t,r){var n=e.read_shift(4),s=Pme(e,n,r),i=e.read_shift(4),o=i>0?Fme(e,i,s,r):null;return[s,o]}var Ome=aC,lC=aC,Lme=aC,kme=aC,_me={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},OB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},jme={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Bme(e){var t="of:="+e.replace(CR,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Gme(e){return e.replace(/\./,"!")}var jf=typeof Map<"u";function SR(e,t,r){var n=0,s=e.length;if(r){if(jf?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=jf?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t},e.Count++,e.Unique++,r&&(jf?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function cC(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(ra=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=c0(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=a1(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function LB(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Ol(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){Dj(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===n)return s;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Hme(e,t,r){if(e&&e["!ref"]){var n=br(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Vme(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Qr(e[r])+'"/>';return t+"</mergeCells>"}function Wme(e,t,r,n,s){var i=!1,o={},a=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,o.codeName=cp(lr(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),a=(a||"")+Xe("outlinePr",null,u)}!i&&!a||(s[s.length]=Xe("sheetPr",a,o))}var $me=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Ume=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function zme(e){var t={sheet:1};return $me.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Ume.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=CB(e.password).toString(16).toUpperCase()),Xe("sheetProtection",null,t)}function Kme(e){return LB(e),Xe("pageMargins",null,e)}function qme(e,t){for(var r=["<cols>"],n,s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=Xe("col",null,cC(s,n)));return r[r.length]="</cols>",r.join("")}function Yme(e,t,r,n){var s=typeof e.ref=="string"?e.ref:Qr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Xs(s);o.s.r==o.e.r&&(o.e.r=Xs(t["!ref"]).e.r,s=Qr(o));for(var a=0;a<i.length;++a){var l=i[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return a==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Xe("autoFilter",null,{ref:s})}function Xme(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Xe("sheetViews",Xe("sheetView",null,s),{})}function Qme(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=Wp[e.v];break;case"d":n&&n.cellDates?s=os(e.v,-1).toISOString():(e=Ts(e),e.t="n",s=""+(e.v=Rs(os(e.v)))),typeof e.z>"u"&&(e.z=Vr[14]);break;default:s=e.v;break}var a=wn("v",lr(s)),l={r:t},u=Ol(n.cellXfs,e,n);switch(u!==0&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){a=wn("v",""+SR(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=Xe("f",lr(e.f),h)+(e.v!=null?a:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),Xe("c",a,l)}function Jme(e,t,r,n){var s=[],i=[],o=br(e["!ref"]),a="",l,u="",h=[],p=0,g=0,C=e["!rows"],w=Array.isArray(e),y={r:u},S,E=-1;for(g=o.s.c;g<=o.e.c;++g)h[g]=Ln(g);for(p=o.s.r;p<=o.e.r;++p){for(i=[],u=xn(p),g=o.s.c;g<=o.e.c;++g){l=h[g]+u;var b=w?(e[p]||[])[g]:e[l];b!==void 0&&(a=Qme(b,l,e,t))!=null&&i.push(a)}(i.length>0||C&&C[p])&&(y={r:u},C&&C[p]&&(S=C[p],S.hidden&&(y.hidden=1),E=-1,S.hpx?E=u0(S.hpx):S.hpt&&(E=S.hpt),E>-1&&(y.ht=E,y.customHeight=1),S.level&&(y.outlineLevel=S.level)),s[s.length]=Xe("row",i.join(""),y))}if(C)for(;p<C.length;++p)C&&C[p]&&(y={r:p+1},S=C[p],S.hidden&&(y.hidden=1),E=-1,S.hpx?E=u0(S.hpx):S.hpt&&(E=S.hpt),E>-1&&(y.ht=E,y.customHeight=1),S.level&&(y.outlineLevel=S.level),s[s.length]=Xe("row","",y));return s.join("")}function kB(e,t,r,n){var s=[Zr,Xe("worksheet",null,{xmlns:hh[0],"xmlns:r":un.r})],i=r.SheetNames[e],o=0,a="",l=r.Sheets[i];l==null&&(l={});var u=l["!ref"]||"A1",h=br(u);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=Qr(h)}n||(n={}),l["!comments"]=[];var p=[];Wme(l,r,e,t,s),s[s.length]=Xe("dimension",null,{ref:u}),s[s.length]=Xme(l,t,e,r),t.sheetFormat&&(s[s.length]=Xe("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(s[s.length]=qme(l,l["!cols"])),s[o=s.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=Jme(l,t),a.length>0&&(s[s.length]=a)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),l["!protect"]&&(s[s.length]=zme(l["!protect"])),l["!autofilter"]!=null&&(s[s.length]=Yme(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(s[s.length]=Vme(l["!merges"]));var g=-1,C,w=-1;return l["!links"].length>0&&(s[s.length]="<hyperlinks>",l["!links"].forEach(function(y){y[1].Target&&(C={ref:y[0]},y[1].Target.charAt(0)!="#"&&(w=ar(n,-1,lr(y[1].Target).replace(/#.*$/,""),Kt.HLINK),C["r:id"]="rId"+w),(g=y[1].Target.indexOf("#"))>-1&&(C.location=lr(y[1].Target.slice(g+1))),y[1].Tooltip&&(C.tooltip=lr(y[1].Tooltip)),s[s.length]=Xe("hyperlink",null,C))}),s[s.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(s[s.length]=Kme(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=wn("ignoredErrors",Xe("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(w=ar(n,-1,"../drawings/drawing"+(e+1)+".xml",Kt.DRAW),s[s.length]=Xe("drawing",null,{"r:id":"rId"+w}),l["!drawing"]=p),l["!comments"].length>0&&(w=ar(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Kt.VML),s[s.length]=Xe("legacyDrawing",null,{"r:id":"rId"+w}),l["!legacy"]=w),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Zme(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function eve(e,t,r){var n=Te(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;s.hpx?i=u0(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var a=0,l=n.l;n.l+=4;for(var u={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var p=-1,g=-1,C=h<<10;C<h+1<<10;++C){u.c=C;var w=Array.isArray(r)?(r[u.r]||[])[u.c]:r[cr(u)];w&&(p<0&&(p=C),g=C)}p<0||(++a,n.write_shift(4,p),n.write_shift(4,g))}var y=n.l;return n.l=l,n.write_shift(4,a),n.l=y,n.length>n.l?n.slice(0,n.l):n}function tve(e,t,r,n){var s=eve(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&Ie(e,0,s)}var rve=uu,nve=ph;function sve(){}function ive(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=gfe(e),r}function ove(e,t,r){r==null&&(r=Te(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return o0({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Qj(e,r),r.slice(0,r.l)}function ave(e){var t=Ci(e);return[t]}function lve(e,t,r){return r==null&&(r=Te(8)),au(t,r)}function cve(e){var t=lu(e);return[t]}function uve(e,t,r){return r==null&&(r=Te(4)),cu(t,r)}function dve(e){var t=Ci(e),r=e.read_shift(1);return[t,r,"b"]}function hve(e,t,r){return r==null&&(r=Te(9)),au(t,r),r.write_shift(1,e.v?1:0),r}function fve(e){var t=lu(e),r=e.read_shift(1);return[t,r,"b"]}function pve(e,t,r){return r==null&&(r=Te(5)),cu(t,r),r.write_shift(1,e.v?1:0),r}function gve(e){var t=Ci(e),r=e.read_shift(1);return[t,r,"e"]}function mve(e,t,r){return r==null&&(r=Te(9)),au(t,r),r.write_shift(1,e.v),r}function vve(e){var t=lu(e),r=e.read_shift(1);return[t,r,"e"]}function Cve(e,t,r){return r==null&&(r=Te(8)),cu(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function yve(e){var t=Ci(e),r=e.read_shift(4);return[t,r,"s"]}function wve(e,t,r){return r==null&&(r=Te(12)),au(t,r),r.write_shift(4,t.v),r}function Sve(e){var t=lu(e),r=e.read_shift(4);return[t,r,"s"]}function xve(e,t,r){return r==null&&(r=Te(8)),cu(t,r),r.write_shift(4,t.v),r}function Eve(e){var t=Ci(e),r=gh(e);return[t,r,"n"]}function bve(e,t,r){return r==null&&(r=Te(16)),au(t,r),Vc(e.v,r),r}function Rve(e){var t=lu(e),r=gh(e);return[t,r,"n"]}function Tve(e,t,r){return r==null&&(r=Te(12)),cu(t,r),Vc(e.v,r),r}function Fve(e){var t=Ci(e),r=Jj(e);return[t,r,"n"]}function Pve(e,t,r){return r==null&&(r=Te(12)),au(t,r),Zj(e.v,r),r}function Ave(e){var t=lu(e),r=Jj(e);return[t,r,"n"]}function Dve(e,t,r){return r==null&&(r=Te(8)),cu(t,r),Zj(e.v,r),r}function Mve(e){var t=Ci(e),r=fR(e);return[t,r,"is"]}function Nve(e){var t=Ci(e),r=kn(e);return[t,r,"str"]}function Ive(e,t,r){return r==null&&(r=Te(12+4*e.v.length)),au(t,r),hn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Ove(e){var t=lu(e),r=kn(e);return[t,r,"str"]}function Lve(e,t,r){return r==null&&(r=Te(8+4*e.v.length)),cu(t,r),hn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function kve(e,t,r){var n=e.l+t,s=Ci(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(r.cellFormula){e.l+=2;var a=lC(e,n-e.l,r);o[3]=zd(a,null,s,r.supbooks,r)}else e.l=n;return o}function _ve(e,t,r){var n=e.l+t,s=Ci(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(r.cellFormula){e.l+=2;var a=lC(e,n-e.l,r);o[3]=zd(a,null,s,r.supbooks,r)}else e.l=n;return o}function jve(e,t,r){var n=e.l+t,s=Ci(e);s.r=r["!row"];var i=gh(e),o=[s,i,"n"];if(r.cellFormula){e.l+=2;var a=lC(e,n-e.l,r);o[3]=zd(a,null,s,r.supbooks,r)}else e.l=n;return o}function Bve(e,t,r){var n=e.l+t,s=Ci(e);s.r=r["!row"];var i=kn(e),o=[s,i,"str"];if(r.cellFormula){e.l+=2;var a=lC(e,n-e.l,r);o[3]=zd(a,null,s,r.supbooks,r)}else e.l=n;return o}var Gve=uu,Hve=ph;function Vve(e,t){return t==null&&(t=Te(4)),t.write_shift(4,e),t}function Wve(e,t){var r=e.l+t,n=uu(e),s=pR(e),i=kn(e),o=kn(e),a=kn(e);e.l=r;var l={rfx:n,relId:s,loc:i,display:a};return o&&(l.Tooltip=o),l}function $ve(e,t){var r=Te(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));ph({s:dn(e[0]),e:dn(e[0])},r),gR("rId"+t,r);var n=e[1].Target.indexOf("#"),s=n==-1?"":e[1].Target.slice(n+1);return hn(s||"",r),hn(e[1].Tooltip||"",r),hn("",r),r.slice(0,r.l)}function Uve(){}function zve(e,t,r){var n=e.l+t,s=eB(e),i=e.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var a=Ome(e,n-e.l,r);o[1]=a}else e.l=n;return o}function Kve(e,t,r){var n=e.l+t,s=uu(e),i=[s];if(r.cellFormula){var o=kme(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function qve(e,t,r){r==null&&(r=Te(18));var n=cC(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var _B=["left","right","top","bottom","header","footer"];function Yve(e){var t={};return _B.forEach(function(r){t[r]=gh(e)}),t}function Xve(e,t){return t==null&&(t=Te(6*8)),LB(e),_B.forEach(function(r){Vc(e[r],t)}),t}function Qve(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Jve(e,t,r){r==null&&(r=Te(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Zve(e){var t=Te(24);return t.write_shift(4,4),t.write_shift(4,1),ph(e,t),t}function e0e(e,t){return t==null&&(t=Te(16*4+2)),t.write_shift(2,e.password?CB(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function t0e(){}function r0e(){}function n0e(e,t,r,n,s,i,o){if(t.v===void 0)return!1;var a="";switch(t.t){case"b":a=t.v?"1":"0";break;case"d":t=Ts(t),t.z=t.z||Vr[14],t.v=Rs(os(t.v)),t.t="n";break;case"n":case"e":a=""+t.v;break;default:a=t.v;break}var l={r,c:n};switch(l.s=Ol(s.cellXfs,t,s),t.l&&i["!links"].push([cr(l),t.l]),t.c&&i["!comments"].push([cr(l),t.c]),t.t){case"s":case"str":return s.bookSST?(a=SR(s.Strings,t.v,s.revStrings),l.t="s",l.v=a,o?Ie(e,18,xve(t,l)):Ie(e,7,wve(t,l))):(l.t="str",o?Ie(e,17,Lve(t,l)):Ie(e,6,Ive(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Ie(e,13,Dve(t,l)):Ie(e,2,Pve(t,l)):o?Ie(e,16,Tve(t,l)):Ie(e,5,bve(t,l)),!0;case"b":return l.t="b",o?Ie(e,15,pve(t,l)):Ie(e,4,hve(t,l)),!0;case"e":return l.t="e",o?Ie(e,14,Cve(t,l)):Ie(e,3,mve(t,l)),!0}return o?Ie(e,12,uve(t,l)):Ie(e,1,lve(t,l)),!0}function s0e(e,t,r,n){var s=br(t["!ref"]||"A1"),i,o="",a=[];Ie(e,145);var l=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var h=s.s.r;h<=u;++h){o=xn(h),tve(e,t,s,h);var p=!1;if(h<=s.e.r)for(var g=s.s.c;g<=s.e.c;++g){h===s.s.r&&(a[g]=Ln(g)),i=a[g]+o;var C=l?(t[h]||[])[g]:t[i];if(!C){p=!1;continue}p=n0e(e,C,h,g,n,t,p)}}Ie(e,146)}function i0e(e,t){!t||!t["!merges"]||(Ie(e,177,Vve(t["!merges"].length)),t["!merges"].forEach(function(r){Ie(e,176,Hve(r))}),Ie(e,178))}function o0e(e,t){!t||!t["!cols"]||(Ie(e,390),t["!cols"].forEach(function(r,n){r&&Ie(e,60,qve(n,r))}),Ie(e,391))}function a0e(e,t){!t||!t["!ref"]||(Ie(e,648),Ie(e,649,Zve(br(t["!ref"]))),Ie(e,650))}function l0e(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var s=ar(r,-1,n[1].Target.replace(/#.*$/,""),Kt.HLINK);Ie(e,494,$ve(n,s))}}),delete t["!links"]}function c0e(e,t,r,n){if(t["!comments"].length>0){var s=ar(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Kt.VML);Ie(e,551,gR("rId"+s)),t["!legacy"]=s}}function u0e(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:Qr(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,a=Xs(i);a.s.r==a.e.r&&(a.e.r=Xs(t["!ref"]).e.r,i=Qr(a));for(var l=0;l<o.length;++l){var u=o[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ie(e,161,ph(br(i))),Ie(e,162)}}function d0e(e,t,r){Ie(e,133),Ie(e,137,Jve(t,r)),Ie(e,138),Ie(e,134)}function h0e(e,t){t["!protect"]&&Ie(e,535,e0e(t["!protect"]))}function f0e(e,t,r,n){var s=bs(),i=r.SheetNames[e],o=r.Sheets[i]||{},a=i;try{r&&r.Workbook&&(a=r.Workbook.Sheets[e].CodeName||a)}catch{}var l=br(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ie(s,129),(r.vbaraw||o["!outline"])&&Ie(s,147,ove(a,o["!outline"])),Ie(s,148,nve(l)),d0e(s,o,r.Workbook),o0e(s,o),s0e(s,o,e,t),h0e(s,o),u0e(s,o,r,e),i0e(s,o),l0e(s,o,n),o["!margins"]&&Ie(s,476,Xve(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&a0e(s,o),c0e(s,o,e,n),Ie(s,130),s.end()}function p0e(e,t){e.l+=10;var r=kn(e);return{name:r}}var g0e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function m0e(e){return!e.Workbook||!e.Workbook.WBProps?"false":Khe(e.Workbook.WBProps.date1904)?"true":"false"}var v0e="][*?/\\".split("");function jB(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return v0e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function C0e(e,t,r){e.forEach(function(n,s){jB(n);for(var i=0;i<s;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[s]&&t[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function y0e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];C0e(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Hme(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function BB(e){var t=[Zr];t[t.length]=Xe("workbook",null,{xmlns:hh[0],"xmlns:r":un.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(g0e.forEach(function(a){e.Workbook.WBProps[a[0]]!=null&&e.Workbook.WBProps[a[0]]!=a[1]&&(n[a[0]]=e.Workbook.WBProps[a[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Xe("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:lr(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Xe("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(t[t.length]=Xe("definedName",lr(a.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function w0e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=o1(e),r.name=kn(e),r}function S0e(e,t){return t||(t=Te(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),gR(e.strRelID,t),hn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function x0e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?kn(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function E0e(e,t){t||(t=Te(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Qj(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function b0e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=mfe(e),o=Lme(e,0,r),a=pR(e);e.l=n;var l={Name:i,Ptg:o};return s<268435455&&(l.Sheet=s),a&&(l.Comment=a),l}function R0e(e,t){Ie(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ie(e,156,S0e(s))}Ie(e,144)}function T0e(e,t){t||(t=Te(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return hn("SheetJS",t),hn(Zv.version,t),hn(Zv.version,t),hn("7262",t),t.length>t.l?t.slice(0,t.l):t}function F0e(e,t){t||(t=Te(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function P0e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(Ie(e,135),Ie(e,158,F0e(s)),Ie(e,136))}}function A0e(e,t){var r=bs();return Ie(r,131),Ie(r,128,T0e()),Ie(r,153,E0e(e.Workbook&&e.Workbook.WBProps||null)),P0e(r,e),R0e(r,e),Ie(r,132),r.end()}function D0e(e,t,r){return(t.slice(-4)===".bin"?A0e:BB)(e)}function M0e(e,t,r,n,s){return(t.slice(-4)===".bin"?f0e:kB)(e,r,n,s)}function N0e(e,t,r){return(t.slice(-4)===".bin"?Xpe:SB)(e,r)}function I0e(e,t,r){return(t.slice(-4)===".bin"?Epe:vB)(e,r)}function O0e(e,t,r){return(t.slice(-4)===".bin"?hge:TB)(e)}function L0e(e){return(e.slice(-4)===".bin"?sge:bB)()}function k0e(e,t){var r=[];return e.Props&&r.push(Nfe(e.Props,t)),e.Custprops&&r.push(Ife(e.Props,e.Custprops)),r.join("")}function _0e(){return""}function j0e(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,s){var i=[];i.push(Xe("NumberFormat",null,{"ss:Format":lr(Vr[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(Xe("Style",i.join(""),o))}),Xe("Styles",r.join(""))}function GB(e){return Xe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+yR(e.Ref,{r:0,c:0})})}function B0e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(GB(s)))}return Xe("Names",r.join(""))}function G0e(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],o=0;o<s.length;++o){var a=s[o];a.Sheet==r&&(a.Name.match(/^_xlfn\./)||i.push(GB(a)))}return i.join("")}function H0e(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(Xe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(Xe("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(Xe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(Xe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(wn("ProtectContents","True")),e["!protect"].objects&&s.push(wn("ProtectObjects","True")),e["!protect"].scenarios&&s.push(wn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(wn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(wn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":Xe("WorksheetOptions",s.join(""),{xmlns:Gs.x})}function V0e(e){return e.map(function(t){var r=zhe(t.t||""),n=Xe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Xe("Comment",n,{"ss:Author":t.a})}).join("")}function W0e(e,t,r,n,s,i,o){if(!e||e.v==null&&e.f==null)return"";var a={};if(e.f&&(a["ss:Formula"]="="+lr(yR(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=dn(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=lr(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=lr(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],h=0;h!=u.length;++h)u[h].s.c!=o.c||u[h].s.r!=o.r||(u[h].e.c>u[h].s.c&&(a["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(a["ss:MergeDown"]=u[h].e.r-u[h].s.r));var p="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(e.v);break;case"b":p="Boolean",g=e.v?"1":"0";break;case"e":p="Error",g=Wp[e.v];break;case"d":p="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Vr[14]);break;case"s":p="String",g=Uhe(e.v||"");break}var C=Ol(n.cellXfs,e,n);a["ss:StyleID"]="s"+(21+C),a["ss:Index"]=o.c+1;var w=e.v!=null?g:"",y=e.t=="z"?"":'<Data ss:Type="'+p+'">'+w+"</Data>";return(e.c||[]).length>0&&(y+=V0e(e.c)),Xe("Cell",y,a)}function $0e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=wB(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function U0e(e,t,r,n){if(!e["!ref"])return"";var s=br(e["!ref"]),i=e["!merges"]||[],o=0,a=[];e["!cols"]&&e["!cols"].forEach(function(S,E){vR(S);var b=!!S.width,T=cC(E,S),R={"ss:Index":E+1};b&&(R["ss:Width"]=l0(T.width)),S.hidden&&(R["ss:Hidden"]="1"),a.push(Xe("Column",null,R))});for(var l=Array.isArray(e),u=s.s.r;u<=s.e.r;++u){for(var h=[$0e(u,(e["!rows"]||[])[u])],p=s.s.c;p<=s.e.c;++p){var g=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>p)&&!(i[o].s.r>u)&&!(i[o].e.c<p)&&!(i[o].e.r<u)){(i[o].s.c!=p||i[o].s.r!=u)&&(g=!0);break}if(!g){var C={r:u,c:p},w=cr(C),y=l?(e[u]||[])[p]:e[w];h.push(W0e(y,w,e,t,r,n,C))}}h.push("</Row>"),h.length>2&&a.push(h.join(""))}return a.join("")}function z0e(e,t,r){var n=[],s=r.SheetNames[e],i=r.Sheets[s],o=i?G0e(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?U0e(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(H0e(i,t,e,r)),n.join("")}function K0e(e,t){t||(t={}),e.SSF||(e.SSF=Ts(Vr)),e.SSF&&(sC(),nC(e.SSF),t.revssf=iC(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ol(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(k0e(e,t)),r.push(_0e()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Xe("Worksheet",z0e(n,t,e),{"ss:Name":lr(e.SheetNames[n])}));return r[2]=j0e(e,t),r[3]=B0e(e),Zr+Xe("Workbook",r.join(""),{xmlns:Gs.ss,"xmlns:o":Gs.o,"xmlns:x":Gs.x,"xmlns:ss":Gs.ss,"xmlns:dt":Gs.dt,"xmlns:html":Gs.html})}var uS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function q0e(e,t){var r=[],n=[],s=[],i=0,o,a=RM(jM,"n"),l=RM(BM,"n");if(e.Props)for(o=En(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(a,o[i])?r:Object.prototype.hasOwnProperty.call(l,o[i])?n:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=En(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(a,o[i])?r:Object.prototype.hasOwnProperty.call(l,o[i])?n:s).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<s.length;++i)uB.indexOf(s[i][0])>-1||aB.indexOf(s[i][0])>-1||s[i][1]!=null&&u.push(s[i]);n.length&&ur.utils.cfb_add(t,"/SummaryInformation",$M(n,uS.SI,l,BM)),(r.length||u.length)&&ur.utils.cfb_add(t,"/DocumentSummaryInformation",$M(r,uS.DSI,a,jM,u.length?u:null,uS.UDI))}function Y0e(e,t){var r=t||{},n=ur.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return ur.utils.cfb_add(n,s,HB(e,r)),r.biff==8&&(e.Props||e.Custprops)&&q0e(e,n),r.biff==8&&e.vbaraw&&fge(n,ur.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var X0e={0:{f:Zme},1:{f:ave},2:{f:Fve},3:{f:gve},4:{f:dve},5:{f:Eve},6:{f:Nve},7:{f:yve},8:{f:Bve},9:{f:jve},10:{f:kve},11:{f:_ve},12:{f:cve},13:{f:Ave},14:{f:vve},15:{f:fve},16:{f:Rve},17:{f:Ove},18:{f:Sve},19:{f:fR},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:b0e},40:{},42:{},43:{f:Npe},44:{f:Dpe},45:{f:Lpe},46:{f:_pe},47:{f:kpe},48:{},49:{f:cfe},50:{},51:{f:Zpe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:upe},62:{f:Mve},63:{f:ige},64:{f:t0e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:yo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Qve},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:ive},148:{f:rve,p:16},151:{f:Uve},152:{},153:{f:x0e},154:{},155:{},156:{f:w0e},157:{},158:{},159:{T:1,f:wpe},160:{T:-1},161:{T:1,f:uu},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Gve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Qpe},336:{T:-1},337:{f:rge,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:o1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:spe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:zve},427:{f:Kve},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Yve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:sve},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Wve},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:o1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:uge},633:{T:1},634:{T:-1},635:{T:1,f:lge},636:{T:-1},637:{f:ffe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:p0e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:r0e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Qe(e,t,r,n){var s=t;if(!isNaN(s)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&uR(r)&&e.push(r)}}function Q0e(e,t,r,n){var s=(r||[]).length||0;if(s<=8224)return Qe(e,t,r,s);var i=t;if(!isNaN(i)){for(var o=r.parts||[],a=0,l=0,u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u;l<s;){for(h=e.next(4),h.write_shift(2,60),u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;h.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u}}}function Up(e,t,r){return e||(e=Te(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function J0e(e,t,r,n){var s=Te(9);return Up(s,e,t),hB(r,n||"b",s),s}function Z0e(e,t,r){var n=Te(8+2*r.length);return Up(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function eCe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Rs(os(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Qe(e,2,ppe(r,n,s)):Qe(e,3,fpe(r,n,s));return;case"b":case"e":Qe(e,5,J0e(r,n,t.v,t.t));return;case"s":case"str":Qe(e,4,Z0e(r,n,(t.v||"").slice(0,255)));return}Qe(e,1,Up(null,r,n))}function tCe(e,t,r,n){var s=Array.isArray(t),i=br(t["!ref"]||"A1"),o,a="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Qr(i)}for(var u=i.s.r;u<=i.e.r;++u){a=xn(u);for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(l[h]=Ln(h)),o=l[h]+a;var p=s?(t[u]||[])[h]:t[o];p&&eCe(e,p,u,h)}}}function rCe(e,t){for(var r=t||{},n=bs(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Qe(n,r.biff==4?1033:r.biff==3?521:9,mR(e,16,r)),tCe(n,e.Sheets[e.SheetNames[s]],s,r),Qe(n,10),n.end()}function nCe(e,t,r){Qe(e,49,Xfe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function sCe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Qe(e,1054,Zfe(s,t[s],r))})}function iCe(e,t){var r=Te(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Qe(e,2151,r),r=Te(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),gB(br(t["!ref"]||"A1"),r),r.write_shift(4,4),Qe(e,2152,r)}function oCe(e,t){for(var r=0;r<16;++r)Qe(e,224,zM({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Qe(e,224,zM(n,0,t))})}function aCe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Qe(e,440,ape(n)),n[1].Tooltip&&Qe(e,2048,lpe(n))}delete t["!links"]}function lCe(e,t){if(t){var r=0;t.forEach(function(n,s){++r<=256&&n&&Qe(e,125,dpe(cC(s,n),s))})}}function cCe(e,t,r,n,s){var i=16+Ol(s.cellXfs,t,s);if(t.v==null&&!t.bf){Qe(e,513,Wc(r,n,i));return}if(t.bf)Qe(e,6,Ime(t,r,n,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Rs(os(t.v)):t.v;Qe(e,515,npe(r,n,o,i));break;case"b":case"e":Qe(e,517,rpe(r,n,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var a=SR(s.Strings,t.v,s.revStrings);Qe(e,253,Qfe(r,n,a,i))}else Qe(e,516,Jfe(r,n,(t.v||"").slice(0,255),i,s));break;default:Qe(e,513,Wc(r,n,i))}}function uCe(e,t,r){var n=bs(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},a=(o.Sheets||[])[e]||{},l=Array.isArray(i),u=t.biff==8,h,p="",g=[],C=br(i["!ref"]||"A1"),w=u?65536:16384;if(C.e.c>255||C.e.r>=w){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");C.e.c=Math.min(C.e.c,255),C.e.r=Math.min(C.e.c,w-1)}Qe(n,2057,mR(r,16,t)),Qe(n,13,di(1)),Qe(n,12,di(100)),Qe(n,15,Kn(!0)),Qe(n,17,Kn(!1)),Qe(n,16,Vc(.001)),Qe(n,95,Kn(!0)),Qe(n,42,Kn(!1)),Qe(n,43,Kn(!1)),Qe(n,130,di(1)),Qe(n,128,tpe()),Qe(n,131,Kn(!1)),Qe(n,132,Kn(!1)),u&&lCe(n,i["!cols"]),Qe(n,512,epe(C,t)),u&&(i["!links"]=[]);for(var y=C.s.r;y<=C.e.r;++y){p=xn(y);for(var S=C.s.c;S<=C.e.c;++S){y===C.s.r&&(g[S]=Ln(S)),h=g[S]+p;var E=l?(i[y]||[])[S]:i[h];E&&(cCe(n,E,y,S,t),u&&E.l&&i["!links"].push([h,E.l]))}}var b=a.CodeName||a.name||s;return u&&Qe(n,574,Yfe((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Qe(n,229,ope(i["!merges"])),u&&aCe(n,i),Qe(n,442,pB(b)),u&&iCe(n,i),Qe(n,10),n.end()}function dCe(e,t,r){var n=bs(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},a=r.biff==8,l=r.biff==5;if(Qe(n,2057,mR(e,5,r)),r.bookType=="xla"&&Qe(n,135),Qe(n,225,a?di(1200):null),Qe(n,193,kfe(2)),l&&Qe(n,191),l&&Qe(n,192),Qe(n,226),Qe(n,92,Ufe("SheetJS",r)),Qe(n,66,di(a?1200:1252)),a&&Qe(n,353,di(0)),a&&Qe(n,448),Qe(n,317,hpe(e.SheetNames.length)),a&&e.vbaraw&&Qe(n,211),a&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Qe(n,442,pB(u))}Qe(n,156,di(17)),Qe(n,25,Kn(!1)),Qe(n,18,Kn(!1)),Qe(n,19,di(0)),a&&Qe(n,431,Kn(!1)),a&&Qe(n,444,di(0)),Qe(n,61,qfe()),Qe(n,64,Kn(!1)),Qe(n,141,di(0)),Qe(n,34,Kn(m0e(e)=="true")),Qe(n,14,Kn(!0)),a&&Qe(n,439,Kn(!1)),Qe(n,218,di(0)),nCe(n,e,r),sCe(n,e.SSF,r),oCe(n,r),a&&Qe(n,352,Kn(!1));var h=n.end(),p=bs();a&&Qe(p,140,cpe()),a&&r.Strings&&Q0e(p,252,Kfe(r.Strings)),Qe(p,10);var g=p.end(),C=bs(),w=0,y=0;for(y=0;y<e.SheetNames.length;++y)w+=(a?12:11)+(a?2:1)*e.SheetNames[y].length;var S=h.length+w+g.length;for(y=0;y<e.SheetNames.length;++y){var E=i[y]||{};Qe(C,133,zfe({pos:S,hs:E.Hidden||0,dt:0,name:e.SheetNames[y]},r)),S+=t[y].length}var b=C.end();if(w!=b.length)throw new Error("BS8 "+w+" != "+b.length);var T=[];return h.length&&T.push(h),b.length&&T.push(b),g.length&&T.push(g),yn(T)}function hCe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Ts(Vr)),e&&e.SSF&&(sC(),nC(e.SSF),r.revssf=iC(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,xR(r),r.cellXfs=[],Ol(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=uCe(s,r,e);return n.unshift(dCe(e,n,r)),yn(n)}function HB(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var s=Xs(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return hCe(e,t);case 4:case 3:case 2:return rCe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function fCe(e,t,r,n){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,l=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>o)&&!(s[u].e.r<r||s[u].e.c<o)){if(s[u].s.r<r||s[u].s.c<o){a=-1;break}a=s[u].e.r-s[u].s.r+1,l=s[u].e.c-s[u].s.c+1;break}if(!(a<0)){var h=cr({r,c:o}),p=n.dense?(e[r]||[])[o]:e[h],g=p&&p.v!=null&&(p.h||$he(p.w||(da(p),p.w)||""))||"",C={};a>1&&(C.rowspan=a),l>1&&(C.colspan=l),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(C["data-t"]=p&&p.t||"z",p.v!=null&&(C["data-v"]=p.v),p.z!=null&&(C["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),C.id=(n.id||"sjs")+"-"+h,i.push(Xe("td",g,C))}}var w="<tr>";return w+i.join("")+"</tr>"}var pCe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',gCe="</body></html>";function mCe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function VB(e,t){var r=t||{},n=r.header!=null?r.header:pCe,s=r.footer!=null?r.footer:gCe,i=[n],o=Xs(e["!ref"]);r.dense=Array.isArray(e),i.push(mCe(e,o,r));for(var a=o.s.r;a<=o.e.r;++a)i.push(fCe(e,o,a,r));return i.push("</table>"+s),i.join("")}function WB(e,t,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?dn(n.origin):n.origin;s=o.r,i=o.c}var a=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,a.length),u={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var h=Xs(e["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),s==-1&&(u.e.r=s=h.e.r+1)}var p=[],g=0,C=e["!rows"]||(e["!rows"]=[]),w=0,y=0,S=0,E=0,b=0,T=0;for(e["!cols"]||(e["!cols"]=[]);w<a.length&&y<l;++w){var R=a[w];if(ZM(R)){if(n.display)continue;C[y]={hidden:!0}}var P=R.children;for(S=E=0;S<P.length;++S){var M=P[S];if(!(n.display&&ZM(M))){var D=M.hasAttribute("data-v")?M.getAttribute("data-v"):M.hasAttribute("v")?M.getAttribute("v"):qhe(M.innerHTML),N=M.getAttribute("data-z")||M.getAttribute("z");for(g=0;g<p.length;++g){var O=p[g];O.s.c==E+i&&O.s.r<y+s&&y+s<=O.e.r&&(E=O.e.c+1-i,g=-1)}T=+M.getAttribute("colspan")||1,((b=+M.getAttribute("rowspan")||1)>1||T>1)&&p.push({s:{r:y+s,c:E+i},e:{r:y+s+(b||1)-1,c:E+i+(T||1)-1}});var j={t:"s",v:D},W=M.getAttribute("data-t")||M.getAttribute("t")||"";D!=null&&(D.length==0?j.t=W||"z":n.raw||D.trim().length==0||W=="s"||(D==="TRUE"?j={t:"b",v:!0}:D==="FALSE"?j={t:"b",v:!1}:isNaN(ta(D))?isNaN(lp(D).getDate())||(j={t:"d",v:os(D)},n.cellDates||(j={t:"n",v:Rs(j.v)}),j.z=n.dateNF||Vr[14]):j={t:"n",v:ta(D)})),j.z===void 0&&N!=null&&(j.z=N);var B="",oe=M.getElementsByTagName("A");if(oe&&oe.length)for(var pe=0;pe<oe.length&&!(oe[pe].hasAttribute("href")&&(B=oe[pe].getAttribute("href"),B.charAt(0)!="#"));++pe);B&&B.charAt(0)!="#"&&(j.l={Target:B}),n.dense?(e[y+s]||(e[y+s]=[]),e[y+s][E+i]=j):e[cr({c:E+i,r:y+s})]=j,u.e.c<E+i&&(u.e.c=E+i),E+=T}}++y}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,y-1+s),e["!ref"]=Qr(u),y>=l&&(e["!fullref"]=Qr((u.e.r=a.length-w+y-1+s,u))),e}function $B(e,t){var r=t||{},n=r.dense?[]:{};return WB(n,e,t)}function vCe(e,t){return ou($B(e,t),t)}function ZM(e){var t="",r=CCe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function CCe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var yCe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+up({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Zr+t}}(),eN=function(){var e=function(i){return lr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,a){var l=[];l.push('      <table:table table:name="'+lr(o.SheetNames[a])+`" table:style-name="ta1">
`);var u=0,h=0,p=Xs(i["!ref"]||"A1"),g=i["!merges"]||[],C=0,w=Array.isArray(i);if(i["!cols"])for(h=0;h<=p.e.c;++h)l.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var y="",S=i["!rows"]||[];for(u=0;u<p.s.r;++u)y=S[u]?' table:style-name="ro'+S[u].ods+'"':"",l.push("        <table:table-row"+y+`></table:table-row>
`);for(;u<=p.e.r;++u){for(y=S[u]?' table:style-name="ro'+S[u].ods+'"':"",l.push("        <table:table-row"+y+`>
`),h=0;h<p.s.c;++h)l.push(t);for(;h<=p.e.c;++h){var E=!1,b={},T="";for(C=0;C!=g.length;++C)if(!(g[C].s.c>h)&&!(g[C].s.r>u)&&!(g[C].e.c<h)&&!(g[C].e.r<u)){(g[C].s.c!=h||g[C].s.r!=u)&&(E=!0),b["table:number-columns-spanned"]=g[C].e.c-g[C].s.c+1,b["table:number-rows-spanned"]=g[C].e.r-g[C].s.r+1;break}if(E){l.push(r);continue}var R=cr({r:u,c:h}),P=w?(i[u]||[])[h]:i[R];if(P&&P.f&&(b["table:formula"]=lr(Bme(P.f)),P.F&&P.F.slice(0,R.length)==R)){var M=Xs(P.F);b["table:number-matrix-columns-spanned"]=M.e.c-M.s.c+1,b["table:number-matrix-rows-spanned"]=M.e.r-M.s.r+1}if(!P){l.push(t);continue}switch(P.t){case"b":T=P.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=P.v?"true":"false";break;case"n":T=P.w||String(P.v||0),b["office:value-type"]="float",b["office:value"]=P.v||0;break;case"s":case"str":T=P.v==null?"":P.v,b["office:value-type"]="string";break;case"d":T=P.w||os(P.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=os(P.v).toISOString(),b["table:style-name"]="ce1";break;default:l.push(t);continue}var D=e(T);if(P.l&&P.l.Target){var N=P.l.Target;N=N.charAt(0)=="#"?"#"+Gme(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),D=Xe("text:a",D,{"xlink:href":N.replace(/&/g,"&amp;")})}l.push("          "+Xe("table:table-cell",Xe("text:p",D,{}),b)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var p=u["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;vR(p),p.ods=a;var g=u["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=l;var p=u["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,a){var l=[Zr],u=up({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=up({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+u+h+`>
`),l.push(iB().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),s(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)l.push(n(o.Sheets[o.SheetNames[p]],o,p));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function UB(e,t){if(t.bookType=="fods")return eN(e,t);var r=oR(),n="",s=[],i=[];return n="mimetype",Ot(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ot(r,n,eN(e,t)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Ot(r,n,yCe(e,t)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Ot(r,n,Zr+iB()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Ot(r,n,Mfe(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ot(r,n,Afe(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function d0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function wCe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):ji(cp(e))}function SCe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Rl(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function xCe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function dp(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function or(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function xd(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function rn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=dp(e,r),i=s&7;s=Math.floor(s/8);var o=0,a;if(s==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);a=e.slice(l,r[0])}break;case 5:o=4,a=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,a=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=dp(e,r),a=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var u={data:a,type:i};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function mn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(s){s.data&&(t.push(or(n*8+s.type)),s.type==2&&t.push(or(s.data.length)),t.push(s.data))})}),Rl(t)}function Ai(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=dp(e,n),i=rn(e.slice(n[0],n[0]+s));n[0]+=s;var o={id:xd(i[1][0].data),messages:[]};i[2].forEach(function(a){var l=rn(a.data),u=xd(l[3][0].data);o.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=xd(i[3][0].data)>>>0>0),r.push(o)}return r}function zu(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:or(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:or(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:or(o.data.length)}],n[2].push({data:mn(o.meta),type:2})});var i=mn(n);t.push(or(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),Rl(t)}function ECe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=dp(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var a=o-59;o=t[r[0]],a>1&&(o|=t[r[0]+1]<<8),a>2&&(o|=t[r[0]+2]<<16),a>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=a}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var l=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Rl(s)],l==0)throw new Error("Invalid offset 0");if(l>s[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(s.push(s[0].slice(-l)),u-=l;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-l,-l+u))}}var h=Rl(s);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function Di(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(ECe(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Rl(t)}function Ku(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=or(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return Rl(t)}function dS(e,t){var r=new Uint8Array(32),n=d0(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,xCe(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,s)}function hS(e,t){var r=new Uint8Array(32),n=d0(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,s)}function Va(e){var t=rn(e);return dp(t[1][0].data)}function bCe(e,t,r){var n,s,i,o;if(!((n=e[6])!=null&&n[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&xd(e[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,u=d0(e[7][0].data),h=0,p=[],g=d0(e[4][0].data),C=0,w=[],y=0;y<t.length;++y){if(t[y]==null){u.setUint16(y*2,65535,!0),g.setUint16(y*2,65535);continue}u.setUint16(y*2,h,!0),g.setUint16(y*2,C,!0);var S,E;switch(typeof t[y]){case"string":S=dS({t:"s",v:t[y]},r),E=hS({t:"s",v:t[y]},r);break;case"number":S=dS({t:"n",v:t[y]},r),E=hS({t:"n",v:t[y]},r);break;case"boolean":S=dS({t:"b",v:t[y]},r),E=hS({t:"b",v:t[y]},r);break;default:throw new Error("Unsupported value "+t[y])}p.push(S),h+=S.length,w.push(E),C+=E.length,++l}for(e[2][0].data=or(l);y<e[7][0].data.length/2;++y)u.setUint16(y*2,65535,!0),g.setUint16(y*2,65535,!0);return e[6][0].data=Rl(p),e[3][0].data=Rl(w),l}function RCe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Xs(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Qr(n)));var i=h0(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(L){return L.forEach(function(H){typeof H=="string"&&o.push(H)})});var a={},l=[],u=ur.read(t.numbers,{type:"base64"});u.FileIndex.map(function(L,H){return[L,u.FullPaths[H]]}).forEach(function(L){var H=L[0],G=L[1];if(H.type==2&&H.name.match(/\.iwa/)){var J=H.content,ie=Di(J),fe=Ai(ie);fe.forEach(function(Q){l.push(Q.id),a[Q.id]={deps:[],location:G,type:xd(Q.messages[0].meta[1][0].data)}})}}),l.sort(function(L,H){return L-H});var h=l.filter(function(L){return L>1}).map(function(L){return[L,or(L)]});u.FileIndex.map(function(L,H){return[L,u.FullPaths[H]]}).forEach(function(L){var H=L[0];if(L[1],!!H.name.match(/\.iwa/)){var G=Ai(Di(H.content));G.forEach(function(J){J.messages.forEach(function(ie){h.forEach(function(fe){J.messages.some(function(Q){return xd(Q.meta[1][0].data)!=11006&&SCe(Q.data,fe[1])})&&a[fe[0]].deps.push(J.id)})})})}});for(var p=ur.find(u,a[1].location),g=Ai(Di(p.content)),C,w=0;w<g.length;++w){var y=g[w];y.id==1&&(C=y)}var S=Va(rn(C.messages[0].data)[1][0].data);for(p=ur.find(u,a[S].location),g=Ai(Di(p.content)),w=0;w<g.length;++w)y=g[w],y.id==S&&(C=y);for(S=Va(rn(C.messages[0].data)[2][0].data),p=ur.find(u,a[S].location),g=Ai(Di(p.content)),w=0;w<g.length;++w)y=g[w],y.id==S&&(C=y);for(S=Va(rn(C.messages[0].data)[2][0].data),p=ur.find(u,a[S].location),g=Ai(Di(p.content)),w=0;w<g.length;++w)y=g[w],y.id==S&&(C=y);var E=rn(C.messages[0].data);{E[6][0].data=or(n.e.r+1),E[7][0].data=or(n.e.c+1);var b=Va(E[46][0].data),T=ur.find(u,a[b].location),R=Ai(Di(T.content));{for(var P=0;P<R.length&&R[P].id!=b;++P);if(R[P].id!=b)throw"Bad ColumnRowUIDMapArchive";var M=rn(R[P].messages[0].data);M[1]=[],M[2]=[],M[3]=[];for(var D=0;D<=n.e.c;++D){var N=[];N[1]=N[2]=[{type:0,data:or(D+420690)}],M[1].push({type:2,data:mn(N)}),M[2].push({type:0,data:or(D)}),M[3].push({type:0,data:or(D)})}M[4]=[],M[5]=[],M[6]=[];for(var O=0;O<=n.e.r;++O)N=[],N[1]=N[2]=[{type:0,data:or(O+726270)}],M[4].push({type:2,data:mn(N)}),M[5].push({type:0,data:or(O)}),M[6].push({type:0,data:or(O)});R[P].messages[0].data=mn(M)}T.content=Ku(zu(R)),T.size=T.content.length,delete E[46];var j=rn(E[4][0].data);{j[7][0].data=or(n.e.r+1);var W=rn(j[1][0].data),B=Va(W[2][0].data);T=ur.find(u,a[B].location),R=Ai(Di(T.content));{if(R[0].id!=B)throw"Bad HeaderStorageBucket";var oe=rn(R[0].messages[0].data);for(O=0;O<i.length;++O){var pe=rn(oe[2][0].data);pe[1][0].data=or(O),pe[4][0].data=or(i[O].length),oe[2][O]={type:oe[2][0].type,data:mn(pe)}}R[0].messages[0].data=mn(oe)}T.content=Ku(zu(R)),T.size=T.content.length;var Se=Va(j[2][0].data);T=ur.find(u,a[Se].location),R=Ai(Di(T.content));{if(R[0].id!=Se)throw"Bad HeaderStorageBucket";for(oe=rn(R[0].messages[0].data),D=0;D<=n.e.c;++D)pe=rn(oe[2][0].data),pe[1][0].data=or(D),pe[4][0].data=or(n.e.r+1),oe[2][D]={type:oe[2][0].type,data:mn(pe)};R[0].messages[0].data=mn(oe)}T.content=Ku(zu(R)),T.size=T.content.length;var we=Va(j[4][0].data);(function(){for(var L=ur.find(u,a[we].location),H=Ai(Di(L.content)),G,J=0;J<H.length;++J){var ie=H[J];ie.id==we&&(G=ie)}var fe=rn(G.messages[0].data);{fe[3]=[];var Q=[];o.forEach(function(Fe,We){Q[1]=[{type:0,data:or(We)}],Q[2]=[{type:0,data:or(1)}],Q[3]=[{type:2,data:wCe(Fe)}],fe[3].push({type:2,data:mn(Q)})})}G.messages[0].data=mn(fe);var re=zu(H),Me=Ku(re);L.content=Me,L.size=L.content.length})();var se=rn(j[3][0].data);{var Z=se[1][0];delete se[2];var ne=rn(Z.data);{var de=Va(ne[2][0].data);(function(){for(var L=ur.find(u,a[de].location),H=Ai(Di(L.content)),G,J=0;J<H.length;++J){var ie=H[J];ie.id==de&&(G=ie)}var fe=rn(G.messages[0].data);{delete fe[6],delete se[7];var Q=new Uint8Array(fe[5][0].data);fe[5]=[];for(var re=0,Me=0;Me<=n.e.r;++Me){var Fe=rn(Q);re+=bCe(Fe,i[Me],o),Fe[1][0].data=or(Me),fe[5].push({data:mn(Fe),type:2})}fe[1]=[{type:0,data:or(n.e.c+1)}],fe[2]=[{type:0,data:or(n.e.r+1)}],fe[3]=[{type:0,data:or(re)}],fe[4]=[{type:0,data:or(n.e.r+1)}]}G.messages[0].data=mn(fe);var We=zu(H),Ye=Ku(We);L.content=Ye,L.size=L.content.length})()}Z.data=mn(ne)}j[3][0].data=mn(se)}E[4][0].data=mn(j)}C.messages[0].data=mn(E);var z=zu(g),I=Ku(z);return p.content=I,p.size=p.content.length,u}function TCe(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function xR(e){TCe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function FCe(e,t){return t.bookType=="ods"?UB(e,t):t.bookType=="numbers"?RCe(e,t):t.bookType=="xlsb"?PCe(e,t):ACe(e,t)}function PCe(e,t){ld=1024,e&&!e.SSF&&(e.SSF=Ts(Vr)),e&&e.SSF&&(sC(),nC(e.SSF),t.revssf=iC(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,jf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=FB.indexOf(t.bookType)>-1,s=rB();xR(t=t||{});var i=oR(),o="",a=0;if(t.cellXfs=[],Ol(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Ot(i,o,oB(e.Props,t)),s.coreprops.push(o),ar(t.rels,2,o,Kt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Ot(i,o,lB(e.Props)),s.extprops.push(o),ar(t.rels,3,o,Kt.EXT_PROPS),e.Custprops!==e.Props&&En(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Ot(i,o,cB(e.Custprops)),s.custprops.push(o),ar(t.rels,4,o,Kt.CUST_PROPS)),a=1;a<=e.SheetNames.length;++a){var h={"!id":{}},p=e.Sheets[e.SheetNames[a-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+a+"."+r,Ot(i,o,M0e(a-1,o,t,e,h)),s.sheets.push(o),ar(t.wbrels,-1,"worksheets/sheet"+a+"."+r,Kt.WS[0])}if(p){var C=p["!comments"],w=!1,y="";C&&C.length>0&&(y="xl/comments"+a+"."+r,Ot(i,y,O0e(C,y)),s.comments.push(y),ar(h,-1,"../comments"+a+"."+r,Kt.CMNT),w=!0),p["!legacy"]&&w&&Ot(i,"xl/drawings/vmlDrawing"+a+".vml",RB(a,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&Ot(i,sB(o),wd(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Ot(i,o,I0e(t.Strings,o,t)),s.strs.push(o),ar(t.wbrels,-1,"sharedStrings."+r,Kt.SST)),o="xl/workbook."+r,Ot(i,o,D0e(e,o)),s.workbooks.push(o),ar(t.rels,1,o,Kt.WB),o="xl/theme/theme1.xml",Ot(i,o,EB(e.Themes,t)),s.themes.push(o),ar(t.wbrels,-1,"theme/theme1.xml",Kt.THEME),o="xl/styles."+r,Ot(i,o,N0e(e,o,t)),s.styles.push(o),ar(t.wbrels,-1,"styles."+r,Kt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Ot(i,o,e.vbaraw),s.vba.push(o),ar(t.wbrels,-1,"vbaProject.bin",Kt.VBA)),o="xl/metadata."+r,Ot(i,o,L0e(o)),s.metadata.push(o),ar(t.wbrels,-1,"metadata."+r,Kt.XLMETA),Ot(i,"[Content_Types].xml",nB(s,t)),Ot(i,"_rels/.rels",wd(t.rels)),Ot(i,"xl/_rels/workbook."+r+".rels",wd(t.wbrels)),delete t.revssf,delete t.ssf,i}function ACe(e,t){ld=1024,e&&!e.SSF&&(e.SSF=Ts(Vr)),e&&e.SSF&&(sC(),nC(e.SSF),t.revssf=iC(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,jf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=FB.indexOf(t.bookType)>-1,s=rB();xR(t=t||{});var i=oR(),o="",a=0;if(t.cellXfs=[],Ol(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Ot(i,o,oB(e.Props,t)),s.coreprops.push(o),ar(t.rels,2,o,Kt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Ot(i,o,lB(e.Props)),s.extprops.push(o),ar(t.rels,3,o,Kt.EXT_PROPS),e.Custprops!==e.Props&&En(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Ot(i,o,cB(e.Custprops)),s.custprops.push(o),ar(t.rels,4,o,Kt.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,a=1;a<=e.SheetNames.length;++a){var p={"!id":{}},g=e.Sheets[e.SheetNames[a-1]],C=(g||{})["!type"]||"sheet";switch(C){case"chart":default:o="xl/worksheets/sheet"+a+"."+r,Ot(i,o,kB(a-1,t,e,p)),s.sheets.push(o),ar(t.wbrels,-1,"worksheets/sheet"+a+"."+r,Kt.WS[0])}if(g){var w=g["!comments"],y=!1,S="";if(w&&w.length>0){var E=!1;w.forEach(function(b){b[1].forEach(function(T){T.T==!0&&(E=!0)})}),E&&(S="xl/threadedComments/threadedComment"+a+"."+r,Ot(i,S,oge(w,h,t)),s.threadedcomments.push(S),ar(p,-1,"../threadedComments/threadedComment"+a+"."+r,Kt.TCMNT)),S="xl/comments"+a+"."+r,Ot(i,S,TB(w)),s.comments.push(S),ar(p,-1,"../comments"+a+"."+r,Kt.CMNT),y=!0}g["!legacy"]&&y&&Ot(i,"xl/drawings/vmlDrawing"+a+".vml",RB(a,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&Ot(i,sB(o),wd(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Ot(i,o,vB(t.Strings,t)),s.strs.push(o),ar(t.wbrels,-1,"sharedStrings."+r,Kt.SST)),o="xl/workbook."+r,Ot(i,o,BB(e)),s.workbooks.push(o),ar(t.rels,1,o,Kt.WB),o="xl/theme/theme1.xml",Ot(i,o,EB(e.Themes,t)),s.themes.push(o),ar(t.wbrels,-1,"theme/theme1.xml",Kt.THEME),o="xl/styles."+r,Ot(i,o,SB(e,t)),s.styles.push(o),ar(t.wbrels,-1,"styles."+r,Kt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Ot(i,o,e.vbaraw),s.vba.push(o),ar(t.wbrels,-1,"vbaProject.bin",Kt.VBA)),o="xl/metadata."+r,Ot(i,o,bB()),s.metadata.push(o),ar(t.wbrels,-1,"metadata."+r,Kt.XLMETA),h.length>1&&(o="xl/persons/person.xml",Ot(i,o,age(h)),s.people.push(o),ar(t.wbrels,-1,"persons/person.xml",Kt.PEOPLE)),Ot(i,"[Content_Types].xml",nB(s,t)),Ot(i,"_rels/.rels",wd(t.rels)),Ot(i,"xl/_rels/workbook."+r+".rels",wd(t.wbrels)),delete t.revssf,delete t.ssf,i}function DCe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ua(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function zB(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Hp(t.file,ur.write(e,{type:Qt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ur.write(e,t)}function MCe(e,t){var r=Ts(t||{}),n=FCe(e,r);return NCe(n,r)}function NCe(e,t){var r={},n=Qt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?ur.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(rC(s))}return t.password&&typeof encrypt_agile<"u"?zB(encrypt_agile(s,t.password),t):t.type==="file"?Hp(t.file,s):t.type=="string"?Of(s):s}function ICe(e,t){var r=t||{},n=Y0e(e,r);return zB(n,r)}function no(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return ap(cp(n));case"binary":return cp(n);case"string":return e;case"file":return Hp(t.file,n,"utf8");case"buffer":return Qt?pa(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):no(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function OCe(e,t){switch(t.type){case"base64":return ap(e);case"binary":return e;case"string":return e;case"file":return Hp(t.file,e,"binary");case"buffer":return Qt?pa(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Vm(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?ap(r):t.type=="string"?Of(r):r;case"file":return Hp(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function KB(e,t){lhe(),y0e(e);var r=Ts(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=KB(e,r);return r.type="array",rC(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return no(K0e(e,r),r);case"slk":case"sylk":return no(mpe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return no(VB(e.Sheets[e.SheetNames[s]],r),r);case"txt":return OCe(qB(e.Sheets[e.SheetNames[s]],r),r);case"csv":return no(ER(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return no(vpe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return Vm(gpe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return no(Cpe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return no(Rpe.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return no(mB.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return no(UB(e,r),r);case"wk1":return Vm(KM.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return Vm(KM.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Vm(HB(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),ICe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return MCe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function LCe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function kCe(e,t,r){var n={};return n.type="file",n.file=t,LCe(n),KB(e,n)}function _Ce(e,t,r,n,s,i,o,a){var l=xn(r),u=a.defval,h=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),p=!0,g=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||e[r])for(var C=t.s.c;C<=t.e.c;++C){var w=o?e[r][C]:e[n[C]+l];if(w===void 0||w.t===void 0){if(u===void 0)continue;i[C]!=null&&(g[i[C]]=u);continue}var y=w.v;switch(w.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(i[C]!=null){if(y==null)if(w.t=="e"&&y===null)g[i[C]]=null;else if(u!==void 0)g[i[C]]=u;else if(h&&y===null)g[i[C]]=null;else continue;else g[i[C]]=h&&(w.t!=="n"||w.t==="n"&&a.rawNumbers!==!1)?y:da(w,y,a);y!=null&&(p=!1)}}return{row:g,isempty:p}}function h0(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},h=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof h){case"string":l=br(h);break;case"number":l=br(e["!ref"]),l.s.r=h;break;default:l=h}n>0&&(s=0);var p=xn(l.s.r),g=[],C=[],w=0,y=0,S=Array.isArray(e),E=l.s.r,b=0,T={};S&&!e[E]&&(e[E]=[]);var R=u.skipHidden&&e["!cols"]||[],P=u.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(R[b]||{}).hidden)switch(g[b]=Ln(b),r=S?e[E][b]:e[g[b]+p],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=g[b];break;case 3:i[b]=u.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),a=o=da(r,null,u),y=T[o]||0,!y)T[o]=1;else{do a=o+"_"+y++;while(T[a]);T[o]=y,T[a]=1}i[b]=a}for(E=l.s.r+s;E<=l.e.r;++E)if(!(P[E]||{}).hidden){var M=_Ce(e,l,E,g,n,i,S,u);(M.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(C[w++]=M.row)}return C.length=w,C}var tN=/"/g;function jCe(e,t,r,n,s,i,o,a){for(var l=!0,u=[],h="",p=xn(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var C=a.dense?(e[r]||[])[g]:e[n[g]+p];if(C==null)h="";else if(C.v!=null){l=!1,h=""+(a.rawNumbers&&C.t=="n"?C.v:da(C,null,a));for(var w=0,y=0;w!==h.length;++w)if((y=h.charCodeAt(w))===s||y===i||y===34||a.forceQuotes){h='"'+h.replace(tN,'""')+'"';break}h=="ID"&&(h='"ID"')}else C.f!=null&&!C.F?(l=!1,h="="+C.f,h.indexOf(",")>=0&&(h='"'+h.replace(tN,'""')+'"')):h="";u.push(h)}return a.blankrows===!1&&l?null:u.join(o)}function ER(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=br(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),a=n.RS!==void 0?n.RS:`
`,l=a.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),h="",p=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],C=n.skipHidden&&e["!rows"]||[],w=s.s.c;w<=s.e.c;++w)(g[w]||{}).hidden||(p[w]=Ln(w));for(var y=0,S=s.s.r;S<=s.e.r;++S)(C[S]||{}).hidden||(h=jCe(e,s,S,p,o,l,i,n),h!=null&&(n.strip&&(h=h.replace(u,"")),(h||n.blankrows!==!1)&&r.push((y++?a:"")+h)));return delete n.dense,r.join("")}function qB(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=ER(e,t);return r}function BCe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=br(e["!ref"]),i="",o=[],a,l=[],u=Array.isArray(e);for(a=s.s.c;a<=s.e.c;++a)o[a]=Ln(a);for(var h=s.s.r;h<=s.e.r;++h)for(i=xn(h),a=s.s.c;a<=s.e.c;++a)if(t=o[a]+i,r=u?(e[h]||[])[a]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function YB(e,t,r){var n=r||{},s=+!n.skipHeader,i=e||{},o=0,a=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?dn(n.origin):n.origin;o=l.r,a=l.c}var u,h={s:{c:0,r:0},e:{c:a,r:o+t.length-1+s}};if(i["!ref"]){var p=br(i["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),o==-1&&(o=p.e.r+1,h.e.r=o+t.length-1+s)}else o==-1&&(o=0,h.e.r=t.length-1+s);var g=n.header||[],C=0;t.forEach(function(y,S){En(y).forEach(function(E){(C=g.indexOf(E))==-1&&(g[C=g.length]=E);var b=y[E],T="z",R="",P=cr({c:a+C,r:o+S+s});u=hp(i,P),b&&typeof b=="object"&&!(b instanceof Date)?i[P]=b:(typeof b=="number"?T="n":typeof b=="boolean"?T="b":typeof b=="string"?T="s":b instanceof Date?(T="d",n.cellDates||(T="n",b=Rs(b)),R=n.dateNF||Vr[14]):b===null&&n.nullError&&(T="e",b=0),u?(u.t=T,u.v=b,delete u.w,delete u.R,R&&(u.z=R)):i[P]=u={t:T,v:b},R&&(u.z=R))})}),h.e.c=Math.max(h.e.c,a+g.length-1);var w=xn(o);if(s)for(C=0;C<g.length;++C)i[Ln(C+a)+w]={t:"s",v:g[C]};return i["!ref"]=Qr(h),i}function GCe(e,t){return YB(null,e,t)}function hp(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=dn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?hp(e,cr(t)):hp(e,cr({r:t,c:r||0}))}function HCe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function VCe(){return{SheetNames:[],Sheets:{}}}function WCe(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(jB(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function $Ce(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=HCe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function UCe(e,t){return e.z=t,e}function XB(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function zCe(e,t,r){return XB(e,"#"+t,r)}function KCe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function qCe(e,t,r,n){for(var s=typeof t!="string"?t:br(t),i=typeof t=="string"?t:Qr(t),o=s.s.r;o<=s.e.r;++o)for(var a=s.s.c;a<=s.e.c;++a){var l=hp(e,o,a);l.t="n",l.F=i,delete l.v,o==s.s.r&&a==s.s.c&&(l.f=r,n&&(l.D=!0))}return e}var fS={encode_col:Ln,encode_row:xn,encode_cell:cr,encode_range:Qr,decode_col:hR,decode_row:dR,split_cell:lfe,decode_cell:dn,decode_range:Xs,format_cell:da,sheet_add_aoa:Xj,sheet_add_json:YB,sheet_add_dom:WB,aoa_to_sheet:fh,json_to_sheet:GCe,table_to_sheet:$B,table_to_book:vCe,sheet_to_csv:ER,sheet_to_txt:qB,sheet_to_json:h0,sheet_to_html:VB,sheet_to_formulae:BCe,sheet_to_row_object_array:h0,sheet_get_cell:hp,book_new:VCe,book_append_sheet:WCe,book_set_sheet_visibility:$Ce,cell_set_number_format:UCe,cell_set_hyperlink:XB,cell_set_internal_link:zCe,cell_add_comment:KCe,sheet_set_array_formula:qCe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ir=({rowData:e,colDefs:t,isLoading:r,onAddClick:n,addLabel:s="Add New",addComponent:i,onEditClick:o,onDeleteClick:a,actionComponents:l=[],showEdit:u=!0,showDelete:h=!0,showCheckbox:p=!1,checkboxPosition:g=0})=>{const{theme:C}=Pk(),w=m.useRef(null),[y,S]=m.useState(new Set(t.map(N=>N.field))),E={sortable:!0,filter:!0,resizable:!0,minWidth:100,flex:1},b=p?{headerCheckboxSelection:!0,checkboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,width:50,headerName:""}:null,R={headerName:"Actions",field:"actions",cellRenderer:N=>N!=null&&N.data?d.jsx("div",{className:"flex justify-center items-center gap-2",children:d.jsxs(_v,{children:[d.jsx(jv,{asChild:!0,children:d.jsx(_t,{variant:"ghost",size:"sm",children:d.jsx(zX,{})})}),d.jsxs(Qf,{children:[u&&d.jsxs(Ff,{onClick:()=>o==null?void 0:o(N.data),children:[d.jsx(CW,{})," Edit"]}),h&&d.jsxs(Ff,{onClick:()=>a==null?void 0:a(N.data),className:"text-red-500",children:[d.jsx(SW,{})," Delete"]}),l.map((O,j)=>d.jsx(Ff,{children:d.jsx(O,{rowData:N.data})},j))]})]})}):null,minWidth:120,maxWidth:150,flex:0},P=m.useMemo(()=>{const N=[...t];return p&&b&&N.splice(g,0,b),[...N.filter(O=>y.has(O.field)),R]},[t,b,y]),M=(N,O)=>{S(j=>{const W=new Set(j);return O?W.add(N):W.delete(N),W})},D=(N,O)=>{const j=["Sr No.",...O.filter(Se=>Se.field!=="actions"&&Se.field!=="srNo").map(Se=>Se.headerName)],W=N.map((Se,we)=>[we+1,...O.filter(se=>se.field!=="actions"&&se.field!=="srNo").map(se=>Se[se.field]??"")]),B=[j,...W],oe=fS.aoa_to_sheet(B),pe=fS.book_new();fS.book_append_sheet(pe,oe,"TableData"),kCe(pe,"TableData.xlsx")};return d.jsxs("div",{className:`${C==="dark"?"ag-theme-quartz-dark":"ag-theme-quartz"} w-full h-[480px] flex flex-col gap-2`,children:[d.jsxs("div",{className:"w-full flex justify-between items-center",children:[i||d.jsxs(_t,{variant:"default",onClick:n,children:[d.jsx(UX,{}),s]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(_t,{onClick:()=>D(e,t),variant:"default",children:"Export"}),d.jsxs(_v,{children:[d.jsx(jv,{asChild:!0,children:d.jsx(_t,{children:d.jsx(ihe,{})})}),d.jsx(Qf,{children:t.map(N=>d.jsx(pb,{checked:y.has(N.field),onCheckedChange:O=>M(N.field,O),children:N.headerName},N.field))})]})]})]}),d.jsx(she,{ref:w,rowData:e,loading:r,columnDefs:P,defaultColDef:E,rowSelection:"multiple",pagination:!0,paginationPageSizeSelector:[10,20,30,40,50,60]})]})};var YCe="Label",QB=m.forwardRef((e,t)=>d.jsx(Wt.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));QB.displayName=YCe;var JB=QB;const XCe=oO("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=m.forwardRef(({className:e,...t},r)=>d.jsx(JB,{ref:r,className:jt(XCe(),e),...t}));ce.displayName=JB.displayName;function l1(e,[t,r]){return Math.min(r,Math.max(t,e))}var ZB=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),i=s.find(JCe);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return d.jsx(c1,{...n,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return d.jsx(c1,{...n,ref:t,children:r})});ZB.displayName="Slot";var c1=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=eye(r);return m.cloneElement(r,{...ZCe(n,r.props),ref:t?Zc(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});c1.displayName="SlotClone";var QCe=({children:e})=>d.jsx(d.Fragment,{children:e});function JCe(e){return m.isValidElement(e)&&e.type===QCe}function ZCe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function eye(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function tye(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var rye="VisuallyHidden",e5=m.forwardRef((e,t)=>d.jsx(Wt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));e5.displayName=rye;var nye=[" ","Enter","ArrowUp","ArrowDown"],sye=[" ","Enter"],zp="Select",[uC,dC,iye]=qE(zp),[mh,TAe]=xo(zp,[iye,G0]),hC=G0(),[oye,Ll]=mh(zp),[aye,lye]=mh(zp),bR=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:h,autoComplete:p,disabled:g,required:C,form:w}=e,y=hC(t),[S,E]=m.useState(null),[b,T]=m.useState(null),[R,P]=m.useState(!1),M=j0(u),[D=!1,N]=_c({prop:n,defaultProp:s,onChange:i}),[O,j]=_c({prop:o,defaultProp:a,onChange:l}),W=m.useRef(null),B=S?w||!!S.closest("form"):!0,[oe,pe]=m.useState(new Set),Se=Array.from(oe).map(we=>we.props.value).join(";");return d.jsx($k,{...y,children:d.jsxs(oye,{required:C,scope:t,trigger:S,onTriggerChange:E,valueNode:b,onValueNodeChange:T,valueNodeHasChildren:R,onValueNodeHasChildrenChange:P,contentId:Hi(),value:O,onValueChange:j,open:D,onOpenChange:N,dir:M,triggerPointerDownPosRef:W,disabled:g,children:[d.jsx(uC.Provider,{scope:t,children:d.jsx(aye,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(we=>{pe(se=>new Set(se).add(we))},[]),onNativeOptionRemove:m.useCallback(we=>{pe(se=>{const Z=new Set(se);return Z.delete(we),Z})},[]),children:r})}),B?d.jsxs(R5,{"aria-hidden":!0,required:C,tabIndex:-1,name:h,autoComplete:p,value:O,onChange:we=>j(we.target.value),disabled:g,form:w,children:[O===void 0?d.jsx("option",{value:""}):null,Array.from(oe)]},Se):null]})})};bR.displayName=zp;var t5="SelectTrigger",r5=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=hC(r),o=Ll(t5,r),a=o.disabled||n,l=rr(t,o.onTriggerChange),u=dC(r),h=m.useRef("touch"),[p,g,C]=T5(y=>{const S=u().filter(T=>!T.disabled),E=S.find(T=>T.value===o.value),b=F5(S,y,E);b!==void 0&&o.onValueChange(b.value)}),w=y=>{a||(o.onOpenChange(!0),C()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return d.jsx(Uk,{asChild:!0,...i,children:d.jsx(Wt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":b5(o.value)?"":void 0,...s,ref:l,onClick:pt(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&w(y)}),onPointerDown:pt(s.onPointerDown,y=>{h.current=y.pointerType;const S=y.target;S.hasPointerCapture(y.pointerId)&&S.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:pt(s.onKeyDown,y=>{const S=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(S&&y.key===" ")&&nye.includes(y.key)&&(w(),y.preventDefault())})})})});r5.displayName=t5;var n5="SelectValue",s5=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=e,l=Ll(n5,r),{onValueNodeHasChildrenChange:u}=l,h=i!==void 0,p=rr(t,l.onValueNodeChange);return Jt(()=>{u(h)},[u,h]),d.jsx(Wt.span,{...a,ref:p,style:{pointerEvents:"none"},children:b5(l.value)?d.jsx(d.Fragment,{children:o}):i})});s5.displayName=n5;var cye="SelectIcon",i5=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return d.jsx(Wt.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});i5.displayName=cye;var uye="SelectPortal",o5=e=>d.jsx(ZE,{asChild:!0,...e});o5.displayName=uye;var $c="SelectContent",a5=m.forwardRef((e,t)=>{const r=Ll($c,e.__scopeSelect),[n,s]=m.useState();if(Jt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?vi.createPortal(d.jsx(l5,{scope:e.__scopeSelect,children:d.jsx(uC.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),i):null}return d.jsx(c5,{...e,ref:t})});a5.displayName=$c;var Ii=10,[l5,kl]=mh($c),dye="SelectContentImpl",c5=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:C,sticky:w,hideWhenDetached:y,avoidCollisions:S,...E}=e,b=Ll($c,r),[T,R]=m.useState(null),[P,M]=m.useState(null),D=rr(t,ie=>R(ie)),[N,O]=m.useState(null),[j,W]=m.useState(null),B=dC(r),[oe,pe]=m.useState(!1),Se=m.useRef(!1);m.useEffect(()=>{if(T)return Mp(T)},[T]),B0();const we=m.useCallback(ie=>{const[fe,...Q]=B().map(Fe=>Fe.ref.current),[re]=Q.slice(-1),Me=document.activeElement;for(const Fe of ie)if(Fe===Me||(Fe==null||Fe.scrollIntoView({block:"nearest"}),Fe===fe&&P&&(P.scrollTop=0),Fe===re&&P&&(P.scrollTop=P.scrollHeight),Fe==null||Fe.focus(),document.activeElement!==Me))return},[B,P]),se=m.useCallback(()=>we([N,T]),[we,N,T]);m.useEffect(()=>{oe&&se()},[oe,se]);const{onOpenChange:Z,triggerPointerDownPosRef:ne}=b;m.useEffect(()=>{if(T){let ie={x:0,y:0};const fe=re=>{var Me,Fe;ie={x:Math.abs(Math.round(re.pageX)-(((Me=ne.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(re.pageY)-(((Fe=ne.current)==null?void 0:Fe.y)??0))}},Q=re=>{ie.x<=10&&ie.y<=10?re.preventDefault():T.contains(re.target)||Z(!1),document.removeEventListener("pointermove",fe),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Q,{capture:!0})}}},[T,Z,ne]),m.useEffect(()=>{const ie=()=>Z(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[Z]);const[de,z]=T5(ie=>{const fe=B().filter(Me=>!Me.disabled),Q=fe.find(Me=>Me.ref.current===document.activeElement),re=F5(fe,ie,Q);re&&setTimeout(()=>re.ref.current.focus())}),I=m.useCallback((ie,fe,Q)=>{const re=!Se.current&&!Q;(b.value!==void 0&&b.value===fe||re)&&(O(ie),re&&(Se.current=!0))},[b.value]),L=m.useCallback(()=>T==null?void 0:T.focus(),[T]),H=m.useCallback((ie,fe,Q)=>{const re=!Se.current&&!Q;(b.value!==void 0&&b.value===fe||re)&&W(ie)},[b.value]),G=n==="popper"?u1:u5,J=G===u1?{side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:C,sticky:w,hideWhenDetached:y,avoidCollisions:S}:{};return d.jsx(l5,{scope:r,content:T,viewport:P,onViewportChange:M,itemRefCallback:I,selectedItem:N,onItemLeave:L,itemTextRefCallback:H,focusSelectedItem:se,selectedItemText:j,position:n,isPositioned:oe,searchRef:de,children:d.jsx(U0,{as:ZB,allowPinchZoom:!0,children:d.jsx(XE,{asChild:!0,trapped:b.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:pt(s,ie=>{var fe;(fe=b.trigger)==null||fe.focus({preventScroll:!0}),ie.preventDefault()}),children:d.jsx(YE,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:d.jsx(G,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ie=>ie.preventDefault(),...E,...J,onPlaced:()=>pe(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:pt(E.onKeyDown,ie=>{const fe=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!fe&&ie.key.length===1&&z(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let re=B().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Me=ie.target,Fe=re.indexOf(Me);re=re.slice(Fe+1)}setTimeout(()=>we(re)),ie.preventDefault()}})})})})})})});c5.displayName=dye;var hye="SelectItemAlignedPosition",u5=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Ll($c,r),o=kl($c,r),[a,l]=m.useState(null),[u,h]=m.useState(null),p=rr(t,D=>h(D)),g=dC(r),C=m.useRef(!1),w=m.useRef(!0),{viewport:y,selectedItem:S,selectedItemText:E,focusSelectedItem:b}=o,T=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&y&&S&&E){const D=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),j=E.getBoundingClientRect();if(i.dir!=="rtl"){const Me=j.left-N.left,Fe=O.left-Me,We=D.left-Fe,Ye=D.width+We,ut=Math.max(Ye,N.width),gt=window.innerWidth-Ii,Ve=l1(Fe,[Ii,Math.max(Ii,gt-ut)]);a.style.minWidth=Ye+"px",a.style.left=Ve+"px"}else{const Me=N.right-j.right,Fe=window.innerWidth-O.right-Me,We=window.innerWidth-D.right-Fe,Ye=D.width+We,ut=Math.max(Ye,N.width),gt=window.innerWidth-Ii,Ve=l1(Fe,[Ii,Math.max(Ii,gt-ut)]);a.style.minWidth=Ye+"px",a.style.right=Ve+"px"}const W=g(),B=window.innerHeight-Ii*2,oe=y.scrollHeight,pe=window.getComputedStyle(u),Se=parseInt(pe.borderTopWidth,10),we=parseInt(pe.paddingTop,10),se=parseInt(pe.borderBottomWidth,10),Z=parseInt(pe.paddingBottom,10),ne=Se+we+oe+Z+se,de=Math.min(S.offsetHeight*5,ne),z=window.getComputedStyle(y),I=parseInt(z.paddingTop,10),L=parseInt(z.paddingBottom,10),H=D.top+D.height/2-Ii,G=B-H,J=S.offsetHeight/2,ie=S.offsetTop+J,fe=Se+we+ie,Q=ne-fe;if(fe<=H){const Me=W.length>0&&S===W[W.length-1].ref.current;a.style.bottom="0px";const Fe=u.clientHeight-y.offsetTop-y.offsetHeight,We=Math.max(G,J+(Me?L:0)+Fe+se),Ye=fe+We;a.style.height=Ye+"px"}else{const Me=W.length>0&&S===W[0].ref.current;a.style.top="0px";const We=Math.max(H,Se+y.offsetTop+(Me?I:0)+J)+Q;a.style.height=We+"px",y.scrollTop=fe-H+y.offsetTop}a.style.margin=`${Ii}px 0`,a.style.minHeight=de+"px",a.style.maxHeight=B+"px",n==null||n(),requestAnimationFrame(()=>C.current=!0)}},[g,i.trigger,i.valueNode,a,u,y,S,E,i.dir,n]);Jt(()=>T(),[T]);const[R,P]=m.useState();Jt(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const M=m.useCallback(D=>{D&&w.current===!0&&(T(),b==null||b(),w.current=!1)},[T,b]);return d.jsx(pye,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:C,onScrollButtonChange:M,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:d.jsx(Wt.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});u5.displayName=hye;var fye="SelectPopperPosition",u1=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ii,...i}=e,o=hC(r);return d.jsx(zk,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});u1.displayName=fye;var[pye,RR]=mh($c,{}),d1="SelectViewport",d5=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=kl(d1,r),o=RR(d1,r),a=rr(t,i.onViewportChange),l=m.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(uC.Slot,{scope:r,children:d.jsx(Wt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pt(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&p){const C=Math.abs(l.current-h.scrollTop);if(C>0){const w=window.innerHeight-Ii*2,y=parseFloat(p.style.minHeight),S=parseFloat(p.style.height),E=Math.max(y,S);if(E<w){const b=E+C,T=Math.min(w,b),R=b-T;p.style.height=T+"px",p.style.bottom==="0px"&&(h.scrollTop=R>0?R:0,p.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});d5.displayName=d1;var h5="SelectGroup",[gye,mye]=mh(h5),vye=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Hi();return d.jsx(gye,{scope:r,id:s,children:d.jsx(Wt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});vye.displayName=h5;var f5="SelectLabel",p5=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=mye(f5,r);return d.jsx(Wt.div,{id:s.id,...n,ref:t})});p5.displayName=f5;var f0="SelectItem",[Cye,g5]=mh(f0),m5=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,a=Ll(f0,r),l=kl(f0,r),u=a.value===n,[h,p]=m.useState(i??""),[g,C]=m.useState(!1),w=rr(t,b=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,b,n,s)}),y=Hi(),S=m.useRef("touch"),E=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(Cye,{scope:r,value:n,disabled:s,textId:y,isSelected:u,onItemTextChange:m.useCallback(b=>{p(T=>T||((b==null?void 0:b.textContent)??"").trim())},[]),children:d.jsx(uC.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:d.jsx(Wt.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:pt(o.onFocus,()=>C(!0)),onBlur:pt(o.onBlur,()=>C(!1)),onClick:pt(o.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:pt(o.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:pt(o.onPointerDown,b=>{S.current=b.pointerType}),onPointerMove:pt(o.onPointerMove,b=>{var T;S.current=b.pointerType,s?(T=l.onItemLeave)==null||T.call(l):S.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pt(o.onPointerLeave,b=>{var T;b.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:pt(o.onKeyDown,b=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&b.key===" "||(sye.includes(b.key)&&E(),b.key===" "&&b.preventDefault())})})})})});m5.displayName=f0;var Ef="SelectItemText",v5=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Ll(Ef,r),a=kl(Ef,r),l=g5(Ef,r),u=lye(Ef,r),[h,p]=m.useState(null),g=rr(t,E=>p(E),l.onItemTextChange,E=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,E,l.value,l.disabled)}),C=h==null?void 0:h.textContent,w=m.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:C},l.value),[l.disabled,l.value,C]),{onNativeOptionAdd:y,onNativeOptionRemove:S}=u;return Jt(()=>(y(w),()=>S(w)),[y,S,w]),d.jsxs(d.Fragment,{children:[d.jsx(Wt.span,{id:l.textId,...i,ref:g}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vi.createPortal(i.children,o.valueNode):null]})});v5.displayName=Ef;var C5="SelectItemIndicator",y5=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return g5(C5,r).isSelected?d.jsx(Wt.span,{"aria-hidden":!0,...n,ref:t}):null});y5.displayName=C5;var h1="SelectScrollUpButton",w5=m.forwardRef((e,t)=>{const r=kl(h1,e.__scopeSelect),n=RR(h1,e.__scopeSelect),[s,i]=m.useState(!1),o=rr(t,n.onScrollButtonChange);return Jt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?d.jsx(x5,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});w5.displayName=h1;var f1="SelectScrollDownButton",S5=m.forwardRef((e,t)=>{const r=kl(f1,e.__scopeSelect),n=RR(f1,e.__scopeSelect),[s,i]=m.useState(!1),o=rr(t,n.onScrollButtonChange);return Jt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<u;i(h)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?d.jsx(x5,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});S5.displayName=f1;var x5=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=kl("SelectScrollButton",r),o=m.useRef(null),a=dC(r),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Jt(()=>{var h;const u=a().find(p=>p.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),d.jsx(Wt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:pt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:pt(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:pt(s.onPointerLeave,()=>{l()})})}),yye="SelectSeparator",E5=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return d.jsx(Wt.div,{"aria-hidden":!0,...n,ref:t})});E5.displayName=yye;var p1="SelectArrow",wye=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=hC(r),i=Ll(p1,r),o=kl(p1,r);return i.open&&o.position==="popper"?d.jsx(Kk,{...s,...n,ref:t}):null});wye.displayName=p1;function b5(e){return e===""||e===void 0}var R5=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m.useRef(null),i=rr(t,s),o=tye(r);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==r&&h){const p=new Event("change",{bubbles:!0});h.call(a,r),a.dispatchEvent(p)}},[o,r]),d.jsx(e5,{asChild:!0,children:d.jsx("select",{...n,ref:i,defaultValue:r})})});R5.displayName="BubbleSelect";function T5(e){const t=Yt(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const a=r.current+o;t(a),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function F5(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Sye(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function Sye(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var xye=bR,P5=r5,Eye=s5,bye=i5,Rye=o5,A5=a5,Tye=d5,D5=p5,M5=m5,Fye=v5,Pye=y5,N5=w5,I5=S5,O5=E5;const xt=xye,wt=Eye,Ct=m.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(P5,{ref:n,className:jt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,d.jsx(bye,{asChild:!0,children:d.jsx(e3,{className:"h-4 w-4 opacity-50"})})]}));Ct.displayName=P5.displayName;const L5=m.forwardRef(({className:e,...t},r)=>d.jsx(N5,{ref:r,className:jt("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(see,{className:"h-4 w-4"})}));L5.displayName=N5.displayName;const k5=m.forwardRef(({className:e,...t},r)=>d.jsx(I5,{ref:r,className:jt("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(e3,{className:"h-4 w-4"})}));k5.displayName=I5.displayName;const yt=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>d.jsx(Rye,{children:d.jsxs(A5,{ref:s,className:jt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[d.jsx(L5,{}),d.jsx(Tye,{className:jt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(k5,{})]})}));yt.displayName=A5.displayName;const Aye=m.forwardRef(({className:e,...t},r)=>d.jsx(D5,{ref:r,className:jt("px-2 py-1.5 text-sm font-semibold",e),...t}));Aye.displayName=D5.displayName;const er=m.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(M5,{ref:n,className:jt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[d.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Pye,{children:d.jsx(Nn,{className:"h-4 w-4"})})}),d.jsx(Fye,{children:t})]}));er.displayName=M5.displayName;const Dye=m.forwardRef(({className:e,...t},r)=>d.jsx(O5,{ref:r,className:jt("-mx-1 my-1 h-px bg-muted",e),...t}));Dye.displayName=O5.displayName;const TR=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},FR=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},PR=()=>Fr({queryKey:["useGetSourceReference"],queryFn:()=>_e("/api/source-reference/v1/getAll")}),Mye=()=>Ze({mutationFn:e=>_e("/api/source-reference/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:TR,onError:FR}),Nye=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/source-reference/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{TR(r),t.invalidateQueries({queryKey:["useGetSourceReference"]})},onError:FR})},Iye=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/source-reference/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetSourceReference"]}),TR(r.message)},onError:FR})},AR=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},DR=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},_5=()=>Fr({queryKey:["useGetCustomerType"],queryFn:()=>_e("/api/customer-type/v1/getAll")}),Oye=()=>Ze({mutationFn:e=>_e("/api/customer-type/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:AR,onError:DR}),Lye=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/customer-type/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{AR(r),t.invalidateQueries({queryKey:["useGetCustomerType"]})},onError:DR})},kye=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/customer-type/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetCustomerType"]}),AR(r.message)},onError:DR})},MR=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},NR=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},j5=()=>Fr({queryKey:["useGetCustomerStatus"],queryFn:()=>_e("/api/customer-status/v1/getAll")}),_ye=()=>Ze({mutationFn:e=>_e("/api/customer-status/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:MR,onError:NR}),jye=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/customer-status/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{MR(r),t.invalidateQueries({queryKey:["useGetCustomerStatus"]})},onError:NR})},Bye=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/customer-status/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetCustomerStatus"]}),MR(r.message)},onError:NR})},IR=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},OR=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},B5=()=>Fr({queryKey:["useGetReferenceDetail"],queryFn:()=>_e("/api/reference-detail/v1/getAll")}),Gye=()=>Ze({mutationFn:e=>_e("/api/reference-detail/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:IR,onError:OR}),Hye=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/reference-detail/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{IR(r),t.invalidateQueries({queryKey:["useGetReferenceDetail"]})},onError:OR})},Vye=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/reference-detail/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetReferenceDetail"]}),IR(r.message)},onError:OR})},LR=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},kR=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},G5=()=>Fr({queryKey:["useGetDesignation"],queryFn:()=>_e("/api/designation/v1/getAll")}),Wye=()=>Ze({mutationFn:e=>_e("/api/designation/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:LR,onError:kR}),$ye=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/designation/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{LR(r),t.invalidateQueries({queryKey:["useGetDesignation"]})},onError:kR})},Uye=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/designation/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetDesignation"]}),LR(r.message)},onError:kR})},zye=({onSubmit:e,formId:t,defaultValues:r={},setIsModalOpen:n})=>{var D,N,O,j,W,B,oe,pe,Se,we;const[s,i]=m.useState({customerType:r.customerType||null,customerStatus:r.customerStatus||null,sourceReference:r.sourceReference||null,referenceDetail:r.referenceDetail||null,referenceRemark:r.referenceRemark||"",customerName:r.customerName||"",gstNo:r.gstNo||"",panNo:r.panNo||"",address1:r.address1||"",address2:r.address2||"",address3:r.address3||"",contactPerson:r.contactPerson||"",designation:r.designation||null,customerWeightage:r.customerWeightage||"",contactNumber:r.contactNumber||"",email:r.email||"",isActive:r.isActive||!1});m.useEffect(()=>{i({...s,...r})},[r]);const{data:o,isError:a}=PR(),{data:l,isError:u}=_5(),{data:h,isError:p}=j5(),{data:g,isError:C}=B5(),{data:w,isError:y}=G5(),S=se=>{se.preventDefault(),console.log("FormData",s),e(s)},E={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},b={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},T=se=>{console.log("clicked",se.target.value);const{name:Z,value:ne}=se.target,de=se.target.value;console.log(de),i(z=>({...z,[Z]:ne}))},R=(se,Z,ne)=>{const de=ne.find(z=>String(z.id)===Z);i(z=>({...z,[se]:de||null})),console.log(Z,de)},P=se=>{const{checked:Z}=se.target;i(ne=>({...ne,isActive:Z}))},M=()=>{n(!1)};return d.jsx(ns.div,{className:"p-4 sm:p-6 bg-gray-100 dark:bg-gray-900 min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsx(ns.div,{className:"max-w-5xl mx-auto bg-white dark:bg-gray-700 p-4 sm:p-6 shadow-md rounded-md",variants:E,initial:"hidden",animate:"visible",children:d.jsxs(ns.form,{onSubmit:S,variants:b,initial:"hidden",animate:"visible",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:"Customer Form"}),d.jsxs(ns.div,{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 mb-6",variants:E,children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Customer Type"}),d.jsxs(xt,{required:!0,onValueChange:se=>R("customerType",se,l==null?void 0:l.data),value:((D=s==null?void 0:s.customerType)==null?void 0:D.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Customer Type",children:((N=s.customerType)==null?void 0:N.customerType)||"Select Customer Type"})}),d.jsx(yt,{children:!u&&(l==null?void 0:l.data.map(se=>d.jsx(er,{value:String(se.id),children:se.customerType},se.id)))})]})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Customer Status"}),d.jsxs(xt,{required:!0,onValueChange:se=>R("customerStatus",se,h==null?void 0:h.data),value:(O=s==null?void 0:s.customerStatus)==null?void 0:O.id,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Customer Status",children:((j=s.customerStatus)==null?void 0:j.customerStatus)||"Select Customer Status"})}),d.jsx(yt,{children:!p&&(h==null?void 0:h.data.map(se=>d.jsx(er,{value:se.id,children:se.customerStatus},se.id)))})]})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Reference Source"}),d.jsxs(xt,{required:!0,onValueChange:se=>R("sourceReference",se,o==null?void 0:o.data),value:(W=s.sourceReference)==null?void 0:W.id,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Source Reference",children:((B=s.sourceReference)==null?void 0:B.sourceReference)||"Select Source Reference"})}),d.jsx(yt,{children:!a&&(o==null?void 0:o.data.map(se=>d.jsx(er,{value:se.id,children:se.sourceReference},se.id)))})]})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(xt,{required:!0,onValueChange:se=>R("referenceDetail",se,g==null?void 0:g.data),value:(oe=s==null?void 0:s.referenceDetail)==null?void 0:oe.id,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Reference Detail",children:((pe=s.referenceDetail)==null?void 0:pe.referenceDetail)||"Select Reference Detail"})}),d.jsx(yt,{children:!C&&(g==null?void 0:g.data.map(se=>d.jsx(er,{value:se.id,children:se.referenceDetail},se.id)))})]})]}),d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(Re,{type:"text",name:"referenceRemark",value:s==null?void 0:s.referenceRemark,onChange:T,className:"mt-1 w-full"})]})]}),d.jsx("hr",{}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 mb-6 mt-4",children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(Re,{required:!0,type:"text",name:"customerName",value:s==null?void 0:s.customerName,onChange:T,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"GST No"}),d.jsx(Re,{required:!0,type:"text",name:"gstNo",value:s==null?void 0:s.gstNo,onChange:T,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"PAN No"}),d.jsx(Re,{required:!0,type:"text",name:"panNo",value:s==null?void 0:s.panNo,onChange:T,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(Re,{required:!0,type:"text",name:"address1",value:s==null?void 0:s.address1,onChange:T,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(Re,{type:"text",name:"address2",value:s==null?void 0:s.address2,onChange:T,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Address Line 3"}),d.jsx(Re,{type:"text",name:"address3",value:s==null?void 0:s.address3,onChange:T,className:"mt-1 w-full "})]})]}),d.jsx("hr",{}),d.jsx("div",{className:"mb-6 mt-4 d-flex justify-content-between",children:d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Contact Persons"}),d.jsx(Re,{required:!0,type:"text",placeholder:"Name",name:"contactPerson",value:s==null?void 0:s.contactPerson,className:"w-full",onChange:T})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Designation"}),d.jsxs(xt,{required:!0,onValueChange:se=>R("designation",se,w==null?void 0:w.data),value:(Se=s==null?void 0:s.designation)==null?void 0:Se.id,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Designation",children:((we=s.designation)==null?void 0:we.designation)||"Select Designation"})}),d.jsx(yt,{children:!y&&(w==null?void 0:w.data.map(se=>d.jsx(er,{value:se.id,children:se.designation},se.id)))})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(ce,{children:"Contact No"}),d.jsx(Re,{type:"text",required:!0,placeholder:"Enter 10 digit contact No",name:"contactNumber",value:r==null?void 0:r.contactNumber,className:"w-full",pattern:"^\\d{10}$",onChange:T})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(ce,{children:"Email"}),d.jsx(Re,{type:"email",required:!0,placeholder:"Email",name:"email",value:r==null?void 0:r.email,className:"w-full",onChange:T})]})]})}),d.jsxs("div",{className:"mb-6",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx("textarea",{required:!0,className:"mt-1 w-full border border-gray-300 rounded-md p-2",rows:3,onChange:T,name:"customerWeightage",value:r==null?void 0:r.customerWeightage})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mt-6 space-y-4 sm:space-y-0",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",checked:s==null?void 0:s.isActive,onChange:P,className:"mr-2",value:""}),d.jsx(ce,{htmlFor:"status",children:"Status (IsActive)"})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx(_t,{type:"button",className:"bg-gray-300 hover:bg-gray-400 text-gray-600 px-4 py-2 rounded-md",onClick:M,children:"Cancel"}),d.jsxs(_t,{type:"submit",children:[r!=null&&r.id?"Edit":"Create"," "]})]})]})]})})})},_R=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},jR=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},fC=()=>Fr({queryKey:["useGetCustomerList"],queryFn:()=>_e("/api/customer-list/v1/getAll")}),Kye=()=>Ze({mutationFn:e=>_e("/api/customer-list/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:_R,onError:jR}),qye=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/customer-list/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{_R(r),t.invalidateQueries({queryKey:["useGetCustomerList"]})},onError:jR})},Yye=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/customer-list/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetCustomerList"]}),_R(r.message)},onError:jR})};function hl(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function rN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Xye(...e){return t=>{let r=!1;const n=e.map(s=>{const i=rN(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():rN(e[s],null)}}}}function du(...e){return m.useCallback(Xye(...e),e)}var Qye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ga=Qye.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?Pl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Jye(e,t){e&&vi.flushSync(()=>e.dispatchEvent(t))}var Zye="DismissableLayer",g1="dismissableLayer.update",ewe="dismissableLayer.pointerDownOutside",twe="dismissableLayer.focusOutside",nN,H5=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),V5=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,u=m.useContext(H5),[h,p]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=m.useState({}),w=du(t,D=>p(D)),y=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(S),b=h?y.indexOf(h):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,R=b>=E,P=swe(D=>{const N=D.target,O=[...u.branches].some(j=>j.contains(N));!R||O||(s==null||s(D),o==null||o(D),D.defaultPrevented||a==null||a())},g),M=iwe(D=>{const N=D.target;[...u.branches].some(j=>j.contains(N))||(i==null||i(D),o==null||o(D),D.defaultPrevented||a==null||a())},g);return M0(D=>{b===u.layers.size-1&&(n==null||n(D),!D.defaultPrevented&&a&&(D.preventDefault(),a()))},g),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(nN=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),sN(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=nN)}},[h,g,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),sN())},[h,u]),m.useEffect(()=>{const D=()=>C({});return document.addEventListener(g1,D),()=>document.removeEventListener(g1,D)},[]),d.jsx(ga.div,{...l,ref:w,style:{pointerEvents:T?R?"auto":"none":void 0,...e.style},onFocusCapture:hl(e.onFocusCapture,M.onFocusCapture),onBlurCapture:hl(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:hl(e.onPointerDownCapture,P.onPointerDownCapture)})});V5.displayName=Zye;var rwe="DismissableLayerBranch",nwe=m.forwardRef((e,t)=>{const r=m.useContext(H5),n=m.useRef(null),s=du(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),d.jsx(ga.div,{...e,ref:s})});nwe.displayName=rwe;function swe(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){W5(ewe,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function iwe(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&W5(twe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function sN(){const e=new CustomEvent(g1);document.dispatchEvent(e)}function W5(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Jye(s,i):s.dispatchEvent(i)}var pS="focusScope.autoFocusOnMount",gS="focusScope.autoFocusOnUnmount",iN={bubbles:!1,cancelable:!0},owe="FocusScope",$5=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=m.useState(null),u=Yt(s),h=Yt(i),p=m.useRef(null),g=du(t,y=>l(y)),C=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let y=function(T){if(C.paused||!a)return;const R=T.target;a.contains(R)?p.current=R:Ka(p.current,{select:!0})},S=function(T){if(C.paused||!a)return;const R=T.relatedTarget;R!==null&&(a.contains(R)||Ka(p.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const P of T)P.removedNodes.length>0&&Ka(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const b=new MutationObserver(E);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),b.disconnect()}}},[n,a,C.paused]),m.useEffect(()=>{if(a){aN.add(C);const y=document.activeElement;if(!a.contains(y)){const E=new CustomEvent(pS,iN);a.addEventListener(pS,u),a.dispatchEvent(E),E.defaultPrevented||(awe(hwe(U5(a)),{select:!0}),document.activeElement===y&&Ka(a))}return()=>{a.removeEventListener(pS,u),setTimeout(()=>{const E=new CustomEvent(gS,iN);a.addEventListener(gS,h),a.dispatchEvent(E),E.defaultPrevented||Ka(y??document.body,{select:!0}),a.removeEventListener(gS,h),aN.remove(C)},0)}}},[a,u,h,C]);const w=m.useCallback(y=>{if(!r&&!n||C.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(S&&E){const b=y.currentTarget,[T,R]=lwe(b);T&&R?!y.shiftKey&&E===R?(y.preventDefault(),r&&Ka(T,{select:!0})):y.shiftKey&&E===T&&(y.preventDefault(),r&&Ka(R,{select:!0})):E===b&&y.preventDefault()}},[r,n,C.paused]);return d.jsx(ga.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});$5.displayName=owe;function awe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ka(n,{select:t}),document.activeElement!==r)return}function lwe(e){const t=U5(e),r=oN(t,e),n=oN(t.reverse(),e);return[r,n]}function U5(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function oN(e,t){for(const r of e)if(!cwe(r,{upTo:t}))return r}function cwe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uwe(e){return e instanceof HTMLInputElement&&"select"in e}function Ka(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&uwe(e)&&t&&e.select()}}var aN=dwe();function dwe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=lN(e,t),e.unshift(t)},remove(t){var r;e=lN(e,t),(r=e[0])==null||r.resume()}}}function lN(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function hwe(e){return e.filter(t=>t.tagName!=="A")}var fwe="Portal",z5=m.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=m.useState(!1);Jt(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Zd.createPortal(d.jsx(ga.div,{...n,ref:t}),o):null});z5.displayName=fwe;function pwe(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var pC=e=>{const{present:t,children:r}=e,n=gwe(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=du(n.ref,mwe(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};pC.displayName="Presence";function gwe(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[a,l]=pwe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Wm(n.current);i.current=a==="mounted"?u:"none"},[a]),Jt(()=>{const u=n.current,h=s.current;if(h!==e){const g=i.current,C=Wm(u);e?l("MOUNT"):C==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&g!==C?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Jt(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,p=C=>{const y=Wm(n.current).includes(C.animationName);if(C.target===t&&y&&(l("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=C=>{C.target===t&&(i.current=Wm(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Wm(e){return(e==null?void 0:e.animationName)||"none"}function mwe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var K5=rb(),mS=function(){},gC=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:mS,onWheelCapture:mS,onTouchMoveCapture:mS}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,h=e.enabled,p=e.shards,g=e.sideCar,C=e.noIsolation,w=e.inert,y=e.allowPinchZoom,S=e.as,E=S===void 0?"div":S,b=e.gapMode,T=V0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,P=tb([r,t]),M=Gr(Gr({},T),s);return m.createElement(m.Fragment,null,h&&m.createElement(R,{sideCar:K5,removeScrollBar:u,shards:p,noIsolation:C,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:b}),o?m.cloneElement(m.Children.only(a),Gr(Gr({},M),{ref:P})):m.createElement(E,Gr({},M,{className:l,ref:P}),a))});gC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gC.classNames={fullWidth:pd,zeroRight:fd};var m1=!1;if(typeof window<"u")try{var $m=Object.defineProperty({},"passive",{get:function(){return m1=!0,!0}});window.addEventListener("test",$m,$m),window.removeEventListener("test",$m,$m)}catch{m1=!1}var qu=m1?{passive:!1}:!1,vwe=function(e){return e.tagName==="TEXTAREA"},q5=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!vwe(e)&&r[t]==="visible")},Cwe=function(e){return q5(e,"overflowY")},ywe=function(e){return q5(e,"overflowX")},cN=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Y5(e,n);if(s){var i=X5(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},wwe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Swe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Y5=function(e,t){return e==="v"?Cwe(t):ywe(t)},X5=function(e,t){return e==="v"?wwe(t):Swe(t)},xwe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ewe=function(e,t,r,n,s){var i=xwe(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),u=!1,h=o>0,p=0,g=0;do{var C=X5(e,a),w=C[0],y=C[1],S=C[2],E=y-S-i*w;(w||E)&&Y5(e,a)&&(p+=E,g+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(g)<1||!s))&&(u=!0),u},Um=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uN=function(e){return[e.deltaX,e.deltaY]},dN=function(e){return e&&"current"in e?e.current:e},bwe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Rwe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Twe=0,Yu=[];function Fwe(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(Twe++)[0],i=m.useState($0)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=eb([e.lockRef.current],(e.shards||[]).map(dN),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var E=Um(y),b=r.current,T="deltaX"in y?y.deltaX:b[0]-E[0],R="deltaY"in y?y.deltaY:b[1]-E[1],P,M=y.target,D=Math.abs(T)>Math.abs(R)?"h":"v";if("touches"in y&&D==="h"&&M.type==="range")return!1;var N=cN(D,M);if(!N)return!0;if(N?P=D:(P=D==="v"?"h":"v",N=cN(D,M)),!N)return!1;if(!n.current&&"changedTouches"in y&&(T||R)&&(n.current=P),!P)return!0;var O=n.current||P;return Ewe(O,S,y,O==="h"?T:R,!0)},[]),l=m.useCallback(function(y){var S=y;if(!(!Yu.length||Yu[Yu.length-1]!==i)){var E="deltaY"in S?uN(S):Um(S),b=t.current.filter(function(P){return P.name===S.type&&(P.target===S.target||S.target===P.shadowParent)&&bwe(P.delta,E)})[0];if(b&&b.should){S.cancelable&&S.preventDefault();return}if(!b){var T=(o.current.shards||[]).map(dN).filter(Boolean).filter(function(P){return P.contains(S.target)}),R=T.length>0?a(S,T[0]):!o.current.noIsolation;R&&S.cancelable&&S.preventDefault()}}},[]),u=m.useCallback(function(y,S,E,b){var T={name:y,delta:S,target:E,should:b,shadowParent:Pwe(E)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(R){return R!==T})},1)},[]),h=m.useCallback(function(y){r.current=Um(y),n.current=void 0},[]),p=m.useCallback(function(y){u(y.type,uN(y),y.target,a(y,e.lockRef.current))},[]),g=m.useCallback(function(y){u(y.type,Um(y),y.target,a(y,e.lockRef.current))},[]);m.useEffect(function(){return Yu.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",l,qu),document.addEventListener("touchmove",l,qu),document.addEventListener("touchstart",h,qu),function(){Yu=Yu.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,qu),document.removeEventListener("touchmove",l,qu),document.removeEventListener("touchstart",h,qu)}},[]);var C=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:Rwe(s)}):null,C?m.createElement(sb,{gapMode:e.gapMode}):null)}function Pwe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Awe=nb(K5,Fwe);var Q5=m.forwardRef(function(e,t){return m.createElement(gC,Gr({},e,{ref:t,sideCar:Awe}))});Q5.classNames=gC.classNames;var BR="Dialog",[J5,FAe]=xo(BR),[Dwe,Yi]=J5(BR),Z5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=m.useRef(null),l=m.useRef(null),[u=!1,h]=_c({prop:n,defaultProp:s,onChange:i});return d.jsx(Dwe,{scope:t,triggerRef:a,contentRef:l,contentId:Hi(),titleId:Hi(),descriptionId:Hi(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:o,children:r})};Z5.displayName=BR;var e6="DialogTrigger",Mwe=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yi(e6,r),i=du(t,s.triggerRef);return d.jsx(ga.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":VR(s.open),...n,ref:i,onClick:hl(e.onClick,s.onOpenToggle)})});Mwe.displayName=e6;var GR="DialogPortal",[Nwe,t6]=J5(GR,{forceMount:void 0}),r6=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Yi(GR,t);return d.jsx(Nwe,{scope:t,forceMount:r,children:m.Children.map(n,o=>d.jsx(pC,{present:r||i.open,children:d.jsx(z5,{asChild:!0,container:s,children:o})}))})};r6.displayName=GR;var p0="DialogOverlay",n6=m.forwardRef((e,t)=>{const r=t6(p0,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Yi(p0,e.__scopeDialog);return i.modal?d.jsx(pC,{present:n||i.open,children:d.jsx(Iwe,{...s,ref:t})}):null});n6.displayName=p0;var Iwe=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yi(p0,r);return d.jsx(Q5,{as:Pl,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(ga.div,{"data-state":VR(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Uc="DialogContent",s6=m.forwardRef((e,t)=>{const r=t6(Uc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Yi(Uc,e.__scopeDialog);return d.jsx(pC,{present:n||i.open,children:i.modal?d.jsx(Owe,{...s,ref:t}):d.jsx(Lwe,{...s,ref:t})})});s6.displayName=Uc;var Owe=m.forwardRef((e,t)=>{const r=Yi(Uc,e.__scopeDialog),n=m.useRef(null),s=du(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return Mp(i)},[]),d.jsx(i6,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:hl(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:hl(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:hl(e.onFocusOutside,i=>i.preventDefault())})}),Lwe=m.forwardRef((e,t)=>{const r=Yi(Uc,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return d.jsx(i6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),i6=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Yi(Uc,r),l=m.useRef(null),u=du(t,l);return B0(),d.jsxs(d.Fragment,{children:[d.jsx($5,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(V5,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":VR(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(kwe,{titleId:a.titleId}),d.jsx(jwe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),HR="DialogTitle",o6=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yi(HR,r);return d.jsx(ga.h2,{id:s.titleId,...n,ref:t})});o6.displayName=HR;var a6="DialogDescription",l6=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yi(a6,r);return d.jsx(ga.p,{id:s.descriptionId,...n,ref:t})});l6.displayName=a6;var c6="DialogClose",u6=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yi(c6,r);return d.jsx(ga.button,{type:"button",...n,ref:t,onClick:hl(e.onClick,()=>s.onOpenChange(!1))})});u6.displayName=c6;function VR(e){return e?"open":"closed"}var d6="DialogTitleWarning",[PAe,h6]=nY(d6,{contentName:Uc,titleName:HR,docsSlug:"dialog"}),kwe=({titleId:e})=>{const t=h6(d6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},_we="DialogDescriptionWarning",jwe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${h6(_we).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Bwe=Z5,Gwe=r6,f6=n6,p6=s6,g6=o6,m6=l6,v6=u6;const Hwe=Bwe,Vwe=Gwe,Wwe=v6,C6=m.forwardRef(({className:e,...t},r)=>d.jsx(f6,{ref:r,className:jt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));C6.displayName=f6.displayName;const y6=m.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(Vwe,{children:[d.jsx(C6,{}),d.jsxs(p6,{ref:n,className:jt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,d.jsxs(v6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(aee,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));y6.displayName=p6.displayName;const w6=({className:e,...t})=>d.jsx("div",{className:jt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});w6.displayName="DialogHeader";const S6=({className:e,...t})=>d.jsx("div",{className:jt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});S6.displayName="DialogFooter";const x6=m.forwardRef(({className:e,...t},r)=>d.jsx(g6,{ref:r,className:jt("text-lg font-semibold leading-none tracking-tight",e),...t}));x6.displayName=g6.displayName;const E6=m.forwardRef(({className:e,...t},r)=>d.jsx(m6,{ref:r,className:jt("text-sm text-muted-foreground",e),...t}));E6.displayName=m6.displayName;const Or=({isOpen:e,onClose:t,dialogTitle:r="Dialog Title",dialogDescription:n="Dialog Description",children:s,formId:i,width:o,height:a,showCloseButton:l=!0,showSaveButton:u=!0})=>d.jsx(Hwe,{open:e,onOpenChange:t,children:d.jsxs(y6,{className:`${o} ${a} `,children:[d.jsxs(w6,{children:[d.jsx(x6,{children:r}),d.jsx(E6,{children:n})]}),d.jsx("div",{className:"modal-body",children:s}),d.jsxs(S6,{className:"sm:justify-start",children:[l&&d.jsx(Wwe,{asChild:!0,children:d.jsx(_t,{type:"button",variant:"secondary",onClick:t,children:"Close"})}),u&&i&&d.jsx(_t,{form:i,type:"submit",children:"Save"})]})]})}),$we=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=fC(),h=Kye(),p=qye(r),g=Yye(r),C=(o==null?void 0:o.data)||[];_n();const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"customerType.customerType",headerName:"Types"},{field:"customerName",headerName:"Customer Name"},{field:"address1",headerName:"Address"},{field:"contactNumber",headerName:"Contact No "},{field:"email",headerName:"Email"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"},{field:"designation.designation",headerName:"Designation"},{field:"sourceReference.sourceReference",headerName:"Reference"},{field:"referenceDetail.referenceDetail",headerName:"Reference Detail"},{field:"referenceRemark",headerName:"Reference Remark"}],y=()=>{t(!0),i(""),n(null)},S=()=>{t(!1)},E=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):h.mutate(R,{onSuccess:()=>{u()}}),t(!1)},b=R=>{t(!0),n(R.id),console.log("edit",R.id),i(R)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"service-form",width:"max-w-5xl",height:"min-h-[200px] max-h-[80vh] h-auto overflow-y-auto",showCloseButton:!1,showSaveButton:!1,children:d.jsx(zye,{onSubmit:E,formId:"service-form",defaultValues:s,setIsModalOpen:t})})]})};function Uwe(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var WR="ScrollArea",[b6,AAe]=xo(WR),[zwe,yi]=b6(WR),R6=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,l]=m.useState(null),[u,h]=m.useState(null),[p,g]=m.useState(null),[C,w]=m.useState(null),[y,S]=m.useState(null),[E,b]=m.useState(0),[T,R]=m.useState(0),[P,M]=m.useState(!1),[D,N]=m.useState(!1),O=rr(t,W=>l(W)),j=j0(s);return d.jsx(zwe,{scope:r,type:n,dir:j,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:h,content:p,onContentChange:g,scrollbarX:C,onScrollbarXChange:w,scrollbarXEnabled:P,onScrollbarXEnabledChange:M,scrollbarY:y,onScrollbarYChange:S,scrollbarYEnabled:D,onScrollbarYEnabledChange:N,onCornerWidthChange:b,onCornerHeightChange:R,children:d.jsx(Wt.div,{dir:j,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":T+"px",...e.style}})})});R6.displayName=WR;var T6="ScrollAreaViewport",F6=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=yi(T6,r),a=m.useRef(null),l=rr(t,a,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(Wt.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});F6.displayName=T6;var Fo="ScrollAreaScrollbar",$R=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=yi(Fo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return m.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?d.jsx(Kwe,{...n,ref:t,forceMount:r}):s.type==="scroll"?d.jsx(qwe,{...n,ref:t,forceMount:r}):s.type==="auto"?d.jsx(P6,{...n,ref:t,forceMount:r}):s.type==="always"?d.jsx(UR,{...n,ref:t}):null});$R.displayName=Fo;var Kwe=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=yi(Fo,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},h=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",h),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(ha,{present:r||i,children:d.jsx(P6,{"data-state":i?"visible":"hidden",...n,ref:t})})}),qwe=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=yi(Fo,e.__scopeScrollArea),i=e.orientation==="horizontal",o=vC(()=>l("SCROLL_END"),100),[a,l]=Uwe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),m.useEffect(()=>{const u=s.viewport,h=i?"scrollLeft":"scrollTop";if(u){let p=u[h];const g=()=>{const C=u[h];p!==C&&(l("SCROLL"),o()),p=C};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[s.viewport,i,l,o]),d.jsx(ha,{present:r||a!=="hidden",children:d.jsx(UR,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:pt(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:pt(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),P6=m.forwardRef((e,t)=>{const r=yi(Fo,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=m.useState(!1),a=e.orientation==="horizontal",l=vC(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?u:h)}},10);return Kd(r.viewport,l),Kd(r.content,l),d.jsx(ha,{present:n||i,children:d.jsx(UR,{"data-state":i?"visible":"hidden",...s,ref:t})})}),UR=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=yi(Fo,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=I6(a.viewport,a.content),h={...n,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function p(g,C){return eSe(g,o.current,a,C)}return r==="horizontal"?d.jsx(Ywe,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const g=s.viewport.scrollLeft,C=hN(g,a,s.dir);i.current.style.transform=`translate3d(${C}px, 0, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=p(g,s.dir))}}):r==="vertical"?d.jsx(Xwe,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const g=s.viewport.scrollTop,C=hN(g,a);i.current.style.transform=`translate3d(0, ${C}px, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=p(g))}}):null}),Ywe=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=yi(Fo,e.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),u=rr(t,l,i.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(D6,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mC(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(i.viewport){const g=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),L6(g,p)&&h.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:m0(o.paddingLeft),paddingEnd:m0(o.paddingRight)}})}})}),Xwe=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=yi(Fo,e.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),u=rr(t,l,i.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(D6,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mC(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(i.viewport){const g=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),L6(g,p)&&h.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:m0(o.paddingTop),paddingEnd:m0(o.paddingBottom)}})}})}),[Qwe,A6]=b6(Fo),D6=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:h,onResize:p,...g}=e,C=yi(Fo,r),[w,y]=m.useState(null),S=rr(t,O=>y(O)),E=m.useRef(null),b=m.useRef(""),T=C.viewport,R=n.content-n.viewport,P=Yt(h),M=Yt(l),D=vC(p,10);function N(O){if(E.current){const j=O.clientX-E.current.left,W=O.clientY-E.current.top;u({x:j,y:W})}}return m.useEffect(()=>{const O=j=>{const W=j.target;(w==null?void 0:w.contains(W))&&P(j,R)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[T,w,R,P]),m.useEffect(M,[n,M]),Kd(w,D),Kd(C.content,D),d.jsx(Qwe,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:Yt(i),onThumbPointerUp:Yt(o),onThumbPositionChange:M,onThumbPointerDown:Yt(a),children:d.jsx(Wt.div,{...g,ref:S,style:{position:"absolute",...g.style},onPointerDown:pt(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),E.current=w.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",C.viewport&&(C.viewport.style.scrollBehavior="auto"),N(O))}),onPointerMove:pt(e.onPointerMove,N),onPointerUp:pt(e.onPointerUp,O=>{const j=O.target;j.hasPointerCapture(O.pointerId)&&j.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=b.current,C.viewport&&(C.viewport.style.scrollBehavior=""),E.current=null})})})}),g0="ScrollAreaThumb",M6=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=A6(g0,e.__scopeScrollArea);return d.jsx(ha,{present:r||s.hasThumb,children:d.jsx(Jwe,{ref:t,...n})})}),Jwe=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=yi(g0,r),o=A6(g0,r),{onThumbPositionChange:a}=o,l=rr(t,p=>o.onThumbChange(p)),u=m.useRef(),h=vC(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const p=i.viewport;if(p){const g=()=>{if(h(),!u.current){const C=tSe(p,a);u.current=C,a()}};return a(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[i.viewport,h,a]),d.jsx(Wt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:pt(e.onPointerDownCapture,p=>{const C=p.target.getBoundingClientRect(),w=p.clientX-C.left,y=p.clientY-C.top;o.onThumbPointerDown({x:w,y})}),onPointerUp:pt(e.onPointerUp,o.onThumbPointerUp)})});M6.displayName=g0;var zR="ScrollAreaCorner",N6=m.forwardRef((e,t)=>{const r=yi(zR,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(Zwe,{...e,ref:t}):null});N6.displayName=zR;var Zwe=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=yi(zR,r),[i,o]=m.useState(0),[a,l]=m.useState(0),u=!!(i&&a);return Kd(s.scrollbarX,()=>{var p;const h=((p=s.scrollbarX)==null?void 0:p.offsetHeight)||0;s.onCornerHeightChange(h),l(h)}),Kd(s.scrollbarY,()=>{var p;const h=((p=s.scrollbarY)==null?void 0:p.offsetWidth)||0;s.onCornerWidthChange(h),o(h)}),u?d.jsx(Wt.div,{...n,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function m0(e){return e?parseInt(e,10):0}function I6(e,t){const r=e/t;return isNaN(r)?0:r}function mC(e){const t=I6(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function eSe(e,t,r,n="ltr"){const s=mC(r),i=s/2,o=t||i,a=s-o,l=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-a,h=r.content-r.viewport,p=n==="ltr"?[0,h]:[h*-1,0];return O6([l,u],p)(e)}function hN(e,t,r="ltr"){const n=mC(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-n,l=r==="ltr"?[0,o]:[o*-1,0],u=l1(e,l);return O6([0,o],[0,a])(u)}function O6(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function L6(e,t){return e>0&&e<t}var tSe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,a=r.top!==i.top;(o||a)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function vC(e,t){const r=Yt(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Kd(e,t){const r=Yt(t);Jt(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var k6=R6,rSe=F6,nSe=N6;const vh=m.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(k6,{ref:n,className:jt("relative overflow-hidden",e),...r,children:[d.jsx(rSe,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(_6,{}),d.jsx(nSe,{})]}));vh.displayName=k6.displayName;const _6=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>d.jsx($R,{ref:n,orientation:t,className:jt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:d.jsx(M6,{className:"relative flex-1 rounded-full bg-border"})}));_6.displayName=$R.displayName;const sSe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});m.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(vh,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(Re,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(Re,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(Re,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(Re,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(Re,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(Re,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(Re,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(Re,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(Re,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(Re,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(Re,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},KR=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},Ch=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},j6=()=>Fr({queryKey:["useGetSales"],queryFn:()=>_e("/api/sales/v1/getAll")}),B6=()=>(console.log("sales register"),Ze({mutationFn:e=>_e("/api/sales/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:KR,onError:Ch})),iSe=()=>Ze({mutationFn:()=>_e("/api/sales/getNextInvoiceNo",{method:"GET"}),onError:Ch}),G6=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/sales/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{KR(r),t.invalidateQueries({queryKey:["useGetSales"]})},onError:Ch})},oSe=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/sales/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetSales"]}),KR(r.message)},onError:Ch})},aSe=()=>Ze({mutationFn:()=>_e("/api/sales/getAllInVoiceNo",{method:"GET"}),onError:Ch}),lSe=e=>(console.log("action in hook",e),Ze({mutationFn:()=>_e(`/api/sales/getSalesByInvoiceNo?invoiceNo=${e}`,{method:"GET"}),onError:Ch})),cSe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=j6(),h=B6(),p=G6(r),g=oSe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=_n(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:P=>P.node.rowIndex+1},{field:"inVoiceNo",headerName:"Invoice No"},{field:"orderType.name",headerName:"Types"},{field:"customer.customerName",headerName:"Customer Name"},{field:"billingAddress",headerName:"Address"},{field:"deliveryAddress",headerName:"Delivery Address"},{field:"contactNumber",headerName:"Contact No "},{field:"email",headerName:"Email"},{field:"purchaseOrderDate",headerName:"Purchase OrderDate"},{field:"salesOrderDate",headerName:"Sales OrderDate"},{field:"company",headerName:"Company"}],S=()=>{i(""),n(null),w("/app/sales/createform")},E=()=>{w("/app/sales")},b=P=>{r?p.mutate(P,{onSuccess:()=>{u()}}):h.mutate(P,{onSuccess:()=>{u()}}),t(!1)},T=P=>{n(P.id),i(P),w(`/app/sales/createform?id=${P.id}`)},R=P=>{n(P.id),g.mutate(P.id,{onSuccess:()=>{u()}})};return d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:y,isLoading:a,onAddClick:S,onEditClick:T,onDeleteClick:R})]}),d.jsx(Or,{isOpen:e,onClose:E,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"service-form",width:"100%",height:"100%",children:d.jsx(sSe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})};function fl(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function fN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function uSe(...e){return t=>{let r=!1;const n=e.map(s=>{const i=fN(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():fN(e[s],null)}}}}function _l(...e){return m.useCallback(uSe(...e),e)}var dSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ma=dSe.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?Pl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function hSe(e,t){e&&vi.flushSync(()=>e.dispatchEvent(t))}var fSe="DismissableLayer",v1="dismissableLayer.update",pSe="dismissableLayer.pointerDownOutside",gSe="dismissableLayer.focusOutside",pN,H6=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),V6=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,u=m.useContext(H6),[h,p]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=m.useState({}),w=_l(t,D=>p(D)),y=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(S),b=h?y.indexOf(h):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,R=b>=E,P=CSe(D=>{const N=D.target,O=[...u.branches].some(j=>j.contains(N));!R||O||(s==null||s(D),o==null||o(D),D.defaultPrevented||a==null||a())},g),M=ySe(D=>{const N=D.target;[...u.branches].some(j=>j.contains(N))||(i==null||i(D),o==null||o(D),D.defaultPrevented||a==null||a())},g);return M0(D=>{b===u.layers.size-1&&(n==null||n(D),!D.defaultPrevented&&a&&(D.preventDefault(),a()))},g),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(pN=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),gN(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=pN)}},[h,g,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),gN())},[h,u]),m.useEffect(()=>{const D=()=>C({});return document.addEventListener(v1,D),()=>document.removeEventListener(v1,D)},[]),d.jsx(ma.div,{...l,ref:w,style:{pointerEvents:T?R?"auto":"none":void 0,...e.style},onFocusCapture:fl(e.onFocusCapture,M.onFocusCapture),onBlurCapture:fl(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:fl(e.onPointerDownCapture,P.onPointerDownCapture)})});V6.displayName=fSe;var mSe="DismissableLayerBranch",vSe=m.forwardRef((e,t)=>{const r=m.useContext(H6),n=m.useRef(null),s=_l(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),d.jsx(ma.div,{...e,ref:s})});vSe.displayName=mSe;function CSe(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){W6(pSe,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function ySe(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&W6(gSe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function gN(){const e=new CustomEvent(v1);document.dispatchEvent(e)}function W6(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?hSe(s,i):s.dispatchEvent(i)}var vS="focusScope.autoFocusOnMount",CS="focusScope.autoFocusOnUnmount",mN={bubbles:!1,cancelable:!0},wSe="FocusScope",$6=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=m.useState(null),u=Yt(s),h=Yt(i),p=m.useRef(null),g=_l(t,y=>l(y)),C=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let y=function(T){if(C.paused||!a)return;const R=T.target;a.contains(R)?p.current=R:qa(p.current,{select:!0})},S=function(T){if(C.paused||!a)return;const R=T.relatedTarget;R!==null&&(a.contains(R)||qa(p.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const P of T)P.removedNodes.length>0&&qa(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const b=new MutationObserver(E);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),b.disconnect()}}},[n,a,C.paused]),m.useEffect(()=>{if(a){CN.add(C);const y=document.activeElement;if(!a.contains(y)){const E=new CustomEvent(vS,mN);a.addEventListener(vS,u),a.dispatchEvent(E),E.defaultPrevented||(SSe(TSe(U6(a)),{select:!0}),document.activeElement===y&&qa(a))}return()=>{a.removeEventListener(vS,u),setTimeout(()=>{const E=new CustomEvent(CS,mN);a.addEventListener(CS,h),a.dispatchEvent(E),E.defaultPrevented||qa(y??document.body,{select:!0}),a.removeEventListener(CS,h),CN.remove(C)},0)}}},[a,u,h,C]);const w=m.useCallback(y=>{if(!r&&!n||C.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(S&&E){const b=y.currentTarget,[T,R]=xSe(b);T&&R?!y.shiftKey&&E===R?(y.preventDefault(),r&&qa(T,{select:!0})):y.shiftKey&&E===T&&(y.preventDefault(),r&&qa(R,{select:!0})):E===b&&y.preventDefault()}},[r,n,C.paused]);return d.jsx(ma.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});$6.displayName=wSe;function SSe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(qa(n,{select:t}),document.activeElement!==r)return}function xSe(e){const t=U6(e),r=vN(t,e),n=vN(t.reverse(),e);return[r,n]}function U6(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function vN(e,t){for(const r of e)if(!ESe(r,{upTo:t}))return r}function ESe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function bSe(e){return e instanceof HTMLInputElement&&"select"in e}function qa(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&bSe(e)&&t&&e.select()}}var CN=RSe();function RSe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=yN(e,t),e.unshift(t)},remove(t){var r;e=yN(e,t),(r=e[0])==null||r.resume()}}}function yN(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function TSe(e){return e.filter(t=>t.tagName!=="A")}var FSe="Arrow",z6=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return d.jsx(ma.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});z6.displayName=FSe;var PSe=z6,qR="Popper",[K6,q6]=xo(qR),[ASe,Y6]=K6(qR),X6=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return d.jsx(ASe,{scope:t,anchor:n,onAnchorChange:s,children:r})};X6.displayName=qR;var Q6="PopperAnchor",J6=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=Y6(Q6,r),o=m.useRef(null),a=_l(t,o);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:d.jsx(ma.div,{...s,ref:a})});J6.displayName=Q6;var YR="PopperContent",[DSe,MSe]=K6(YR),Z6=m.forwardRef((e,t)=>{var ie,fe,Q,re,Me,Fe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:C="optimized",onPlaced:w,...y}=e,S=Y6(YR,r),[E,b]=m.useState(null),T=_l(t,We=>b(We)),[R,P]=m.useState(null),M=HE(R),D=(M==null?void 0:M.width)??0,N=(M==null?void 0:M.height)??0,O=n+(i!=="center"?"-"+i:""),j=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},W=Array.isArray(u)?u:[u],B=W.length>0,oe={padding:j,boundary:W.filter(ISe),altBoundary:B},{refs:pe,floatingStyles:Se,placement:we,isPositioned:se,middlewareData:Z}=IE({strategy:"fixed",placement:O,whileElementsMounted:(...We)=>NE(...We,{animationFrame:C==="always"}),elements:{reference:S.anchor},middleware:[OE({mainAxis:s+N,alignmentAxis:o}),l&&LE({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?kE():void 0,...oe}),l&&_E({...oe}),jE({...oe,apply:({elements:We,rects:Ye,availableWidth:ut,availableHeight:gt})=>{const{width:Ve,height:le}=Ye.reference,Be=We.floating.style;Be.setProperty("--radix-popper-available-width",`${ut}px`),Be.setProperty("--radix-popper-available-height",`${gt}px`),Be.setProperty("--radix-popper-anchor-width",`${Ve}px`),Be.setProperty("--radix-popper-anchor-height",`${le}px`)}}),R&&GE({element:R,padding:a}),OSe({arrowWidth:D,arrowHeight:N}),g&&BE({strategy:"referenceHidden",...oe})]}),[ne,de]=r8(we),z=Yt(w);Jt(()=>{se&&(z==null||z())},[se,z]);const I=(ie=Z.arrow)==null?void 0:ie.x,L=(fe=Z.arrow)==null?void 0:fe.y,H=((Q=Z.arrow)==null?void 0:Q.centerOffset)!==0,[G,J]=m.useState();return Jt(()=>{E&&J(window.getComputedStyle(E).zIndex)},[E]),d.jsx("div",{ref:pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:se?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(re=Z.transformOrigin)==null?void 0:re.x,(Me=Z.transformOrigin)==null?void 0:Me.y].join(" "),...((Fe=Z.hide)==null?void 0:Fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(DSe,{scope:r,placedSide:ne,onArrowChange:P,arrowX:I,arrowY:L,shouldHideArrow:H,children:d.jsx(ma.div,{"data-side":ne,"data-align":de,...y,ref:T,style:{...y.style,animation:se?void 0:"none"}})})})});Z6.displayName=YR;var e8="PopperArrow",NSe={top:"bottom",right:"left",bottom:"top",left:"right"},t8=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=MSe(e8,n),o=NSe[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(PSe,{...s,ref:r,style:{...s.style,display:"block"}})})});t8.displayName=e8;function ISe(e){return e!==null}var OSe=e=>({name:"transformOrigin",options:e,fn(t){var S,E,b;const{placement:r,rects:n,middlewareData:s}=t,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,h]=r8(r),p={start:"0%",center:"50%",end:"100%"}[h],g=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,C=(((b=s.arrow)==null?void 0:b.y)??0)+l/2;let w="",y="";return u==="bottom"?(w=o?p:`${g}px`,y=`${-l}px`):u==="top"?(w=o?p:`${g}px`,y=`${n.floating.height+l}px`):u==="right"?(w=`${-l}px`,y=o?p:`${C}px`):u==="left"&&(w=`${n.floating.width+l}px`,y=o?p:`${C}px`),{data:{x:w,y}}}});function r8(e){const[t,r="center"]=e.split("-");return[t,r]}var LSe=X6,n8=J6,kSe=Z6,_Se=t8,jSe="Portal",s8=m.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=m.useState(!1);Jt(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Zd.createPortal(d.jsx(ma.div,{...n,ref:t}),o):null});s8.displayName=jSe;function BSe(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var XR=e=>{const{present:t,children:r}=e,n=GSe(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=_l(n.ref,HSe(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};XR.displayName="Presence";function GSe(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[a,l]=BSe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=zm(n.current);i.current=a==="mounted"?u:"none"},[a]),Jt(()=>{const u=n.current,h=s.current;if(h!==e){const g=i.current,C=zm(u);e?l("MOUNT"):C==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&g!==C?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Jt(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,p=C=>{const y=zm(n.current).includes(C.animationName);if(C.target===t&&y&&(l("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=C=>{C.target===t&&(i.current=zm(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function zm(e){return(e==null?void 0:e.animationName)||"none"}function HSe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var QR="Popover",[i8,DAe]=xo(QR,[q6]),Kp=q6(),[VSe,jl]=i8(QR),o8=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,a=Kp(t),l=m.useRef(null),[u,h]=m.useState(!1),[p=!1,g]=_c({prop:n,defaultProp:s,onChange:i});return d.jsx(LSe,{...a,children:d.jsx(VSe,{scope:t,contentId:Hi(),triggerRef:l,open:p,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(C=>!C),[g]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>h(!0),[]),onCustomAnchorRemove:m.useCallback(()=>h(!1),[]),modal:o,children:r})})};o8.displayName=QR;var a8="PopoverAnchor",WSe=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=jl(a8,r),i=Kp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return m.useEffect(()=>(o(),()=>a()),[o,a]),d.jsx(n8,{...i,...n,ref:t})});WSe.displayName=a8;var l8="PopoverTrigger",c8=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=jl(l8,r),i=Kp(r),o=_l(t,s.triggerRef),a=d.jsx(ma.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":p8(s.open),...n,ref:o,onClick:fl(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:d.jsx(n8,{asChild:!0,...i,children:a})});c8.displayName=l8;var JR="PopoverPortal",[$Se,USe]=i8(JR,{forceMount:void 0}),u8=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=jl(JR,t);return d.jsx($Se,{scope:t,forceMount:r,children:d.jsx(XR,{present:r||i.open,children:d.jsx(s8,{asChild:!0,container:s,children:n})})})};u8.displayName=JR;var qd="PopoverContent",d8=m.forwardRef((e,t)=>{const r=USe(qd,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=jl(qd,e.__scopePopover);return d.jsx(XR,{present:n||i.open,children:i.modal?d.jsx(zSe,{...s,ref:t}):d.jsx(KSe,{...s,ref:t})})});d8.displayName=qd;var zSe=m.forwardRef((e,t)=>{const r=jl(qd,e.__scopePopover),n=m.useRef(null),s=_l(t,n),i=m.useRef(!1);return m.useEffect(()=>{const o=n.current;if(o)return Mp(o)},[]),d.jsx(U0,{as:Pl,allowPinchZoom:!0,children:d.jsx(h8,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fl(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:fl(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:fl(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),KSe=m.forwardRef((e,t)=>{const r=jl(qd,e.__scopePopover),n=m.useRef(!1),s=m.useRef(!1);return d.jsx(h8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),h8=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:h,...p}=e,g=jl(qd,r),C=Kp(r);return B0(),d.jsx($6,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(V6,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:d.jsx(kSe,{"data-state":p8(g.open),role:"dialog",id:g.contentId,...C,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),f8="PopoverClose",qSe=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=jl(f8,r);return d.jsx(ma.button,{type:"button",...n,ref:t,onClick:fl(e.onClick,()=>s.onOpenChange(!1))})});qSe.displayName=f8;var YSe="PopoverArrow",XSe=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Kp(r);return d.jsx(_Se,{...s,...n,ref:t})});XSe.displayName=YSe;function p8(e){return e?"open":"closed"}var QSe=o8,JSe=c8,ZSe=u8,g8=d8;const ws=QSe,Ss=JSe,Yn=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>d.jsx(ZSe,{children:d.jsx(g8,{ref:s,align:t,sideOffset:r,className:jt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Yn.displayName=g8.displayName;var wN=1,exe=.9,txe=.8,rxe=.17,yS=.1,wS=.999,nxe=.9999,sxe=.99,ixe=/[\\\/_+.#"@\[\(\{&]/,oxe=/[\\\/_+.#"@\[\(\{&]/g,axe=/[\s-]/,m8=/[\s-]/g;function C1(e,t,r,n,s,i,o){if(i===t.length)return s===e.length?wN:sxe;var a=`${s},${i}`;if(o[a]!==void 0)return o[a];for(var l=n.charAt(i),u=r.indexOf(l,s),h=0,p,g,C,w;u>=0;)p=C1(e,t,r,n,u+1,i+1,o),p>h&&(u===s?p*=wN:ixe.test(e.charAt(u-1))?(p*=txe,C=e.slice(s,u-1).match(oxe),C&&s>0&&(p*=Math.pow(wS,C.length))):axe.test(e.charAt(u-1))?(p*=exe,w=e.slice(s,u-1).match(m8),w&&s>0&&(p*=Math.pow(wS,w.length))):(p*=rxe,s>0&&(p*=Math.pow(wS,u-s))),e.charAt(u)!==t.charAt(i)&&(p*=nxe)),(p<yS&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(g=C1(e,t,r,n,u+1,i+2,o),g*yS>p&&(p=g*yS)),p>h&&(h=p),u=r.indexOf(l,u+1);return o[a]=h,h}function SN(e){return e.toLowerCase().replace(m8," ")}function lxe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,C1(e,t,SN(e),SN(t),0,0,{})}function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(null,arguments)}function Ed(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function cxe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function v8(...e){return t=>e.forEach(r=>cxe(r,t))}function qp(...e){return m.useCallback(v8(...e),e)}function uxe(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];function u(p){const{scope:g,children:C,...w}=p,y=(g==null?void 0:g[e][l])||a,S=m.useMemo(()=>w,Object.values(w));return m.createElement(y.Provider,{value:S},C)}function h(p,g){const C=(g==null?void 0:g[e][l])||a,w=m.useContext(C);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,dxe(s,...t)]}function dxe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}const hxe=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},fxe=DI.useId||(()=>{});let pxe=0;function SS(e){const[t,r]=m.useState(fxe());return hxe(()=>{e||r(n=>n??String(pxe++))},[e]),e||(t?`radix-${t}`:"")}function C8(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function gxe({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=mxe({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,a=C8(r),l=m.useCallback(u=>{if(i){const p=typeof u=="function"?u(e):u;p!==e&&a(p)}else s(u)},[i,e,s,a]);return[o,l]}function mxe({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),i=C8(t);return m.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}const ZR=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),i=s.find(Cxe);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return m.createElement(y1,as({},n,{ref:t}),m.isValidElement(o)?m.cloneElement(o,void 0,a):null)}return m.createElement(y1,as({},n,{ref:t}),r)});ZR.displayName="Slot";const y1=m.forwardRef((e,t)=>{const{children:r,...n}=e;return m.isValidElement(r)?m.cloneElement(r,{...yxe(n,r.props),ref:t?v8(t,r.ref):r.ref}):m.Children.count(r)>1?m.Children.only(null):null});y1.displayName="SlotClone";const vxe=({children:e})=>m.createElement(m.Fragment,null,e);function Cxe(e){return m.isValidElement(e)&&e.type===vxe}function yxe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}const wxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],wi=wxe.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?ZR:t;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,as({},o,{ref:s}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Sxe(e,t){e&&vi.flushSync(()=>e.dispatchEvent(t))}function eT(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function xxe(e,t=globalThis==null?void 0:globalThis.document){const r=eT(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[r,t])}const w1="dismissableLayer.update",Exe="dismissableLayer.pointerDownOutside",bxe="dismissableLayer.focusOutside";let xN;const Rxe=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Txe=m.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...u}=e,h=m.useContext(Rxe),[p,g]=m.useState(null),C=(r=p==null?void 0:p.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,w]=m.useState({}),y=qp(t,N=>g(N)),S=Array.from(h.layers),[E]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),b=S.indexOf(E),T=p?S.indexOf(p):-1,R=h.layersWithOutsidePointerEventsDisabled.size>0,P=T>=b,M=Fxe(N=>{const O=N.target,j=[...h.branches].some(W=>W.contains(O));!P||j||(i==null||i(N),a==null||a(N),N.defaultPrevented||l==null||l())},C),D=Pxe(N=>{const O=N.target;[...h.branches].some(W=>W.contains(O))||(o==null||o(N),a==null||a(N),N.defaultPrevented||l==null||l())},C);return xxe(N=>{T===h.layers.size-1&&(s==null||s(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},C),m.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(xN=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),EN(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(C.body.style.pointerEvents=xN)}},[p,C,n,h]),m.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),EN())},[p,h]),m.useEffect(()=>{const N=()=>w({});return document.addEventListener(w1,N),()=>document.removeEventListener(w1,N)},[]),m.createElement(wi.div,as({},u,{ref:y,style:{pointerEvents:R?P?"auto":"none":void 0,...e.style},onFocusCapture:Ed(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Ed(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ed(e.onPointerDownCapture,M.onPointerDownCapture)}))});function Fxe(e,t=globalThis==null?void 0:globalThis.document){const r=eT(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let h=function(){y8(Exe,r,u,{discrete:!0})};var l=h;const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=h,t.addEventListener("click",s.current,{once:!0})):h()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Pxe(e,t=globalThis==null?void 0:globalThis.document){const r=eT(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&y8(bxe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function EN(){const e=new CustomEvent(w1);document.dispatchEvent(e)}function y8(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Sxe(s,i):s.dispatchEvent(i)}function bN(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}const xS="focusScope.autoFocusOnMount",ES="focusScope.autoFocusOnUnmount",RN={bubbles:!1,cancelable:!0},Axe=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=m.useState(null),u=bN(s),h=bN(i),p=m.useRef(null),g=qp(t,y=>l(y)),C=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let b=function(M){if(C.paused||!a)return;const D=M.target;a.contains(D)?p.current=D:Ya(p.current,{select:!0})},T=function(M){if(C.paused||!a)return;const D=M.relatedTarget;D!==null&&(a.contains(D)||Ya(p.current,{select:!0}))},R=function(M){if(document.activeElement===document.body)for(const N of M)N.removedNodes.length>0&&Ya(a)};var y=b,S=T,E=R;document.addEventListener("focusin",b),document.addEventListener("focusout",T);const P=new MutationObserver(R);return a&&P.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",T),P.disconnect()}}},[n,a,C.paused]),m.useEffect(()=>{if(a){FN.add(C);const y=document.activeElement;if(!a.contains(y)){const E=new CustomEvent(xS,RN);a.addEventListener(xS,u),a.dispatchEvent(E),E.defaultPrevented||(Dxe(Lxe(w8(a)),{select:!0}),document.activeElement===y&&Ya(a))}return()=>{a.removeEventListener(xS,u),setTimeout(()=>{const E=new CustomEvent(ES,RN);a.addEventListener(ES,h),a.dispatchEvent(E),E.defaultPrevented||Ya(y??document.body,{select:!0}),a.removeEventListener(ES,h),FN.remove(C)},0)}}},[a,u,h,C]);const w=m.useCallback(y=>{if(!r&&!n||C.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(S&&E){const b=y.currentTarget,[T,R]=Mxe(b);T&&R?!y.shiftKey&&E===R?(y.preventDefault(),r&&Ya(T,{select:!0})):y.shiftKey&&E===T&&(y.preventDefault(),r&&Ya(R,{select:!0})):E===b&&y.preventDefault()}},[r,n,C.paused]);return m.createElement(wi.div,as({tabIndex:-1},o,{ref:g,onKeyDown:w}))});function Dxe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ya(n,{select:t}),document.activeElement!==r)return}function Mxe(e){const t=w8(e),r=TN(t,e),n=TN(t.reverse(),e);return[r,n]}function w8(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function TN(e,t){for(const r of e)if(!Nxe(r,{upTo:t}))return r}function Nxe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ixe(e){return e instanceof HTMLInputElement&&"select"in e}function Ya(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ixe(e)&&t&&e.select()}}const FN=Oxe();function Oxe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=PN(e,t),e.unshift(t)},remove(t){var r;e=PN(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function PN(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Lxe(e){return e.filter(t=>t.tagName!=="A")}const kxe=m.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=e;return n?Zd.createPortal(m.createElement(wi.div,as({},s,{ref:t})),n):null}),AN=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{};function _xe(e,t){return m.useReducer((r,n)=>{const s=t[r][n];return s??r},e)}const CC=e=>{const{present:t,children:r}=e,n=jxe(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=qp(n.ref,s.ref);return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};CC.displayName="Presence";function jxe(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[a,l]=_xe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Km(n.current);i.current=a==="mounted"?u:"none"},[a]),AN(()=>{const u=n.current,h=s.current;if(h!==e){const g=i.current,C=Km(u);e?l("MOUNT"):C==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&g!==C?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),AN(()=>{if(t){const u=p=>{const C=Km(n.current).includes(p.animationName);p.target===t&&C&&vi.flushSync(()=>l("ANIMATION_END"))},h=p=>{p.target===t&&(i.current=Km(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Km(e){return(e==null?void 0:e.animationName)||"none"}let bS=0;function Bxe(){m.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:DN()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:DN()),bS++,()=>{bS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),bS--}},[])}function DN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var S8=rb(),RS=function(){},yC=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:RS,onWheelCapture:RS,onTouchMoveCapture:RS}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,h=e.enabled,p=e.shards,g=e.sideCar,C=e.noIsolation,w=e.inert,y=e.allowPinchZoom,S=e.as,E=S===void 0?"div":S,b=V0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),T=g,R=tb([r,t]),P=Gr(Gr({},b),s);return m.createElement(m.Fragment,null,h&&m.createElement(T,{sideCar:S8,removeScrollBar:u,shards:p,noIsolation:C,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:r}),o?m.cloneElement(m.Children.only(a),Gr(Gr({},P),{ref:R})):m.createElement(E,Gr({},P,{className:l,ref:R}),a))});yC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yC.classNames={fullWidth:pd,zeroRight:fd};var S1=!1;if(typeof window<"u")try{var qm=Object.defineProperty({},"passive",{get:function(){return S1=!0,!0}});window.addEventListener("test",qm,qm),window.removeEventListener("test",qm,qm)}catch{S1=!1}var Xu=S1?{passive:!1}:!1,Gxe=function(e){return e.tagName==="TEXTAREA"},x8=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Gxe(e)&&r[t]==="visible")},Hxe=function(e){return x8(e,"overflowY")},Vxe=function(e){return x8(e,"overflowX")},MN=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=E8(e,r);if(n){var s=b8(e,r),i=s[1],o=s[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},Wxe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},$xe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},E8=function(e,t){return e==="v"?Hxe(t):Vxe(t)},b8=function(e,t){return e==="v"?Wxe(t):$xe(t)},Uxe=function(e,t){return e==="h"&&t==="rtl"?-1:1},zxe=function(e,t,r,n,s){var i=Uxe(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),u=!1,h=o>0,p=0,g=0;do{var C=b8(e,a),w=C[0],y=C[1],S=C[2],E=y-S-i*w;(w||E)&&E8(e,a)&&(p+=E,g+=w),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(h&&(p===0||!s)||!h&&(g===0||!s))&&(u=!0),u},Ym=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},NN=function(e){return[e.deltaX,e.deltaY]},IN=function(e){return e&&"current"in e?e.current:e},Kxe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qxe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Yxe=0,Qu=[];function Xxe(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(Yxe++)[0],i=m.useState(function(){return $0()})[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=eb([e.lockRef.current],(e.shards||[]).map(IN),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(y,S){if("touches"in y&&y.touches.length===2)return!o.current.allowPinchZoom;var E=Ym(y),b=r.current,T="deltaX"in y?y.deltaX:b[0]-E[0],R="deltaY"in y?y.deltaY:b[1]-E[1],P,M=y.target,D=Math.abs(T)>Math.abs(R)?"h":"v";if("touches"in y&&D==="h"&&M.type==="range")return!1;var N=MN(D,M);if(!N)return!0;if(N?P=D:(P=D==="v"?"h":"v",N=MN(D,M)),!N)return!1;if(!n.current&&"changedTouches"in y&&(T||R)&&(n.current=P),!P)return!0;var O=n.current||P;return zxe(O,S,y,O==="h"?T:R,!0)},[]),l=m.useCallback(function(y){var S=y;if(!(!Qu.length||Qu[Qu.length-1]!==i)){var E="deltaY"in S?NN(S):Ym(S),b=t.current.filter(function(P){return P.name===S.type&&P.target===S.target&&Kxe(P.delta,E)})[0];if(b&&b.should){S.cancelable&&S.preventDefault();return}if(!b){var T=(o.current.shards||[]).map(IN).filter(Boolean).filter(function(P){return P.contains(S.target)}),R=T.length>0?a(S,T[0]):!o.current.noIsolation;R&&S.cancelable&&S.preventDefault()}}},[]),u=m.useCallback(function(y,S,E,b){var T={name:y,delta:S,target:E,should:b};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(R){return R!==T})},1)},[]),h=m.useCallback(function(y){r.current=Ym(y),n.current=void 0},[]),p=m.useCallback(function(y){u(y.type,NN(y),y.target,a(y,e.lockRef.current))},[]),g=m.useCallback(function(y){u(y.type,Ym(y),y.target,a(y,e.lockRef.current))},[]);m.useEffect(function(){return Qu.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Xu),document.addEventListener("touchmove",l,Xu),document.addEventListener("touchstart",h,Xu),function(){Qu=Qu.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Xu),document.removeEventListener("touchmove",l,Xu),document.removeEventListener("touchstart",h,Xu)}},[]);var C=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:qxe(s)}):null,C?m.createElement(sb,{gapMode:"margin"}):null)}const Qxe=nb(S8,Xxe);var R8=m.forwardRef(function(e,t){return m.createElement(yC,Gr({},e,{ref:t,sideCar:Qxe}))});R8.classNames=yC.classNames;const T8="Dialog",[F8,MAe]=uxe(T8),[Jxe,hu]=F8(T8),Zxe=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=m.useRef(null),l=m.useRef(null),[u=!1,h]=gxe({prop:n,defaultProp:s,onChange:i});return m.createElement(Jxe,{scope:t,triggerRef:a,contentRef:l,contentId:SS(),titleId:SS(),descriptionId:SS(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:o},r)},P8="DialogPortal",[e1e,A8]=F8(P8,{forceMount:void 0}),t1e=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=hu(P8,t);return m.createElement(e1e,{scope:t,forceMount:r},m.Children.map(n,o=>m.createElement(CC,{present:r||i.open},m.createElement(kxe,{asChild:!0,container:s},o))))},x1="DialogOverlay",r1e=m.forwardRef((e,t)=>{const r=A8(x1,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=hu(x1,e.__scopeDialog);return i.modal?m.createElement(CC,{present:n||i.open},m.createElement(n1e,as({},s,{ref:t}))):null}),n1e=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=hu(x1,r);return m.createElement(R8,{as:ZR,allowPinchZoom:!0,shards:[s.contentRef]},m.createElement(wi.div,as({"data-state":M8(s.open)},n,{ref:t,style:{pointerEvents:"auto",...n.style}})))}),fp="DialogContent",s1e=m.forwardRef((e,t)=>{const r=A8(fp,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=hu(fp,e.__scopeDialog);return m.createElement(CC,{present:n||i.open},i.modal?m.createElement(i1e,as({},s,{ref:t})):m.createElement(o1e,as({},s,{ref:t})))}),i1e=m.forwardRef((e,t)=>{const r=hu(fp,e.__scopeDialog),n=m.useRef(null),s=qp(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return Mp(i)},[]),m.createElement(D8,as({},e,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ed(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:Ed(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ed(e.onFocusOutside,i=>i.preventDefault())}))}),o1e=m.forwardRef((e,t)=>{const r=hu(fp,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return m.createElement(D8,as({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,i),!i.defaultPrevented){var a;n.current||(a=r.triggerRef.current)===null||a===void 0||a.focus(),i.preventDefault()}n.current=!1,s.current=!1},onInteractOutside:i=>{var o,a;(o=e.onInteractOutside)===null||o===void 0||o.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((a=r.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}}))}),D8=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=hu(fp,r),l=m.useRef(null),u=qp(t,l);return Bxe(),m.createElement(m.Fragment,null,m.createElement(Axe,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i},m.createElement(Txe,as({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":M8(a.open)},o,{ref:u,onDismiss:()=>a.onOpenChange(!1)}))),!1)});function M8(e){return e?"open":"closed"}const a1e=Zxe,l1e=t1e,c1e=r1e,u1e=s1e;var pf='[cmdk-group=""]',TS='[cmdk-group-items=""]',d1e='[cmdk-group-heading=""]',tT='[cmdk-item=""]',ON=`${tT}:not([aria-disabled="true"])`,E1="cmdk-item-select",fc="data-value",h1e=(e,t,r)=>lxe(e,t,r),N8=m.createContext(void 0),Yp=()=>m.useContext(N8),I8=m.createContext(void 0),rT=()=>m.useContext(I8),O8=m.createContext(void 0),L8=m.forwardRef((e,t)=>{let r=td(()=>{var I,L;return{search:"",value:(L=(I=e.value)!=null?I:e.defaultValue)!=null?L:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=td(()=>new Set),s=td(()=>new Map),i=td(()=>new Map),o=td(()=>new Set),a=k8(e),{label:l,children:u,value:h,onValueChange:p,filter:g,shouldFilter:C,loop:w,disablePointerSelection:y=!1,vimBindings:S=!0,...E}=e,b=m.useId(),T=m.useId(),R=m.useId(),P=m.useRef(null),M=E1e();zc(()=>{if(h!==void 0){let I=h.trim();r.current.value=I,D.emit()}},[h]),zc(()=>{M(6,oe)},[]);let D=m.useMemo(()=>({subscribe:I=>(o.current.add(I),()=>o.current.delete(I)),snapshot:()=>r.current,setState:(I,L,H)=>{var G,J,ie;if(!Object.is(r.current[I],L)){if(r.current[I]=L,I==="search")B(),j(),M(1,W);else if(I==="value"&&(H||M(5,oe),((G=a.current)==null?void 0:G.value)!==void 0)){let fe=L??"";(ie=(J=a.current).onValueChange)==null||ie.call(J,fe);return}D.emit()}},emit:()=>{o.current.forEach(I=>I())}}),[]),N=m.useMemo(()=>({value:(I,L,H)=>{var G;L!==((G=i.current.get(I))==null?void 0:G.value)&&(i.current.set(I,{value:L,keywords:H}),r.current.filtered.items.set(I,O(L,H)),M(2,()=>{j(),D.emit()}))},item:(I,L)=>(n.current.add(I),L&&(s.current.has(L)?s.current.get(L).add(I):s.current.set(L,new Set([I]))),M(3,()=>{B(),j(),r.current.value||W(),D.emit()}),()=>{i.current.delete(I),n.current.delete(I),r.current.filtered.items.delete(I);let H=pe();M(4,()=>{B(),(H==null?void 0:H.getAttribute("id"))===I&&W(),D.emit()})}),group:I=>(s.current.has(I)||s.current.set(I,new Set),()=>{i.current.delete(I),s.current.delete(I)}),filter:()=>a.current.shouldFilter,label:l||e["aria-label"],disablePointerSelection:y,listId:b,inputId:R,labelId:T,listInnerRef:P}),[]);function O(I,L){var H,G;let J=(G=(H=a.current)==null?void 0:H.filter)!=null?G:h1e;return I?J(I,r.current.search,L):0}function j(){if(!r.current.search||a.current.shouldFilter===!1)return;let I=r.current.filtered.items,L=[];r.current.filtered.groups.forEach(G=>{let J=s.current.get(G),ie=0;J.forEach(fe=>{let Q=I.get(fe);ie=Math.max(Q,ie)}),L.push([G,ie])});let H=P.current;Se().sort((G,J)=>{var ie,fe;let Q=G.getAttribute("id"),re=J.getAttribute("id");return((ie=I.get(re))!=null?ie:0)-((fe=I.get(Q))!=null?fe:0)}).forEach(G=>{let J=G.closest(TS);J?J.appendChild(G.parentElement===J?G:G.closest(`${TS} > *`)):H.appendChild(G.parentElement===H?G:G.closest(`${TS} > *`))}),L.sort((G,J)=>J[1]-G[1]).forEach(G=>{let J=P.current.querySelector(`${pf}[${fc}="${encodeURIComponent(G[0])}"]`);J==null||J.parentElement.appendChild(J)})}function W(){let I=Se().find(H=>H.getAttribute("aria-disabled")!=="true"),L=I==null?void 0:I.getAttribute(fc);D.setState("value",L||void 0)}function B(){var I,L,H,G;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let J=0;for(let ie of n.current){let fe=(L=(I=i.current.get(ie))==null?void 0:I.value)!=null?L:"",Q=(G=(H=i.current.get(ie))==null?void 0:H.keywords)!=null?G:[],re=O(fe,Q);r.current.filtered.items.set(ie,re),re>0&&J++}for(let[ie,fe]of s.current)for(let Q of fe)if(r.current.filtered.items.get(Q)>0){r.current.filtered.groups.add(ie);break}r.current.filtered.count=J}function oe(){var I,L,H;let G=pe();G&&(((I=G.parentElement)==null?void 0:I.firstChild)===G&&((H=(L=G.closest(pf))==null?void 0:L.querySelector(d1e))==null||H.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function pe(){var I;return(I=P.current)==null?void 0:I.querySelector(`${tT}[aria-selected="true"]`)}function Se(){var I;return Array.from((I=P.current)==null?void 0:I.querySelectorAll(ON))}function we(I){let L=Se()[I];L&&D.setState("value",L.getAttribute(fc))}function se(I){var L;let H=pe(),G=Se(),J=G.findIndex(fe=>fe===H),ie=G[J+I];(L=a.current)!=null&&L.loop&&(ie=J+I<0?G[G.length-1]:J+I===G.length?G[0]:G[J+I]),ie&&D.setState("value",ie.getAttribute(fc))}function Z(I){let L=pe(),H=L==null?void 0:L.closest(pf),G;for(;H&&!G;)H=I>0?S1e(H,pf):x1e(H,pf),G=H==null?void 0:H.querySelector(ON);G?D.setState("value",G.getAttribute(fc)):se(I)}let ne=()=>we(Se().length-1),de=I=>{I.preventDefault(),I.metaKey?ne():I.altKey?Z(1):se(1)},z=I=>{I.preventDefault(),I.metaKey?we(0):I.altKey?Z(-1):se(-1)};return m.createElement(wi.div,{ref:t,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:I=>{var L;if((L=E.onKeyDown)==null||L.call(E,I),!I.defaultPrevented)switch(I.key){case"n":case"j":{S&&I.ctrlKey&&de(I);break}case"ArrowDown":{de(I);break}case"p":case"k":{S&&I.ctrlKey&&z(I);break}case"ArrowUp":{z(I);break}case"Home":{I.preventDefault(),we(0);break}case"End":{I.preventDefault(),ne();break}case"Enter":if(!I.nativeEvent.isComposing&&I.keyCode!==229){I.preventDefault();let H=pe();if(H){let G=new Event(E1);H.dispatchEvent(G)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:N.inputId,id:N.labelId,style:R1e},l),wC(e,I=>m.createElement(I8.Provider,{value:D},m.createElement(N8.Provider,{value:N},I))))}),f1e=m.forwardRef((e,t)=>{var r,n;let s=m.useId(),i=m.useRef(null),o=m.useContext(O8),a=Yp(),l=k8(e),u=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;zc(()=>{if(!u)return a.item(s,o==null?void 0:o.id)},[u]);let h=_8(s,i,[e.value,e.children,i],e.keywords),p=rT(),g=Kc(M=>M.value&&M.value===h.current),C=Kc(M=>u||a.filter()===!1?!0:M.search?M.filtered.items.get(s)>0:!0);m.useEffect(()=>{let M=i.current;if(!(!M||e.disabled))return M.addEventListener(E1,w),()=>M.removeEventListener(E1,w)},[C,e.onSelect,e.disabled]);function w(){var M,D;y(),(D=(M=l.current).onSelect)==null||D.call(M,h.current)}function y(){p.setState("value",h.current,!0)}if(!C)return null;let{disabled:S,value:E,onSelect:b,forceMount:T,keywords:R,...P}=e;return m.createElement(wi.div,{ref:pp([i,t]),...P,id:s,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!g,"data-disabled":!!S,"data-selected":!!g,onPointerMove:S||a.disablePointerSelection?void 0:y,onClick:S?void 0:w},e.children)}),p1e=m.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...i}=e,o=m.useId(),a=m.useRef(null),l=m.useRef(null),u=m.useId(),h=Yp(),p=Kc(C=>s||h.filter()===!1?!0:C.search?C.filtered.groups.has(o):!0);zc(()=>h.group(o),[]),_8(o,a,[e.value,e.heading,l]);let g=m.useMemo(()=>({id:o,forceMount:s}),[s]);return m.createElement(wi.div,{ref:pp([a,t]),...i,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},r&&m.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),wC(e,C=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},m.createElement(O8.Provider,{value:g},C))))}),g1e=m.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=m.useRef(null),i=Kc(o=>!o.search);return!r&&!i?null:m.createElement(wi.div,{ref:pp([s,t]),...n,"cmdk-separator":"",role:"separator"})}),m1e=m.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,i=rT(),o=Kc(h=>h.search),a=Kc(h=>h.value),l=Yp(),u=m.useMemo(()=>{var h;let p=(h=l.listInnerRef.current)==null?void 0:h.querySelector(`${tT}[${fc}="${encodeURIComponent(a)}"]`);return p==null?void 0:p.getAttribute("id")},[]);return m.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),m.createElement(wi.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":u,id:l.inputId,type:"text",value:s?e.value:o,onChange:h=>{s||i.setState("search",h.target.value),r==null||r(h.target.value)}})}),v1e=m.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,i=m.useRef(null),o=m.useRef(null),a=Yp();return m.useEffect(()=>{if(o.current&&i.current){let l=o.current,u=i.current,h,p=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let g=l.offsetHeight;u.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return p.observe(l),()=>{cancelAnimationFrame(h),p.unobserve(l)}}},[]),m.createElement(wi.div,{ref:pp([i,t]),...s,"cmdk-list":"",role:"listbox","aria-label":n,id:a.listId},wC(e,l=>m.createElement("div",{ref:pp([o,a.listInnerRef]),"cmdk-list-sizer":""},l)))}),C1e=m.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:o,...a}=e;return m.createElement(a1e,{open:r,onOpenChange:n},m.createElement(l1e,{container:o},m.createElement(c1e,{"cmdk-overlay":"",className:s}),m.createElement(u1e,{"aria-label":e.label,"cmdk-dialog":"",className:i},m.createElement(L8,{ref:t,...a}))))}),y1e=m.forwardRef((e,t)=>Kc(r=>r.filtered.count===0)?m.createElement(wi.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),w1e=m.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...i}=e;return m.createElement(wi.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},wC(e,o=>m.createElement("div",{"aria-hidden":!0},o)))}),Ps=Object.assign(L8,{List:v1e,Item:f1e,Input:m1e,Group:p1e,Separator:g1e,Dialog:C1e,Empty:y1e,Loading:w1e});function S1e(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function x1e(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function k8(e){let t=m.useRef(e);return zc(()=>{t.current=e}),t}var zc=typeof window>"u"?m.useEffect:m.useLayoutEffect;function td(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function pp(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function Kc(e){let t=rT(),r=()=>e(t.snapshot());return m.useSyncExternalStore(t.subscribe,r,r)}function _8(e,t,r,n=[]){let s=m.useRef(),i=Yp();return zc(()=>{var o;let a=(()=>{var u;for(let h of r){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(u=h.current.textContent)==null?void 0:u.trim():s.current}})(),l=n.map(u=>u.trim());i.value(e,a,l),(o=t.current)==null||o.setAttribute(fc,a),s.current=a}),s}var E1e=()=>{let[e,t]=m.useState(),r=td(()=>new Map);return zc(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function b1e(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function wC({asChild:e,children:t},r){return e&&m.isValidElement(t)?m.cloneElement(b1e(t),{ref:t.ref},r(t.props.children)):r(t)}var R1e={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Xn=m.forwardRef(({className:e,...t},r)=>d.jsx(Ps,{ref:r,className:jt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Xn.displayName=Ps.displayName;const Qn=m.forwardRef(({className:e,...t},r)=>d.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[d.jsx(oee,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),d.jsx(Ps.Input,{ref:r,className:jt("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Qn.displayName=Ps.Input.displayName;const Jn=m.forwardRef(({className:e,...t},r)=>d.jsx(Ps.List,{ref:r,className:jt("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Jn.displayName=Ps.List.displayName;const Zn=m.forwardRef((e,t)=>d.jsx(Ps.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Zn.displayName=Ps.Empty.displayName;const es=m.forwardRef(({className:e,...t},r)=>d.jsx(Ps.Group,{ref:r,className:jt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));es.displayName=Ps.Group.displayName;const T1e=m.forwardRef(({className:e,...t},r)=>d.jsx(Ps.Separator,{ref:r,className:jt("-mx-1 h-px bg-border",e),...t}));T1e.displayName=Ps.Separator.displayName;const ts=m.forwardRef(({className:e,...t},r)=>d.jsx(Ps.Item,{ref:r,className:jt("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));ts.displayName=Ps.Item.displayName;var nT=(e=>(e.PRODUCT="PRODUCT",e.MATERIAL="MATERIAL",e.AMC="AMC",e.REPAIR="REPAIR",e.SALE="SALE",e))(nT||{}),j8=(e=>(e.VRV="VRV",e.NON_VRV="NON_VRV",e))(j8||{}),B8=(e=>(e.AIRTECH="AIRTECH",e.VAKHARIA_AIRTECH="VAKHARIA_AIRTECH",e))(B8||{}),G8=(e=>(e.ARCHITECT="ARCHITECT",e.INTERIOR_DESIGN_DETAIL="INTERIOR_DESIGN_DETAIL",e.PMC="PMC",e))(G8||{}),H8=(e=>(e.MEASUREMENT="MEASUREMENT",e.LUM_SUM="LUM_SUM",e))(H8||{});const sT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},iT=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},Xp=()=>Fr({queryKey:["useGetUsers"],queryFn:()=>_e("/api/user/getAlluser")}),F1e=()=>Ze({mutationFn:e=>_e("/api/user/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:sT,onError:iT}),P1e=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/user/edit/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{sT(r),t.invalidateQueries({queryKey:["useGetUsers"]})},onError:iT})},A1e=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/user/deleteUser/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetUsers"]}),sT(r.message)},onError:iT})},D1e=({salesProductQuantities:e,products:t=[],onRowsChange:r})=>{const[n,s]=m.useState([{id:Date.now(),product:{id:"",productName:"",hsnCode:""},quantity:1,mrp:0,gst:0}]);m.useEffect(()=>{e&&s(e)},[e]);const i=()=>{const l=[...n,{id:Date.now(),product:{id:"",productName:"",hsnCode:""},quantity:1,mrp:0,gst:0}];s(l),r(l)},o=(l,u,h)=>{const p=n.map(g=>g.id===l?{...g,product:u==="product"?{id:h.id,productName:h.productName,hsnCode:h.hsnCode}:g.product,quantity:u==="quantity"?Number(h):g.quantity,mrp:u==="product"?h.mrp:u==="mrp"?Number(h):g.mrp,gst:u==="product"?h.cgst:u==="gst"?Number(h):g.gst}:g);s(p),r(p)},a=l=>{const u=n.filter(h=>h.id!==l);s(u),r(u)};return d.jsx(d.Fragment,{children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Products"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200 mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2",children:"Product"}),d.jsx("th",{className:"border px-4 py-2",children:"Quantity"}),d.jsx("th",{className:"border px-4 py-2",children:"HSN Code"}),d.jsx("th",{className:"border px-4 py-2",children:"MRP"}),d.jsx("th",{className:"border px-4 py-2",children:"GST"}),d.jsx("th",{className:"border px-4 py-2",children:"Actions"})]})}),d.jsx("tbody",{children:n.map((l,u)=>{var h,p;return d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:u+1}),d.jsx("td",{className:"border px-4 py-2",children:d.jsxs("select",{className:"border rounded-md px-2 py-1 w-full",value:((h=l.product)==null?void 0:h.id)||"",onChange:g=>{const C=t.find(w=>w.id.toString()===g.target.value);C&&o(l.id,"product",C)},children:[d.jsx("option",{value:"",children:"Select Product"}),t.map(g=>d.jsx("option",{value:g.id,children:g.productName},g.id))]})}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",className:"border rounded-md px-2 py-1 w-20",min:1,value:l.quantity,onChange:g=>o(l.id,"quantity",Number(g.target.value))})}),d.jsx("td",{className:"border px-4 py-2",children:((p=l.product)==null?void 0:p.hsnCode)||"-"}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",min:0,className:"border rounded-md px-2 py-1 w-40",value:l.mrp||"",onChange:g=>o(l.id,"mrp",Number(g.target.value))})}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",min:0,className:"border rounded-md px-2 py-1 w-20",value:l.gst||"",onChange:g=>o(l.id,"gst",Number(g.target.value))})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:n.length>1&&d.jsx("button",{onClick:()=>a(l.id),className:"text-red-500 hover:underline",children:"Remove"})})]},l.id)})})]})}),d.jsx("button",{type:"button",onClick:i,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"Add Product"})]})})};var M1e=function(t){return N1e(t)&&!I1e(t)};function N1e(e){return!!e&&typeof e=="object"}function I1e(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||k1e(e)}var O1e=typeof Symbol=="function"&&Symbol.for,L1e=O1e?Symbol.for("react.element"):60103;function k1e(e){return e.$$typeof===L1e}function _1e(e){return Array.isArray(e)?[]:{}}function v0(e,t){return t.clone!==!1&&t.isMergeableObject(e)?gp(_1e(e),e,t):e}function j1e(e,t,r){return e.concat(t).map(function(n){return v0(n,r)})}function B1e(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(s){n[s]=v0(e[s],r)}),Object.keys(t).forEach(function(s){!r.isMergeableObject(t[s])||!e[s]?n[s]=v0(t[s],r):n[s]=gp(e[s],t[s],r)}),n}function gp(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||j1e,r.isMergeableObject=r.isMergeableObject||M1e;var n=Array.isArray(t),s=Array.isArray(e),i=n===s;return i?n?r.arrayMerge(e,t,r):B1e(e,t,r):v0(t,r)}gp.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,s){return gp(n,s,r)},{})};var b1=gp,V8=typeof global=="object"&&global&&global.Object===Object&&global,G1e=typeof self=="object"&&self&&self.Object===Object&&self,Po=V8||G1e||Function("return this")(),Tl=Po.Symbol,W8=Object.prototype,H1e=W8.hasOwnProperty,V1e=W8.toString,gf=Tl?Tl.toStringTag:void 0;function W1e(e){var t=H1e.call(e,gf),r=e[gf];try{e[gf]=void 0;var n=!0}catch{}var s=V1e.call(e);return n&&(t?e[gf]=r:delete e[gf]),s}var $1e=Object.prototype,U1e=$1e.toString;function z1e(e){return U1e.call(e)}var K1e="[object Null]",q1e="[object Undefined]",LN=Tl?Tl.toStringTag:void 0;function fu(e){return e==null?e===void 0?q1e:K1e:LN&&LN in Object(e)?W1e(e):z1e(e)}function $8(e,t){return function(r){return e(t(r))}}var oT=$8(Object.getPrototypeOf,Object);function pu(e){return e!=null&&typeof e=="object"}var Y1e="[object Object]",X1e=Function.prototype,Q1e=Object.prototype,U8=X1e.toString,J1e=Q1e.hasOwnProperty,Z1e=U8.call(Object);function kN(e){if(!pu(e)||fu(e)!=Y1e)return!1;var t=oT(e);if(t===null)return!0;var r=J1e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&U8.call(r)==Z1e}function eEe(){this.__data__=[],this.size=0}function z8(e,t){return e===t||e!==e&&t!==t}function SC(e,t){for(var r=e.length;r--;)if(z8(e[r][0],t))return r;return-1}var tEe=Array.prototype,rEe=tEe.splice;function nEe(e){var t=this.__data__,r=SC(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():rEe.call(t,r,1),--this.size,!0}function sEe(e){var t=this.__data__,r=SC(t,e);return r<0?void 0:t[r][1]}function iEe(e){return SC(this.__data__,e)>-1}function oEe(e,t){var r=this.__data__,n=SC(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function va(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}va.prototype.clear=eEe;va.prototype.delete=nEe;va.prototype.get=sEe;va.prototype.has=iEe;va.prototype.set=oEe;function aEe(){this.__data__=new va,this.size=0}function lEe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function cEe(e){return this.__data__.get(e)}function uEe(e){return this.__data__.has(e)}function Qp(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var dEe="[object AsyncFunction]",hEe="[object Function]",fEe="[object GeneratorFunction]",pEe="[object Proxy]";function K8(e){if(!Qp(e))return!1;var t=fu(e);return t==hEe||t==fEe||t==dEe||t==pEe}var FS=Po["__core-js_shared__"],_N=function(){var e=/[^.]+$/.exec(FS&&FS.keys&&FS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gEe(e){return!!_N&&_N in e}var mEe=Function.prototype,vEe=mEe.toString;function gu(e){if(e!=null){try{return vEe.call(e)}catch{}try{return e+""}catch{}}return""}var CEe=/[\\^$.*+?()[\]{}|]/g,yEe=/^\[object .+?Constructor\]$/,wEe=Function.prototype,SEe=Object.prototype,xEe=wEe.toString,EEe=SEe.hasOwnProperty,bEe=RegExp("^"+xEe.call(EEe).replace(CEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function REe(e){if(!Qp(e)||gEe(e))return!1;var t=K8(e)?bEe:yEe;return t.test(gu(e))}function TEe(e,t){return e==null?void 0:e[t]}function mu(e,t){var r=TEe(e,t);return REe(r)?r:void 0}var mp=mu(Po,"Map"),vp=mu(Object,"create");function FEe(){this.__data__=vp?vp(null):{},this.size=0}function PEe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var AEe="__lodash_hash_undefined__",DEe=Object.prototype,MEe=DEe.hasOwnProperty;function NEe(e){var t=this.__data__;if(vp){var r=t[e];return r===AEe?void 0:r}return MEe.call(t,e)?t[e]:void 0}var IEe=Object.prototype,OEe=IEe.hasOwnProperty;function LEe(e){var t=this.__data__;return vp?t[e]!==void 0:OEe.call(t,e)}var kEe="__lodash_hash_undefined__";function _Ee(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=vp&&t===void 0?kEe:t,this}function qc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qc.prototype.clear=FEe;qc.prototype.delete=PEe;qc.prototype.get=NEe;qc.prototype.has=LEe;qc.prototype.set=_Ee;function jEe(){this.size=0,this.__data__={hash:new qc,map:new(mp||va),string:new qc}}function BEe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function xC(e,t){var r=e.__data__;return BEe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function GEe(e){var t=xC(this,e).delete(e);return this.size-=t?1:0,t}function HEe(e){return xC(this,e).get(e)}function VEe(e){return xC(this,e).has(e)}function WEe(e,t){var r=xC(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Bl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bl.prototype.clear=jEe;Bl.prototype.delete=GEe;Bl.prototype.get=HEe;Bl.prototype.has=VEe;Bl.prototype.set=WEe;var $Ee=200;function UEe(e,t){var r=this.__data__;if(r instanceof va){var n=r.__data__;if(!mp||n.length<$Ee-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Bl(n)}return r.set(e,t),this.size=r.size,this}function yh(e){var t=this.__data__=new va(e);this.size=t.size}yh.prototype.clear=aEe;yh.prototype.delete=lEe;yh.prototype.get=cEe;yh.prototype.has=uEe;yh.prototype.set=UEe;function zEe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var jN=function(){try{var e=mu(Object,"defineProperty");return e({},"",{}),e}catch{}}();function q8(e,t,r){t=="__proto__"&&jN?jN(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var KEe=Object.prototype,qEe=KEe.hasOwnProperty;function Y8(e,t,r){var n=e[t];(!(qEe.call(e,t)&&z8(n,r))||r===void 0&&!(t in e))&&q8(e,t,r)}function EC(e,t,r,n){var s=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],l=void 0;l===void 0&&(l=e[a]),s?q8(r,a,l):Y8(r,a,l)}return r}function YEe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var XEe="[object Arguments]";function BN(e){return pu(e)&&fu(e)==XEe}var X8=Object.prototype,QEe=X8.hasOwnProperty,JEe=X8.propertyIsEnumerable,ZEe=BN(function(){return arguments}())?BN:function(e){return pu(e)&&QEe.call(e,"callee")&&!JEe.call(e,"callee")},Jp=Array.isArray;function ebe(){return!1}var Q8=typeof $s=="object"&&$s&&!$s.nodeType&&$s,GN=Q8&&typeof Us=="object"&&Us&&!Us.nodeType&&Us,tbe=GN&&GN.exports===Q8,HN=tbe?Po.Buffer:void 0,rbe=HN?HN.isBuffer:void 0,J8=rbe||ebe,nbe=9007199254740991,sbe=/^(?:0|[1-9]\d*)$/;function ibe(e,t){var r=typeof e;return t=t??nbe,!!t&&(r=="number"||r!="symbol"&&sbe.test(e))&&e>-1&&e%1==0&&e<t}var obe=9007199254740991;function Z8(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=obe}var abe="[object Arguments]",lbe="[object Array]",cbe="[object Boolean]",ube="[object Date]",dbe="[object Error]",hbe="[object Function]",fbe="[object Map]",pbe="[object Number]",gbe="[object Object]",mbe="[object RegExp]",vbe="[object Set]",Cbe="[object String]",ybe="[object WeakMap]",wbe="[object ArrayBuffer]",Sbe="[object DataView]",xbe="[object Float32Array]",Ebe="[object Float64Array]",bbe="[object Int8Array]",Rbe="[object Int16Array]",Tbe="[object Int32Array]",Fbe="[object Uint8Array]",Pbe="[object Uint8ClampedArray]",Abe="[object Uint16Array]",Dbe="[object Uint32Array]",xr={};xr[xbe]=xr[Ebe]=xr[bbe]=xr[Rbe]=xr[Tbe]=xr[Fbe]=xr[Pbe]=xr[Abe]=xr[Dbe]=!0;xr[abe]=xr[lbe]=xr[wbe]=xr[cbe]=xr[Sbe]=xr[ube]=xr[dbe]=xr[hbe]=xr[fbe]=xr[pbe]=xr[gbe]=xr[mbe]=xr[vbe]=xr[Cbe]=xr[ybe]=!1;function Mbe(e){return pu(e)&&Z8(e.length)&&!!xr[fu(e)]}function aT(e){return function(t){return e(t)}}var eG=typeof $s=="object"&&$s&&!$s.nodeType&&$s,Bf=eG&&typeof Us=="object"&&Us&&!Us.nodeType&&Us,Nbe=Bf&&Bf.exports===eG,PS=Nbe&&V8.process,Yd=function(){try{var e=Bf&&Bf.require&&Bf.require("util").types;return e||PS&&PS.binding&&PS.binding("util")}catch{}}(),VN=Yd&&Yd.isTypedArray,Ibe=VN?aT(VN):Mbe,Obe=Object.prototype,Lbe=Obe.hasOwnProperty;function tG(e,t){var r=Jp(e),n=!r&&ZEe(e),s=!r&&!n&&J8(e),i=!r&&!n&&!s&&Ibe(e),o=r||n||s||i,a=o?YEe(e.length,String):[],l=a.length;for(var u in e)(t||Lbe.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ibe(u,l)))&&a.push(u);return a}var kbe=Object.prototype;function lT(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||kbe;return e===r}var _be=$8(Object.keys,Object),jbe=Object.prototype,Bbe=jbe.hasOwnProperty;function Gbe(e){if(!lT(e))return _be(e);var t=[];for(var r in Object(e))Bbe.call(e,r)&&r!="constructor"&&t.push(r);return t}function rG(e){return e!=null&&Z8(e.length)&&!K8(e)}function cT(e){return rG(e)?tG(e):Gbe(e)}function Hbe(e,t){return e&&EC(t,cT(t),e)}function Vbe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Wbe=Object.prototype,$be=Wbe.hasOwnProperty;function Ube(e){if(!Qp(e))return Vbe(e);var t=lT(e),r=[];for(var n in e)n=="constructor"&&(t||!$be.call(e,n))||r.push(n);return r}function uT(e){return rG(e)?tG(e,!0):Ube(e)}function zbe(e,t){return e&&EC(t,uT(t),e)}var nG=typeof $s=="object"&&$s&&!$s.nodeType&&$s,WN=nG&&typeof Us=="object"&&Us&&!Us.nodeType&&Us,Kbe=WN&&WN.exports===nG,$N=Kbe?Po.Buffer:void 0,UN=$N?$N.allocUnsafe:void 0;function qbe(e,t){if(t)return e.slice();var r=e.length,n=UN?UN(r):new e.constructor(r);return e.copy(n),n}function sG(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function Ybe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}function iG(){return[]}var Xbe=Object.prototype,Qbe=Xbe.propertyIsEnumerable,zN=Object.getOwnPropertySymbols,dT=zN?function(e){return e==null?[]:(e=Object(e),Ybe(zN(e),function(t){return Qbe.call(e,t)}))}:iG;function Jbe(e,t){return EC(e,dT(e),t)}function oG(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var Zbe=Object.getOwnPropertySymbols,aG=Zbe?function(e){for(var t=[];e;)oG(t,dT(e)),e=oT(e);return t}:iG;function eRe(e,t){return EC(e,aG(e),t)}function lG(e,t,r){var n=t(e);return Jp(e)?n:oG(n,r(e))}function tRe(e){return lG(e,cT,dT)}function rRe(e){return lG(e,uT,aG)}var R1=mu(Po,"DataView"),T1=mu(Po,"Promise"),F1=mu(Po,"Set"),P1=mu(Po,"WeakMap"),KN="[object Map]",nRe="[object Object]",qN="[object Promise]",YN="[object Set]",XN="[object WeakMap]",QN="[object DataView]",sRe=gu(R1),iRe=gu(mp),oRe=gu(T1),aRe=gu(F1),lRe=gu(P1),Uo=fu;(R1&&Uo(new R1(new ArrayBuffer(1)))!=QN||mp&&Uo(new mp)!=KN||T1&&Uo(T1.resolve())!=qN||F1&&Uo(new F1)!=YN||P1&&Uo(new P1)!=XN)&&(Uo=function(e){var t=fu(e),r=t==nRe?e.constructor:void 0,n=r?gu(r):"";if(n)switch(n){case sRe:return QN;case iRe:return KN;case oRe:return qN;case aRe:return YN;case lRe:return XN}return t});var cRe=Object.prototype,uRe=cRe.hasOwnProperty;function dRe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&uRe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var JN=Po.Uint8Array;function hT(e){var t=new e.constructor(e.byteLength);return new JN(t).set(new JN(e)),t}function hRe(e,t){var r=t?hT(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var fRe=/\w*$/;function pRe(e){var t=new e.constructor(e.source,fRe.exec(e));return t.lastIndex=e.lastIndex,t}var ZN=Tl?Tl.prototype:void 0,eI=ZN?ZN.valueOf:void 0;function gRe(e){return eI?Object(eI.call(e)):{}}function mRe(e,t){var r=t?hT(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var vRe="[object Boolean]",CRe="[object Date]",yRe="[object Map]",wRe="[object Number]",SRe="[object RegExp]",xRe="[object Set]",ERe="[object String]",bRe="[object Symbol]",RRe="[object ArrayBuffer]",TRe="[object DataView]",FRe="[object Float32Array]",PRe="[object Float64Array]",ARe="[object Int8Array]",DRe="[object Int16Array]",MRe="[object Int32Array]",NRe="[object Uint8Array]",IRe="[object Uint8ClampedArray]",ORe="[object Uint16Array]",LRe="[object Uint32Array]";function kRe(e,t,r){var n=e.constructor;switch(t){case RRe:return hT(e);case vRe:case CRe:return new n(+e);case TRe:return hRe(e,r);case FRe:case PRe:case ARe:case DRe:case MRe:case NRe:case IRe:case ORe:case LRe:return mRe(e,r);case yRe:return new n;case wRe:case ERe:return new n(e);case SRe:return pRe(e);case xRe:return new n;case bRe:return gRe(e)}}var tI=Object.create,_Re=function(){function e(){}return function(t){if(!Qp(t))return{};if(tI)return tI(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function jRe(e){return typeof e.constructor=="function"&&!lT(e)?_Re(oT(e)):{}}var BRe="[object Map]";function GRe(e){return pu(e)&&Uo(e)==BRe}var rI=Yd&&Yd.isMap,HRe=rI?aT(rI):GRe,VRe="[object Set]";function WRe(e){return pu(e)&&Uo(e)==VRe}var nI=Yd&&Yd.isSet,$Re=nI?aT(nI):WRe,URe=1,zRe=2,KRe=4,cG="[object Arguments]",qRe="[object Array]",YRe="[object Boolean]",XRe="[object Date]",QRe="[object Error]",uG="[object Function]",JRe="[object GeneratorFunction]",ZRe="[object Map]",eTe="[object Number]",dG="[object Object]",tTe="[object RegExp]",rTe="[object Set]",nTe="[object String]",sTe="[object Symbol]",iTe="[object WeakMap]",oTe="[object ArrayBuffer]",aTe="[object DataView]",lTe="[object Float32Array]",cTe="[object Float64Array]",uTe="[object Int8Array]",dTe="[object Int16Array]",hTe="[object Int32Array]",fTe="[object Uint8Array]",pTe="[object Uint8ClampedArray]",gTe="[object Uint16Array]",mTe="[object Uint32Array]",Cr={};Cr[cG]=Cr[qRe]=Cr[oTe]=Cr[aTe]=Cr[YRe]=Cr[XRe]=Cr[lTe]=Cr[cTe]=Cr[uTe]=Cr[dTe]=Cr[hTe]=Cr[ZRe]=Cr[eTe]=Cr[dG]=Cr[tTe]=Cr[rTe]=Cr[nTe]=Cr[sTe]=Cr[fTe]=Cr[pTe]=Cr[gTe]=Cr[mTe]=!0;Cr[QRe]=Cr[uG]=Cr[iTe]=!1;function Gf(e,t,r,n,s,i){var o,a=t&URe,l=t&zRe,u=t&KRe;if(o!==void 0)return o;if(!Qp(e))return e;var h=Jp(e);if(h){if(o=dRe(e),!a)return sG(e,o)}else{var p=Uo(e),g=p==uG||p==JRe;if(J8(e))return qbe(e,a);if(p==dG||p==cG||g&&!s){if(o=l||g?{}:jRe(e),!a)return l?eRe(e,zbe(o,e)):Jbe(e,Hbe(o,e))}else{if(!Cr[p])return s?e:{};o=kRe(e,p,a)}}i||(i=new yh);var C=i.get(e);if(C)return C;i.set(e,o),$Re(e)?e.forEach(function(S){o.add(Gf(S,t,r,S,e,i))}):HRe(e)&&e.forEach(function(S,E){o.set(E,Gf(S,t,r,E,e,i))});var w=u?l?rRe:tRe:l?uT:cT,y=h?void 0:w(e);return zEe(y||e,function(S,E){y&&(E=S,S=e[E]),Y8(o,E,Gf(S,t,r,E,e,i))}),o}var vTe=1,CTe=4;function Xm(e){return Gf(e,vTe|CTe)}var AS,sI;function yTe(){if(sI)return AS;sI=1;var e=Array.isArray,t=Object.keys,r=Object.prototype.hasOwnProperty,n=typeof Element<"u";function s(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){var a=e(i),l=e(o),u,h,p;if(a&&l){if(h=i.length,h!=o.length)return!1;for(u=h;u--!==0;)if(!s(i[u],o[u]))return!1;return!0}if(a!=l)return!1;var g=i instanceof Date,C=o instanceof Date;if(g!=C)return!1;if(g&&C)return i.getTime()==o.getTime();var w=i instanceof RegExp,y=o instanceof RegExp;if(w!=y)return!1;if(w&&y)return i.toString()==o.toString();var S=t(i);if(h=S.length,h!==t(o).length)return!1;for(u=h;u--!==0;)if(!r.call(o,S[u]))return!1;if(n&&i instanceof Element&&o instanceof Element)return i===o;for(u=h;u--!==0;)if(p=S[u],!(p==="_owner"&&i.$$typeof)&&!s(i[p],o[p]))return!1;return!0}return i!==i&&o!==o}return AS=function(o,a){try{return s(o,a)}catch(l){if(l.message&&l.message.match(/stack|recursion/i)||l.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",l.name,l.message),!1;throw l}},AS}var wTe=yTe();const ac=w0(wTe);var STe=4;function iI(e){return Gf(e,STe)}function hG(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var xTe="[object Symbol]";function fT(e){return typeof e=="symbol"||pu(e)&&fu(e)==xTe}var ETe="Expected a function";function pT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ETe);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(pT.Cache||Bl),r}pT.Cache=Bl;var bTe=500;function RTe(e){var t=pT(e,function(n){return r.size===bTe&&r.clear(),n}),r=t.cache;return t}var TTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FTe=/\\(\\)?/g,PTe=RTe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(TTe,function(r,n,s,i){t.push(s?i.replace(FTe,"$1"):n||r)}),t}),ATe=1/0;function DTe(e){if(typeof e=="string"||fT(e))return e;var t=e+"";return t=="0"&&1/e==-ATe?"-0":t}var MTe=1/0,oI=Tl?Tl.prototype:void 0,aI=oI?oI.toString:void 0;function fG(e){if(typeof e=="string")return e;if(Jp(e))return hG(e,fG)+"";if(fT(e))return aI?aI.call(e):"";var t=e+"";return t=="0"&&1/e==-MTe?"-0":t}function NTe(e){return e==null?"":fG(e)}function pG(e){return Jp(e)?hG(e,DTe):fT(e)?[e]:sG(PTe(NTe(e)))}var DS={exports:{}},Zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lI;function ITe(){if(lI)return Zt;lI=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,C=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,E=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function T(P){if(typeof P=="object"&&P!==null){var M=P.$$typeof;switch(M){case t:switch(P=P.type,P){case l:case u:case n:case i:case s:case p:return P;default:switch(P=P&&P.$$typeof,P){case a:case h:case w:case C:case o:return P;default:return M}}case r:return M}}}function R(P){return T(P)===u}return Zt.AsyncMode=l,Zt.ConcurrentMode=u,Zt.ContextConsumer=a,Zt.ContextProvider=o,Zt.Element=t,Zt.ForwardRef=h,Zt.Fragment=n,Zt.Lazy=w,Zt.Memo=C,Zt.Portal=r,Zt.Profiler=i,Zt.StrictMode=s,Zt.Suspense=p,Zt.isAsyncMode=function(P){return R(P)||T(P)===l},Zt.isConcurrentMode=R,Zt.isContextConsumer=function(P){return T(P)===a},Zt.isContextProvider=function(P){return T(P)===o},Zt.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===t},Zt.isForwardRef=function(P){return T(P)===h},Zt.isFragment=function(P){return T(P)===n},Zt.isLazy=function(P){return T(P)===w},Zt.isMemo=function(P){return T(P)===C},Zt.isPortal=function(P){return T(P)===r},Zt.isProfiler=function(P){return T(P)===i},Zt.isStrictMode=function(P){return T(P)===s},Zt.isSuspense=function(P){return T(P)===p},Zt.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===n||P===u||P===i||P===s||P===p||P===g||typeof P=="object"&&P!==null&&(P.$$typeof===w||P.$$typeof===C||P.$$typeof===o||P.$$typeof===a||P.$$typeof===h||P.$$typeof===S||P.$$typeof===E||P.$$typeof===b||P.$$typeof===y)},Zt.typeOf=T,Zt}var cI;function OTe(){return cI||(cI=1,DS.exports=ITe()),DS.exports}var MS,uI;function LTe(){if(uI)return MS;uI=1;var e=OTe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=n,i[e.Memo]=s;function o(w){return e.isMemo(w)?s:i[w.$$typeof]||t}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function C(w,y,S){if(typeof y!="string"){if(g){var E=p(y);E&&E!==g&&C(w,E,S)}var b=l(y);u&&(b=b.concat(u(y)));for(var T=o(w),R=o(y),P=0;P<b.length;++P){var M=b[P];if(!r[M]&&!(S&&S[M])&&!(R&&R[M])&&!(T&&T[M])){var D=h(y,M);try{a(w,M,D)}catch{}}}}return w}return MS=C,MS}LTe();function cn(){return cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cn.apply(this,arguments)}function gG(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var bC=m.createContext(void 0);bC.displayName="FormikContext";bC.Provider;bC.Consumer;function kTe(){var e=m.useContext(bC);return e}var Mi=function(t){return typeof t=="function"},RC=function(t){return t!==null&&typeof t=="object"},_Te=function(t){return String(Math.floor(Number(t)))===t},NS=function(t){return Object.prototype.toString.call(t)==="[object String]"},IS=function(t){return RC(t)&&Mi(t.then)};function Ls(e,t,r,n){n===void 0&&(n=0);for(var s=pG(t);e&&n<s.length;)e=e[s[n++]];return n!==s.length&&!e||e===void 0?r:e}function Mc(e,t,r){for(var n=iI(e),s=n,i=0,o=pG(t);i<o.length-1;i++){var a=o[i],l=Ls(e,o.slice(0,i+1));if(l&&(RC(l)||Array.isArray(l)))s=s[a]=iI(l);else{var u=o[i+1];s=s[a]=_Te(u)&&Number(u)>=0?[]:{}}}return(i===0?e:s)[o[i]]===r?e:(r===void 0?delete s[o[i]]:s[o[i]]=r,i===0&&r===void 0&&delete n[o[i]],n)}function mG(e,t,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var s=0,i=Object.keys(e);s<i.length;s++){var o=i[s],a=e[o];RC(a)?r.get(a)||(r.set(a,!0),n[o]=Array.isArray(a)?[]:{},mG(a,t,r,n[o])):n[o]=t}return n}function jTe(e,t){switch(t.type){case"SET_VALUES":return cn({},e,{values:t.payload});case"SET_TOUCHED":return cn({},e,{touched:t.payload});case"SET_ERRORS":return ac(e.errors,t.payload)?e:cn({},e,{errors:t.payload});case"SET_STATUS":return cn({},e,{status:t.payload});case"SET_ISSUBMITTING":return cn({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return cn({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return cn({},e,{values:Mc(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return cn({},e,{touched:Mc(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return cn({},e,{errors:Mc(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return cn({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return cn({},e,{touched:mG(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return cn({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return cn({},e,{isSubmitting:!1});default:return e}}var rc={},Qm={};function Zp(e){var t=e.validateOnChange,r=t===void 0?!0:t,n=e.validateOnBlur,s=n===void 0?!0:n,i=e.validateOnMount,o=i===void 0?!1:i,a=e.isInitialValid,l=e.enableReinitialize,u=l===void 0?!1:l,h=e.onSubmit,p=gG(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),g=cn({validateOnChange:r,validateOnBlur:s,validateOnMount:o,onSubmit:h},p),C=m.useRef(g.initialValues),w=m.useRef(g.initialErrors||rc),y=m.useRef(g.initialTouched||Qm),S=m.useRef(g.initialStatus),E=m.useRef(!1),b=m.useRef({});m.useEffect(function(){return E.current=!0,function(){E.current=!1}},[]);var T=m.useState(0),R=T[1],P=m.useRef({values:Xm(g.initialValues),errors:Xm(g.initialErrors)||rc,touched:Xm(g.initialTouched)||Qm,status:Xm(g.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),M=P.current,D=m.useCallback(function(ue){var $e=P.current;P.current=jTe($e,ue),$e!==P.current&&R(function(ze){return ze+1})},[]),N=m.useCallback(function(ue,$e){return new Promise(function(ze,et){var tt=g.validate(ue,$e);tt==null?ze(rc):IS(tt)?tt.then(function(mt){ze(mt||rc)},function(mt){et(mt)}):ze(tt)})},[g.validate]),O=m.useCallback(function(ue,$e){var ze=g.validationSchema,et=Mi(ze)?ze($e):ze,tt=$e&&et.validateAt?et.validateAt($e,ue):GTe(ue,et);return new Promise(function(mt,Lt){tt.then(function(){mt(rc)},function(qr){qr.name==="ValidationError"?mt(BTe(qr)):Lt(qr)})})},[g.validationSchema]),j=m.useCallback(function(ue,$e){return new Promise(function(ze){return ze(b.current[ue].validate($e))})},[]),W=m.useCallback(function(ue){var $e=Object.keys(b.current).filter(function(et){return Mi(b.current[et].validate)}),ze=$e.length>0?$e.map(function(et){return j(et,Ls(ue,et))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ze).then(function(et){return et.reduce(function(tt,mt,Lt){return mt==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||mt&&(tt=Mc(tt,$e[Lt],mt)),tt},{})})},[j]),B=m.useCallback(function(ue){return Promise.all([W(ue),g.validationSchema?O(ue):{},g.validate?N(ue):{}]).then(function($e){var ze=$e[0],et=$e[1],tt=$e[2],mt=b1.all([ze,et,tt],{arrayMerge:HTe});return mt})},[g.validate,g.validationSchema,W,N,O]),oe=ii(function(ue){return ue===void 0&&(ue=M.values),D({type:"SET_ISVALIDATING",payload:!0}),B(ue).then(function($e){return E.current&&(D({type:"SET_ISVALIDATING",payload:!1}),D({type:"SET_ERRORS",payload:$e})),$e})});m.useEffect(function(){o&&E.current===!0&&ac(C.current,g.initialValues)&&oe(C.current)},[o,oe]);var pe=m.useCallback(function(ue){var $e=ue&&ue.values?ue.values:C.current,ze=ue&&ue.errors?ue.errors:w.current?w.current:g.initialErrors||{},et=ue&&ue.touched?ue.touched:y.current?y.current:g.initialTouched||{},tt=ue&&ue.status?ue.status:S.current?S.current:g.initialStatus;C.current=$e,w.current=ze,y.current=et,S.current=tt;var mt=function(){D({type:"RESET_FORM",payload:{isSubmitting:!!ue&&!!ue.isSubmitting,errors:ze,touched:et,status:tt,values:$e,isValidating:!!ue&&!!ue.isValidating,submitCount:ue&&ue.submitCount&&typeof ue.submitCount=="number"?ue.submitCount:0}})};if(g.onReset){var Lt=g.onReset(M.values,We);IS(Lt)?Lt.then(mt):mt()}else mt()},[g.initialErrors,g.initialStatus,g.initialTouched,g.onReset]);m.useEffect(function(){E.current===!0&&!ac(C.current,g.initialValues)&&u&&(C.current=g.initialValues,pe(),o&&oe(C.current))},[u,g.initialValues,pe,o,oe]),m.useEffect(function(){u&&E.current===!0&&!ac(w.current,g.initialErrors)&&(w.current=g.initialErrors||rc,D({type:"SET_ERRORS",payload:g.initialErrors||rc}))},[u,g.initialErrors]),m.useEffect(function(){u&&E.current===!0&&!ac(y.current,g.initialTouched)&&(y.current=g.initialTouched||Qm,D({type:"SET_TOUCHED",payload:g.initialTouched||Qm}))},[u,g.initialTouched]),m.useEffect(function(){u&&E.current===!0&&!ac(S.current,g.initialStatus)&&(S.current=g.initialStatus,D({type:"SET_STATUS",payload:g.initialStatus}))},[u,g.initialStatus,g.initialTouched]);var Se=ii(function(ue){if(b.current[ue]&&Mi(b.current[ue].validate)){var $e=Ls(M.values,ue),ze=b.current[ue].validate($e);return IS(ze)?(D({type:"SET_ISVALIDATING",payload:!0}),ze.then(function(et){return et}).then(function(et){D({type:"SET_FIELD_ERROR",payload:{field:ue,value:et}}),D({type:"SET_ISVALIDATING",payload:!1})})):(D({type:"SET_FIELD_ERROR",payload:{field:ue,value:ze}}),Promise.resolve(ze))}else if(g.validationSchema)return D({type:"SET_ISVALIDATING",payload:!0}),O(M.values,ue).then(function(et){return et}).then(function(et){D({type:"SET_FIELD_ERROR",payload:{field:ue,value:Ls(et,ue)}}),D({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),we=m.useCallback(function(ue,$e){var ze=$e.validate;b.current[ue]={validate:ze}},[]),se=m.useCallback(function(ue){delete b.current[ue]},[]),Z=ii(function(ue,$e){D({type:"SET_TOUCHED",payload:ue});var ze=$e===void 0?s:$e;return ze?oe(M.values):Promise.resolve()}),ne=m.useCallback(function(ue){D({type:"SET_ERRORS",payload:ue})},[]),de=ii(function(ue,$e){var ze=Mi(ue)?ue(M.values):ue;D({type:"SET_VALUES",payload:ze});var et=$e===void 0?r:$e;return et?oe(ze):Promise.resolve()}),z=m.useCallback(function(ue,$e){D({type:"SET_FIELD_ERROR",payload:{field:ue,value:$e}})},[]),I=ii(function(ue,$e,ze){D({type:"SET_FIELD_VALUE",payload:{field:ue,value:$e}});var et=ze===void 0?r:ze;return et?oe(Mc(M.values,ue,$e)):Promise.resolve()}),L=m.useCallback(function(ue,$e){var ze=$e,et=ue,tt;if(!NS(ue)){ue.persist&&ue.persist();var mt=ue.target?ue.target:ue.currentTarget,Lt=mt.type,qr=mt.name,Oe=mt.id,vt=mt.value,fr=mt.checked,bn=mt.outerHTML,As=mt.options,Ne=mt.multiple;ze=$e||qr||Oe,et=/number|range/.test(Lt)?(tt=parseFloat(vt),isNaN(tt)?"":tt):/checkbox/.test(Lt)?WTe(Ls(M.values,ze),fr,vt):As&&Ne?VTe(As):vt}ze&&I(ze,et)},[I,M.values]),H=ii(function(ue){if(NS(ue))return function($e){return L($e,ue)};L(ue)}),G=ii(function(ue,$e,ze){$e===void 0&&($e=!0),D({type:"SET_FIELD_TOUCHED",payload:{field:ue,value:$e}});var et=ze===void 0?s:ze;return et?oe(M.values):Promise.resolve()}),J=m.useCallback(function(ue,$e){ue.persist&&ue.persist();var ze=ue.target,et=ze.name,tt=ze.id,mt=ze.outerHTML,Lt=$e||et||tt;G(Lt,!0)},[G]),ie=ii(function(ue){if(NS(ue))return function($e){return J($e,ue)};J(ue)}),fe=m.useCallback(function(ue){Mi(ue)?D({type:"SET_FORMIK_STATE",payload:ue}):D({type:"SET_FORMIK_STATE",payload:function(){return ue}})},[]),Q=m.useCallback(function(ue){D({type:"SET_STATUS",payload:ue})},[]),re=m.useCallback(function(ue){D({type:"SET_ISSUBMITTING",payload:ue})},[]),Me=ii(function(){return D({type:"SUBMIT_ATTEMPT"}),oe().then(function(ue){var $e=ue instanceof Error,ze=!$e&&Object.keys(ue).length===0;if(ze){var et;try{if(et=Ye(),et===void 0)return}catch(tt){throw tt}return Promise.resolve(et).then(function(tt){return E.current&&D({type:"SUBMIT_SUCCESS"}),tt}).catch(function(tt){if(E.current)throw D({type:"SUBMIT_FAILURE"}),tt})}else if(E.current&&(D({type:"SUBMIT_FAILURE"}),$e))throw ue})}),Fe=ii(function(ue){ue&&ue.preventDefault&&Mi(ue.preventDefault)&&ue.preventDefault(),ue&&ue.stopPropagation&&Mi(ue.stopPropagation)&&ue.stopPropagation(),Me().catch(function($e){console.warn("Warning: An unhandled error was caught from submitForm()",$e)})}),We={resetForm:pe,validateForm:oe,validateField:Se,setErrors:ne,setFieldError:z,setFieldTouched:G,setFieldValue:I,setStatus:Q,setSubmitting:re,setTouched:Z,setValues:de,setFormikState:fe,submitForm:Me},Ye=ii(function(){return h(M.values,We)}),ut=ii(function(ue){ue&&ue.preventDefault&&Mi(ue.preventDefault)&&ue.preventDefault(),ue&&ue.stopPropagation&&Mi(ue.stopPropagation)&&ue.stopPropagation(),pe()}),gt=m.useCallback(function(ue){return{value:Ls(M.values,ue),error:Ls(M.errors,ue),touched:!!Ls(M.touched,ue),initialValue:Ls(C.current,ue),initialTouched:!!Ls(y.current,ue),initialError:Ls(w.current,ue)}},[M.errors,M.touched,M.values]),Ve=m.useCallback(function(ue){return{setValue:function(ze,et){return I(ue,ze,et)},setTouched:function(ze,et){return G(ue,ze,et)},setError:function(ze){return z(ue,ze)}}},[I,G,z]),le=m.useCallback(function(ue){var $e=RC(ue),ze=$e?ue.name:ue,et=Ls(M.values,ze),tt={name:ze,value:et,onChange:H,onBlur:ie};if($e){var mt=ue.type,Lt=ue.value,qr=ue.as,Oe=ue.multiple;mt==="checkbox"?Lt===void 0?tt.checked=!!et:(tt.checked=!!(Array.isArray(et)&&~et.indexOf(Lt)),tt.value=Lt):mt==="radio"?(tt.checked=et===Lt,tt.value=Lt):qr==="select"&&Oe&&(tt.value=tt.value||[],tt.multiple=!0)}return tt},[ie,H,M.values]),Be=m.useMemo(function(){return!ac(C.current,M.values)},[C.current,M.values]),lt=m.useMemo(function(){return typeof a<"u"?Be?M.errors&&Object.keys(M.errors).length===0:a!==!1&&Mi(a)?a(g):a:M.errors&&Object.keys(M.errors).length===0},[a,Be,M.errors,g]),Mt=cn({},M,{initialValues:C.current,initialErrors:w.current,initialTouched:y.current,initialStatus:S.current,handleBlur:ie,handleChange:H,handleReset:ut,handleSubmit:Fe,resetForm:pe,setErrors:ne,setFormikState:fe,setFieldTouched:G,setFieldValue:I,setFieldError:z,setStatus:Q,setSubmitting:re,setTouched:Z,setValues:de,submitForm:Me,validateForm:oe,validateField:Se,isValid:lt,dirty:Be,unregisterField:se,registerField:we,getFieldProps:le,getFieldMeta:gt,getFieldHelpers:Ve,validateOnBlur:s,validateOnChange:r,validateOnMount:o});return Mt}function BTe(e){var t={};if(e.inner){if(e.inner.length===0)return Mc(t,e.path,e.message);for(var s=e.inner,r=Array.isArray(s),n=0,s=r?s:s[Symbol.iterator]();;){var i;if(r){if(n>=s.length)break;i=s[n++]}else{if(n=s.next(),n.done)break;i=n.value}var o=i;Ls(t,o.path)||(t=Mc(t,o.path,o.message))}}return t}function GTe(e,t,r,n){r===void 0&&(r=!1);var s=A1(e);return t[r?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function A1(e){var t=Array.isArray(e)?[]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=String(r);Array.isArray(e[n])===!0?t[n]=e[n].map(function(s){return Array.isArray(s)===!0||kN(s)?A1(s):s!==""?s:void 0}):kN(e[n])?t[n]=A1(e[n]):t[n]=e[n]!==""?e[n]:void 0}return t}function HTe(e,t,r){var n=e.slice();return t.forEach(function(i,o){if(typeof n[o]>"u"){var a=r.clone!==!1,l=a&&r.isMergeableObject(i);n[o]=l?b1(Array.isArray(i)?[]:{},i,r):i}else r.isMergeableObject(i)?n[o]=b1(e[o],i,r):e.indexOf(i)===-1&&n.push(i)}),n}function VTe(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function WTe(e,t,r){if(typeof e=="boolean")return!!t;var n=[],s=!1,i=-1;if(Array.isArray(e))n=e,i=e.indexOf(r),s=i>=0;else if(!r||r=="true"||r=="false")return!!t;return t&&r&&!s?n.concat(r):s?n.slice(0,i).concat(n.slice(i+1)):n}var $Te=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect;function ii(e){var t=m.useRef(e);return $Te(function(){t.current=e}),m.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current.apply(void 0,n)},[])}var UTe=m.forwardRef(function(e,t){var r=e.action,n=gG(e,["action"]),s=r??"#",i=kTe(),o=i.handleReset,a=i.handleSubmit;return m.createElement("form",cn({onSubmit:a,ref:t,onReset:o,action:s},n))});UTe.displayName="Form";var OS,dI;function zTe(){if(dI)return OS;dI=1;function e(E){this._maxSize=E,this.clear()}e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(E){return this._values[E]},e.prototype.set=function(E,b){return this._size>=this._maxSize&&this.clear(),E in this._values||this._size++,this._values[E]=b};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,n=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,o=512,a=new e(o),l=new e(o),u=new e(o);OS={Cache:e,split:p,normalizePath:h,setter:function(E){var b=h(E);return l.get(E)||l.set(E,function(R,P){for(var M=0,D=b.length,N=R;M<D-1;){var O=b[M];if(O==="__proto__"||O==="constructor"||O==="prototype")return R;N=N[b[M++]]}N[b[M]]=P})},getter:function(E,b){var T=h(E);return u.get(E)||u.set(E,function(P){for(var M=0,D=T.length;M<D;)if(P!=null||!b)P=P[T[M++]];else return;return P})},join:function(E){return E.reduce(function(b,T){return b+(C(T)||r.test(T)?"["+T+"]":(b?".":"")+T)},"")},forEach:function(E,b,T){g(Array.isArray(E)?E:p(E),b,T)}};function h(E){return a.get(E)||a.set(E,p(E).map(function(b){return b.replace(i,"$2")}))}function p(E){return E.match(t)||[""]}function g(E,b,T){var R=E.length,P,M,D,N;for(M=0;M<R;M++)P=E[M],P&&(S(P)&&(P='"'+P+'"'),N=C(P),D=!N&&/^\d+$/.test(P),b.call(T,P,N,D,M,E))}function C(E){return typeof E=="string"&&E&&["'",'"'].indexOf(E.charAt(0))!==-1}function w(E){return E.match(n)&&!E.match(r)}function y(E){return s.test(E)}function S(E){return!C(E)&&(w(E)||y(E))}return OS}var Nc=zTe(),LS,hI;function KTe(){if(hI)return LS;hI=1;const e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=h=>h.match(e)||[],r=h=>h[0].toUpperCase()+h.slice(1),n=(h,p)=>t(h).join(p).toLowerCase(),s=h=>t(h).reduce((p,g)=>`${p}${p?g[0].toUpperCase()+g.slice(1).toLowerCase():g.toLowerCase()}`,"");return LS={words:t,upperFirst:r,camelCase:s,pascalCase:h=>r(s(h)),snakeCase:h=>n(h,"_"),kebabCase:h=>n(h,"-"),sentenceCase:h=>r(n(h," ")),titleCase:h=>t(h).map(r).join(" ")},LS}var kS=KTe(),Jm={exports:{}},fI;function qTe(){if(fI)return Jm.exports;fI=1,Jm.exports=function(s){return e(t(s),s)},Jm.exports.array=e;function e(s,i){var o=s.length,a=new Array(o),l={},u=o,h=r(i),p=n(s);for(i.forEach(function(C){if(!p.has(C[0])||!p.has(C[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)l[u]||g(s[u],u,new Set);return a;function g(C,w,y){if(y.has(C)){var S;try{S=", node was:"+JSON.stringify(C)}catch{S=""}throw new Error("Cyclic dependency"+S)}if(!p.has(C))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(C));if(!l[w]){l[w]=!0;var E=h.get(C)||new Set;if(E=Array.from(E),w=E.length){y.add(C);do{var b=E[--w];g(b,p.get(b),y)}while(w);y.delete(C)}a[--o]=C}}}function t(s){for(var i=new Set,o=0,a=s.length;o<a;o++){var l=s[o];i.add(l[0]),i.add(l[1])}return Array.from(i)}function r(s){for(var i=new Map,o=0,a=s.length;o<a;o++){var l=s[o];i.has(l[0])||i.set(l[0],new Set),i.has(l[1])||i.set(l[1],new Set),i.get(l[0]).add(l[1])}return i}function n(s){for(var i=new Map,o=0,a=s.length;o<a;o++)i.set(s[o],o);return i}return Jm.exports}var YTe=qTe();const XTe=w0(YTe),QTe=Object.prototype.toString,JTe=Error.prototype.toString,ZTe=RegExp.prototype.toString,eFe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",tFe=/^Symbol\((.*)\)(.*)$/;function rFe(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function pI(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const r=typeof e;if(r==="number")return rFe(e);if(r==="string")return t?`"${e}"`:e;if(r==="function")return"[Function "+(e.name||"anonymous")+"]";if(r==="symbol")return eFe.call(e).replace(tFe,"Symbol($1)");const n=QTe.call(e).slice(8,-1);return n==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):n==="Error"||e instanceof Error?"["+JTe.call(e)+"]":n==="RegExp"?ZTe.call(e):null}function pl(e,t){let r=pI(e,t);return r!==null?r:JSON.stringify(e,function(n,s){let i=pI(this[n],t);return i!==null?i:s},2)}function vG(e){return e==null?[]:[].concat(e)}let CG,yG,wG,nFe=/\$\{\s*(\w+)\s*\}/g;CG=Symbol.toStringTag;class gI{constructor(t,r,n,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[CG]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=s,this.errors=[],this.inner=[],vG(t).forEach(i=>{if(xs.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}yG=Symbol.hasInstance;wG=Symbol.toStringTag;class xs extends Error{static formatError(t,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof t=="string"?t.replace(nFe,(s,i)=>pl(r[i])):typeof t=="function"?t(r):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,r,n,s,i){const o=new gI(t,r,n,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[wG]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,xs)}static[yG](t){return gI[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let so={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:n})=>{const s=n!=null&&n!==r?` (cast from the value \`${pl(n,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${pl(r,!0)}\``+s:`${e} must match the configured type. The validated value was: \`${pl(r,!0)}\``+s}},ms={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},sFe={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},D1={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},iFe={isValue:"${path} field must be ${value}"},mv={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},oFe={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},aFe={notType:e=>{const{path:t,value:r,spec:n}=e,s=n.types.length;if(Array.isArray(r)){if(r.length<s)return`${t} tuple value has too few items, expected a length of ${s} but got ${r.length} for value: \`${pl(r,!0)}\``;if(r.length>s)return`${t} tuple value has too many items, expected a length of ${s} but got ${r.length} for value: \`${pl(r,!0)}\``}return xs.formatError(so.notType,e)}};Object.assign(Object.create(null),{mixed:so,string:ms,number:sFe,date:D1,object:mv,array:oFe,boolean:iFe,tuple:aFe});const gT=e=>e&&e.__isYupSchema__;class C0{static fromOptions(t,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:s,otherwise:i}=r,o=typeof n=="function"?n:(...a)=>a.every(l=>l===n);return new C0(t,(a,l)=>{var u;let h=o(...a)?s:i;return(u=h==null?void 0:h(l))!=null?u:l})}constructor(t,r){this.fn=void 0,this.refs=t,this.refs=t,this.fn=r}resolve(t,r){let n=this.refs.map(i=>i.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),s=this.fn(n,t,r);if(s===void 0||s===t)return t;if(!gT(s))throw new TypeError("conditions must return a schema object");return s.resolve(r)}}const Zm={context:"$",value:"."};class vu{constructor(t,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Zm.context,this.isValue=this.key[0]===Zm.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Zm.context:this.isValue?Zm.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Nc.getter(this.path,!0),this.map=r.map}getValue(t,r,n){let s=this.isContext?n:this.isValue?t:r;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(t,r){return this.getValue(t,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}vu.prototype.__isYupRef=!0;const mc=e=>e==null;function Ju(e){function t({value:r,path:n="",options:s,originalValue:i,schema:o},a,l){const{name:u,test:h,params:p,message:g,skipAbsent:C}=e;let{parent:w,context:y,abortEarly:S=o.spec.abortEarly,disableStackTrace:E=o.spec.disableStackTrace}=s;function b(W){return vu.isRef(W)?W.getValue(r,w,y):W}function T(W={}){const B=Object.assign({value:r,originalValue:i,label:o.spec.label,path:W.path||n,spec:o.spec,disableStackTrace:W.disableStackTrace||E},p,W.params);for(const pe of Object.keys(B))B[pe]=b(B[pe]);const oe=new xs(xs.formatError(W.message||g,B),r,B.path,W.type||u,B.disableStackTrace);return oe.params=B,oe}const R=S?a:l;let P={path:n,parent:w,type:u,from:s.from,createError:T,resolve:b,options:s,originalValue:i,schema:o};const M=W=>{xs.isError(W)?R(W):W?l(null):R(T())},D=W=>{xs.isError(W)?R(W):a(W)};if(C&&mc(r))return M(!0);let O;try{var j;if(O=h.call(P,r,P),typeof((j=O)==null?void 0:j.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${P.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(O).then(M,D)}}catch(W){D(W);return}M(O)}return t.OPTIONS=e,t}function lFe(e,t,r,n=r){let s,i,o;return t?(Nc.forEach(t,(a,l,u)=>{let h=l?a.slice(1,a.length-1):a;e=e.resolve({context:n,parent:s,value:r});let p=e.type==="tuple",g=u?parseInt(h,10):0;if(e.innerType||p){if(p&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&g>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);s=r,r=r&&r[g],e=p?e.spec.types[g]:e.innerType}if(!u){if(!e.fields||!e.fields[h])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);s=r,r=r&&r[h],e=e.fields[h]}i=h,o=l?"["+a+"]":"."+a}),{schema:e,parent:s,parentPath:i}):{parent:s,parentPath:t,schema:e}}class y0 extends Set{describe(){const t=[];for(const r of this.values())t.push(vu.isRef(r)?r.describe():r);return t}resolveAll(t){let r=[];for(const n of this.values())r.push(t(n));return r}clone(){return new y0(this.values())}merge(t,r){const n=this.clone();return t.forEach(s=>n.add(s)),r.forEach(s=>n.delete(s)),n}}function cd(e,t=new Map){if(gT(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let r;if(e instanceof Date)r=new Date(e.getTime()),t.set(e,r);else if(e instanceof RegExp)r=new RegExp(e),t.set(e,r);else if(Array.isArray(e)){r=new Array(e.length),t.set(e,r);for(let n=0;n<e.length;n++)r[n]=cd(e[n],t)}else if(e instanceof Map){r=new Map,t.set(e,r);for(const[n,s]of e.entries())r.set(n,cd(s,t))}else if(e instanceof Set){r=new Set,t.set(e,r);for(const n of e)r.add(cd(n,t))}else if(e instanceof Object){r={},t.set(e,r);for(const[n,s]of Object.entries(e))r[n]=cd(s,t)}else throw Error(`Unable to clone ${e}`);return r}class wo{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new y0,this._blacklist=new y0,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(so.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=cd(Object.assign({},this.spec,t)),r}label(t){let r=this.clone();return r.spec.label=t,r}meta(...t){if(t.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},t[0]),r}withMutation(t){let r=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=r,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let r=this,n=t.clone();const s=Object.assign({},r.spec,n.spec);return n.spec=s,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=r._blacklist.merge(t._blacklist,t._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(i=>{t.tests.forEach(o=>{i.test(o.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((s,i)=>i.resolve(s,t),r),r=r.resolve(t)}return r}resolveOptions(t){var r,n,s,i;return Object.assign({},t,{from:t.from||[],strict:(r=t.strict)!=null?r:this.spec.strict,abortEarly:(n=t.abortEarly)!=null?n:this.spec.abortEarly,recursive:(s=t.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=t.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(t,r={}){let n=this.resolve(Object.assign({value:t},r)),s=r.assert==="ignore-optionality",i=n._cast(t,r);if(r.assert!==!1&&!n.isType(i)){if(s&&mc(i))return i;let o=pl(t),a=pl(i);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(t,r){let n=t===void 0?t:this.transforms.reduce((s,i)=>i.call(this,s,t,this),t);return n===void 0&&(n=this.getDefault(r)),n}_validate(t,r={},n,s){let{path:i,originalValue:o=t,strict:a=this.spec.strict}=r,l=t;a||(l=this._cast(l,Object.assign({assert:!1},r)));let u=[];for(let h of Object.values(this.internalTests))h&&u.push(h);this.runTests({path:i,value:l,originalValue:o,options:r,tests:u},n,h=>{if(h.length)return s(h,l);this.runTests({path:i,value:l,originalValue:o,options:r,tests:this.tests},n,s)})}runTests(t,r,n){let s=!1,{tests:i,value:o,originalValue:a,path:l,options:u}=t,h=y=>{s||(s=!0,r(y,o))},p=y=>{s||(s=!0,n(y,o))},g=i.length,C=[];if(!g)return p([]);let w={value:o,originalValue:a,path:l,options:u,schema:this};for(let y=0;y<i.length;y++){const S=i[y];S(w,h,function(b){b&&(Array.isArray(b)?C.push(...b):C.push(b)),--g<=0&&p(C)})}}asNestedTest({key:t,index:r,parent:n,parentPath:s,originalParent:i,options:o}){const a=t??r;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=n[a];const h=Object.assign({},o,{strict:!0,parent:n,value:u,originalValue:i[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${s||""}[${l?a:`"${a}"`}]`:(s?`${s}.`:"")+t});return(p,g,C)=>this.resolve(h)._validate(u,h,g,C)}validate(t,r){var n;let s=this.resolve(Object.assign({},r,{value:t})),i=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(t,r,(l,u)=>{xs.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new xs(l,u,void 0,void 0,i)):o(u)}))}validateSync(t,r){var n;let s=this.resolve(Object.assign({},r,{value:t})),i,o=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return s._validate(t,Object.assign({},r,{sync:!0}),(a,l)=>{throw xs.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new xs(a,t,void 0,void 0,o);i=l}),i}isValid(t,r){return this.validate(t,r).then(()=>!0,n=>{if(xs.isError(n))return!1;throw n})}isValidSync(t,r){try{return this.validateSync(t,r),!0}catch(n){if(xs.isError(n))return!1;throw n}}_getDefault(t){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,t):cd(r)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,r){const n=this.clone({nullable:t});return n.internalTests.nullable=Ju({message:r,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),n}optionality(t,r){const n=this.clone({optional:t});return n.internalTests.optionality=Ju({message:r,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(t=so.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=so.notNull){return this.nullability(!1,t)}required(t=so.required){return this.clone().withMutation(r=>r.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let r=this.clone();return r.transforms.push(t),r}test(...t){let r;if(t.length===1?typeof t[0]=="function"?r={test:t[0]}:r=t[0]:t.length===2?r={name:t[0],test:t[1]}:r={name:t[0],message:t[1],test:t[2]},r.message===void 0&&(r.message=so.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),s=Ju(r),i=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===r.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),n.tests.push(s),n}when(t,r){!Array.isArray(t)&&typeof t!="string"&&(r=t,t=".");let n=this.clone(),s=vG(t).map(i=>new vu(i));return s.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof r=="function"?new C0(s,r):C0.fromOptions(s,r)),n}typeError(t){let r=this.clone();return r.internalTests.typeError=Ju({message:t,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(t,r=so.oneOf){let n=this.clone();return t.forEach(s=>{n._whitelist.add(s),n._blacklist.delete(s)}),n.internalTests.whiteList=Ju({message:r,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),n}notOneOf(t,r=so.notOneOf){let n=this.clone();return t.forEach(s=>{n._blacklist.add(s),n._whitelist.delete(s)}),n.internalTests.blacklist=Ju({message:r,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),n}strip(t=!0){let r=this.clone();return r.spec.strip=t,r}describe(t){const r=(t?this.resolve(t):this).clone(),{label:n,meta:s,optional:i,nullable:o}=r.spec;return{meta:s,label:n,optional:i,nullable:o,default:r.getDefault(t),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,h)=>h.findIndex(p=>p.name===l.name)===u)}}}wo.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])wo.prototype[`${e}At`]=function(t,r,n={}){const{parent:s,parentPath:i,schema:o}=lFe(this,t,r,n.context);return o[e](s&&s[i],Object.assign({},n,{parent:s,path:t}))};for(const e of["equals","is"])wo.prototype[e]=wo.prototype.oneOf;for(const e of["not","nope"])wo.prototype[e]=wo.prototype.notOneOf;const cFe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function uFe(e){const t=M1(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let r=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(r=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(r=0-r)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+r,t.second,t.millisecond)}function M1(e){var t,r;const n=cFe.exec(e);return n?{year:Ho(n[1]),month:Ho(n[2],1)-1,day:Ho(n[3],1),hour:Ho(n[4]),minute:Ho(n[5]),second:Ho(n[6]),millisecond:n[7]?Ho(n[7].substring(0,3)):0,precision:(t=(r=n[7])==null?void 0:r.length)!=null?t:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Ho(n[10]),minuteOffset:Ho(n[11])}:null}function Ho(e,t=0){return Number(e)||t}let dFe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,hFe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,fFe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,pFe="^\\d{4}-\\d{2}-\\d{2}",gFe="\\d{2}:\\d{2}:\\d{2}",mFe="(([+-]\\d{2}(:?\\d{2})?)|Z)",vFe=new RegExp(`${pFe}T${gFe}(\\.\\d+)?${mFe}$`),CFe=e=>mc(e)||e===e.trim(),yFe={}.toString();function st(){return new SG}class SG extends wo{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,r,n)=>{if(!n.spec.coerce||n.isType(t)||Array.isArray(t))return t;const s=t!=null&&t.toString?t.toString():t;return s===yFe?t:s})})}required(t){return super.required(t).withMutation(r=>r.test({message:t||so.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(r=>r.OPTIONS.name!=="required"),t))}length(t,r=ms.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,r=ms.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,r=ms.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}matches(t,r){let n=!1,s,i;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:s,name:i}=r:s=r),this.test({name:i||"matches",message:s||ms.matches,params:{regex:t},skipAbsent:!0,test:o=>o===""&&n||o.search(t)!==-1})}email(t=ms.email){return this.matches(dFe,{name:"email",message:t,excludeEmptyString:!0})}url(t=ms.url){return this.matches(hFe,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=ms.uuid){return this.matches(fFe,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let r="",n,s;return t&&(typeof t=="object"?{message:r="",allowOffset:n=!1,precision:s=void 0}=t:r=t),this.matches(vFe,{name:"datetime",message:r||ms.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||ms.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const o=M1(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:r||ms.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=M1(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=ms.trim){return this.transform(r=>r!=null?r.trim():r).test({message:t,name:"trim",test:CFe})}lowercase(t=ms.lowercase){return this.transform(r=>mc(r)?r:r.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>mc(r)||r===r.toLowerCase()})}uppercase(t=ms.uppercase){return this.transform(r=>mc(r)?r:r.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>mc(r)||r===r.toUpperCase()})}}st.prototype=SG.prototype;let xG=new Date(""),wFe=e=>Object.prototype.toString.call(e)==="[object Date]";function Yc(){return new eg}class eg extends wo{constructor(){super({type:"date",check(t){return wFe(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,r,n)=>!n.spec.coerce||n.isType(t)||t===null?t:(t=uFe(t),isNaN(t)?eg.INVALID_DATE:new Date(t)))})}prepareParam(t,r){let n;if(vu.isRef(t))n=t;else{let s=this.cast(t);if(!this._typeCheck(s))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=s}return n}min(t,r=D1.min){let n=this.prepareParam(t,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(s){return s>=this.resolve(n)}})}max(t,r=D1.max){let n=this.prepareParam(t,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(s){return s<=this.resolve(n)}})}}eg.INVALID_DATE=xG;Yc.prototype=eg.prototype;Yc.INVALID_DATE=xG;function SFe(e,t=[]){let r=[],n=new Set,s=new Set(t.map(([o,a])=>`${o}-${a}`));function i(o,a){let l=Nc.split(o)[0];n.add(l),s.has(`${a}-${l}`)||r.push([a,l])}for(const o of Object.keys(e)){let a=e[o];n.add(o),vu.isRef(a)&&a.isSibling?i(a.path,o):gT(a)&&"deps"in a&&a.deps.forEach(l=>i(l,o))}return XTe.array(Array.from(n),r).reverse()}function mI(e,t){let r=1/0;return e.some((n,s)=>{var i;if((i=t.path)!=null&&i.includes(n))return r=s,!0}),r}function EG(e){return(t,r)=>mI(e,t)-mI(e,r)}const xFe=(e,t,r)=>{if(typeof e!="string")return e;let n=e;try{n=JSON.parse(e)}catch{}return r.isType(n)?n:e};function vv(e){if("fields"in e){const t={};for(const[r,n]of Object.entries(e.fields))t[r]=vv(n);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=vv(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(vv)}):"optional"in e?e.optional():e}const EFe=(e,t)=>{const r=[...Nc.normalizePath(t)];if(r.length===1)return r[0]in e;let n=r.pop(),s=Nc.getter(Nc.join(r),!0)(e);return!!(s&&n in s)};let vI=e=>Object.prototype.toString.call(e)==="[object Object]";function CI(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(n=>r.indexOf(n)===-1)}const bFe=EG([]);function dr(e){return new bG(e)}class bG extends wo{constructor(t){super({type:"object",check(r){return vI(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=bFe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,r={}){var n;let s=super._cast(t,r);if(s===void 0)return this.getDefault(r);if(!this._typeCheck(s))return s;let i=this.fields,o=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(p=>!this._nodes.includes(p))),l={},u=Object.assign({},r,{parent:l,__validating:r.__validating||!1}),h=!1;for(const p of a){let g=i[p],C=p in s;if(g){let w,y=s[p];u.path=(r.path?`${r.path}.`:"")+p,g=g.resolve({value:y,context:r.context,parent:l});let S=g instanceof wo?g.spec:void 0,E=S==null?void 0:S.strict;if(S!=null&&S.strip){h=h||p in s;continue}w=!r.__validating||!E?g.cast(s[p],u):s[p],w!==void 0&&(l[p]=w)}else C&&!o&&(l[p]=s[p]);(C!==p in l||l[p]!==s[p])&&(h=!0)}return h?l:s}_validate(t,r={},n,s){let{from:i=[],originalValue:o=t,recursive:a=this.spec.recursive}=r;r.from=[{schema:this,value:o},...i],r.__validating=!0,r.originalValue=o,super._validate(t,r,n,(l,u)=>{if(!a||!vI(u)){s(l,u);return}o=o||u;let h=[];for(let p of this._nodes){let g=this.fields[p];!g||vu.isRef(g)||h.push(g.asNestedTest({options:r,key:p,parent:u,parentPath:r.path,originalParent:o}))}this.runTests({tests:h,value:u,originalValue:o,options:r},n,p=>{s(p.sort(this._sortErrors).concat(l),u)})})}clone(t){const r=super.clone(t);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(t){let r=super.concat(t),n=r.fields;for(let[s,i]of Object.entries(this.fields)){const o=n[s];n[s]=o===void 0?i:o}return r.withMutation(s=>s.setFields(n,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var s;const i=this.fields[n];let o=t;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=i&&"getDefault"in i?i.getDefault(o):void 0}),r}setFields(t,r){let n=this.clone();return n.fields=t,n._nodes=SFe(t,r),n._sortErrors=EG(Object.keys(t)),r&&(n._excludedEdges=r),n}shape(t,r=[]){return this.clone().withMutation(n=>{let s=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),s=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,t),s)})}partial(){const t={};for(const[r,n]of Object.entries(this.fields))t[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(t)}deepPartial(){return vv(this)}pick(t){const r={};for(const n of t)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,s])=>t.includes(n)&&t.includes(s)))}omit(t){const r=[];for(const n of Object.keys(this.fields))t.includes(n)||r.push(n);return this.pick(r)}from(t,r,n){let s=Nc.getter(t,!0);return this.transform(i=>{if(!i)return i;let o=i;return EFe(i,t)&&(o=Object.assign({},i),n||delete o[t],o[r]=s(i)),o})}json(){return this.transform(xFe)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||mv.exact,test(r){if(r==null)return!0;const n=CI(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,r=mv.noUnknown){typeof t!="boolean"&&(r=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(s){if(s==null)return!0;const i=CI(this.schema,s);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,r=mv.noUnknown){return this.noUnknown(!t,r)}transformKeys(t){return this.transform(r=>{if(!r)return r;const n={};for(const s of Object.keys(r))n[t(s)]=r[s];return n})}camelCase(){return this.transformKeys(kS.camelCase)}snakeCase(){return this.transformKeys(kS.snakeCase)}constantCase(){return this.transformKeys(t=>kS.snakeCase(t).toUpperCase())}describe(t){const r=(t?this.resolve(t):this).clone(),n=super.describe(t);n.fields={};for(const[i,o]of Object.entries(r.fields)){var s;let a=t;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n.fields[i]=o.describe(a)}return n}}dr.prototype=bG.prototype;const mT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},vT=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},RG=()=>Fr({queryKey:["useGetOrderTypes"],queryFn:()=>_e("/api/order-type/v1/getAll")}),RFe=()=>Ze({mutationFn:e=>_e("/api/order-type/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:mT,onError:vT}),TFe=e=>{const t=Pt();return console.log(S0),Ze({mutationFn:r=>_e(`/api/order-type/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{mT(r),t.invalidateQueries({queryKey:["useGetOrderTypes"]})},onError:vT})},FFe=e=>{const t=Pt();return console.log(e),Ze({mutationFn:()=>_e(`/api/order-type/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetOrderTypes"]}),mT(r.message)},onError:vT})},CT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},yT=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},TC=()=>Fr({queryKey:["useGetProducts"],queryFn:()=>_e("/api/product/v1/getAll")}),TG=()=>Ze({mutationFn:e=>_e("/api/product/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:CT,onError:yT}),FG=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/product/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{CT(r),t.invalidateQueries({queryKey:["useGetProducts"]})},onError:yT})},PFe=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/product/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetProducts"]}),CT(r.message)},onError:yT})},AFe=e=>Fr({queryKey:["products",e],queryFn:()=>_e(`/api/product/findByProductType?productType=${e}`),enabled:!!e}),DFe=()=>{var Ve,le,Be,lt,Mt,ue,$e,ze,et,tt,mt,Lt,qr,Oe,vt,fr,bn,As;let[e,t]=m.useState(null);const[r,n]=m.useState(!1),[s,i]=m.useState([]),{data:o,refetch:a}=j6(),[l,u]=m.useState(""),{data:h}=fC(),{data:p}=Xp(),{data:g}=RG(),{data:C}=AFe(l),w=B6(),y=G6(e),S=Fs(),E=new URLSearchParams(S.search),b=Object.values(nT),T=Object.values(j8),R=Object.values(G8),P=Object.values(B8),M=Object.values(H8),D=_n(),[N,O]=m.useState(0),[j,W]=m.useState(0),[B,oe]=m.useState(0),[pe,Se]=m.useState([]),{mutate:we,data:se}=iSe();m.useEffect(()=>{we()},[]);const Z=()=>{D("/app/sales")},ne=Ne=>{const St=pe.filter(Ht=>Ht.id!==Ne);Se(St),L.setFieldValue("salesAttachments",St)},de=Ne=>{const St=Ne.reduce((Qs,Ds)=>Qs+Ds.mrp*Ds.quantity,0);O(St);const fn=St-St*5/100,Si=Ne.reduce((Qs,Ds)=>{const Ao=fn*Ds.gst/100;return Qs+Ao},0);W(Si);const xi=St+Si;oe(xi)},[z,I]=m.useState({id:"",inVoiceNo:""});m.useEffect(()=>{let Ne=E.get("id");if(t(Ne),Ne&&o&&!r){const St=o==null?void 0:o.data.find(Ht=>Ht.id.toString()===Ne);St&&(I(St),i(St==null?void 0:St.salesProductQuantities),Se(St==null?void 0:St.salesAttachments),de(St==null?void 0:St.salesProductQuantities),L.setValues({...L.initialValues,...St}),n(!0)),console.log(St)}},[o,E,s]);const L=Zp({initialValues:{inVoiceNo:"",orderType:{id:"",name:""},jobType:"",customer:{id:"",customerName:"",address1:"",contactNumber:"",contactPerson:"",email:""},contactPerson:"",email:"",contactNumber:"",poNo:"",company:"",reference:"",billingAddress:"",deliveryAddress:"",salesOrderDate:"",purchaseOrderDate:"",orderPreparedBy:{user_id:"",firstName:""},orderVerifiedBy:{user_id:"",firstName:""},salesPerson:{user_id:"",firstName:""},projectEngineer:{user_id:"",firstName:""},projectType:"",warrantyPeriod:"",termsAndCondition:"",salesAttachments:[],salesProductQuantities:[],productType:""},validationSchema:dr({orderType:dr().shape({id:st().required("Order Type is required"),name:st().required("Order Type  is required")}),productType:st().required("Product Type is required"),jobType:st().required("Job Type is required"),projectType:st().required("Job Type is required"),customer:dr().shape({id:st().required("Customer is required"),customerName:st().required("Customer  is required")}),email:st().email("Invalid email").required("Email is required"),contactNumber:st().required("Contact Number is required").matches(/^\d+$/,"Contact Number must be a valid number"),poNo:st().required("Purchase order no. is required"),billingAddress:st().required("Billing Address is required"),deliveryAddress:st().required("Delivery Address is required"),salesOrderDate:Yc().required("Sales Order Date is required"),purchaseOrderDate:Yc().required("Purchase Order Date is required"),orderPreparedBy:dr().shape({user_id:st().required("Person detail is required"),firstName:st().required("Person detail  is required")}),orderVerifiedBy:dr().shape({user_id:st().required("Person detail is required"),firstName:st().required("Person detail  is required")}),salesPerson:dr().shape({user_id:st().required("Person detail is required"),firstName:st().required("Person detail  is required")}),projectEngineer:dr().shape({user_id:st().required("Person detail is required"),firstName:st().required("Person detail  is required")}),warrantyPeriod:st().required("Warranty Period is required"),termsAndCondition:st().required("Terms & conditions is required"),contactPerson:st().required("Contact Person is required"),company:st().required("Company Name is required"),reference:st().required("Reference is required")}),onSubmit:Ne=>{e?(y.mutate(Ne,{onSuccess:()=>{a(),D("/app/sales")}}),e=null):(console.log("Form submitted:",Ne),w.mutate(Ne,{onSuccess:()=>{a(),D("/app/sales")}}))}});m.useEffect(()=>{console.log("productType"),L.values.productType&&u(L.values.productType)},[L.values.productType]),m.useEffect(()=>{e?(L.setFieldValue("inVoiceNo",z.inVoiceNo),console.log("invoice",z.inVoiceNo)):se!=null&&se.data&&L.setFieldValue("inVoiceNo",se.data)},[e,se,z]);const H={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},G={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},J=Ne=>{console.log("Updated Rows:",Ne),L.setFieldValue("salesProductQuantities",Ne),de(Ne)},[ie,fe]=m.useState(null),[Q,re]=m.useState(!1),[Me,Fe]=m.useState(0),We=Ne=>{var Ht;const St=(Ht=Ne.target.files)==null?void 0:Ht[0];St&&fe(St)},Ye=async()=>{if(!ie){rt.error("Please select a file to upload.");return}console.log("upload successful"),re(!0),Fe(0);const Ne=new FormData;Ne.append("file",ie);try{const St=await fetch(`${Ic}/api/sales/uploadFile`,{method:"POST",body:Ne});if(St.ok){const Ht=await St.json();rt.success("File uploaded successfully.");const fn=[...L.values.salesAttachments||[],Ht==null?void 0:Ht.data];Se(fn),L.setFieldValue("salesAttachments",fn),console.log("Updated Formik salesAttachments:",L.values.salesAttachments),console.log("Updated local uploadedData:",pe)}else{const Ht=await St.json();rt.error(`Upload failed: ${Ht.message||"Unknown error"}`)}}catch(St){console.error("Error uploading file:",St),rt.error("An error occurred while uploading the file.")}finally{re(!1),Fe(0)}};m.useEffect(()=>{console.log("Updated Formik salesAttachments:",L.values.salesAttachments),console.log("Updated local uploadedData:",pe)},[L.values.salesAttachments,pe]);const ut=Ne=>{Ne.preventDefault(),console.log("action handle submit"),L.handleSubmit()},gt=async(Ne,St)=>{Ne.preventDefault();try{const Ht=`${Ic}/api/resources/serveFile?filePath=${encodeURIComponent(St)}`,fn=await fetch(Ht,{method:"GET"});if(fn.ok){const Si=await fn.blob(),xi=URL.createObjectURL(Si);window.open(xi,"_blank"),setTimeout(()=>URL.revokeObjectURL(xi),6e4)}else rt.error("API Error: "+fn.statusText)}catch(Ht){rt.error("Fetch Error: "+Ht.message)}};return d.jsx(ns.div,{className:"p-4 sm:p-6 bg-gray-100 dark:bg-gray-900 min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsxs(ns.div,{className:"max-w-5xl mx-auto bg-white dark:bg-gray-700 p-4 sm:p-6 shadow-md rounded-md",variants:H,initial:"hidden",animate:"visible",children:[d.jsx(ns.h1,{variants:G,initial:"hidden",animate:"visible",className:"text-xl font-bold mb-4",children:"Sales Order"}),d.jsxs("form",{onSubmit:ut,className:"grid gap-4",children:[d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Invoice No"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1",disabled:!0,value:L.values.inVoiceNo||""})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Order Type"}),d.jsxs(xt,{onValueChange:Ne=>{const St=g==null?void 0:g.data.find(Ht=>Ht.id==Ne);L.setFieldValue("orderType",St)},value:(Ve=L.values.orderType)==null?void 0:Ve.id,children:[d.jsx(Ct,{children:d.jsx(wt,{placeholder:"Select an option"})}),d.jsx(yt,{children:g==null?void 0:g.data.map(Ne=>d.jsx(er,{value:Ne.id,children:Ne.name},Ne.id))})]}),L.touched.orderType&&((le=L.errors.orderType)==null?void 0:le.name)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(Be=L.errors.orderType)==null?void 0:Be.name})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Job Type"}),d.jsxs(xt,{onValueChange:Ne=>L.setFieldValue("jobType",Ne),value:L.values.jobType,children:[d.jsx(Ct,{children:d.jsx(wt,{placeholder:"Select an option"})}),d.jsx(yt,{children:T.map(Ne=>d.jsx(er,{value:Ne,children:Ne},Ne))})]}),L.touched.jobType&&L.errors.jobType&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:L.errors.jobType})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Reference"}),d.jsxs(xt,{onValueChange:Ne=>{L.setFieldValue("reference",Ne)},value:L.values.reference,children:[d.jsx(Ct,{children:d.jsx(wt,{placeholder:"Select an option"})}),d.jsx(yt,{children:R.map(Ne=>d.jsx(er,{value:Ne,children:Ne},Ne))})]}),L.touched.reference&&L.errors.reference&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:L.errors.reference})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Company"}),d.jsxs(xt,{onValueChange:Ne=>{L.setFieldValue("company",Ne)},value:L.values.company,children:[d.jsx(Ct,{children:d.jsx(wt,{placeholder:"Select an option"})}),d.jsx(yt,{children:P.map(Ne=>d.jsx(er,{value:Ne,children:Ne},Ne))})]}),L.touched.company&&L.errors.company&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:L.errors.company})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{children:"Customer"}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((lt=L.values.customer)==null?void 0:lt.customerName)||"Select Customer...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Customer..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No Customer Found"}),d.jsx(es,{children:h==null?void 0:h.data.map(Ne=>{var St;return d.jsxs(ts,{value:Ne.customerName,onSelect:()=>{L.setFieldValue("customer",Ne),L.setFieldValue("contactPerson",Ne.contactPerson||""),L.setFieldValue("email",Ne.email||""),L.setFieldValue("contactNumber",Ne.contactNumber||""),L.setFieldValue("billingAddress",Ne.address1||""),L.setFieldValue("deliveryAddress",Ne.address1||"")},children:[Ne.customerName,d.jsx(Nn,{className:((St=L.values.customer)==null?void 0:St.id)===Ne.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Ne.id)})})]})]})})]}),((Mt=L.touched.customer)==null?void 0:Mt.id)&&((ue=L.errors.customer)==null?void 0:ue.id)&&d.jsx("p",{className:"text-red-500 text-sm",children:L.errors.customer.id})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Contact Person"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1",name:"contactPerson",value:L.values.contactPerson,onChange:L.handleChange,onBlur:L.handleBlur,readOnly:!0}),L.touched.contactPerson&&L.errors.contactPerson&&d.jsx("p",{className:"text-red-500 text-sm",children:L.errors.contactPerson})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Email"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1",name:"email",value:L.values.email,onChange:L.handleChange,onBlur:L.handleBlur,readOnly:!0}),L.touched.email&&L.errors.email&&d.jsx("p",{className:"text-red-500 text-sm",children:L.errors.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Contact No."}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1",name:"contactNumber",value:L.values.contactNumber,onChange:L.handleChange,onBlur:L.handleBlur,readOnly:!0}),L.touched.contactNumber&&L.errors.contactNumber&&d.jsx("p",{className:"text-red-500 text-sm",children:L.errors.contactNumber})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Purchase Order No."}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1",name:"poNo",onChange:L.handleChange,value:L.values.poNo,onBlur:L.handleBlur}),L.touched.poNo&&L.errors.poNo&&d.jsx("p",{className:"text-red-500 text-sm",children:L.errors.poNo})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Billing Address"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1",name:"billingAddress",value:L.values.billingAddress,onChange:L.handleChange,onBlur:L.handleBlur}),L.touched.billingAddress&&L.errors.billingAddress&&d.jsx("p",{className:"text-red-500 text-sm",children:L.errors.billingAddress})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Delivery Address"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1",name:"deliveryAddress",value:L.values.deliveryAddress,onChange:L.handleChange,onBlur:L.handleBlur}),L.touched.deliveryAddress&&L.errors.deliveryAddress&&d.jsx("p",{className:"text-red-500 text-sm",children:L.errors.deliveryAddress})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Sales order date"}),d.jsx("input",{type:"date",className:"w-full border rounded-md px-2 py-1",name:"salesOrderDate",value:L.values.salesOrderDate,onChange:L.handleChange,onBlur:L.handleBlur}),L.touched.salesOrderDate&&L.errors.salesOrderDate&&d.jsx("p",{className:"text-red-500 text-sm",children:L.errors.salesOrderDate})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Purchase order date"}),d.jsx("input",{type:"date",className:"w-full border rounded-md px-2 py-1",name:"purchaseOrderDate",value:L.values.purchaseOrderDate,onChange:L.handleChange,onBlur:L.handleBlur}),L.touched.purchaseOrderDate&&L.errors.purchaseOrderDate&&d.jsx("p",{className:"text-red-500 text-sm",children:L.errors.purchaseOrderDate})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Order Prepared By"}),d.jsxs(xt,{onValueChange:Ne=>{const St=p==null?void 0:p.data.find(Ht=>Ht.user_id==Ne);L.setFieldValue("orderPreparedBy",St)},value:($e=L.values.orderPreparedBy)==null?void 0:$e.user_id,children:[d.jsx(Ct,{children:d.jsx(wt,{placeholder:"Select an option"})}),d.jsx(yt,{children:p==null?void 0:p.data.map(Ne=>d.jsx(er,{value:Ne.user_id,children:Ne.firstName},Ne.user_id))})]}),L.touched.orderPreparedBy&&((ze=L.errors.orderPreparedBy)==null?void 0:ze.firstName)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(et=L.errors.orderPreparedBy)==null?void 0:et.firstName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Order Verified By"}),d.jsxs(xt,{onValueChange:Ne=>{const St=p==null?void 0:p.data.find(Ht=>Ht.user_id==Ne);L.setFieldValue("orderVerifiedBy",St)},value:((tt=L.values.orderVerifiedBy)==null?void 0:tt.user_id)||"",children:[d.jsx(Ct,{children:d.jsx(wt,{placeholder:"Select an option"})}),d.jsx(yt,{children:p==null?void 0:p.data.map(Ne=>d.jsx(er,{value:Ne.user_id,children:Ne.firstName},Ne.user_id))})]}),L.touched.orderVerifiedBy&&((mt=L.errors.orderVerifiedBy)==null?void 0:mt.firstName)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(Lt=L.errors.orderVerifiedBy)==null?void 0:Lt.firstName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Sales Person"}),d.jsxs(xt,{onValueChange:Ne=>{const St=p==null?void 0:p.data.find(Ht=>Ht.user_id==Ne);L.setFieldValue("salesPerson",St)},value:(qr=L.values.salesPerson)==null?void 0:qr.user_id,children:[d.jsx(Ct,{children:d.jsx(wt,{placeholder:"Select an option"})}),d.jsx(yt,{children:p==null?void 0:p.data.map(Ne=>d.jsx(er,{value:Ne.user_id,children:Ne.firstName},Ne.user_id))})]}),L.touched.salesPerson&&((Oe=L.errors.salesPerson)==null?void 0:Oe.firstName)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(vt=L.errors.salesPerson)==null?void 0:vt.firstName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Project Engineer"}),d.jsxs(xt,{onValueChange:Ne=>{const St=p==null?void 0:p.data.find(Ht=>Ht.user_id==Ne);L.setFieldValue("projectEngineer",St)},value:(fr=L.values.projectEngineer)==null?void 0:fr.user_id,children:[d.jsx(Ct,{children:d.jsx(wt,{placeholder:"Select an option"})}),d.jsx(yt,{children:p==null?void 0:p.data.map(Ne=>d.jsx(er,{value:Ne.user_id,children:Ne.firstName},Ne.user_id))})]}),L.touched.projectEngineer&&((bn=L.errors.projectEngineer)==null?void 0:bn.firstName)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(As=L.errors.projectEngineer)==null?void 0:As.firstName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Project Type"}),d.jsxs(xt,{onValueChange:Ne=>{L.setFieldValue("projectType",Ne)},value:L.values.projectType,children:[d.jsx(Ct,{children:d.jsx(wt,{placeholder:"Select an option"})}),d.jsx(yt,{children:M.map(Ne=>d.jsx(er,{value:Ne,children:Ne},Ne))})]}),L.touched.projectType&&L.errors.projectType&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:L.errors.projectType})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Warranty Period"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1",name:"warrantyPeriod",value:L.values.warrantyPeriod,onChange:L.handleChange,onBlur:L.handleBlur}),L.touched.warrantyPeriod&&L.errors.warrantyPeriod&&d.jsx("p",{className:"text-red-500 text-sm",children:L.errors.warrantyPeriod})]})]}),d.jsx("div",{className:"grid grid-cols-3 gap-4 ",children:d.jsxs("div",{className:"col-span-3 mb-6",children:[d.jsx(ce,{children:"Terms and Conditions"}),d.jsx("textarea",{className:"mt-1 w-full border border-gray-300 rounded-md p-2",rows:2,name:"termsAndCondition",value:L.values.termsAndCondition,onChange:L.handleChange,onBlur:L.handleBlur}),L.touched.termsAndCondition&&L.errors.termsAndCondition&&d.jsx("p",{className:"text-red-500 text-sm",children:L.errors.termsAndCondition})]})}),d.jsx("div",{children:d.jsxs("div",{className:" border-none outline-none w-40",children:[d.jsx(ce,{children:"Product Type"}),d.jsxs(xt,{onValueChange:Ne=>L.setFieldValue("productType",Ne),value:L.values.productType,children:[d.jsx(Ct,{children:d.jsx(wt,{placeholder:"Select ProductType"})}),d.jsx(yt,{children:b.map(Ne=>d.jsx(er,{value:Ne,children:Ne},Ne))})]}),L.touched.productType&&L.errors.productType&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:L.errors.productType})]})}),d.jsx(D1e,{salesProductQuantities:e?s:null,products:C==null?void 0:C.data,onRowsChange:J}),d.jsxs("div",{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Upload Files"}),d.jsx("input",{type:"file",className:"flex-1 p-2 text-xs border-none outline-none",onChange:We,disabled:Q})]}),Q&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{children:"Uploading..."}),d.jsx("progress",{value:Me,max:"100",className:"w-full"})]}),d.jsx(_t,{onClick:Ye,disabled:Q,className:"h-[35px] text-sm px-10 py-2 rounded-md",children:Q?"Uploading...":"Upload"})]}),d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h2",{className:"text-lg font-bold",children:"File Details"})}),d.jsx("div",{className:"overflow-x-auto ",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200   mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100  dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2",children:"File Name"}),d.jsx("th",{className:"border px-4 py-2",children:"Doctype"}),d.jsx("th",{className:"border px-4 py-2",children:"Actions"})]})}),d.jsx("tbody",{children:pe.map((Ne,St)=>{var Ht;return d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:St+1}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("a",{href:Ne.location,target:"_blank",rel:"noopener noreferrer",className:"text-green-500 hover:underline",onClick:fn=>gt(fn,Ne.location),children:Ne.location})}),d.jsx("td",{className:"border px-4 py-2",children:(Ht=Ne.docType)==null?void 0:Ht.docType}),d.jsx("td",{className:"border px-2 py-2 text-center",children:d.jsx("button",{type:"button",className:"text-red-500",onClick:()=>ne(Ne.id),children:"Remove"})})]},Ne.id)})})]})}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 mb-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium ",children:"Total Amount"}),d.jsx("input",{type:"text",value:N,readOnly:!0,className:"w-full border rounded-md px-2 py-1 bg-gray-100  dark:bg-black mt-2"})]}),d.jsxs("div",{children:[d.jsx(ce,{className:"block font-medium mt-2",children:"Total GST"}),d.jsx(Re,{type:"text",value:j,readOnly:!0,className:"w-full border rounded-md px-2 py-1 bg-gray-100 dark:bg-black mt-2"})]}),d.jsxs("div",{children:[d.jsx(ce,{className:"block font-medium",children:"Net Total Amount"}),d.jsx(Re,{type:"text",value:B,readOnly:!0,className:"w-full border rounded-md px-2 py-1 bg-gray-100 dark:bg-black mt-2"})]})]}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx(_t,{type:"button",className:"bg-gray-300 hover:bg-gray-400 text-gray-600 px-4 py-2 rounded-md",onClick:Z,children:"Cancel"}),d.jsx(_t,{type:"submit",children:e?"Update Sales Order":"Create Sales Order"})]})]})]})})},MFe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});m.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(vh,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(Re,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(Re,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(Re,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(Re,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(Re,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(Re,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(Re,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(Re,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(Re,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(Re,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(Re,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},NFe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=TC(),h=TG(),p=FG(r),g=PFe(r),C=(o==null?void 0:o.data)||[];console.log(C);const w=_n(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:P=>P.node.rowIndex+1},{field:"productCode",headerName:"Product Code"},{field:"brandName.brandName",headerName:"Brand Name"},{field:"productName",headerName:"Product Name"},{field:"modelNo",headerName:"Model No"},{field:"itemCategory.categoryName",headerName:"Product Category"},{field:"itemType.typeName",headerName:"Product Type"},{field:"mrp",headerName:"MRP"},{field:"starRating.starRating",headerName:"Star Rating"},{field:"refGasType.gasTypeName",headerName:"Gas Type Name"},{field:"tonCapacity.tonCapacityName",headerName:"Ton Capacity"},{field:"salesUnitMeasurement.uom",headerName:"Sales Unit Measurement"},{field:"purchaseUnitMeasurement.uom",headerName:"Purchase Unit Measurement"},{field:"baseUnitMeasurement.uom",headerName:"Base Unit Measurement"},{field:"itemStatus.statusName",headerName:"Item Status"},{field:"reoderLevel",headerName:"ReoderLevel"},{field:"reoderLevel",headerName:"ReoderLevel"},{field:"minQuantity",headerName:"Min Quantity"},{field:"maxQuantity",headerName:"Max Quantity"},{field:"sizes",headerName:"Sizes"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:P=>P.value?"Active":"Inactive"}],S=()=>{i(""),n(null),w("/app/product-list/productform")},E=()=>{t(!1)},b=P=>{r?p.mutate(P,{onSuccess:()=>{u()}}):h.mutate(P,{onSuccess:()=>{u()}}),t(!1)},T=P=>{n(P.id),console.log("action",P.id),i(P),w(`/app/product-list/productform?id=${P.id}`)},R=P=>{n(P.id),g.mutate(P.id,{onSuccess:()=>{u()}})};return d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:y,isLoading:a,onAddClick:S,onEditClick:T,onDeleteClick:R})]}),d.jsx(Or,{isOpen:e,onClose:E,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"service-form",width:"100%",height:"100%",children:d.jsx(MFe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},wT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},ST=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},PG=()=>Fr({queryKey:["useGetBrandNames"],queryFn:()=>_e("/api/brand-name/v1/getAll")}),IFe=()=>Ze({mutationFn:e=>_e("/api/brand-name/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:wT,onError:ST}),OFe=e=>{const t=Pt();return console.log(S0),Ze({mutationFn:r=>_e(`/api/brand-name/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{wT(r),t.invalidateQueries({queryKey:["useGetBrandNames"]})},onError:ST})},LFe=e=>{const t=Pt();return console.log(e),Ze({mutationFn:()=>_e(`/api/brand-name/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetBrandNames"]}),wT(r.message)},onError:ST})},xT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},ET=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},AG=()=>Fr({queryKey:["useGetItemCategories"],queryFn:()=>_e("/api/item-category/v1/getAll")}),kFe=()=>Ze({mutationFn:e=>_e("/api/item-category/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:xT,onError:ET}),_Fe=e=>{const t=Pt();return console.log(S0),Ze({mutationFn:r=>_e(`/api/item-category/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{xT(r),t.invalidateQueries({queryKey:["useGetItemCategories"]})},onError:ET})},jFe=e=>{const t=Pt();return console.log(e),Ze({mutationFn:()=>_e(`/api/item-category/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetItemCategories"]}),xT(r.message)},onError:ET})},bT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},RT=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},DG=()=>Fr({queryKey:["useGetItemType"],queryFn:()=>_e("/api/item-type/v1/getAll")}),BFe=()=>Ze({mutationFn:e=>_e("/api/item-type/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:bT,onError:RT}),GFe=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/item-type/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{bT(r),t.invalidateQueries({queryKey:["useGetItemType"]})},onError:RT})},HFe=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/item-type/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetItemType"]}),bT(r.message)},onError:RT})},TT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},FT=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},MG=()=>Fr({queryKey:["useGetServices"],queryFn:()=>_e("/api/star-rating/v1/getAll")}),VFe=()=>Ze({mutationFn:e=>_e("/api/star-rating/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:TT,onError:FT}),WFe=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/star-rating/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{TT(r),t.invalidateQueries({queryKey:["useGetStarRatings"]})},onError:FT})},$Fe=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/star-rating/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetStarRatings"]}),TT(r.message)},onError:FT})},PT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},AT=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},NG=()=>Fr({queryKey:["useGetRefGasType"],queryFn:()=>_e("/api/ref-gasType/v1/getAll")}),UFe=()=>Ze({mutationFn:e=>_e("/api/ref-gasType/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:PT,onError:AT}),zFe=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/ref-gasType/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{PT(r),t.invalidateQueries({queryKey:["useGetRefGasType"]})},onError:AT})},KFe=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/ref-gasType/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetRefGasType"]}),PT(r.message)},onError:AT})},DT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},MT=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},IG=()=>Fr({queryKey:["useGetTonCapacitys"],queryFn:()=>_e("/api/ton-capacity/v1/getAll")}),qFe=()=>Ze({mutationFn:e=>_e("/api/ton-capacity/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:DT,onError:MT}),YFe=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/ton-capacity/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{DT(r),t.invalidateQueries({queryKey:["useGetTonCapacitys"]})},onError:MT})},XFe=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/ton-capacity/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetTonCapacitys"]}),DT(r.message)},onError:MT})},NT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},IT=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},OG=()=>Fr({queryKey:["useGetItemStatus"],queryFn:()=>_e("/api/item-status/v1/getAll")}),QFe=()=>Ze({mutationFn:e=>_e("/api/item-status/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:NT,onError:IT}),JFe=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/item-status/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{NT(r),t.invalidateQueries({queryKey:["useGetItemStatus"]})},onError:IT})},ZFe=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/item-status/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetItemStatus"]}),NT(r.message)},onError:IT})},OT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},LT=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},kT=()=>Fr({queryKey:["useGetUnitMeasurements"],queryFn:()=>_e("/api/unit-measurement/v1/getAll")}),ePe=()=>Ze({mutationFn:e=>_e("/api/unit-measurement/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:OT,onError:LT}),tPe=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/unit-measurement/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{OT(r),t.invalidateQueries({queryKey:["useGetUnitMeasurements"]})},onError:LT})},rPe=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/unit-measurement/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetUnitMeasurements"]}),OT(r.message)},onError:LT})},nPe=()=>{var Z,ne,de,z,I,L,H,G,J,ie,fe,Q,re,Me,Fe,We,Ye,ut,gt,Ve;const e=_n(),{data:t,refetch:r}=TC(),n=Fs(),s=new URLSearchParams(n.search);let[i,o]=m.useState(null);const a=m.useRef(!1);m.useEffect(()=>{let le=s.get("id");if(o(le),le&&t&&!a.current){const Be=t==null?void 0:t.data.find(lt=>(console.log("Item ID:",lt.id),lt.id.toString()===le));Be&&(u(Be),a.current=!0),console.log(Be)}},[t,s]);const[l,u]=m.useState({productCode:"",modelNo:"",productName:"",sizes:"",brandName:{id:"",brandName:""},itemCategory:{id:"",categoryName:""},itemType:{id:"",typeName:""},starRating:{id:"",starRating:""},refGasType:{id:"",gasTypeName:""},tonCapacity:{id:"",tonCapacityName:""},isGSTApllicable:!1,salesUnitMeasurement:{id:"",uom:""},purchaseUnitMeasurement:{id:"",uom:""},baseUnitMeasurement:{id:"",uom:""},itemStatus:{id:"",statusName:""},reoderLevel:"",minQuantity:0,maxQuantity:0,purchasePrice:0,salesPrice:0,hsnCode:"",yearOfIntroduction:"",nameInvoice:"",isStockable:!1,isKit:!1,isActive:!1,mrp:0,sgst:"",igst:"",cgst:"",productType:""}),h=le=>{console.log("clicked",le.target.value);const{name:Be,value:lt}=le.target,Mt=le.target.value;console.log(Mt),u(ue=>({...ue,[Be]:lt}))},p=le=>{const{id:Be,checked:lt}=le.target;u(Mt=>({...Mt,[Be]:lt}))},{data:g,isError:C}=AG(),{data:w,isError:y}=PG(),{data:S,isError:E}=DG(),{data:b,isError:T}=OG(),{data:R,isError:P}=MG(),{data:M,isError:D}=NG(),{data:N,isError:O}=IG(),{data:j,isError:W}=kT(),B=Object.values(nT),oe=TG(),pe=FG(i),Se=()=>{var ue,$e;console.log("IN SUBMIT");const le=["productCode","modelNo","productName","sizes","reoderLevel","hsnCode","yearOfIntroduction","nameInvoice","productType"],Be=["minQuantity","maxQuantity","purchasePrice","salesPrice","mrp"],lt=["sgst","igst","cgst"],Mt=["brandName","itemCategory","itemType","starRating","refGasType","tonCapacity","salesUnitMeasurement","purchaseUnitMeasurement","baseUnitMeasurement","itemStatus"];for(const ze of le)if(!((ue=l[ze])!=null&&ue.toString().trim())){rt.error(`${ze.replace(/([A-Z])/g," $1")} is required.`);return}for(const ze of Mt){const et=l[ze];if(!(et!=null&&et.id)){rt.error(`${ze.replace(/([A-Z])/g," $1")} selection is required.`);return}}for(const ze of Be)if(l[ze]<=0){rt.error(`${ze.replace(/([A-Z])/g," $1")} must be greater than 0.`);return}for(const ze of lt)if(!(($e=l[ze])!=null&&$e.toString().trim())){rt.error(`${ze.replace(/([A-Z])/g," $1")} is required.`);return}i?(pe.mutate(l,{onSuccess:()=>{rt.success("Product updated successfully!"),r(),e("/app/product-list")}}),i=null):oe.mutate(l,{onSuccess:()=>{rt.success("Product added successfully!"),r(),e("/app/product-list")}})},we=(le,Be,lt)=>{const Mt=lt.find(ue=>String(ue.id)===Be);u(ue=>({...ue,[le]:Mt||null})),console.log(Be,Mt)},se=()=>{e("/app/product-list")};return d.jsx("div",{className:"p-6 bg-gray-100 dark:bg-gray-900  min-h-screen",children:d.jsxs("div",{className:"max-w-5xl dark:bg-gray-700  mx-auto bg-white p-6 shadow-md rounded-md",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Product Code"}),d.jsx(Re,{required:!0,type:"text",name:"productCode",value:l==null?void 0:l.productCode,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Model No"}),d.jsx(Re,{required:!0,type:"text",name:"modelNo",value:l==null?void 0:l.modelNo,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Product Name"}),d.jsx(Re,{required:!0,type:"text",name:"productName",value:l==null?void 0:l.productName,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Brand Name"}),d.jsxs(xt,{required:!0,onValueChange:le=>we("brandName",le,w==null?void 0:w.data),value:((Z=l==null?void 0:l.brandName)==null?void 0:Z.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Customer Type",children:((ne=l.brandName)==null?void 0:ne.brandName)||"Select Brand name"})}),d.jsx(yt,{children:!y&&(w==null?void 0:w.data.map(le=>d.jsx(er,{value:String(le.id),children:le.brandName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Sizes"}),d.jsx(Re,{required:!0,type:"number",name:"sizes",value:l==null?void 0:l.sizes,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Item Category"}),d.jsxs(xt,{required:!0,onValueChange:le=>we("itemCategory",le,g==null?void 0:g.data),value:((de=l==null?void 0:l.itemCategory)==null?void 0:de.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Item Category",children:((z=l.itemCategory)==null?void 0:z.categoryName)||"Select Item Category"})}),d.jsx(yt,{children:!C&&(g==null?void 0:g.data.map(le=>d.jsx(er,{value:String(le.id),children:le.categoryName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Product Types"}),d.jsxs(xt,{required:!0,onValueChange:le=>u(Be=>({...Be,productType:le})),value:l.productType,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Product Type",children:(l==null?void 0:l.productType)||"Select Product Type"})}),d.jsx(yt,{children:B.map(le=>d.jsx(er,{value:le,children:le},le))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Item Types"}),d.jsxs(xt,{required:!0,onValueChange:le=>we("itemType",le,S==null?void 0:S.data),value:((I=l==null?void 0:l.itemType)==null?void 0:I.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Item Type",children:((L=l.itemType)==null?void 0:L.typeName)||"Select Item Type"})}),d.jsx(yt,{children:!E&&(S==null?void 0:S.data.map(le=>d.jsx(er,{value:String(le.id),children:le.typeName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Star Ratings"}),d.jsxs(xt,{required:!0,onValueChange:le=>we("starRating",le,R==null?void 0:R.data),value:((H=l==null?void 0:l.starRating)==null?void 0:H.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Star Rating",children:((G=l.starRating)==null?void 0:G.starRating)||"Select Star Rating"})}),d.jsx(yt,{children:!P&&(R==null?void 0:R.data.map(le=>d.jsx(er,{value:String(le.id),children:le.starRating},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Ref. Gas Type"}),d.jsxs(xt,{required:!0,onValueChange:le=>we("refGasType",le,M==null?void 0:M.data),value:((J=l==null?void 0:l.refGasType)==null?void 0:J.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select refGasType",children:((ie=l.refGasType)==null?void 0:ie.gasTypeName)||"Select refGasType"})}),d.jsx(yt,{children:!D&&(M==null?void 0:M.data.map(le=>d.jsx(er,{value:String(le.id),children:le.gasTypeName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Ton Capacity"}),d.jsxs(xt,{required:!0,onValueChange:le=>we("tonCapacity",le,N==null?void 0:N.data),value:((fe=l==null?void 0:l.tonCapacity)==null?void 0:fe.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select tonCapacity",children:((Q=l.tonCapacity)==null?void 0:Q.tonCapacityName)||"Select tonCapacity"})}),d.jsx(yt,{children:!O&&(N==null?void 0:N.data.map(le=>d.jsx(er,{value:String(le.id),children:le.tonCapacityName},le.id)))})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"isGSTApllicable",className:"mr-2",checked:l.isGSTApllicable,onChange:p}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is GST Applicable"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium",children:"IGST"}),d.jsx(Re,{type:"text",name:"igst",value:l==null?void 0:l.igst,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium",children:"CGST"}),d.jsx(Re,{type:"text",name:"cgst",value:l==null?void 0:l.cgst,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium",children:"SGST"}),d.jsx(Re,{type:"text",name:"sgst",value:l==null?void 0:l.sgst,onChange:h,className:"mt-1 w-full"})]})]}),d.jsx("hr",{}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Purchase UoM"}),d.jsxs(xt,{onValueChange:le=>we("purchaseUnitMeasurement",le,j==null?void 0:j.data),value:((re=l==null?void 0:l.purchaseUnitMeasurement)==null?void 0:re.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Sales Unit Measurement",children:((Me=l.purchaseUnitMeasurement)==null?void 0:Me.uom)||"Select Sales Unit Measurement"})}),d.jsx(yt,{children:!W&&(j==null?void 0:j.data.map(le=>d.jsx(er,{value:String(le.id),children:le.uom},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Sales UoM"}),d.jsxs(xt,{onValueChange:le=>we("salesUnitMeasurement",le,j==null?void 0:j.data),value:((Fe=l==null?void 0:l.salesUnitMeasurement)==null?void 0:Fe.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Purchase Unit Measurement",children:((We=l.salesUnitMeasurement)==null?void 0:We.uom)||"Select Purchase Unit Measurement"})}),d.jsx(yt,{children:!W&&(j==null?void 0:j.data.map(le=>d.jsx(er,{value:String(le.id),children:le.uom},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Base UoM"}),d.jsxs(xt,{onValueChange:le=>we("baseUnitMeasurement",le,j==null?void 0:j.data),value:((Ye=l==null?void 0:l.baseUnitMeasurement)==null?void 0:Ye.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Base Unit Measurement",children:((ut=l.baseUnitMeasurement)==null?void 0:ut.uom)||"Select Base Unit Measurement"})}),d.jsx(yt,{children:!W&&(j==null?void 0:j.data.map(le=>d.jsx(er,{value:String(le.id),children:le.uom},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Reorder Level"}),d.jsx(Re,{required:!0,type:"text",name:"reoderLevel",value:l==null?void 0:l.reoderLevel,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Min Quantity"}),d.jsx(Re,{required:!0,type:"number",min:0,name:"minQuantity",value:l==null?void 0:l.minQuantity,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Max Quantity"}),d.jsx(Re,{required:!0,min:0,type:"number",name:"maxQuantity",value:l==null?void 0:l.maxQuantity,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Purchase Price"}),d.jsx(Re,{type:"number",min:0,required:!0,name:"purchasePrice",value:l==null?void 0:l.purchasePrice,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"MRP"}),d.jsx(Re,{type:"number",min:0,required:!0,name:"mrp",value:l==null?void 0:l.mrp,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Sales Price"}),d.jsx(Re,{type:"number",name:"salesPrice",min:0,required:!0,value:l==null?void 0:l.salesPrice,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"HSN Code"}),d.jsx(Re,{required:!0,type:"text",name:"hsnCode",value:l==null?void 0:l.hsnCode,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Year Of Introduction"}),d.jsx(Re,{type:"text",required:!0,name:"yearOfIntroduction",value:l==null?void 0:l.yearOfIntroduction,onChange:h,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Item Status"}),d.jsxs(xt,{onValueChange:le=>we("itemStatus",le,b==null?void 0:b.data),value:((gt=l==null?void 0:l.itemStatus)==null?void 0:gt.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Select Item Status",children:((Ve=l.itemStatus)==null?void 0:Ve.statusName)||"Select Item Status"})}),d.jsx(yt,{children:!T&&(b==null?void 0:b.data.map(le=>d.jsx(er,{value:String(le.id),children:le.statusName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Name Of Invoice"}),d.jsx(Re,{type:"text",name:"nameInvoice",value:l==null?void 0:l.nameInvoice,onChange:h,className:"mt-1 w-full",required:!0})]})]}),d.jsx("hr",{}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"isStockable",className:"mr-2",checked:l.isStockable,onChange:p}),d.jsx("label",{htmlFor:"isStockable",className:"text-sm font-medium",children:"Is Stockable"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"isKit",className:"mr-2",checked:l.isKit,onChange:p}),d.jsx("label",{htmlFor:"isKit",className:"text-sm font-medium",children:"Is Kit"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"isActive",className:"mr-2",checked:l.isActive,onChange:p}),d.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium",children:"Is Active"})]}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx(_t,{type:"button",onClick:Se,children:i?"Update Product":"Create Product"}),d.jsx(_t,{className:"bg-gray-300 hover:bg-gray-500 px-4 py-2 rounded-md",onClick:se,children:"Cancel"})]})]})})},sPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({customerType:r.customerType||"",isActive:r.isActive||!1});m.useEffect(()=>{s({customerType:r.customerType||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({customerType:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Type"}),d.jsx(Re,{required:!0,value:n.customerType,placeholder:"Enter Customer Type",onChange:o=>s({...n,customerType:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},iPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=_5(),h=Oye(),p=Lye(r),g=kye(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"customerType",headerName:"Customer Type"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},S=()=>{a||t(!1)},E=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):h.mutate(R,{onSuccess:()=>{u()}}),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Customer Type":"Create Customer Type",dialogDescription:r?"Edit Customer Type here...":"Create Customer Type here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(sPe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},oPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({code:r.code||"",sourceReference:r.ssourceReference||"",isActive:r.isActive||!1});m.useEffect(()=>{s({code:r.code||"",sourceReference:r.sourceReference||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({code:"",sourceReference:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(Re,{required:!0,value:n.code,placeholder:"Enter Code",onChange:o=>s({...n,code:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsx(Re,{required:!0,value:n.sourceReference,placeholder:"Enter Source of Reference",onChange:o=>s({...n,sourceReference:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},aPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=PR(),h=Mye(),p=Nye(r),g=Iye(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"code",headerName:"Code"},{field:"sourceReference",headerName:"Source Of Reference"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},S=()=>{t(!1)},E=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):h.mutate(R,{onSuccess:()=>{u()}}),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit SourceOfReference":"Create SourceOfReference",dialogDescription:r?"Edit SourceOfReference here...":"Create SourceOfReference here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(oPe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},lPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{var h;const[n,s]=m.useState({referenceDetail:r.referenceDetail||"",sourceReference:r.sourceReference||null,isActive:r.isActive||!1}),{data:i,isError:o,isLoading:a}=PR(),l=(i==null?void 0:i.data)||[];console.log(l),m.useEffect(()=>{s({referenceDetail:r.referenceDetail||"",sourceReference:r.sourceReference||null,isActive:r.isActive||!1})},[r]);const u=p=>{p.preventDefault(),console.log("Form Data Submitted:",n),e(n),s({referenceDetail:"",sourceReference:null,isActive:!1})};return d.jsx("form",{id:t,onSubmit:u,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsx(Re,{required:!0,value:n.referenceDetail,placeholder:"Enter Reference Detail",onChange:p=>s({...n,referenceDetail:p.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs("select",{required:!0,className:"mt-1 w-full border border-gray-300 rounded-md p-2",value:((h=n.sourceReference)==null?void 0:h.id)||"",onChange:p=>{const g=l==null?void 0:l.find(C=>String(C.id)===p.target.value);s({...n,sourceReference:g||null})},disabled:a||o,children:[d.jsx("option",{value:"",children:"-- Select Source of Reference --"}),l==null?void 0:l.map(p=>d.jsx("option",{value:p.id,children:p.sourceReference},p.id))]}),o&&d.jsx("p",{className:"text-red-500",children:"Failed to load options"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:p=>s({...n,isActive:p.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},cPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=B5(),h=Gye(),p=Hye(r),g=Vye(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"referenceDetail",headerName:"Reference Detail"},{field:"sourceReference.sourceReference",headerName:"Source Of Reference"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},S=()=>{t(!1)},E=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):h.mutate(R,{onSuccess:()=>{u()}}),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Reference Detail":"Create Reference Detail",dialogDescription:r?"Edit Reference Detail here...":"Create Reference Detail here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(lPe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},uPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({customerStatus:r.customerStatus||"",isActive:r.isActive||!1});m.useEffect(()=>{s({customerStatus:r.customerStatus||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({customerStatus:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Status"}),d.jsx(Re,{required:!0,value:n.customerStatus,placeholder:"Enter Customer Status",onChange:o=>s({...n,customerStatus:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},dPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=j5(),h=_ye(),p=jye(r),g=Bye(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"customerStatus",headerName:"Customer Status"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},S=()=>{t(!1)},E=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):h.mutate(R,{onSuccess:()=>{u()}}),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Customer Status":"Create Customer Status",dialogDescription:r?"Edit Customer Status here...":"Create Customer Status here...",formId:"form",width:"max-w-4xl",height:"h-auto",children:d.jsx(uPe,{onSubmit:E,formId:"form",defaultValues:s})})]})},hPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({code:r.code||"",designation:r.designation||"",isActive:r.isActive||!1});m.useEffect(()=>{s({code:r.code||"",designation:r.designation||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({code:"",designation:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(Re,{required:!0,value:n.code,placeholder:"Enter Code",onChange:o=>s({...n,code:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Designation"}),d.jsx(Re,{required:!0,value:n.designation,placeholder:"Enter Designation",onChange:o=>s({...n,designation:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},fPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=G5(),h=Wye(),p=$ye(r),g=Uye(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"code",headerName:"Code"},{field:"designation",headerName:"Designation"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},S=()=>{t(!1)},E=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):h.mutate(R,{onSuccess:()=>{u()}}),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Designation":"Create Designation",dialogDescription:r?"Edit Designation here...":"Create Designation here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(hPe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},pPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({code:r.code||"",categoryName:r.categoryName||"",isActive:r.isActive||!1});m.useEffect(()=>{s({code:r.code||"",categoryName:r.categoryName||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({code:"",categoryName:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(Re,{required:!0,value:n.code,placeholder:"Enter Code",onChange:o=>s({...n,code:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Category Name"}),d.jsx(Re,{required:!0,value:n.categoryName,placeholder:"Enter Category Name",onChange:o=>s({...n,categoryName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},gPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(0),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=AG(),h=kFe(),p=_Fe(r),g=jFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"code",headerName:"Code"},{field:"categoryName",headerName:"Category Name"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(0),t(!0)},S=()=>{t(!1)},E=R=>{console.log(r),r?(console.log("true"),p.mutate(R,{onSuccess:()=>{u()}})):(console.log("false"),console.log(R),h.mutate(R,{onSuccess:()=>{u()}})),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Item Category":"Create Item Category",dialogDescription:r?"Edit Item Category here...":"Create Item Category here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(pPe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},mPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({typeCode:r.typeCode||"",typeName:r.typeName||"",isActive:r.isActive||!1});m.useEffect(()=>{s({typeCode:r.typeCode||"",typeName:r.typeName||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({typeCode:"",typeName:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(Re,{required:!0,value:n.typeCode,placeholder:"Enter Code",onChange:o=>s({...n,typeCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Item Type"}),d.jsx(Re,{required:!0,value:n.typeName,placeholder:"Enter Item Type",onChange:o=>s({...n,typeName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},vPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=DG(),h=BFe(),p=GFe(r),g=HFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"typeCode",headerName:"Item Code"},{field:"typeName",headerName:"Item Type"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},S=()=>{t(!1)},E=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):h.mutate(R,{onSuccess:()=>{u()}}),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Item Type":"Create Item Type",dialogDescription:r?"Edit Item Type here...":"Create Item Type here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(mPe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},CPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({statusCode:r.statusCode||"",statusName:r.statusName||"",isActive:r.isActive||!1});m.useEffect(()=>{s({statusCode:r.statusCode||"",statusName:r.statusName||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({statusCode:"",statusName:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(Re,{required:!0,value:n.statusCode,placeholder:"Enter Code",onChange:o=>s({...n,statusCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Item Status"}),d.jsx(Re,{required:!0,value:n.statusName,placeholder:"Enter Item Status",onChange:o=>s({...n,statusName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},yPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=OG(),h=QFe(),p=JFe(r),g=ZFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"statusCode",headerName:"Code"},{field:"statusName",headerName:"Status Name"},{field:"isActive",headerName:"Active Status",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},S=()=>{t(!1)},E=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):h.mutate(R,{onSuccess:()=>{u()}}),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Item Status":"Create Item Status",dialogDescription:r?"Edit Item Status here...":"Create Item Status here...",formId:"service-form",width:"70%",height:"100%",children:d.jsx(CPe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},wPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({typeCode:r.typeCode||"",starRating:r.starRating||"",isActive:r.isActive||!1});m.useEffect(()=>{s({typeCode:r.typeCode||"",starRating:r.starRating||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({typeCode:"",starRating:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(Re,{required:!0,value:n.typeCode,placeholder:"Enter Code",onChange:o=>s({...n,typeCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Star Rating"}),d.jsx(Re,{value:n.starRating,placeholder:"Enter Star Rating",required:!0,onChange:o=>s({...n,starRating:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},SPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=MG(),h=VFe(),p=WFe(r),g=$Fe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"typeCode",headerName:"Type Code"},{field:"starRating",headerName:"Star Rating"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},S=()=>{t(!1)},E=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):h.mutate(R,{onSuccess:()=>{u()}}),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Star Rating":"Create Star Rating",dialogDescription:r?"Edit Star Rating here...":"Create Star Rating here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(wPe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},xPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({typeCode:r.typeCode||"",gasTypeName:r.gasTypeName||"",isActive:r.status||!1});m.useEffect(()=>{s({typeCode:r.typeCode||"",gasTypeName:r.gasTypeName||"",isActive:r.status||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({typeCode:"",gasTypeName:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(Re,{required:!0,value:n.typeCode,placeholder:"Enter Code",onChange:o=>s({...n,typeCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Ref Gas Type"}),d.jsx(Re,{required:!0,value:n.gasTypeName,placeholder:"Enter Ref Gas Type",onChange:o=>s({...n,gasTypeName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},EPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=NG(),h=UFe(),p=zFe(r),g=KFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"typeCode",headerName:"Type Code"},{field:"gasTypeName",headerName:"Gas Type Name"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},S=()=>{t(!1)},E=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):h.mutate(R,{onSuccess:()=>{u()}}),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Ref Gas Type":"Create Ref Gas Type",dialogDescription:r?"Edit Ref Gas Type here...":"Create Ref Gas Type here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(xPe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},bPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({tonCode:r.tonCode||"",tonCapacityName:r.tonCapacityName||"",isActive:r.status||!1});m.useEffect(()=>{s({tonCode:r.tonCode||"",tonCapacityName:r.tonCapacityName||"",isActive:r.status||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({tonCode:"",tonCapacityName:"",isActive:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(Re,{required:!0,value:n.tonCode,placeholder:"Enter Code",onChange:o=>s({...n,tonCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Ton Capacity"}),d.jsx(Re,{required:!0,value:n.tonCapacityName,placeholder:"Enter Ton Capacity",onChange:o=>s({...n,tonCapacityName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},RPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=IG(),h=qFe(),p=YFe(r),g=XFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"tonCode",headerName:"Ton Code"},{field:"tonCapacityName",headerName:"Ton Capacity Name"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},S=()=>{t(!1)},E=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):h.mutate(R,{onSuccess:()=>{u()}}),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Ton Capacity":"Create Ton Capacity",dialogDescription:r?"Edit Ton Capacity here...":"Create Ton Capacity here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(bPe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},TPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({symbol:r.symbol||"",uom:r.uom||"",isActive:r.status||!1});m.useEffect(()=>{s({symbol:r.symbol||"",uom:r.uom||"",isActive:r.status||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({symbol:"",uom:"",isActive:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Symbol"}),d.jsx(Re,{required:!0,value:n.symbol,placeholder:"Enter Symbol",onChange:o=>s({...n,symbol:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Unit Of Measurements"}),d.jsx(Re,{required:!0,value:n.uom,placeholder:"Enter Unit Of Measurements",onChange:o=>s({...n,uom:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,onChange:o=>s({...n,isActive:o.target.value})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},FPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=kT(),h=ePe(),p=tPe(r),g=rPe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"symbol",headerName:"Symbol"},{field:"uom",headerName:"UoM Name"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},S=()=>{t(!1)},E=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):h.mutate(R,{onSuccess:()=>{u()}}),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit UoM":"Create UoM",dialogDescription:r?"Edit UoM here...":"Create UoM here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(TPe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},PPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({firstName:r.firstName||"",lastName:r.lastName||"",gender:r.gender||"",contactNo:r.contactNo||"",emailId:r.emailId||"",password:r.password||"",userName:r.userName||""});m.useEffect(()=>{s({firstName:r.firstName||"",lastName:r.lastName||"",gender:r.gender||"",contactNo:r.contactNo||"",emailId:r.emailId||"",password:r.password||"",userName:r.userName||""})},[r]);const i=o=>{o.preventDefault(),e(n),s({firstName:"",lastName:"",gender:"",contactNo:"",emailId:"",password:"",userName:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"first Name"}),d.jsx(Re,{required:!0,value:n.firstName,placeholder:"Enter first Name",onChange:o=>s({...n,firstName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"last Name"}),d.jsx(Re,{required:!0,value:n.lastName,placeholder:"Enter last Name",onChange:o=>s({...n,lastName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Mobile No"}),d.jsx(Re,{required:!0,value:n.contactNo,placeholder:"Enter 10 digit Mobile No",pattern:"^\\d{10}$",onChange:o=>s({...n,contactNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Email"}),d.jsx(Re,{type:"email",required:!0,value:n.emailId,placeholder:"Enter Email",onChange:o=>s({...n,emailId:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"User Name"}),d.jsx(Re,{required:!0,value:n.userName,placeholder:"Enter User Name",onChange:o=>s({...n,userName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Password"}),d.jsx(Re,{type:"password",required:!0,value:n.password,placeholder:"Enter Password",onChange:o=>s({...n,password:o.target.value})})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"radio",id:"male",name:"gender",value:"male",className:"mr-2",checked:n.gender==="male",onChange:o=>s({...n,gender:o.target.value})}),d.jsx("label",{htmlFor:"male",className:"text-sm font-medium",children:"Male"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"radio",id:"female",name:"gender",value:"female",className:"mr-2",checked:n.gender==="female",onChange:o=>s({...n,gender:o.target.value})}),d.jsx("label",{htmlFor:"female",className:"text-sm font-medium",children:"Female"})]})]})]})})})},APe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=Xp(),h=F1e(),p=P1e(r),g=A1e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"firstName",headerName:"First Name"},{field:"lastName",headerName:"Last Name"},{field:"gender",headerName:"Gender"},{field:"contactNo",headerName:"Mobile No"},{field:"emailId",headerName:"Email"}],y=()=>{i(""),n(null),t(!0)},S=()=>{t(!1)},E=R=>{console.log("formdata",R),r?p.mutate(R,{onSuccess:()=>{u(),t(!1)}}):h.mutate(R,{onSuccess:()=>{u(),t(!1)}})},b=R=>{n(R.user_id),i(R),t(!0)},T=R=>{n(R.user_id),g.mutate(R.user_id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit User":"Create User",dialogDescription:r?"Edit User here...":"Create User here...",formId:"service-form",width:"max-w-5xl",height:"h-auto",children:d.jsx(PPe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},_T=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},jT=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},BT=()=>Fr({queryKey:["useGetInstallationLocations"],queryFn:()=>_e("/api/installation-location/getAll")}),DPe=()=>Ze({mutationFn:e=>_e("/api/installation-location/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:_T,onError:jT}),MPe=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/installation-location/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{_T(r),t.invalidateQueries({queryKey:["useGetInstallationLocations"]})},onError:jT})},NPe=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/installation-location/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetInstallationLocations"]}),_T(r.message)},onError:jT})},IPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({installationLocationId:r.installationLocationId||"",locationDescription:r.LocationDescription||"",isActive:r.isActive||!1});m.useEffect(()=>{s({installationLocationId:r.installationLocationId||"",locationDescription:r.LocationDescription||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({installationLocationId:"",locationDescription:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"InstallationLocationId"}),d.jsx(Re,{value:n.installationLocationId,placeholder:"Enter Code",onChange:o=>s({...n,installationLocationId:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Location Description"}),d.jsx(Re,{value:n.locationDescription,placeholder:"Enter Category Name",onChange:o=>s({...n,locationDescription:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},OPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=BT(),h=DPe(),p=MPe(r),g=NPe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"installationLocationId",headerName:"InstallationLocationId"},{field:"locationDescription",headerName:"Location Description"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},S=()=>{t(!1)},E=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):h.mutate(R,{onSuccess:()=>{u()}}),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Installation Location":"Create Installation Location",dialogDescription:r?"Edit Installation Location here...":"Create Installation Location here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(IPe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},GT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},FC=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},LG=()=>Fr({queryKey:["useGetDeliveryChallans"],queryFn:()=>_e("/api/delivery-challan/v1/getAll")}),kG=()=>Ze({mutationFn:e=>_e("/api/delivery-challan/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:GT,onError:FC}),_G=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/delivery-challan/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{GT(r),t.invalidateQueries({queryKey:["useGetDeliveryChallans"]})},onError:FC})},LPe=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/delivery-challan/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetDeliveryChallans"]}),GT(r.message)},onError:FC})},kPe=()=>Ze({mutationFn:()=>_e("/api/delivery-challan/getNextChallanNo",{method:"GET"}),onError:FC}),_Pe=()=>{var Se,we,se,Z,ne,de,z,I,L,H,G,J,ie,fe;const[e,t]=m.useState(null);let[r,n]=m.useState(null);const[s,i]=m.useState(!1),[o,a]=m.useState([]),[l,u]=m.useState([]),{mutate:h,data:p}=lSe(e),{mutate:g,data:C}=aSe(),{mutate:w,data:y}=kPe(),S=kG(),E=_G(r),{data:b,refetch:T}=LG(),R=Fs(),P=new URLSearchParams(R.search),[M,D]=m.useState({id:"",deliveryChallanNo:"",invoiceNo:""});m.useEffect(()=>{g(),w()},[]),m.useEffect(()=>{r?N.setFieldValue("deliveryChallanNo",M.deliveryChallanNo):y!=null&&y.data&&N.setFieldValue("deliveryChallanNo",y==null?void 0:y.data)},[y]),m.useEffect(()=>{e&&(console.log("in invoice"),h())},[e]),m.useEffect(()=>{var Q;if((Q=p==null?void 0:p.data)!=null&&Q.salesProductQuantities)if(console.log("1in sales",p),!r)a(p.data.salesProductQuantities),u(p.data.salesProductQuantities);else{console.log("in sales",p);const re=o.map(Me=>{var We;const Fe=(We=p==null?void 0:p.data)==null?void 0:We.salesProductQuantities.find(Ye=>Ye.product.id===Me.product.id);return console.log(Fe,"matchin"),Fe?{...Me,dispatchedQuantity:Fe.dispatchedQuantity,quantity:Fe.quantity}:Me});a(re),u(re)}},[p]),m.useEffect(()=>{var Q,re,Me,Fe,We;o&&!r&&(N.setFieldValue("productQuantities",o),N.setFieldValue("customerPoNo",((Q=p==null?void 0:p.data)==null?void 0:Q.poNo)||""),N.setFieldValue("salesPerson",((re=p==null?void 0:p.data)==null?void 0:re.contactPerson)||""),N.setFieldValue("name",((Fe=(Me=p==null?void 0:p.data)==null?void 0:Me.customer)==null?void 0:Fe.customerName)||""),N.setFieldValue("address",((We=p==null?void 0:p.data)==null?void 0:We.deliveryAddress)||""))},[o]),m.useEffect(()=>{let Q=P.get("id");if(n(Q),Q&&b&&!s){const re=b==null?void 0:b.data.find(Me=>Me.id.toString()===Q);re&&(console.log("chlla",re),D(re),u(re==null?void 0:re.productQuantities),a(re==null?void 0:re.productQuantities),t(re==null?void 0:re.invoiceNo),N.setValues({...N.initialValues,...re}),i(!0)),console.log(re)}},[b,P]);const N=Zp({initialValues:{deliverBy:"",customerPoNo:"",name:"",address:"",jobId:"",invoiceNo:"",installationBy:"",salesPerson:"",deliveryChallanNo:"",localDateTime:"",storeInChargeId:{user_id:"",firstName:""},transporterId:{user_id:"",firstName:""},projectInChargeId:{user_id:"",firstName:""},authorizeDetailsById:{user_id:"",firstName:""},productQuantities:[{id:"",product:{id:"",productName:"",mrp:""},quantity:""}]},validationSchema:dr({deliverBy:st().required("Required"),customerPoNo:st().required("Required"),name:st().required("Required"),address:st().required("Required"),jobId:st().required("Required"),invoiceNo:st().required("Required"),installationBy:st().required("Required"),salesPerson:st().required("Required"),localDateTime:Yc().required("Date is required"),storeInChargeId:dr().shape({user_id:st().required("Store Incharge ID is required."),firstName:st().required("Store Incharge Name is required.")}).required("Store Incharge is required."),transporterId:dr().shape({user_id:st().required("Transporter is required."),firstName:st().required("Transporter Name is required.")}).required("Transporter is required."),projectInChargeId:dr().shape({user_id:st().required("ProjectIncharge is required."),firstName:st().required("ProjectIncharge Name is required.")}).required("ProjectIncharge is required."),authorizeDetailsById:dr().shape({user_id:st().required("AuthorizedPerson ID is required."),firstName:st().required("AuthorizedPerson is required.")}).required("AuthorizedPerson is required.")}),onSubmit:Q=>{r?(console.log("in update",r,Q),E.mutate(Q,{onSuccess:()=>{T(),j("/app/delivery-challan")}}),r=null):(console.log("Form submitted:",Q),S.mutate(Q,{onSuccess:()=>{T(),j("/app/delivery-challan")}}))}});m.useEffect(()=>{N.setFieldValue("productQuantities",o)},[o]),m.useEffect(()=>{},[(Se=N.values)==null?void 0:Se.invoiceNo]);const{data:O}=Xp(),j=_n(),W=()=>{j("/app/delivery-challan")},B=Q=>{console.log("Removing index:",Q);const re=o.filter((Fe,We)=>We!==Q),Me=l.filter((Fe,We)=>We!==Q);a(re),u(Me),N.setFieldValue("productQuantities",re),console.log("Updated Quantities:",re)},oe={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},pe=Q=>{Q.preventDefault(),console.log("action handle submit"),N.handleSubmit()};return d.jsx("form",{onSubmit:pe,children:d.jsx(ns.div,{className:"p-4 sm:p-6 bg-gray-100 dark:bg-gray-900 min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsxs(ns.div,{className:"max-w-5xl mx-auto bg-white dark:bg-gray-700 p-4 sm:p-6 shadow-md rounded-md",variants:oe,initial:"hidden",animate:"visible",children:[d.jsx("h1",{className:"text-xl font-bold mb-4",children:"Delivery Challan"}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 mb-6",children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Invoice No"}),d.jsxs(bR,{onValueChange:Q=>{N.setFieldValue("invoiceNo",Q),t(Q)},value:String((we=N.values)==null?void 0:we.invoiceNo),children:[d.jsx(Ct,{children:d.jsx(wt,{placeholder:"Select an option"})}),d.jsx(yt,{children:C==null?void 0:C.data.map(Q=>d.jsx(er,{value:String(Q),children:Q},Q))})]}),N.touched.invoiceNo&&N.errors.invoiceNo&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:N.errors.invoiceNo})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Challan No"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1",disabled:!0,value:N.values.deliveryChallanNo||""}),N.touched.deliveryChallanNo&&N.errors.deliveryChallanNo&&d.jsx("p",{className:"text-red-500 text-sm",children:N.errors.deliveryChallanNo})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Name"}),d.jsx(Re,{type:"text",name:"name",value:N.values.name,onChange:N.handleChange,className:"mt-1 w-full"}),N.touched.name&&N.errors.name&&d.jsx("p",{className:"text-red-500 text-sm",children:N.errors.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Sales Persons"}),d.jsx(Re,{type:"text",name:"salesPerson",value:N.values.salesPerson,onChange:N.handleChange,className:"mt-1 w-full"}),N.touched.salesPerson&&N.errors.salesPerson&&d.jsx("p",{className:"text-red-500 text-sm",children:N.errors.salesPerson})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Installed By"}),d.jsx(Re,{type:"text",name:"installationBy",value:N.values.installationBy,onChange:N.handleChange,className:"mt-1 w-full"}),N.touched.installationBy&&N.errors.installationBy&&d.jsx("p",{className:"text-red-500 text-sm",children:N.errors.installationBy})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Address"}),d.jsx("textarea",{name:"address",value:N.values.address,onChange:N.handleChange,className:"mt-1 w-full p-2 border rounded-md",rows:1}),N.touched.address&&N.errors.address&&d.jsx("p",{className:"text-red-500 text-sm",children:N.errors.address})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Deliver By"}),d.jsx(Re,{type:"text",name:"deliverBy",value:N.values.deliverBy,onChange:N.handleChange,className:"mt-1 w-full"}),N.touched.deliverBy&&N.errors.deliverBy&&d.jsx("p",{className:"text-red-500 text-sm",children:N.errors.deliverBy})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Job Id"}),d.jsx(Re,{type:"number",name:"jobId",min:0,value:N.values.jobId,onChange:N.handleChange,className:"mt-1 w-full"}),N.touched.jobId&&N.errors.jobId&&d.jsx("p",{className:"text-red-500 text-sm",children:N.errors.jobId})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"CustomerPoNo"}),d.jsx(Re,{type:"number",name:"customerPoNo",value:N.values.customerPoNo,onChange:N.handleChange,className:"mt-1 w-full"}),N.touched.customerPoNo&&N.errors.customerPoNo&&d.jsx("p",{className:"text-red-500 text-sm",children:N.errors.customerPoNo})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Date"}),d.jsx(Re,{type:"date",name:"localDateTime",value:N.values.localDateTime,onChange:N.handleChange,className:"mt-1 w-full"}),N.touched.localDateTime&&N.errors.localDateTime&&d.jsx("p",{className:"text-red-500 text-sm",children:N.errors.localDateTime})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Store Incharge"}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((se=N.values.storeInChargeId)==null?void 0:se.firstName)||"Select Incharge...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Inch..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No data found."}),d.jsx(es,{children:(Z=O==null?void 0:O.data)==null?void 0:Z.map(Q=>{var re;return d.jsxs(ts,{value:Q.firstName,onSelect:()=>N.setFieldValue("storeInChargeId",Q),children:[Q.firstName,d.jsx(Nn,{className:((re=N.values.storeInChargeId)==null?void 0:re.user_id)===Q.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Q.user_id)})})]})]})})]}),N.touched.storeInChargeId&&d.jsx(d.Fragment,{children:((ne=N.errors.storeInChargeId)==null?void 0:ne.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:N.errors.storeInChargeId.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Authorized By"}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((de=N.values.authorizeDetailsById)==null?void 0:de.firstName)||"Select Authorized Person Name...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Inch..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No data found."}),d.jsx(es,{children:(z=O==null?void 0:O.data)==null?void 0:z.map(Q=>{var re;return d.jsxs(ts,{value:Q.firstName,onSelect:()=>N.setFieldValue("authorizeDetailsById",Q),children:[Q.firstName,d.jsx(Nn,{className:((re=N.values.authorizeDetailsById)==null?void 0:re.user_id)===Q.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Q.user_id)})})]})]})})]}),N.touched.authorizeDetailsById&&d.jsx(d.Fragment,{children:((I=N.errors.authorizeDetailsById)==null?void 0:I.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:N.errors.authorizeDetailsById.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Transporter Detail"}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((L=N.values.transporterId)==null?void 0:L.firstName)||"Select Transporter Person Name...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Transporter..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No data found."}),d.jsx(es,{children:(H=O==null?void 0:O.data)==null?void 0:H.map(Q=>{var re;return d.jsxs(ts,{value:Q.firstName,onSelect:()=>N.setFieldValue("transporterId",Q),children:[Q.firstName,d.jsx(Nn,{className:((re=N.values.transporterId)==null?void 0:re.user_id)===Q.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Q.user_id)})})]})]})})]}),N.touched.transporterId&&d.jsx(d.Fragment,{children:((G=N.errors.transporterId)==null?void 0:G.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:N.errors.transporterId.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Project InCharge"}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((J=N.values.projectInChargeId)==null?void 0:J.firstName)||"Select Project Incharge  Name...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Inch..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No data found."}),d.jsx(es,{children:(ie=O==null?void 0:O.data)==null?void 0:ie.map(Q=>{var re;return d.jsxs(ts,{value:Q.firstName,onSelect:()=>N.setFieldValue("projectInChargeId",Q),children:[Q.firstName,d.jsx(Nn,{className:((re=N.values.projectInChargeId)==null?void 0:re.user_id)===Q.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Q.user_id)})})]})]})})]}),N.touched.projectInChargeId&&d.jsx(d.Fragment,{children:((fe=N.errors.projectInChargeId)==null?void 0:fe.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:N.errors.projectInChargeId.firstName})})]})]}),d.jsx("div",{className:"overflow-x-auto ",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200   mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100  dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2",children:"Product Name"}),d.jsx("th",{className:"border px-4 py-2",children:"Total Quantity"}),d.jsx("th",{className:"border px-4 py-2",children:"Dispatched Quantity"}),d.jsx("th",{className:"border px-4 py-2",children:"Enter Quantity"}),d.jsx("th",{className:"border px-4 py-2",children:"Action"})]})}),d.jsx("tbody",{children:l==null?void 0:l.map((Q,re)=>{var Me,Fe;return d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2 text-center",children:re+1}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("div",{children:(Me=Q.product)==null?void 0:Me.productName})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("div",{children:Q.quantity})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("div",{children:Q==null?void 0:Q.dispatchedQuantity})}),d.jsx("td",{className:"border px-1 py-1 text-center",children:d.jsx("input",{min:0,max:r?"":Number(Q==null?void 0:Q.quantity)-(Q==null?void 0:Q.dispatchedQuantity),type:"number",className:"w-full border rounded-md px-2 py-1",value:((Fe=o[re])==null?void 0:Fe.quantity)||0,onChange:We=>{const Ye=We.target.value,ut=[...o];ut[re]={...Q,quantity:Ye},a(ut),N.setFieldValue("productQuantities",ut)}})}),d.jsx("td",{className:"border px-2 py-2 text-center",children:d.jsx("button",{type:"button",className:"text-red-500",onClick:()=>B(re),children:"Remove"})})]},Q==null?void 0:Q.id)})})]})}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx(_t,{type:"button",className:"bg-gray-300 hover:bg-gray-400 text-gray-600 px-4 py-2 rounded-md",onClick:W,children:"Cancel"}),d.jsx(_t,{type:"submit",children:r?"Update Challan":"Create Challan"})]})]})})})},jPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});m.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(vh,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(Re,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(Re,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(Re,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(Re,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(Re,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(Re,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(Re,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(Re,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(Re,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(Re,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(Re,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},BPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=LG(),h=kG(),p=_G(r),g=LPe(r),C=(o==null?void 0:o.data)||[],w=_n(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:P=>P.node.rowIndex+1},{field:"name",headerName:"Name"},{field:"address",headerName:"Address"},{field:"customerPoNo",headerName:"PoNo"},{field:"deliveryChallanNo",headerName:"ChallanNo"},{field:"invoiceNo",headerName:"Invoice No"},{field:"storeInChargeId.firstName",headerName:"Store Incharge"},{field:"authorizeDetailsById.firstName",headerName:"AuthorizedBy"},{field:"salesPerson",headerName:"Sales Person"},{field:"installationBy",headerName:"InstallationBy"},{field:"transporterId.firstName",headerName:"Transporter"}],S=()=>{i(""),n(null),w("/app/delivery-challan/delivery-challan-form")},E=()=>{w("/app/delivery-challan")},b=P=>{r?p.mutate(P,{onSuccess:()=>{u()}}):h.mutate(P,{onSuccess:()=>{u()}}),t(!1)},T=P=>{n(P.id),i(P),w(`/app/delivery-challan/delivery-challan-form?id=${P.id}`)},R=P=>{n(P.id),g.mutate(P.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:y,isLoading:a,onAddClick:S,onEditClick:T,onDeleteClick:R})]}),d.jsx(Or,{isOpen:e,onClose:E,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"form",width:"100%",height:"100%",children:d.jsx(jPe,{onSubmit:b,formId:"form",defaultValues:s})})]})};var jG=(e=>(e.COMPLETE="COMPLETE",e.WIP="WIP",e))(jG||{});const GPe=({installationProductQuantities:e=[],products:t=[],onRowsChange:r})=>{const[n,s]=m.useState([{id:Date.now(),product:{id:"",productName:""},quantity:1}]);m.useEffect(()=>{e.length>0&&s(e)},[e]);const i=(l,u,h)=>{const p=n.map(g=>g.id===l?{...g,product:u==="product"?h:g.product,quantity:u==="quantity"?Number(h):g.quantity}:g);s(p),r(p)},o=()=>{const l={id:Date.now(),product:{id:"",productName:""},quantity:1};s(u=>{const h=[...u,l];return r(h),h})},a=l=>{s(u=>{const h=u.filter(p=>p.id!==l);return r(h),h})};return d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Products"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200 mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2 text-left",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2 text-left",children:"Product"}),d.jsx("th",{className:"border px-4 py-2 text-left",children:"Quantity"}),d.jsx("th",{className:"border px-4 py-2 text-center",children:"Actions"})]})}),d.jsx("tbody",{children:n.map((l,u)=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:u+1}),d.jsx("td",{className:"border px-4 py-2",children:d.jsxs("select",{className:"border rounded-md px-2 py-1 w-full",value:l.product.id||"",onChange:h=>{const p=t.find(g=>g.id.toString()===h.target.value);p&&i(l.id,"product",p)},children:[d.jsx("option",{value:"",children:"Select Product"}),t.map(h=>d.jsx("option",{value:h.id,children:h.productName},h.id))]})}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",className:"border rounded-md px-2 py-1 w-20",min:1,value:l.quantity,onChange:h=>i(l.id,"quantity",Number(h.target.value))})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("button",{onClick:()=>a(l.id),className:"text-red-500 hover:underline",children:"Remove"})})]},l.id))})]})}),d.jsx("button",{type:"button",onClick:o,className:"mb-5 bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"Add Product"})]})},BG=({columns:e,data:t})=>d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200 mb-6",children:[d.jsx("thead",{children:d.jsx("tr",{className:"bg-gray-100 dark:bg-gray-800",children:e.map(r=>d.jsx("th",{className:"border px-4 py-2",children:r.label},r.key))})}),d.jsx("tbody",{children:t.map((r,n)=>d.jsx("tr",{children:e.map(s=>d.jsx("td",{className:"border px-4 py-2",children:s.render?s.render(r,n):r[s.key]},s.key))},r.id))})]})}),HT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},tg=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},HPe=()=>Fr({queryKey:["useGetInstallations"],queryFn:()=>_e("/api/installation/v1/getAll")}),GG=()=>Ze({mutationFn:e=>_e("/api/installation/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:HT,onError:tg}),HG=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/installation/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{HT(r),t.invalidateQueries({queryKey:["useGetInstallations"]})},onError:tg})},VPe=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/installation/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetInstallations"]}),HT(r.message)},onError:tg})},WPe=()=>Ze({mutationFn:()=>_e("/api/installation/getNextInstallationNo",{method:"GET"}),onError:tg}),$Pe=e=>Ze({mutationFn:()=>_e(`/api/installation/getById/${e}`,{method:"GET"}),onError:tg}),UPe=()=>{var L,H,G,J,ie,fe,Q,re,Me,Fe,We,Ye,ut,gt,Ve;let[e,t]=m.useState(null);const[r,n]=m.useState(!1),[s,i]=m.useState(null),[o,a]=m.useState(!1),[l,u]=m.useState(0),h=_n(),p=Object.values(jG),[g,C]=m.useState([]),{data:w}=TC(),{data:y}=fC(),{data:S}=BT(),{data:E}=Xp(),{mutate:b,data:T}=WPe(),R=GG(),P=HG(e),{mutate:M,data:D}=$Pe(e),N=Fs(),O=new URLSearchParams(N.search);m.useEffect(()=>{b()},[]),m.useEffect(()=>{e==null&&B.setFieldValue("installationReportNo",T==null?void 0:T.data)},[T,e]),m.useEffect(()=>{let le=O.get("id");console.log("idaaa",le),t(le),console.log("ida=",e),le&&n(!0)},[O]),m.useEffect(()=>{r&&M()},[r]),m.useEffect(()=>{if(D){console.log(D==null?void 0:D.data);const le=D==null?void 0:D.data,Be=le==null?void 0:le.installationProduct,lt=le==null?void 0:le.attachments;B.setFieldValue("installationProduct",Be),B.setFieldValue("attachments",lt),B.setFieldValue("installationReportNo",le==null?void 0:le.installationReportNo),C(Be),se(lt),B.setValues({...B.initialValues,...D==null?void 0:D.data})}},[D]);const j={installationReportNo:"",installationDate:"",customer:{id:"",customerName:""},installationLocations:[],installationStatus:"",installationVerifiedBy:{user_id:"",firstName:""},installationDoneBy:{user_id:"",firstName:""},installationRemark:"",poId:"",installationProduct:[{product:{productName:"",id:""},quantity:""}],attachments:[],isAgainstPo:!1,isExtraActivitiesCarriedOut:!1},W=dr().shape({installationReportNo:st().required("Service number is required"),installationDate:Yc().required("Service date is required"),installationRemark:st().required("Remark is required"),installationStatus:st().required("Status is required"),poId:st().required("Order Id is required"),customer:dr().shape({id:st().required("Client is required."),customerName:st().required("Client is required.")}).required("Client  is required."),installationDoneBy:dr().shape({user_id:st().required("User ID is required."),firstName:st().required("User Name is required.")}).required("User is required."),installationVerifiedBy:dr().shape({user_id:st().required("User Verifier is required."),firstName:st().required("User Verifier Name is required.")}).required("User Verifier is required.")}),B=Zp({initialValues:j,validationSchema:W,onSubmit:le=>{e?(console.log("update",le),P.mutate(le,{onSuccess:()=>{h("/app/installation")}}),e=null):(console.log("Form submitted:",le),R.mutate(le,{onSuccess:()=>{h("/app/installation")}}))}});m.useEffect(()=>{console.log("instllation",B.values.installationLocations)},[B.values.installationLocations]);const oe=le=>{console.log("Updated Rows:",le),B.setFieldValue("installationProduct",le)},pe=async()=>{if(!s){rt.error("Please select a file to upload.");return}console.log("upload successful"),a(!0),u(0);const le=new FormData;le.append("file",s);try{const Be=await fetch(`${Ic}/api/installation/uploadFile`,{method:"POST",body:le});if(Be.ok){const lt=await Be.json();rt.success("File uploaded successfully.");const Mt=[...B.values.attachments||[],lt==null?void 0:lt.data];se(Mt),B.setFieldValue("attachments",Mt),console.log("Updated Formik Attachments:",B.values.attachments),console.log("Updated local uploadedData:",we)}else{const lt=await Be.json();rt.error(`Upload failed: ${lt.message||"Unknown error"}`)}}catch(Be){console.error("Error uploading file:",Be),rt.error("An error occurred while uploading the file.")}finally{a(!1),u(0)}},Se=async(le,Be)=>{le.preventDefault();try{const lt=`${Ic}/api/resources/serveFile?filePath=${encodeURIComponent(Be)}`,Mt=await fetch(lt,{method:"GET"});if(Mt.ok){const ue=await Mt.blob(),$e=URL.createObjectURL(ue);window.open($e,"_blank"),setTimeout(()=>URL.revokeObjectURL($e),6e4)}else rt.error("API Error: "+Mt.statusText)}catch(lt){rt.error("Fetch Error: "+lt.message)}},[we,se]=m.useState([]),Z=le=>{var lt;const Be=(lt=le.target.files)==null?void 0:lt[0];Be&&i(Be)},ne=le=>{const Be=we.filter(lt=>lt.id!==le);se(Be),console.log(""),B.setFieldValue("attachments",Be)},de=()=>{h("/app/installation")},z={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},I=le=>{le.preventDefault(),console.log("action handle submit"),B.handleSubmit(),console.log(B.errors)};return d.jsx("form",{onSubmit:I,children:d.jsx(ns.div,{className:"p-4 sm:p-6 bg-gray-100 dark:bg-gray-900 min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsxs(ns.div,{className:"max-w-5xl mx-auto bg-white dark:bg-gray-700 p-4 sm:p-6 shadow-md rounded-md",variants:z,initial:"hidden",animate:"visible",children:[d.jsx("h1",{className:"text-xl font-bold mb-4",children:"Installation Form"}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-2 mb-6",children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Date"}),d.jsx(Re,{type:"date",className:"w-full",name:"installationDate",onChange:B.handleChange,value:B.values.installationDate}),B.touched.installationDate&&B.errors.installationDate&&d.jsx("p",{className:"text-red-500 text-sm",children:B.errors.installationDate})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Report No"}),d.jsx(Re,{type:"text",className:"w-full",placeholder:"Enter Report No",name:"installationReportNo",readOnly:!0,value:B.values.installationReportNo}),B.touched.installationReportNo&&typeof B.errors.installationReportNo&&d.jsx("p",{className:"text-red-500 text-sm",children:B.errors.installationReportNo})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Customer"}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((L=B.values.customer)==null?void 0:L.customerName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Inch..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No data found."}),d.jsx(es,{children:(H=y==null?void 0:y.data)==null?void 0:H.map(le=>{var Be;return d.jsxs(ts,{value:le==null?void 0:le.customerName,onSelect:()=>B.setFieldValue("customer",le),children:[le==null?void 0:le.customerName,d.jsx(Nn,{className:((Be=B.values.customer)==null?void 0:Be.id)===le.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},le.id)})})]})]})})]}),B.touched.customer&&d.jsx(d.Fragment,{children:((G=B.errors.customer)==null?void 0:G.customerName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(J=B.errors.customer)==null?void 0:J.customerName})})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-sm font-medium text-700",children:"Installation Locations"}),d.jsxs(_v,{children:[d.jsx(jv,{asChild:!0,children:d.jsx(_t,{variant:"outline",children:((ie=B.values.installationLocations)==null?void 0:ie.length)>0?B.values.installationLocations.map(le=>le.installationLocationId).join(" , "):"Select Locations..."})}),d.jsxs(Qf,{className:"w-56",children:[d.jsx(t3,{children:"Installation Locations"}),d.jsx(r3,{}),(fe=S==null?void 0:S.data)==null?void 0:fe.map(le=>{const Be=Array.isArray(B.values.installationLocations)?B.values.installationLocations:[],lt=Be.some(ue=>ue.id===le.id),Mt=()=>{const ue=lt?Be.filter($e=>$e.id!==le.id):[...Be,le];B.setFieldValue("installationLocations",ue)};return d.jsx(pb,{checked:lt,onCheckedChange:Mt,children:le.installationLocationId},le.id)})]})]})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Verified By"}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((Q=B.values.installationVerifiedBy)==null?void 0:Q.firstName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Name..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No data found."}),d.jsx(es,{children:(re=E==null?void 0:E.data)==null?void 0:re.map(le=>{var Be;return d.jsxs(ts,{value:le.firstName,onSelect:()=>B.setFieldValue("installationVerifiedBy",le),children:[le.firstName,d.jsx(Nn,{className:((Be=B.values.installationVerifiedBy)==null?void 0:Be.user_id)===le.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},le.user_id)})})]})]})})]}),B.touched.installationVerifiedBy&&d.jsx(d.Fragment,{children:((Me=B.errors.installationVerifiedBy)==null?void 0:Me.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(Fe=B.errors.installationVerifiedBy)==null?void 0:Fe.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Done By"}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((We=B.values.installationDoneBy)==null?void 0:We.firstName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Name..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No data found."}),d.jsx(es,{children:(Ye=E==null?void 0:E.data)==null?void 0:Ye.map(le=>{var Be;return d.jsxs(ts,{value:le.firstName,onSelect:()=>B.setFieldValue("installationDoneBy",le),children:[le.firstName,d.jsx(Nn,{className:((Be=B.values.installationDoneBy)==null?void 0:Be.user_id)===le.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},le.user_id)})})]})]})})]}),B.touched.installationDoneBy&&d.jsx(d.Fragment,{children:((ut=B.errors.installationDoneBy)==null?void 0:ut.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(gt=B.errors.installationDoneBy)==null?void 0:gt.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Status"}),d.jsxs(xt,{onValueChange:le=>{B.setFieldValue("installationStatus",le)},value:(Ve=B.values)==null?void 0:Ve.installationStatus,children:[d.jsx(Ct,{children:d.jsx(wt,{placeholder:"Select an option"})}),d.jsx(yt,{children:p.map(le=>d.jsx(er,{value:le,children:le},le))})]}),B.touched.installationStatus&&B.errors.installationStatus&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:B.errors.installationStatus})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Remarks"}),d.jsx(Re,{type:"text",className:"w-full",onChange:B.handleChange,value:B.values.installationRemark,name:"installationRemark",placeholder:"Enter Installation Remarks"}),B.touched.installationRemark&&B.errors.installationRemark&&d.jsx("p",{className:"text-red-500 text-sm",children:B.errors.installationRemark})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"PO Id"}),d.jsx(Re,{type:"text",className:"w-full",placeholder:"Enter PO ID",value:B.values.poId,onChange:B.handleChange,name:"poId"}),B.touched.poId&&B.errors.poId&&d.jsx("p",{className:"text-red-500 text-sm",children:B.errors.poId})]})]}),d.jsx(GPe,{installationProductQuantities:e?g:[],products:w==null?void 0:w.data,onRowsChange:oe}),d.jsxs("div",{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Upload Files"}),d.jsx("input",{type:"file",className:"flex-1 p-2 text-xs border-none outline-none",onChange:Z,disabled:o})]}),o&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{children:"Uploading..."}),d.jsx("progress",{value:l,max:"100",className:"w-full"})]}),d.jsxs(_t,{onClick:pe,disabled:o,className:"h-[35px] text-sm px-10 py-2 rounded-md mt-2 mb-4",children:[" ",o?"Uploading...":"Upload"]})]}),d.jsx(BG,{columns:[{key:"index",label:"Sr.No",render:(le,Be)=>Be+1},{key:"location",label:"File Name",render:le=>d.jsx("a",{href:le.location,target:"_blank",rel:"noopener noreferrer",className:"text-green-500 hover:underline",onClick:Be=>Se&&Se(Be,le.location),children:le.location})},{key:"docType",label:"Doctype",render:le=>{var Be;return(Be=le.docType)==null?void 0:Be.docType}},{key:"actions",label:"Actions",render:le=>d.jsx("button",{className:"text-red-500",onClick:()=>ne&&ne(le.id),children:"Remove"})}],data:we}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",name:"isExtraActivitiesCarriedOut",className:"mr-2",checked:B.values.isExtraActivitiesCarriedOut,onChange:B.handleChange}),d.jsxs("label",{htmlFor:"status",className:"text-sm font-medium",children:[" ","Is Extra Activities Carried Out"," "]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",name:"isAgainstPo",className:"mr-2",checked:B.values.isAgainstPo,onChange:()=>B.setFieldValue("isAgainstPo",!B.values.isAgainstPo)}),d.jsxs("label",{htmlFor:"status",className:"text-sm font-medium",children:["Is Against Po"," "]})]}),d.jsxs(_t,{className:"bg-gray-300 hover:bg-gray-400 text-gray-600 px-4 py-2 rounded-md",type:"button",onClick:de,children:[" ","Cancel"]}),d.jsx(_t,{type:"submit",children:e?"Update":"Create"})]})]})})})},zPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});m.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(vh,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(Re,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(Re,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(Re,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(Re,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(Re,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(Re,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(Re,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(Re,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(Re,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(Re,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(Re,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},KPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=HPe(),h=GG(),p=HG(r),g=VPe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=_n(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:P=>P.node.rowIndex+1},{field:"installationReportNo",headerName:"Report No."},{field:"installationDate",headerName:"Date"},{field:"poId",headerName:"PoId"},{field:"customer.customerName",headerName:"Customer"},{field:"installationDoneBy.firstName",headerName:"Inst Done By"},{field:"installationVerifiedBy.firstName",headerName:"Verified By"},{field:"installationStatus",headerName:"Status"},{field:"installationRemark",headerName:"Remark"}],S=()=>{i(""),n(null),w("/app/installation/installation-form")},E=()=>{w("/app/installation")},b=P=>{r?p.mutate(P,{onSuccess:()=>{u()}}):h.mutate(P,{onSuccess:()=>{u()}}),t(!1)},T=P=>{n(P.id),i(P),w(`/app/installation/installation-form?id=${P.id}`)},R=P=>{n(P.id),g.mutate(P.id,{onSuccess:()=>{u()}})};return d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:y,isLoading:a,onAddClick:S,onEditClick:T,onDeleteClick:R})]}),d.jsx(Or,{isOpen:e,onClose:E,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"form",width:"100%",height:"100%",children:d.jsx(zPe,{onSubmit:b,formId:"form",defaultValues:s})})]})},qPe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});m.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(vh,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(xt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(wt,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(Re,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(Re,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(Re,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(Re,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(Re,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(Re,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(Re,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(Re,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(Re,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(Re,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(Re,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},VT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},rg=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},YPe=()=>Fr({queryKey:["useGetServices"],queryFn:()=>_e("/api/services/getAll")}),VG=()=>Ze({mutationFn:e=>_e("/api/services/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:VT,onError:rg}),WG=e=>{const t=Pt();return Ze({mutationFn:r=>_e(`/api/services/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{VT(r),t.invalidateQueries({queryKey:["useGetServices"]})},onError:rg})},XPe=e=>{const t=Pt();return Ze({mutationFn:()=>_e(`/api/services/delete/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetServices"]}),VT(r.message)},onError:rg})},QPe=()=>Ze({mutationFn:()=>_e("/api/services/getNextServiceNo",{method:"GET"}),onError:rg}),JPe=e=>Ze({mutationFn:()=>_e(`/api/services/getById/${e}`,{method:"GET"}),onError:rg}),ZPe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=YPe(),h=VG(),p=WG(r),g=XPe(r),C=(o==null?void 0:o.data)||[],w=_n(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:P=>P.node.rowIndex+1},{field:"product.productName",headerName:"Product Name"},{field:"serviceNo",headerName:"Service No"},{field:"client.customerName",headerName:"Customer Name"},{field:"serviceManager.firstName",headerName:"Service Manager"},{field:"supportedBy.firstName",headerName:"Supporter"},{field:"serviceProvidedBy.firstName",headerName:"Provider BY"},{field:"natureOfService.natureOfService",headerName:"Nature"},{field:"natureOfComplaint.natureOfComplaint",headerName:"Complaint Nature"}],S=()=>{i(""),n(null),w("/app/services/services-form")},E=()=>{w("/app/services")},b=P=>{r?p.mutate(P,{onSuccess:()=>{u()}}):h.mutate(P,{onSuccess:()=>{u()}}),t(!1)},T=P=>{n(P.service_id),console.log("id",P.service_id),i(P),w(`/app/services/services-form?id=${P.service_id}`)},R=P=>{n(P.service_id),g.mutate(P.service_id,{onSuccess:()=>{u()}})};return d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:y,isLoading:a,onAddClick:S,onEditClick:T,onDeleteClick:R})]}),d.jsx(Or,{isOpen:e,onClose:E,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"form",width:"100%",height:"100%",children:d.jsx(qPe,{onSubmit:b,formId:"form",defaultValues:s})})]})},WT=e=>{rt.success((e==null?void 0:e.message)||"Operation Successful")},$T=e=>{rt.error((e==null?void 0:e.message)||"Operation Failed")},$G=()=>Fr({queryKey:["useGetMaterials"],queryFn:()=>_e("/api/materials/v1/getAll")}),eAe=()=>Ze({mutationFn:e=>_e("/api/materials/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:WT,onError:$T}),tAe=e=>{const t=Pt();return console.log(S0),Ze({mutationFn:r=>_e(`/api/materials/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{WT(r),t.invalidateQueries({queryKey:["useGetMaterials"]})},onError:$T})},rAe=e=>{const t=Pt();return console.log(e),Ze({mutationFn:()=>_e(`/api/materials/delete/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetMaterials"]}),WT(r.message)},onError:$T})},nAe=({materialQuantities:e=[],materials:t=[],onRowsChange:r})=>{const[n,s]=m.useState([{id:Date.now(),material:{id:"",materialName:""},quantity:1}]);m.useEffect(()=>{e.length>0&&s(e)},[e]);const i=(l,u,h)=>{const p=n.map(g=>g.id===l?{...g,material:u==="material"?h:g.material,quantity:u==="quantity"?Number(h):g.quantity}:g);s(p),r(p)},o=()=>{const l={id:Date.now(),material:{id:"",materialName:""},quantity:1};s(u=>{const h=[...u,l];return r(h),h})},a=l=>{s(u=>{const h=u.filter(p=>p.id!==l);return r(h),h})};return d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Materials"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200 mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2 text-left",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2 text-left",children:"Material"}),d.jsx("th",{className:"border px-4 py-2 text-left",children:"Quantity"}),d.jsx("th",{className:"border px-4 py-2 text-center",children:"Actions"})]})}),d.jsx("tbody",{children:n.map((l,u)=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:u+1}),d.jsx("td",{className:"border px-4 py-2",children:d.jsxs("select",{className:"border rounded-md px-2 py-1 w-full",value:l.material.id||"",onChange:h=>{const p=t.find(g=>g.id.toString()===h.target.value);p&&i(l.id,"material",p)},children:[d.jsx("option",{value:"",children:"Select Material"}),t.map(h=>d.jsx("option",{value:h.id,children:h.materialName},h.id))]})}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",className:"border rounded-md px-2 py-1 w-20",min:1,value:l.quantity,onChange:h=>i(l.id,"quantity",Number(h.target.value))})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("button",{onClick:()=>a(l.id),className:"text-red-500 hover:underline",children:"Remove"})})]},l.id))})]})}),d.jsx("button",{type:"button",onClick:o,className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"Add Material"})]})},sAe=()=>{var L,H,G,J,ie,fe,Q,re,Me,Fe,We,Ye,ut,gt,Ve,le,Be,lt,Mt,ue,$e,ze,et,tt,mt,Lt,qr;let[e,t]=m.useState(null);const[r,n]=m.useState(!1),[s,i]=m.useState([]),o=_n(),{data:a}=BT(),{data:l}=fC(),{data:u}=Xp(),{data:h}=TC(),{data:p}=$G(),{mutate:g,data:C}=QPe(),{mutate:w,data:y}=JPe(e),S=VG(),E=WG(e),b=Fs(),T=new URLSearchParams(b.search);m.useEffect(()=>{g()},[]),m.useEffect(()=>{(e||C!=null&&C.data)&&M.setFieldValue("serviceNo",C==null?void 0:C.data)},[C]),m.useEffect(()=>{let Oe=T.get("id");console.log("idaaa",Oe),t(Oe),console.log("ida=",e),Oe&&n(!0)},[T]),m.useEffect(()=>{r&&w()},[r]),m.useEffect(()=>{if(y){console.log(y==null?void 0:y.data);const Oe=y==null?void 0:y.data,vt=Oe==null?void 0:Oe.materialQuantity,fr=Oe==null?void 0:Oe.attachments;M.setFieldValue("materialQuantity",vt),M.setFieldValue("attachments",fr),M.setFieldValue("serviceDate",Oe==null?void 0:Oe.serviceDate),i(vt),Se(fr),M.setValues({...M.initialValues,...y==null?void 0:y.data})}},[y]);const R={serviceNo:"",contactPerson:"",serviceDate:"",client:{id:"",customerName:""},product:{id:"",productName:""},installationLocation:{id:"",installationLocationId:""},problem:"",actionTaken:"",serviceManager:{user_id:"",firstName:""},serviceProvidedBy:{user_id:"",firstName:""},supportedBy:{user_id:"",firstName:""},natureOfService:{natureOfService:""},natureOfComplaint:{natureOfComplaint:""},materialQuantity:[{material:{materialName:"",id:""},quantity:""}],attachments:[],isApproved:!1},P=dr().shape({serviceNo:st().required("Service number is required"),contactPerson:st().required("Contact person is required"),serviceDate:Yc().required("Service date is required"),client:dr().shape({id:st().required("Client is required."),customerName:st().required("Client is required.")}).required("Client  is required."),product:dr().shape({id:st().required("Product is required."),productName:st().required("Product is required.")}).required("Product is required."),problem:st().required("Problem description is required"),actionTaken:st().required("Action taken is required"),installationLocation:dr().shape({installationLocationId:st().required("InstallationId  is required.")}).required("InstallationId  is required."),serviceManager:dr().shape({user_id:st().required("Manager ID is required."),firstName:st().required("Manager Name is required.")}).required("Manager is required."),serviceProvidedBy:dr().shape({user_id:st().required("Service Provider is required."),firstName:st().required("Service Provider Name is required.")}).required("Service Provider is required."),supportedBy:dr().shape({user_id:st().required("Support Person is required."),firstName:st().required("Support Person Name is required.")}).required("Support Person is required."),natureOfService:dr().shape({natureOfService:st().required("Nature of service is required")}).required("Nature of service is required"),natureOfComplaint:dr().shape({natureOfComplaint:st().required("Nature of complaint is required")}).required("Nature of complaint is required")}),M=Zp({initialValues:R,validationSchema:P,onSubmit:Oe=>{e?(E.mutate(Oe,{onSuccess:()=>{o("/app/services")}}),e=null):(console.log("Form submitted:",Oe),S.mutate(Oe,{onSuccess:()=>{o("/app/services")}}))}}),[D,N]=m.useState(null),[O,j]=m.useState(!1),[W,B]=m.useState(0),oe=Oe=>{var fr;const vt=(fr=Oe.target.files)==null?void 0:fr[0];vt&&N(vt)},[pe,Se]=m.useState([]),we=async()=>{if(!D){rt.error("Please select a file to upload.");return}console.log("upload successful"),j(!0),B(0);const Oe=new FormData;Oe.append("file",D);try{const vt=await fetch(`${Ic}/api/services/uploadFile`,{method:"POST",body:Oe});if(vt.ok){const fr=await vt.json();rt.success("File uploaded successfully.");const bn=[...M.values.attachments||[],fr==null?void 0:fr.data];Se(bn),M.setFieldValue("attachments",bn),console.log("Updated Formik Attachments:",M.values.attachments),console.log("Updated local uploadedData:",pe)}else{const fr=await vt.json();rt.error(`Upload failed: ${fr.message||"Unknown error"}`)}}catch(vt){console.error("Error uploading file:",vt),rt.error("An error occurred while uploading the file.")}finally{j(!1),B(0)}},se=Oe=>{const vt=pe.filter(fr=>fr.id!==Oe);Se(vt),console.log(),M.setFieldValue("attachments",vt)},Z=Oe=>{console.log("Updated Rows:",Oe),M.setFieldValue("materialQuantity",Oe)},ne=async(Oe,vt)=>{Oe.preventDefault();try{const fr=`${Ic}/api/resources/serveFile?filePath=${encodeURIComponent(vt)}`,bn=await fetch(fr,{method:"GET"});if(bn.ok){const As=await bn.blob(),Ne=URL.createObjectURL(As);window.open(Ne,"_blank"),setTimeout(()=>URL.revokeObjectURL(Ne),6e4)}else rt.error("API Error: "+bn.statusText)}catch(fr){rt.error("Fetch Error: "+fr.message)}},de=()=>{o("/app/services")},z={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},I=Oe=>{Oe.preventDefault(),console.log("action handle submit"),M.handleSubmit(),console.log("Formik Errors:",M.errors),console.log("Formik Touched:",M.touched)};return d.jsx(ns.div,{className:"p-4 sm:p-6 bg-gray-100 dark:bg-gray-900 min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsx(ns.div,{className:"max-w-5xl mx-auto bg-white dark:bg-gray-700 p-4 sm:p-6 shadow-md rounded-md",variants:z,initial:"hidden",animate:"visible",children:d.jsxs("form",{onSubmit:I,className:"grid gap-4",children:[d.jsx("h1",{className:"text-xl font-bold mb-4",children:"Service Form"}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-2 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Services No"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1",disabled:!0,name:"serviceNo",value:M.values.serviceNo||""}),M.touched.serviceNo&&M.errors.serviceNo&&d.jsx("p",{className:"text-red-500 text-sm",children:M.errors.serviceNo})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"ServiceDate"}),d.jsx(Re,{type:"date",name:"serviceDate",className:"w-full",onChange:M.handleChange,onBlur:M.handleBlur,value:M.values.serviceDate}),M.touched.serviceDate&&M.errors.serviceDate&&d.jsx("p",{className:"text-red-500 text-sm",children:M.errors.serviceDate})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Client"}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((L=M.values.client)==null?void 0:L.customerName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Inch..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No data found."}),d.jsx(es,{children:(H=l==null?void 0:l.data)==null?void 0:H.map(Oe=>{var vt;return d.jsxs(ts,{value:Oe==null?void 0:Oe.customerName,onSelect:()=>M.setFieldValue("client",Oe),children:[Oe==null?void 0:Oe.customerName,d.jsx(Nn,{className:((vt=M.values.client)==null?void 0:vt.id)===Oe.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.id)})})]})]})})]}),M.touched.client&&d.jsx(d.Fragment,{children:((G=M.errors.client)==null?void 0:G.customerName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(J=M.errors.client)==null?void 0:J.customerName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Contact Person"}),d.jsx(Re,{type:"text",name:"contactPerson",className:"w-full",placeholder:"Enter Contact Person",onChange:M.handleChange,onBlur:M.handleBlur,value:M.values.contactPerson}),M.touched.contactPerson&&d.jsx("p",{className:"text-red-500 text-sm",children:M.errors.contactPerson})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Service Provided By"}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((ie=M.values.serviceProvidedBy)==null?void 0:ie.firstName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Inch..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No data found."}),d.jsx(es,{children:(fe=u==null?void 0:u.data)==null?void 0:fe.map(Oe=>{var vt;return d.jsxs(ts,{value:Oe.firstName,onSelect:()=>M.setFieldValue("serviceProvidedBy",Oe),children:[Oe.firstName,d.jsx(Nn,{className:((vt=M.values.serviceProvidedBy)==null?void 0:vt.user_id)===Oe.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.user_id)})})]})]})})]}),M.touched.serviceProvidedBy&&d.jsx(d.Fragment,{children:((Q=M.errors.serviceProvidedBy)==null?void 0:Q.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(re=M.errors.serviceProvidedBy)==null?void 0:re.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Supported By"}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((Me=M.values.supportedBy)==null?void 0:Me.firstName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Inch..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No data found."}),d.jsx(es,{children:(Fe=u==null?void 0:u.data)==null?void 0:Fe.map(Oe=>{var vt;return d.jsxs(ts,{value:Oe.firstName,onSelect:()=>M.setFieldValue("supportedBy",Oe),children:[Oe.firstName,d.jsx(Nn,{className:((vt=M.values.supportedBy)==null?void 0:vt.user_id)===Oe.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.user_id)})})]})]})})]}),M.touched.supportedBy&&d.jsx(d.Fragment,{children:((We=M.errors.supportedBy)==null?void 0:We.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(Ye=M.errors.supportedBy)==null?void 0:Ye.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Service Manager"}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((ut=M.values.serviceManager)==null?void 0:ut.firstName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Inch..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No data found."}),d.jsx(es,{children:(gt=u==null?void 0:u.data)==null?void 0:gt.map(Oe=>{var vt;return d.jsxs(ts,{value:Oe.firstName,onSelect:()=>M.setFieldValue("serviceManager",Oe),children:[Oe.firstName,d.jsx(Nn,{className:((vt=M.values.serviceManager)==null?void 0:vt.user_id)===Oe.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.user_id)})})]})]})})]}),M.touched.serviceManager&&d.jsx(d.Fragment,{children:((Ve=M.errors.serviceManager)==null?void 0:Ve.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(le=M.errors.serviceManager)==null?void 0:le.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Nature Of Service"}),d.jsx(Re,{type:"text",name:"natureOfService.natureOfService",className:"w-full",placeholder:"Enter Nature Of Service",value:M.values.natureOfService.natureOfService,onChange:M.handleChange}),M.touched.natureOfService&&typeof M.errors.natureOfService&&d.jsx("p",{className:"text-red-500 text-sm",children:(Be=M.errors.natureOfService)==null?void 0:Be.natureOfService})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Nature Of Complaint"}),d.jsx(Re,{type:"text",name:"natureOfComplaint.natureOfComplaint",className:"w-full",placeholder:"Enter Nature Of Complaint",value:M.values.natureOfComplaint.natureOfComplaint,onChange:M.handleChange}),M.touched.natureOfComplaint&&typeof M.errors.natureOfComplaint&&d.jsx("p",{className:"text-red-500 text-sm",children:(lt=M.errors.natureOfComplaint)==null?void 0:lt.natureOfComplaint})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Item "}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((Mt=M.values.product)==null?void 0:Mt.productName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Opti..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No data found."}),d.jsx(es,{children:(ue=h==null?void 0:h.data)==null?void 0:ue.map(Oe=>{var vt;return d.jsxs(ts,{value:Oe==null?void 0:Oe.id,onSelect:()=>M.setFieldValue("product",Oe),children:[Oe==null?void 0:Oe.productName,d.jsx(Nn,{className:((vt=M.values.product)==null?void 0:vt.productName)===Oe.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.id)})})]})]})})]}),M.touched.product&&d.jsx(d.Fragment,{children:(($e=M.errors.product)==null?void 0:$e.productName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(ze=M.errors.product)==null?void 0:ze.productName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation ID"}),d.jsxs(ws,{children:[d.jsx(Ss,{asChild:!0,children:d.jsxs(_t,{variant:"outline",className:"w-full justify-between",children:[((et=M.values.installationLocation)==null?void 0:et.installationLocationId)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Yn,{className:"w-[320px] p-0",children:d.jsxs(Xn,{children:[d.jsx(Qn,{placeholder:"Search Opti..."}),d.jsxs(Jn,{children:[d.jsx(Zn,{children:"No data found."}),d.jsx(es,{children:(tt=a==null?void 0:a.data)==null?void 0:tt.map(Oe=>{var vt;return d.jsxs(ts,{value:Oe==null?void 0:Oe.installationLocationId,onSelect:()=>M.setFieldValue("installationLocation",Oe),children:[Oe==null?void 0:Oe.installationLocationId,d.jsx(Nn,{className:((vt=M.values.installationLocation)==null?void 0:vt.installationLocationId)===Oe.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.id)})})]})]})})]}),M.touched.installationLocation&&d.jsx(d.Fragment,{children:((mt=M.errors.installationLocation)==null?void 0:mt.installationLocationId)&&d.jsxs("p",{className:"text-red-500 text-sm",children:[(Lt=M.errors.installationLocation)==null?void 0:Lt.installationLocationId,(qr=M.errors.installationLocation)==null?void 0:qr.id]})})]})]}),d.jsx(nAe,{materialQuantities:s,materials:p==null?void 0:p.data,onRowsChange:Z}),d.jsxs("div",{children:[d.jsx(ce,{children:"Problem"}),d.jsx("textarea",{className:"w-full p-2",name:"problem",placeholder:"Enter Problem",value:M.values.problem,onChange:M.handleChange}),M.touched.problem&&M.errors.problem&&d.jsx("p",{className:"text-red-500 text-sm",children:M.errors.problem})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Action Taken"}),d.jsx("textarea",{className:"w-full p-2",name:"actionTaken",placeholder:"Enter ActionTaken",value:M.values.actionTaken,onChange:M.handleChange}),M.touched.actionTaken&&M.errors.actionTaken&&d.jsx("p",{className:"text-red-500 text-sm",children:M.errors.actionTaken})]}),d.jsxs("div",{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Upload Files"}),d.jsx("input",{type:"file",className:"flex-1 p-2 text-xs border-none outline-none",onChange:oe,disabled:O})]}),O&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{children:"Uploading..."}),d.jsx("progress",{value:W,max:"100",className:"w-full"})]}),d.jsxs(_t,{onClick:we,disabled:O,className:"h-[35px] text-sm px-10 py-2 rounded-md",children:[" ",O?"Uploading...":"Upload"]})]}),d.jsx(BG,{columns:[{key:"index",label:"Sr.No",render:(Oe,vt)=>vt+1},{key:"location",label:"File Name",render:Oe=>d.jsx("a",{href:Oe.location,target:"_blank",rel:"noopener noreferrer",className:"text-green-500 hover:underline",onClick:vt=>ne&&ne(vt,Oe.location),children:Oe.location})},{key:"docType",label:"Doctype",render:Oe=>{var vt;return(vt=Oe.docType)==null?void 0:vt.docType}},{key:"actions",label:"Actions",render:Oe=>d.jsx("button",{className:"text-red-500",onClick:()=>se&&se(Oe.id),children:"Remove"})}],data:pe}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",name:"isApproved",className:"mr-2",checked:M.values.isApproved,onChange:M.handleChange}),d.jsxs("label",{htmlFor:"status",className:"text-sm font-medium",children:[" ","Is Aprroved"," "]})]}),d.jsx(_t,{className:"bg-gray-300 hover:bg-gray-400 text-gray-600 px-4 py-2 rounded-md",type:"button",onClick:de,children:"Cancel"}),d.jsx(_t,{type:"submit",children:e?"Update":"Create"})]})]})})})},iAe=({text:e})=>d.jsxs(fb,{className:"text-red-500 text-sm",children:[e," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),oAe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({brandName:r.brandName||""});m.useEffect(()=>{s({brandName:r.brandName||""})},[r]);const i=o=>{o.preventDefault(),e(n),s({brandName:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Brand Name"}),d.jsx(iAe,{text:"Required"}),d.jsx(Re,{required:!0,value:n.brandName,placeholder:"Enter Brand Name",onChange:o=>s({...n,brandName:o.target.value})})]})})})})},aAe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(0),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=PG(),h=IFe(),p=OFe(r),g=LFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"brandName",headerName:"Brand Name"}],y=()=>{i(""),n(0),t(!0)},S=()=>{t(!1)},E=R=>{console.log(r),r?(console.log("true"),p.mutate(R,{onSuccess:()=>{u(),t(!1)}})):(console.log("false"),console.log(R),h.mutate(R,{onSuccess:()=>{u(),t(!1)}}))},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Brand Name":"Create Brand Name",dialogDescription:r?"Edit Brand Name here...":"Create Brand Name here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(oAe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},lAe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=m.useState({name:r.name||""});m.useEffect(()=>{s({name:r.name||""})},[r]);const i=o=>{o.preventDefault(),e(n),s({name:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Order Type"}),d.jsx(Re,{required:!0,value:n.name,placeholder:"Enter Order Type",onChange:o=>s({...n,name:o.target.value})})]})})})})},cAe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(0),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=RG(),h=RFe(),p=TFe(r),g=FFe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"name",headerName:"Name"}],y=()=>{i(""),n(0),t(!0)},S=()=>{t(!1)},E=R=>{console.log(r),r?(console.log("true"),p.mutate(R,{onSuccess:()=>{u()}})):(console.log("false"),console.log(R),h.mutate(R,{onSuccess:()=>{u()}})),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Order Type":"Create Order Type",dialogDescription:r?"Edit Order Type here...":"Create Order Type here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(lAe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},uAe=({onSubmit:e,formId:t,defaultValues:r={}})=>{var i;const{data:n}=kT(),s=Zp({initialValues:{materialName:r.materialName||"",materialQuantityUOM:r.materialQuantityUOM||null},validationSchema:dr({materialName:st().required("Material Name is required"),materialQuantityUOM:dr().nullable().required("Unit Measurement is required")}),onSubmit:o=>{e(o),console.log("value",o)}});return d.jsx("form",{id:t,onSubmit:s.handleSubmit,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Material Name"}),d.jsx(Re,{type:"text",name:"materialName",placeholder:"Enter Material Name",value:s.values.materialName,onChange:s.handleChange,onBlur:s.handleBlur}),typeof s.touched.materialName&&typeof s.errors.materialName=="string"&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.errors.materialName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Unit Measurement"}),d.jsxs(xt,{onValueChange:o=>{const a=n==null?void 0:n.data.find(l=>l.id==o);s.setFieldValue("materialQuantityUOM",a)},value:((i=s.values.materialQuantityUOM)==null?void 0:i.id)||"",children:[d.jsx(Ct,{children:d.jsx(wt,{placeholder:"Select an option"})}),d.jsx(yt,{children:n==null?void 0:n.data.map(o=>d.jsx(er,{value:o.id,children:o.uom},o.id))})]}),s.touched.materialQuantityUOM&&typeof s.errors.materialQuantityUOM=="string"&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.errors.materialQuantityUOM})]})]})})})},dAe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(0),[s,i]=m.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=$G(),h=eAe(),p=tAe(r),g=rAe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const w=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"materialName",headerName:"Material Name"},{field:"materialQuantityUOM.uom",headerName:"Unit MeasureMaterial "}],y=()=>{i(""),n(0),t(!0)},S=()=>{t(!1)},E=R=>{console.log(r),r?(console.log("true"),p.mutate(R,{onSuccess:()=>{u()}})):(console.log("false"),console.log(R),h.mutate(R,{onSuccess:()=>{u()}})),t(!1)},b=R=>{n(R.id),i(R),t(!0)},T=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Jr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Ir,{rowData:C,colDefs:w,isLoading:a,onAddClick:y,onEditClick:b,onDeleteClick:T})]}),d.jsx(Or,{isOpen:e,onClose:S,dialogTitle:r?"Edit Material":"Create Material",dialogDescription:r?"Edit Material here...":"Create Material here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(uAe,{onSubmit:E,formId:"service-form",defaultValues:s})})]})},hAe=()=>d.jsx(uW,{children:d.jsx(eW,{children:d.jsxs(D9,{children:[d.jsx(Xt,{path:"/",element:d.jsx(A$,{})}),d.jsx(Xt,{path:"/app/home",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(D$,{})})})}),d.jsx(Xt,{path:"/app/customer-list",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx($we,{})})})}),d.jsx(Xt,{path:"/app/sales",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(cSe,{})})})}),d.jsx(Xt,{path:"/app/sales/createform",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(DFe,{})})})}),d.jsx(Xt,{path:"/app/product-list",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(NFe,{})})})}),d.jsx(Xt,{path:"/app/customer-type",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(iPe,{})})})}),d.jsx(Xt,{path:"/app/product-list/productform",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(nPe,{})})})}),d.jsx(Xt,{path:"/app/SourceOfReference",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(aPe,{})})})}),d.jsx(Xt,{path:"/app/reference-details",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(cPe,{})})})}),d.jsx(Xt,{path:"/app/customer-status",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(dPe,{})})})}),d.jsx(Xt,{path:"/app/designation",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(fPe,{})})})}),d.jsx(Xt,{path:"/app/item-category",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(gPe,{})})})}),d.jsx(Xt,{path:"/app/item-type",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(vPe,{})})})}),d.jsx(Xt,{path:"/app/order-type",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(cAe,{})})})}),d.jsx(Xt,{path:"/app/item-status",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(yPe,{})})})}),d.jsx(Xt,{path:"/app/star-rating",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(SPe,{})})})}),d.jsx(Xt,{path:"/app/ref-gas-type",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(EPe,{})})})}),d.jsx(Xt,{path:"/app/ton-capacity",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(RPe,{})})})}),d.jsx(Xt,{path:"/app/material",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(dAe,{})})})}),d.jsx(Xt,{path:"/app/unit-of-measurements",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(FPe,{})})})}),d.jsx(Xt,{path:"/app/brand-name",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(aAe,{})})})}),d.jsx(Xt,{path:"/app/user",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(APe,{})})})}),d.jsx(Xt,{path:"/app/installation-location",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(OPe,{})})})}),d.jsx(Xt,{path:"/app/delivery-challan",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(BPe,{})})})}),d.jsx(Xt,{path:"/app/delivery-challan/delivery-challan-form",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(_Pe,{})})})}),d.jsx(Xt,{path:"/app/installation",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(KPe,{})})})}),d.jsx(Xt,{path:"/app/installation/installation-form",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(UPe,{})})})}),d.jsx(Xt,{path:"/app/services",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(ZPe,{})})})}),d.jsx(Xt,{path:"/app/services/services-form",element:d.jsx(sr,{children:d.jsx(ir,{children:d.jsx(sAe,{})})})})]})})}),fAe=new c$;jV.createRoot(document.getElementById("root")).render(d.jsx(m.StrictMode,{children:d.jsxs(tQ,{attribute:"class",enableSystem:!1,defaultTheme:"dark",children:[d.jsx(d7,{}),d.jsx(p$,{client:fAe,children:d.jsx(hAe,{})})]})}))});export default pAe();
